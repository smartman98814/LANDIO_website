
/*!
 * Webflow: Front-end site library
 * @license MIT
 * Inline scripts may access the api using an async handler:
 *   var Webflow = Webflow || [];
 *   Webflow.push(readyFunction);
 */

(self["webpackChunk"] = self["webpackChunk"] || []).push([["422"], {
12372: (function (module, __unused_webpack_exports, __webpack_require__) {
var map = {
  "./af": "44445",
  "./af.js": "44445",
  "./ar": "8779",
  "./ar-dz": "30230",
  "./ar-dz.js": "30230",
  "./ar-kw": "37885",
  "./ar-kw.js": "37885",
  "./ar-ly": "18449",
  "./ar-ly.js": "18449",
  "./ar-ma": "30721",
  "./ar-ma.js": "30721",
  "./ar-sa": "39707",
  "./ar-sa.js": "39707",
  "./ar-tn": "79625",
  "./ar-tn.js": "79625",
  "./ar.js": "8779",
  "./az": "84507",
  "./az.js": "84507",
  "./be": "91008",
  "./be.js": "91008",
  "./bg": "1574",
  "./bg.js": "1574",
  "./bm": "60821",
  "./bm.js": "60821",
  "./bn": "92129",
  "./bn-bd": "3012",
  "./bn-bd.js": "3012",
  "./bn.js": "92129",
  "./bo": "64080",
  "./bo.js": "64080",
  "./br": "77473",
  "./br.js": "77473",
  "./bs": "87110",
  "./bs.js": "87110",
  "./ca": "43008",
  "./ca.js": "43008",
  "./cs": "20743",
  "./cs.js": "20743",
  "./cv": "35233",
  "./cv.js": "35233",
  "./cy": "24880",
  "./cy.js": "24880",
  "./da": "76103",
  "./da.js": "76103",
  "./de": "2781",
  "./de-at": "54828",
  "./de-at.js": "54828",
  "./de-ch": "98941",
  "./de-ch.js": "98941",
  "./de.js": "2781",
  "./dv": "22699",
  "./dv.js": "22699",
  "./el": "45997",
  "./el.js": "45997",
  "./en-au": "94829",
  "./en-au.js": "94829",
  "./en-ca": "83136",
  "./en-ca.js": "83136",
  "./en-gb": "55266",
  "./en-gb.js": "55266",
  "./en-ie": "69585",
  "./en-ie.js": "69585",
  "./en-il": "4793",
  "./en-il.js": "4793",
  "./en-in": "79131",
  "./en-in.js": "79131",
  "./en-nz": "79736",
  "./en-nz.js": "79736",
  "./en-sg": "65831",
  "./en-sg.js": "65831",
  "./eo": "8923",
  "./eo.js": "8923",
  "./es": "3905",
  "./es-do": "84268",
  "./es-do.js": "84268",
  "./es-mx": "58594",
  "./es-mx.js": "58594",
  "./es-us": "1742",
  "./es-us.js": "1742",
  "./es.js": "3905",
  "./et": "87344",
  "./et.js": "87344",
  "./eu": "68732",
  "./eu.js": "68732",
  "./fa": "33074",
  "./fa.js": "33074",
  "./fi": "22266",
  "./fi.js": "22266",
  "./fil": "29030",
  "./fil.js": "29030",
  "./fo": "51062",
  "./fo.js": "51062",
  "./fr": "21115",
  "./fr-ca": "50255",
  "./fr-ca.js": "50255",
  "./fr-ch": "4946",
  "./fr-ch.js": "4946",
  "./fr.js": "21115",
  "./fy": "738",
  "./fy.js": "738",
  "./ga": "23555",
  "./ga.js": "23555",
  "./gd": "62064",
  "./gd.js": "62064",
  "./gl": "69906",
  "./gl.js": "69906",
  "./gom-deva": "47743",
  "./gom-deva.js": "47743",
  "./gom-latn": "8219",
  "./gom-latn.js": "8219",
  "./gu": "47324",
  "./gu.js": "47324",
  "./he": "44376",
  "./he.js": "44376",
  "./hi": "70525",
  "./hi.js": "70525",
  "./hr": "74953",
  "./hr.js": "74953",
  "./hu": "77162",
  "./hu.js": "77162",
  "./hy-am": "8269",
  "./hy-am.js": "8269",
  "./id": "56133",
  "./id.js": "56133",
  "./is": "34248",
  "./is.js": "34248",
  "./it": "5432",
  "./it-ch": "37968",
  "./it-ch.js": "37968",
  "./it.js": "5432",
  "./ja": "60605",
  "./ja.js": "60605",
  "./jv": "12073",
  "./jv.js": "12073",
  "./ka": "99208",
  "./ka.js": "99208",
  "./kk": "70357",
  "./kk.js": "70357",
  "./km": "68406",
  "./km.js": "68406",
  "./kn": "58094",
  "./kn.js": "58094",
  "./ko": "52755",
  "./ko.js": "52755",
  "./ku": "36091",
  "./ku.js": "36091",
  "./ky": "51121",
  "./ky.js": "51121",
  "./lb": "9323",
  "./lb.js": "9323",
  "./lo": "68017",
  "./lo.js": "68017",
  "./lt": "28422",
  "./lt.js": "28422",
  "./lv": "42078",
  "./lv.js": "42078",
  "./me": "825",
  "./me.js": "825",
  "./mi": "41773",
  "./mi.js": "41773",
  "./mk": "60775",
  "./mk.js": "60775",
  "./ml": "13727",
  "./ml.js": "13727",
  "./mn": "97445",
  "./mn.js": "97445",
  "./mr": "78969",
  "./mr.js": "78969",
  "./ms": "26092",
  "./ms-my": "32178",
  "./ms-my.js": "32178",
  "./ms.js": "26092",
  "./mt": "80909",
  "./mt.js": "80909",
  "./my": "98378",
  "./my.js": "98378",
  "./nb": "46463",
  "./nb.js": "46463",
  "./ne": "89333",
  "./ne.js": "89333",
  "./nl": "64212",
  "./nl-be": "87496",
  "./nl-be.js": "87496",
  "./nl.js": "64212",
  "./nn": "81250",
  "./nn.js": "81250",
  "./oc-lnc": "1728",
  "./oc-lnc.js": "1728",
  "./pa-in": "82338",
  "./pa-in.js": "82338",
  "./pl": "25586",
  "./pl.js": "25586",
  "./pt": "56166",
  "./pt-br": "63124",
  "./pt-br.js": "63124",
  "./pt.js": "56166",
  "./ro": "84715",
  "./ro.js": "84715",
  "./ru": "59599",
  "./ru.js": "59599",
  "./sd": "86592",
  "./sd.js": "86592",
  "./se": "48916",
  "./se.js": "48916",
  "./si": "84228",
  "./si.js": "84228",
  "./sk": "17819",
  "./sk.js": "17819",
  "./sl": "50786",
  "./sl.js": "50786",
  "./sq": "4905",
  "./sq.js": "4905",
  "./sr": "15478",
  "./sr-cyrl": "47955",
  "./sr-cyrl.js": "47955",
  "./sr.js": "15478",
  "./ss": "43220",
  "./ss.js": "43220",
  "./sv": "22591",
  "./sv.js": "22591",
  "./sw": "42626",
  "./sw.js": "42626",
  "./ta": "59138",
  "./ta.js": "59138",
  "./te": "91821",
  "./te.js": "91821",
  "./tet": "53034",
  "./tet.js": "53034",
  "./tg": "61561",
  "./tg.js": "61561",
  "./th": "20370",
  "./th.js": "20370",
  "./tk": "48113",
  "./tk.js": "48113",
  "./tl-ph": "97743",
  "./tl-ph.js": "97743",
  "./tlh": "85970",
  "./tlh.js": "85970",
  "./tr": "16267",
  "./tr.js": "16267",
  "./tzl": "42925",
  "./tzl.js": "42925",
  "./tzm": "13483",
  "./tzm-latn": "73987",
  "./tzm-latn.js": "73987",
  "./tzm.js": "13483",
  "./ug-cn": "2433",
  "./ug-cn.js": "2433",
  "./uk": "7451",
  "./uk.js": "7451",
  "./ur": "30097",
  "./ur.js": "30097",
  "./uz": "24174",
  "./uz-latn": "41928",
  "./uz-latn.js": "41928",
  "./uz.js": "24174",
  "./vi": "73780",
  "./vi.js": "73780",
  "./x-pseudo": "10391",
  "./x-pseudo.js": "10391",
  "./yo": "35775",
  "./yo.js": "35775",
  "./zh-cn": "20635",
  "./zh-cn.js": "20635",
  "./zh-hk": "84000",
  "./zh-hk.js": "84000",
  "./zh-mo": "30360",
  "./zh-mo.js": "30360",
  "./zh-tw": "64314",
  "./zh-tw.js": "64314"
};


function webpackContext(req) {
  var id = webpackContextResolve(req);
  return __webpack_require__(id);
}
function webpackContextResolve(req) {
  if(!__webpack_require__.o(map, req)) {
    var e = new Error("Cannot find module '" + req + "'");
    e.code = 'MODULE_NOT_FOUND';
    throw e;
  }
  return map[req];
}
webpackContext.keys = function webpackContextKeys() {
  return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 12372;


}),
69147: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "default", ({
    enumerable: true,
    get: function() {
        return StyleMapObserver;
    }
}));
const _merge = /*#__PURE__*/ _interop_require_default(__webpack_require__(90139));
const _tinycolor2 = /*#__PURE__*/ _interop_require_default(__webpack_require__(86304));
const _breakpointsconfig = __webpack_require__(66725);
const _breakpointids = __webpack_require__(82216);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const STYLE_MAP_ATTR = 'data-wf-style-map';
/**
 * In order of application, where each query values
 * overrides the media queries above it.
 */ const orderedBreakpointIds = [
    _breakpointids.BREAKPOINT_ID_MAIN,
    _breakpointids.BREAKPOINT_ID_LARGE,
    _breakpointids.BREAKPOINT_ID_XL,
    _breakpointids.BREAKPOINT_ID_XXL,
    _breakpointids.BREAKPOINT_ID_MEDIUM,
    _breakpointids.BREAKPOINT_ID_SMALL,
    _breakpointids.BREAKPOINT_ID_TINY
];
const ORDERED_MEDIA_QUERIES = orderedBreakpointIds.map((breakpointId)=>{
    const config = _breakpointsconfig.LARGER_BREAKPOINTS_CONFIG[breakpointId];
    let prop;
    let value;
    // @ts-expect-error - TS18048 - 'config' is possibly 'undefined'.
    if ('minWidth' in config) {
        prop = 'min-width';
        value = config.minWidth;
    }
    // @ts-expect-error - TS18048 - 'config' is possibly 'undefined'.
    if ('maxWidth' in config) {
        prop = 'max-width';
        value = config.maxWidth;
    }
    if (prop === undefined || value === undefined) {
        throw new Error('Bad breakpoint config, expected either "minWidth" or "maxWidth".');
    }
    return {
        name: breakpointId,
        query: `(${prop}: ${value}px)`
    };
});
class StyleMapObserver {
    styles = undefined;
    observer = undefined;
    mediaQueries = [];
    options = {
        onChange: ()=>{}
    };
    static appliedStylesToStripeElementStyles = (appliedStylesMap)=>{
        if (!appliedStylesMap) {
            return {};
        }
        // Need to update color values to rgba because Stripe doesn't accept hsla format
        const appliedStylesMapWithUpdatedColorValues = Object.keys(appliedStylesMap).reduce((updatedStyles, styleKey)=>{
            // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"lang" | "active" | "placeholder" | "focus" | "after" | "before" | "hover" | "empty" | "noPseudo" | "nth-child(odd)" | "nth-child(even)" | "first-child" | "last-child" | "pressed" | "visited" | "focus-visible" | "focus-within", { ...; }>>'.
            const colorVal = appliedStylesMap[styleKey].color;
            const textShadowVal = // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"lang" | "active" | "placeholder" | "focus" | "after" | "before" | "hover" | "empty" | "noPseudo" | "nth-child(odd)" | "nth-child(even)" | "first-child" | "last-child" | "pressed" | "visited" | "focus-visible" | "focus-within", { ...; }>>'.
            appliedStylesMap[styleKey].textShadow && // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"lang" | "active" | "placeholder" | "focus" | "after" | "before" | "hover" | "empty" | "noPseudo" | "nth-child(odd)" | "nth-child(even)" | "first-child" | "last-child" | "pressed" | "visited" | "focus-visible" | "focus-within", { ...; }>>'.
            appliedStylesMap[styleKey].textShadow.split(/(?=hsla)/);
            // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"lang" | "active" | "placeholder" | "focus" | "after" | "before" | "hover" | "empty" | "noPseudo" | "nth-child(odd)" | "nth-child(even)" | "first-child" | "last-child" | "pressed" | "visited" | "focus-visible" | "focus-within", { ...; }>>'.
            updatedStyles[styleKey] = appliedStylesMap[styleKey];
            // Update color to rgba string
            if (colorVal) {
                updatedStyles[styleKey].color = (0, _tinycolor2.default)(colorVal).toRgbString();
            }
            // Want to update only if hsla val is within textShaodw string
            if (textShadowVal && textShadowVal.length > 1) {
                updatedStyles[styleKey].textShadow = textShadowVal[0] + (0, _tinycolor2.default)(textShadowVal[1]).toRgbString();
            }
            return updatedStyles;
        }, {});
        const styles = {
            ...appliedStylesMapWithUpdatedColorValues.noPseudo,
            ':hover': appliedStylesMapWithUpdatedColorValues.hover,
            ':focus': appliedStylesMapWithUpdatedColorValues.focus,
            '::placeholder': appliedStylesMapWithUpdatedColorValues.placeholder
        };
        return {
            base: styles,
            invalid: styles,
            empty: styles,
            complete: styles
        };
    };
    constructor(element, options){
        this.options = options;
        if (element.hasAttribute(STYLE_MAP_ATTR)) {
            const styleMapJSON = element.getAttribute(STYLE_MAP_ATTR);
            if (styleMapJSON) {
                this.setStylesFromJSON(styleMapJSON);
                const doc = element.ownerDocument;
                const win = doc.defaultView;
                this.mediaQueries = ORDERED_MEDIA_QUERIES.map((mq)=>({
                        ...mq,
                        // @ts-expect-error - TS18047 - 'win' is possibly 'null'.
                        listener: win.matchMedia(mq.query)
                    }));
                // @ts-expect-error - TS18047 - 'win' is possibly 'null'.
                this.observer = new win.MutationObserver(this.handleMutationObserver);
                this.observer.observe(element, {
                    attributes: true
                });
                this.mediaQueries.forEach(({ listener })=>{
                    listener.addListener(this.dispatch);
                });
                this.dispatch();
            }
        }
    }
    setStylesFromJSON(styleMapJSON) {
        try {
            this.styles = JSON.parse(styleMapJSON);
        } catch (e) {
            this.styles = {};
        }
    }
    getAppliedStyles() {
        if (!this.styles) {
            return;
        }
        const styles = this.styles;
        const appliedStyles = this.mediaQueries.reduce((stylesMap, { listener, name })=>listener.matches ? (0, _merge.default)(stylesMap, styles[name]) : stylesMap, {});
        return appliedStyles;
    }
    dispatch = ()=>{
        this.options.onChange(this.getAppliedStyles());
    };
    handleMutationObserver = (mutationList)=>{
        mutationList.forEach((mutation)=>{
            if (mutation.type === 'attributes' && mutation.attributeName === STYLE_MAP_ATTR && mutation.target.hasAttribute(STYLE_MAP_ATTR)) {
                const styleMapJSON = mutation.target.getAttribute(STYLE_MAP_ATTR);
                if (styleMapJSON) {
                    this.setStylesFromJSON(styleMapJSON);
                    this.dispatch();
                }
            }
        });
    };
    destroy() {
        if (this.observer) {
            this.observer.disconnect();
        }
        this.mediaQueries.forEach(({ listener })=>{
            listener.removeListener(this.dispatch);
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0eWxlTWFwT2JzZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5pbXBvcnQgdGlueWNvbG9yIGZyb20gJ3Rpbnljb2xvcjInO1xuaW1wb3J0IHR5cGUge0JyZWFrcG9pbnRJRH0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvc3R5bGUvdHlwZXMnO1xuaW1wb3J0IHR5cGUge1BzZXVkb1N0YXRlS2V5fSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9jb3JlL3V0aWxzL1N0eWxlVHlwZXMnO1xuaW1wb3J0IHtMQVJHRVJfQlJFQUtQT0lOVFNfQ09ORklHfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9zdHlsZS9icmVha3BvaW50cy1jb25maWcnO1xuaW1wb3J0IHtcbiAgQlJFQUtQT0lOVF9JRF9YWEwsXG4gIEJSRUFLUE9JTlRfSURfWEwsXG4gIEJSRUFLUE9JTlRfSURfTEFSR0UsXG4gIEJSRUFLUE9JTlRfSURfTUFJTixcbiAgQlJFQUtQT0lOVF9JRF9NRURJVU0sXG4gIEJSRUFLUE9JTlRfSURfU01BTEwsXG4gIEJSRUFLUE9JTlRfSURfVElOWSxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvc3R5bGUvYnJlYWtwb2ludC1pZHMnO1xuXG5jb25zdCBTVFlMRV9NQVBfQVRUUiA9ICdkYXRhLXdmLXN0eWxlLW1hcCc7XG5cbmV4cG9ydCB0eXBlIEFwcGxpZWRTdHlsZXNNYXAgPSBQYXJ0aWFsPFxuICBSZWNvcmQ8XG4gICAgUHNldWRvU3RhdGVLZXksXG4gICAge1xuICAgICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xuICAgIH1cbiAgPlxuPjtcbnR5cGUgU3R5bGVzTWFwID0gUGFydGlhbDxSZWNvcmQ8QnJlYWtwb2ludElELCBBcHBsaWVkU3R5bGVzTWFwPj47XG5cbi8qKlxuICogSW4gb3JkZXIgb2YgYXBwbGljYXRpb24sIHdoZXJlIGVhY2ggcXVlcnkgdmFsdWVzXG4gKiBvdmVycmlkZXMgdGhlIG1lZGlhIHF1ZXJpZXMgYWJvdmUgaXQuXG4gKi9cblxuY29uc3Qgb3JkZXJlZEJyZWFrcG9pbnRJZHMgPSBbXG4gIEJSRUFLUE9JTlRfSURfTUFJTixcbiAgQlJFQUtQT0lOVF9JRF9MQVJHRSxcbiAgQlJFQUtQT0lOVF9JRF9YTCxcbiAgQlJFQUtQT0lOVF9JRF9YWEwsXG4gIEJSRUFLUE9JTlRfSURfTUVESVVNLFxuICBCUkVBS1BPSU5UX0lEX1NNQUxMLFxuICBCUkVBS1BPSU5UX0lEX1RJTlksXG5dO1xuXG5jb25zdCBPUkRFUkVEX01FRElBX1FVRVJJRVM6IEFycmF5PHtcbiAgbmFtZTogQnJlYWtwb2ludElEO1xuICBxdWVyeTogc3RyaW5nO1xufT4gPSBvcmRlcmVkQnJlYWtwb2ludElkcy5tYXAoKGJyZWFrcG9pbnRJZCkgPT4ge1xuICBjb25zdCBjb25maWcgPSBMQVJHRVJfQlJFQUtQT0lOVFNfQ09ORklHW2JyZWFrcG9pbnRJZF07XG4gIGxldCBwcm9wO1xuICBsZXQgdmFsdWU7XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMTgwNDggLSAnY29uZmlnJyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgaWYgKCdtaW5XaWR0aCcgaW4gY29uZmlnKSB7XG4gICAgcHJvcCA9ICdtaW4td2lkdGgnO1xuICAgIHZhbHVlID0gY29uZmlnLm1pbldpZHRoO1xuICB9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ2NvbmZpZycgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gIGlmICgnbWF4V2lkdGgnIGluIGNvbmZpZykge1xuICAgIHByb3AgPSAnbWF4LXdpZHRoJztcbiAgICB2YWx1ZSA9IGNvbmZpZy5tYXhXaWR0aDtcbiAgfVxuXG4gIGlmIChwcm9wID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCYWQgYnJlYWtwb2ludCBjb25maWcsIGV4cGVjdGVkIGVpdGhlciBcIm1pbldpZHRoXCIgb3IgXCJtYXhXaWR0aFwiLidcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBicmVha3BvaW50SWQsXG4gICAgcXVlcnk6IGAoJHtwcm9wfTogJHt2YWx1ZX1weClgLFxuICB9O1xufSk7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgb25DaGFuZ2U6IChhcmcxOiBBcHBsaWVkU3R5bGVzTWFwIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVNYXBPYnNlcnZlciB7XG4gIHN0eWxlczogdW5kZWZpbmVkIHwgU3R5bGVzTWFwID0gdW5kZWZpbmVkO1xuICBvYnNlcnZlcjogdW5kZWZpbmVkIHwgYW55ID0gdW5kZWZpbmVkO1xuXG4gIG1lZGlhUXVlcmllczogQXJyYXk8e1xuICAgIGxpc3RlbmVyOiBhbnk7XG4gICAgbmFtZTogQnJlYWtwb2ludElEO1xuICAgIHF1ZXJ5OiBzdHJpbmc7XG4gIH0+ID0gW107XG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7b25DaGFuZ2U6ICgpID0+IHt9fTtcblxuICBzdGF0aWMgYXBwbGllZFN0eWxlc1RvU3RyaXBlRWxlbWVudFN0eWxlcyA9IChcbiAgICBhcHBsaWVkU3R5bGVzTWFwPzogQXBwbGllZFN0eWxlc01hcFxuICApID0+IHtcbiAgICBpZiAoIWFwcGxpZWRTdHlsZXNNYXApIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvLyBOZWVkIHRvIHVwZGF0ZSBjb2xvciB2YWx1ZXMgdG8gcmdiYSBiZWNhdXNlIFN0cmlwZSBkb2Vzbid0IGFjY2VwdCBoc2xhIGZvcm1hdFxuICAgIGNvbnN0IGFwcGxpZWRTdHlsZXNNYXBXaXRoVXBkYXRlZENvbG9yVmFsdWVzID0gT2JqZWN0LmtleXMoXG4gICAgICBhcHBsaWVkU3R5bGVzTWFwXG4gICAgKS5yZWR1Y2U8UmVjb3JkPHN0cmluZywgYW55Pj4oKHVwZGF0ZWRTdHlsZXMsIHN0eWxlS2V5KSA9PiB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAnUGFydGlhbDxSZWNvcmQ8XCJsYW5nXCIgfCBcImFjdGl2ZVwiIHwgXCJwbGFjZWhvbGRlclwiIHwgXCJmb2N1c1wiIHwgXCJhZnRlclwiIHwgXCJiZWZvcmVcIiB8IFwiaG92ZXJcIiB8IFwiZW1wdHlcIiB8IFwibm9Qc2V1ZG9cIiB8IFwibnRoLWNoaWxkKG9kZClcIiB8IFwibnRoLWNoaWxkKGV2ZW4pXCIgfCBcImZpcnN0LWNoaWxkXCIgfCBcImxhc3QtY2hpbGRcIiB8IFwicHJlc3NlZFwiIHwgXCJ2aXNpdGVkXCIgfCBcImZvY3VzLXZpc2libGVcIiB8IFwiZm9jdXMtd2l0aGluXCIsIHsgLi4uOyB9Pj4nLlxuICAgICAgY29uc3QgY29sb3JWYWwgPSBhcHBsaWVkU3R5bGVzTWFwW3N0eWxlS2V5XS5jb2xvcjtcbiAgICAgIGNvbnN0IHRleHRTaGFkb3dWYWwgPVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAnUGFydGlhbDxSZWNvcmQ8XCJsYW5nXCIgfCBcImFjdGl2ZVwiIHwgXCJwbGFjZWhvbGRlclwiIHwgXCJmb2N1c1wiIHwgXCJhZnRlclwiIHwgXCJiZWZvcmVcIiB8IFwiaG92ZXJcIiB8IFwiZW1wdHlcIiB8IFwibm9Qc2V1ZG9cIiB8IFwibnRoLWNoaWxkKG9kZClcIiB8IFwibnRoLWNoaWxkKGV2ZW4pXCIgfCBcImZpcnN0LWNoaWxkXCIgfCBcImxhc3QtY2hpbGRcIiB8IFwicHJlc3NlZFwiIHwgXCJ2aXNpdGVkXCIgfCBcImZvY3VzLXZpc2libGVcIiB8IFwiZm9jdXMtd2l0aGluXCIsIHsgLi4uOyB9Pj4nLlxuICAgICAgICBhcHBsaWVkU3R5bGVzTWFwW3N0eWxlS2V5XS50ZXh0U2hhZG93ICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICdQYXJ0aWFsPFJlY29yZDxcImxhbmdcIiB8IFwiYWN0aXZlXCIgfCBcInBsYWNlaG9sZGVyXCIgfCBcImZvY3VzXCIgfCBcImFmdGVyXCIgfCBcImJlZm9yZVwiIHwgXCJob3ZlclwiIHwgXCJlbXB0eVwiIHwgXCJub1BzZXVkb1wiIHwgXCJudGgtY2hpbGQob2RkKVwiIHwgXCJudGgtY2hpbGQoZXZlbilcIiB8IFwiZmlyc3QtY2hpbGRcIiB8IFwibGFzdC1jaGlsZFwiIHwgXCJwcmVzc2VkXCIgfCBcInZpc2l0ZWRcIiB8IFwiZm9jdXMtdmlzaWJsZVwiIHwgXCJmb2N1cy13aXRoaW5cIiwgeyAuLi47IH0+PicuXG4gICAgICAgIGFwcGxpZWRTdHlsZXNNYXBbc3R5bGVLZXldLnRleHRTaGFkb3cuc3BsaXQoLyg/PWhzbGEpLyk7XG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICdQYXJ0aWFsPFJlY29yZDxcImxhbmdcIiB8IFwiYWN0aXZlXCIgfCBcInBsYWNlaG9sZGVyXCIgfCBcImZvY3VzXCIgfCBcImFmdGVyXCIgfCBcImJlZm9yZVwiIHwgXCJob3ZlclwiIHwgXCJlbXB0eVwiIHwgXCJub1BzZXVkb1wiIHwgXCJudGgtY2hpbGQob2RkKVwiIHwgXCJudGgtY2hpbGQoZXZlbilcIiB8IFwiZmlyc3QtY2hpbGRcIiB8IFwibGFzdC1jaGlsZFwiIHwgXCJwcmVzc2VkXCIgfCBcInZpc2l0ZWRcIiB8IFwiZm9jdXMtdmlzaWJsZVwiIHwgXCJmb2N1cy13aXRoaW5cIiwgeyAuLi47IH0+PicuXG4gICAgICB1cGRhdGVkU3R5bGVzW3N0eWxlS2V5XSA9IGFwcGxpZWRTdHlsZXNNYXBbc3R5bGVLZXldO1xuXG4gICAgICAvLyBVcGRhdGUgY29sb3IgdG8gcmdiYSBzdHJpbmdcbiAgICAgIGlmIChjb2xvclZhbCkge1xuICAgICAgICB1cGRhdGVkU3R5bGVzW3N0eWxlS2V5XS5jb2xvciA9IHRpbnljb2xvcihjb2xvclZhbCkudG9SZ2JTdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIC8vIFdhbnQgdG8gdXBkYXRlIG9ubHkgaWYgaHNsYSB2YWwgaXMgd2l0aGluIHRleHRTaGFvZHcgc3RyaW5nXG4gICAgICBpZiAodGV4dFNoYWRvd1ZhbCAmJiB0ZXh0U2hhZG93VmFsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdXBkYXRlZFN0eWxlc1tzdHlsZUtleV0udGV4dFNoYWRvdyA9XG4gICAgICAgICAgdGV4dFNoYWRvd1ZhbFswXSArIHRpbnljb2xvcih0ZXh0U2hhZG93VmFsWzFdKS50b1JnYlN0cmluZygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlZFN0eWxlcztcbiAgICB9LCB7fSk7XG5cbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAuLi5hcHBsaWVkU3R5bGVzTWFwV2l0aFVwZGF0ZWRDb2xvclZhbHVlcy5ub1BzZXVkbyxcbiAgICAgICc6aG92ZXInOiBhcHBsaWVkU3R5bGVzTWFwV2l0aFVwZGF0ZWRDb2xvclZhbHVlcy5ob3ZlcixcbiAgICAgICc6Zm9jdXMnOiBhcHBsaWVkU3R5bGVzTWFwV2l0aFVwZGF0ZWRDb2xvclZhbHVlcy5mb2N1cyxcbiAgICAgICc6OnBsYWNlaG9sZGVyJzogYXBwbGllZFN0eWxlc01hcFdpdGhVcGRhdGVkQ29sb3JWYWx1ZXMucGxhY2Vob2xkZXIsXG4gICAgfSBhcyBjb25zdDtcblxuICAgIHJldHVybiB7XG4gICAgICBiYXNlOiBzdHlsZXMsXG4gICAgICBpbnZhbGlkOiBzdHlsZXMsXG4gICAgICBlbXB0eTogc3R5bGVzLFxuICAgICAgY29tcGxldGU6IHN0eWxlcyxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShTVFlMRV9NQVBfQVRUUikpIHtcbiAgICAgIGNvbnN0IHN0eWxlTWFwSlNPTiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFNUWUxFX01BUF9BVFRSKTtcbiAgICAgIGlmIChzdHlsZU1hcEpTT04pIHtcbiAgICAgICAgdGhpcy5zZXRTdHlsZXNGcm9tSlNPTihzdHlsZU1hcEpTT04pO1xuXG4gICAgICAgIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgY29uc3Qgd2luID0gZG9jLmRlZmF1bHRWaWV3O1xuXG4gICAgICAgIHRoaXMubWVkaWFRdWVyaWVzID0gT1JERVJFRF9NRURJQV9RVUVSSUVTLm1hcCgobXEpID0+ICh7XG4gICAgICAgICAgLi4ubXEsXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMTgwNDcgLSAnd2luJyBpcyBwb3NzaWJseSAnbnVsbCcuXG4gICAgICAgICAgbGlzdGVuZXI6IHdpbi5tYXRjaE1lZGlhKG1xLnF1ZXJ5KSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ3IC0gJ3dpbicgaXMgcG9zc2libHkgJ251bGwnLlxuICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IHdpbi5NdXRhdGlvbk9ic2VydmVyKHRoaXMuaGFuZGxlTXV0YXRpb25PYnNlcnZlcik7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tZWRpYVF1ZXJpZXMuZm9yRWFjaCgoe2xpc3RlbmVyfSkgPT4ge1xuICAgICAgICAgIGxpc3RlbmVyLmFkZExpc3RlbmVyKHRoaXMuZGlzcGF0Y2gpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0U3R5bGVzRnJvbUpTT04oc3R5bGVNYXBKU09OOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5zdHlsZXMgPSBKU09OLnBhcnNlKHN0eWxlTWFwSlNPTikgYXMgU3R5bGVzTWFwO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgdGhpcy5zdHlsZXMgPSB7fTtcbiAgICB9XG4gIH1cblxuICBnZXRBcHBsaWVkU3R5bGVzKCkge1xuICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdHlsZXMgPSB0aGlzLnN0eWxlcztcblxuICAgIGNvbnN0IGFwcGxpZWRTdHlsZXM6IEFwcGxpZWRTdHlsZXNNYXAgPSB0aGlzLm1lZGlhUXVlcmllcy5yZWR1Y2U8XG4gICAgICBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgPihcbiAgICAgIChzdHlsZXNNYXAsIHtsaXN0ZW5lciwgbmFtZX0pID0+XG4gICAgICAgIGxpc3RlbmVyLm1hdGNoZXMgPyBtZXJnZShzdHlsZXNNYXAsIHN0eWxlc1tuYW1lXSkgOiBzdHlsZXNNYXAsXG4gICAgICB7fVxuICAgICk7XG5cbiAgICByZXR1cm4gYXBwbGllZFN0eWxlcztcbiAgfVxuXG4gIGRpc3BhdGNoID0gKCkgPT4ge1xuICAgIHRoaXMub3B0aW9ucy5vbkNoYW5nZSh0aGlzLmdldEFwcGxpZWRTdHlsZXMoKSk7XG4gIH07XG5cbiAgaGFuZGxlTXV0YXRpb25PYnNlcnZlciA9IChtdXRhdGlvbkxpc3Q6IEFycmF5PGFueT4pID0+IHtcbiAgICBtdXRhdGlvbkxpc3QuZm9yRWFjaCgobXV0YXRpb24pID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgbXV0YXRpb24udHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmXG4gICAgICAgIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IFNUWUxFX01BUF9BVFRSICYmXG4gICAgICAgIG11dGF0aW9uLnRhcmdldC5oYXNBdHRyaWJ1dGUoU1RZTEVfTUFQX0FUVFIpXG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgc3R5bGVNYXBKU09OID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShTVFlMRV9NQVBfQVRUUik7XG5cbiAgICAgICAgaWYgKHN0eWxlTWFwSlNPTikge1xuICAgICAgICAgIHRoaXMuc2V0U3R5bGVzRnJvbUpTT04oc3R5bGVNYXBKU09OKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLm9ic2VydmVyKSB7XG4gICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgdGhpcy5tZWRpYVF1ZXJpZXMuZm9yRWFjaCgoe2xpc3RlbmVyfSkgPT4ge1xuICAgICAgbGlzdGVuZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5kaXNwYXRjaCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJTdHlsZU1hcE9ic2VydmVyIiwiU1RZTEVfTUFQX0FUVFIiLCJvcmRlcmVkQnJlYWtwb2ludElkcyIsIkJSRUFLUE9JTlRfSURfTUFJTiIsIkJSRUFLUE9JTlRfSURfTEFSR0UiLCJCUkVBS1BPSU5UX0lEX1hMIiwiQlJFQUtQT0lOVF9JRF9YWEwiLCJCUkVBS1BPSU5UX0lEX01FRElVTSIsIkJSRUFLUE9JTlRfSURfU01BTEwiLCJCUkVBS1BPSU5UX0lEX1RJTlkiLCJPUkRFUkVEX01FRElBX1FVRVJJRVMiLCJtYXAiLCJicmVha3BvaW50SWQiLCJjb25maWciLCJMQVJHRVJfQlJFQUtQT0lOVFNfQ09ORklHIiwicHJvcCIsInZhbHVlIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsInVuZGVmaW5lZCIsIkVycm9yIiwibmFtZSIsInF1ZXJ5Iiwic3R5bGVzIiwib2JzZXJ2ZXIiLCJtZWRpYVF1ZXJpZXMiLCJvcHRpb25zIiwib25DaGFuZ2UiLCJhcHBsaWVkU3R5bGVzVG9TdHJpcGVFbGVtZW50U3R5bGVzIiwiYXBwbGllZFN0eWxlc01hcCIsImFwcGxpZWRTdHlsZXNNYXBXaXRoVXBkYXRlZENvbG9yVmFsdWVzIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInVwZGF0ZWRTdHlsZXMiLCJzdHlsZUtleSIsImNvbG9yVmFsIiwiY29sb3IiLCJ0ZXh0U2hhZG93VmFsIiwidGV4dFNoYWRvdyIsInNwbGl0IiwidGlueWNvbG9yIiwidG9SZ2JTdHJpbmciLCJsZW5ndGgiLCJub1BzZXVkbyIsImhvdmVyIiwiZm9jdXMiLCJwbGFjZWhvbGRlciIsImJhc2UiLCJpbnZhbGlkIiwiZW1wdHkiLCJjb21wbGV0ZSIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsInN0eWxlTWFwSlNPTiIsImdldEF0dHJpYnV0ZSIsInNldFN0eWxlc0Zyb21KU09OIiwiZG9jIiwib3duZXJEb2N1bWVudCIsIndpbiIsImRlZmF1bHRWaWV3IiwibXEiLCJsaXN0ZW5lciIsIm1hdGNoTWVkaWEiLCJNdXRhdGlvbk9ic2VydmVyIiwiaGFuZGxlTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiZm9yRWFjaCIsImFkZExpc3RlbmVyIiwiZGlzcGF0Y2giLCJKU09OIiwicGFyc2UiLCJlIiwiZ2V0QXBwbGllZFN0eWxlcyIsImFwcGxpZWRTdHlsZXMiLCJzdHlsZXNNYXAiLCJtYXRjaGVzIiwibWVyZ2UiLCJtdXRhdGlvbkxpc3QiLCJtdXRhdGlvbiIsInR5cGUiLCJhdHRyaWJ1dGVO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

}),
84303: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals document, window, Element, HTMLElement, CustomEvent, HTMLFormElement, HTMLInputElement, HTMLSelectElement, HTMLAnchorElement*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    register: function() {
        return register;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
const _constants = __webpack_require__(10873);
const _constants1 = __webpack_require__(7462);
const _constants2 = __webpack_require__(29197);
const _constants3 = __webpack_require__(48935);
const _utils = __webpack_require__(73392);
const _get = /*#__PURE__*/ _interop_require_default(__webpack_require__(24738));
const _site = __webpack_require__(32949);
const _commerceUtils = __webpack_require__(54556);
const _RenderingUtils = __webpack_require__(86078);
const _CurrencyUtils = __webpack_require__(60937);
const _debug = /*#__PURE__*/ _interop_require_default(__webpack_require__(85986));
const _forEach = /*#__PURE__*/ _interop_require_default(__webpack_require__(32397));
const _find = /*#__PURE__*/ _interop_require_default(__webpack_require__(19777));
const _rendering = __webpack_require__(91898);
const _addToCartStore = __webpack_require__(21465);
const _PillGroup = __webpack_require__(14155);
const _siteBundles = __webpack_require__(66551);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const { fetchFromStore, updateStore, addStoreWatcher } = (0, _addToCartStore.createNewStore)();
const getInstanceId = (form)=>{
    const instanceId = form.getAttribute(_constants.DATA_ATTR_COMMERCE_PRODUCT_ID);
    if (instanceId) {
        return instanceId;
    } else {
        throw new Error('Incorrect form instance provided, has no instance ID');
    }
};
function trackAddToCartUsage(skuId, count, itemPrice) {
    const { decimalValue, unit } = itemPrice;
    if (typeof fbq === 'function') {
        fbq('track', 'AddToCart', {
            value: count * decimalValue,
            currency: unit,
            content_ids: [
                skuId
            ],
            content_type: 'product',
            contents: [
                {
                    id: skuId,
                    quantity: count,
                    item_price: decimalValue
                }
            ]
        });
    }
    if (typeof gtag === 'function') {
        gtag('event', 'add_to_cart', {
            items: [
                {
                    id: skuId,
                    quantity: count,
                    price: decimalValue
                }
            ]
        });
    }
}
const addToCartMutation = (0, _graphqltag.default)`
  mutation AddToCart($skuId: String!, $count: Int!, $buyNow: Boolean) {
    ecommerceAddToCart(sku: $skuId, count: $count, buyNow: $buyNow) {
      ok
      itemId
      itemCount
      itemPrice {
        unit
        decimalValue
      }
    }
  }
`;
const collectionsQuery = `
      collections {
        c_sku_ {
          id
          items(filter: {f_product_: {eq: $productId}}) {
            id
            f_price_ {
              value
              unit
            }
            f_weight_
            f_width_
            f_length_
            f_height_
            f_sku_
            f_main_image_4dr {
              url
            }
            f_more_images_4dr {
              url
              alt
              file {
                origFileName
              }
            }
            f_sku_values_3dr {
              value {
                id
              }
              property {
                id
              }
            }
            inventory {
              type
              quantity
            }
            f_compare_at_price_7dr10dr {
              unit
              value
            }
            f_ec_sku_billing_method_2dr6dr14dr
          }
        }
        c_product_ {
          id
          items(filter: {id: {eq: $productId}}) {
            id
            f_default_sku_7dr {
              id
            }
            f_ec_product_type_2dr10dr {
              name
            }
          }
        }
      }`;
const getAllVariants = (0, _graphqltag.default)`
  query FetchAllVariants($productId: BasicId!) {
    database {
      id
      ${collectionsQuery}
    }
  }
`;
const getAllVariantsAndMemberships = (0, _graphqltag.default)`
  query FetchAllVariantsAndMemberships($productId: BasicId!) {
    database {
      id
      ${collectionsQuery}
      commerceMemberships(productIds: [$productId]) {
        productId
        orderId
        active
      }
    }
  }
`;
// @ts-expect-error - TS7006 - Parameter 'node' implicitly has an 'any' type.
const findCollectionItemWrapper = (node)=>{
    const dynamoItemSelector = `.${_constants3.CLASS_NAME_DYNAMIC_LIST_ITEM}:not(.${_constants3.CLASS_NAME_DYNAMIC_LIST_REPEATER_ITEM})`;
    return $(node).closest(dynamoItemSelector)[0] || document.body;
};
const addToCartFormEventTargetMatcher = (event)=>{
    if (event != null && event.target instanceof HTMLElement && event.target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_ADD_TO_CART_FORM) {
        return event.target;
    }
    return false;
};
const getErrorType = (error)=>{
    const defaultErrorType = 'general';
    if (error && error.graphQLErrors && error.graphQLErrors.length > 0) {
        switch(error.graphQLErrors[0].code){
            case 'OutOfInventory':
                return 'quantity';
            case 'MixedCartError':
                return 'mixed-cart';
            default:
                return defaultErrorType;
        }
    }
    return defaultErrorType;
};
const handleAtcSubmit = (event, apolloClient)=>{
    event.preventDefault();
    const eventTarget = event.currentTarget;
    if (!(eventTarget instanceof HTMLFormElement && eventTarget.parentNode instanceof Element) || eventTarget.hasAttribute(_constants.ADD_TO_CART_LOADING)) {
        return;
    }
    const { parentNode } = eventTarget;
    const inputButton = eventTarget.querySelector('input[type="submit"]');
    if (!(0, _commerceUtils.isProtocolHttps)()) {
        window.alert('This site is currently unsecured so you cannot add products to your cart.');
        return;
    }
    if (!(inputButton instanceof HTMLInputElement)) {
        return;
    }
    const errorElement = parentNode.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_ERROR}"]`);
    if (errorElement instanceof Element) {
        // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
        errorElement.style.display = 'none';
    }
    eventTarget.setAttribute(_constants.ADD_TO_CART_LOADING, '');
    const previousButtonValue = inputButton.value;
    // We moved the data here to the actual button node but will fallback to old value on the wrapper if not set
    const loadingTextFromButton = inputButton.getAttribute(_constants.DATA_ATTR_LOADING_TEXT);
    inputButton.value = loadingTextFromButton ? loadingTextFromButton : eventTarget.getAttribute(_constants.DATA_ATTR_LOADING_TEXT) || '';
    inputButton.setAttribute('aria-busy', 'true');
    const skuId = fetchFromStore(getInstanceId(eventTarget), 'selectedSku') || '';
    const formData = (0, _commerceUtils.formToObject)(eventTarget);
    const formCount = formData[_constants.NODE_NAME_COMMERCE_ADD_TO_CART_QUANTITY_INPUT];
    const count = formCount ? parseInt(formCount, 10) : 1;
    // if no SKU id, then all options need to be selected
    // this is only shown for pills, as dropdowns will be caught by reportValidity above
    if (!skuId && errorElement instanceof Element) {
        eventTarget.removeAttribute(_constants.ADD_TO_CART_LOADING);
        inputButton.value = previousButtonValue;
        inputButton.setAttribute('aria-busy', 'false');
        const errorMsg = errorElement.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_ADD_TO_CART_ERROR}"]`);
        if (!errorMsg) {
            return;
        }
        const errorText = errorMsg.getAttribute((0, _constants.getATCErrorMessageForType)('select-all-options')) || 'Please select an option in each set.';
        errorMsg.textContent = errorText;
        // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
        errorElement.style.removeProperty('display');
        return;
    }
    // Redirect to sign up if the purchase requires a user session and there is none
    const requiresUserSession = fetchFromStore(getInstanceId(eventTarget), 'requiresUserSession');
    const hasUserSession = document.cookie.split(';').some((cookie)=>cookie.indexOf(_constants1.LOGGEDIN_COOKIE_NAME) > -1);
    if (requiresUserSession && !hasUserSession) {
        (0, _siteBundles.redirectWithUsrdir)(`/${_constants1.USYS_PAGE_SETTINGS.signup.slug}`);
        return;
    }
    apolloClient.mutate({
        mutation: addToCartMutation,
        variables: {
            skuId,
            count,
            buyNow: false
        }
    }).then(({ data })=>{
        (0, _commerceUtils.addLoadingCallback)(()=>{
            eventTarget.removeAttribute(_constants.ADD_TO_CART_LOADING);
            inputButton.value = previousButtonValue;
            inputButton.setAttribute('aria-busy', 'false');
            const cartElements = document.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_CART_WRAPPER}"][${_constants.DATA_ATTR_OPEN_PRODUCT}]`);
            cartElements.forEach((cart)=>{
                const evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
                    bubbles: true,
                    detail: {
                        open: true
                    }
                });
                cart.dispatchEvent(evt);
            });
        });
        (0, _commerceUtils.triggerRender)(null);
        const itemPrice = data.ecommerceAddToCart.itemPrice || {};
        trackAddToCartUsage(skuId, count, itemPrice);
    }).catch((error)=>{
        eventTarget.removeAttribute(_constants.ADD_TO_CART_LOADING);
        inputButton.value = previousButtonValue;
        inputButton.setAttribute('aria-busy', 'false');
        if (errorElement) {
            // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
            errorElement.style.removeProperty('display');
            const errorMsg = errorElement.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_ADD_TO_CART_ERROR}"]`);
            if (!errorMsg) {
                return;
            }
            const errorMessage = (0, _constants.getATCErrorMessageForType)(getErrorType(error));
            const errorText = errorMsg.getAttribute(errorMessage) || '';
            errorMsg.textContent = errorText;
        }
        _debug.default.error(error);
        (0, _commerceUtils.triggerRender)(null);
    });
};
const addToCartOptionSelectEventTargetMatcher = (event)=>{
    if (event != null && event.target instanceof HTMLElement && event.target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_SELECT) {
        return event.target;
    }
    return false;
};
const queryAllWithoutOtherItemWrapperContents = (collectionItemWrapper, selector)=>{
    return Array.from(collectionItemWrapper.querySelectorAll(selector)).filter((node)=>findCollectionItemWrapper(node) === collectionItemWrapper);
};
const queryAllReferenceRepeaters = (collectionItemWrapper)=>{
    return Array.from(collectionItemWrapper.querySelectorAll(`.${_constants3.CLASS_NAME_DYNAMIC_LIST_REPEATER_REF}`));
};
const removeClass = (element, className)=>{
    element && element.classList instanceof DOMTokenList && element.classList.remove(className);
    if (element.classList.length === 0) {
        element.removeAttribute('class');
    }
};
const showElement = (element)=>removeClass(element, 'w-dyn-hide');
const hideElement = (element)=>element && element.classList instanceof DOMTokenList && element.classList.add('w-dyn-hide');
const updateEmptyStateVisibility = (node, fn1, fn2)=>{
    const emptyStateNodes = Array.from(node.querySelectorAll('.w-dyn-empty'));
    const emptyStateMoreImageFieldNodes = emptyStateNodes.filter((n)=>{
        // @ts-expect-error - TS18046 - 'n' is of type 'unknown'.
        const itemsList = n.parentElement.querySelector('.w-dyn-items');
        return itemsList.dataset && itemsList.dataset.wfCollection && itemsList.dataset.wfCollection === 'f_more_images_4dr';
    });
    return emptyStateMoreImageFieldNodes && emptyStateMoreImageFieldNodes.map((n)=>{
        fn1(n);
        // @ts-expect-error - TS18046 - 'n' is of type 'unknown'.
        const itemsList = n.parentElement.querySelector('.w-dyn-items');
        if (itemsList && itemsList.dataset && itemsList.dataset.wfCollection && itemsList.dataset.wfCollection === 'f_more_images_4dr' && itemsList.classList instanceof DOMTokenList && itemsList.parentElement.classList.contains(_constants3.CLASS_NAME_DYNAMIC_LIST_REPEATER_REF)) {
            return fn2(itemsList);
        }
    });
};
const showEmptyStateAndHideItemsList = (node)=>{
    updateEmptyStateVisibility(node, showElement, hideElement);
};
const hideEmptyStateAndShowItemsList = (node)=>{
    updateEmptyStateVisibility(node, hideElement, showElement);
};
const updateDropdownsOnPage = (instanceId)=>(newSkuValues)=>{
        const dropdownsForProduct = Array.from(document.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_LIST}"][${_constants.DATA_ATTR_COMMERCE_PRODUCT_ID}="${instanceId}"] [${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_SELECT}"]`));
        for (const optionSetId of Object.keys(newSkuValues)){
            const optionSetValue = newSkuValues[optionSetId];
            const matchingDropdownsForOptionSet = dropdownsForProduct.filter((d)=>d.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID) === optionSetId);
            for (const dropdown of matchingDropdownsForOptionSet){
                dropdown.value = String(optionSetValue);
            }
        }
    };
const disableOptionsOnChange = ({ apolloClient, productId, optionSets, optionSetId })=>{
    apolloClient.query({
        query: getAllVariants,
        variables: {
            productId
        }
    }).then(({ data })=>{
        // That's a lot of question marks! What do they mean?
        // The `?.` is optional chaining, which lets you safely access deeply nested properties,
        // with it bailing out if the property doesn't exist: https://github.com/TC39/proposal-optional-chaining
        // The `??` is nullish coalescing, which is similar to `||` when wanting to ensure something is defined,
        // but only tripping if the value it's checking `null` or `undefined`, to prevent odd `false` and `false`-ish tripping false positives
        // https://github.com/tc39/proposal-nullish-coalescing
        const items = data?.database?.collections?.c_sku_?.items ?? [];
        // Get all the data we're going to use, we need to know which selectors were previously selected, which are currently
        // selected vs. which are not, and the most recently updated one
        const optionSetData = optionSets.reduce((parsedSelectorOptionSets, selectorOptionSet)=>{
            if (selectorOptionSet.value) {
                parsedSelectorOptionSets.selectedOptionSets.push(selectorOptionSet);
                if (selectorOptionSet.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID) === optionSetId) {
                    parsedSelectorOptionSets.recentlySelectedOptionSet = selectorOptionSet;
                } else {
                    parsedSelectorOptionSets.previouslySelectedOptionSets.push(selectorOptionSet);
                }
            } else {
                parsedSelectorOptionSets.unselectedOptionSets.push(selectorOptionSet);
            }
            return parsedSelectorOptionSets;
        }, {
            selectedOptionSets: [],
            recentlySelectedOptionSet: undefined,
            previouslySelectedOptionSets: [],
            unselectedOptionSets: []
        });
        let { selectedOptionSets, unselectedOptionSets } = optionSetData;
        const { recentlySelectedOptionSet, previouslySelectedOptionSets } = optionSetData;
        // Deselect previously selected option sets if they are uncompatible with the current selection.
        if (recentlySelectedOptionSet && selectedOptionSets.length > 1) {
            const recentlySelectedOptionSetValue = recentlySelectedOptionSet.value;
            (0, _forEach.default)(previouslySelectedOptionSets, (previouslySelectedOptionSet)=>{
                const optionSetValueCombinationWithMostRecent = [
                    recentlySelectedOptionSetValue,
                    previouslySelectedOptionSet.value
                ];
                // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
                const someAvailableItem = items.some((item)=>{
                    if (item.inventory.type === _constants.INVENTORY_TYPE_FINITE && item.inventory.quantity <= 0) {
                        return false;
                    }
                    const itemMappedBySkuValues = item.f_sku_values_3dr.map(// @ts-expect-error - TS7006 - Parameter 'skuValues' implicitly has an 'any' type.
                    (skuValues)=>skuValues.value.id);
                    return optionSetValueCombinationWithMostRecent.every((value)=>itemMappedBySkuValues.includes(value));
                });
                if (!someAvailableItem) {
                    previouslySelectedOptionSet.selectedIndex = 0;
                    selectedOptionSets = selectedOptionSets.filter(// @ts-expect-error - TS7006 - Parameter 'selectedOptionSet' implicitly has an 'any' type.
                    (selectedOptionSet)=>selectedOptionSet.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID) !== previouslySelectedOptionSet.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID));
                    unselectedOptionSets = unselectedOptionSets.concat(previouslySelectedOptionSet);
                }
            });
        }
        // For the (remaining after above deselection) selected ones we want to disable any options that simply have no possible stock
        (0, _forEach.default)(selectedOptionSets, (optionSet)=>{
            const id = optionSet.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID);
            (0, _forEach.default)(optionSet.options, (option)=>{
                if (!option.value) {
                    option.enabled = true;
                } else {
                    disableVariantsWithNoStock(items, id, option);
                }
            });
        });
        // For the remaining unselected ones we want to disable any options that aren't possible given current selections
        (0, _forEach.default)(unselectedOptionSets, (optionSet)=>{
            const id = optionSet.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID);
            disableVariantsWithNoStockForRemainingSelections(items, selectedOptionSets, optionSet, id);
        });
    });
};
const handleAtcOptionSelectChange = (event, apolloClient)=>{
    const eventTarget = event.currentTarget;
    if (!(eventTarget instanceof HTMLSelectElement)) {
        return;
    }
    // @ts-expect-error - TS2339 - Property 'jQuery' does not exist on type 'Window & typeof globalThis'.
    const $1 = window.jQuery;
    const optionSetId = eventTarget.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID);
    const optionSetValue = eventTarget.value;
    const optionListElement = $1(eventTarget).closest(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_LIST}"]`)[0];
    const addToCartForm = $1(eventTarget).closest(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_FORM}"]`)[0];
    if (!(optionListElement instanceof Element) || !optionSetId || !(addToCartForm instanceof HTMLFormElement)) {
        return;
    }
    const instanceId = getInstanceId(addToCartForm);
    const currentSkuValues = fetchFromStore(instanceId, 'skuValues');
    const newSkuValues = {
        ...currentSkuValues,
        [optionSetId]: optionSetValue
    };
    updateStore(instanceId, {
        skuValues: newSkuValues
    });
    const productId = optionListElement && optionListElement.getAttribute(_constants.DATA_ATTR_COMMERCE_PRODUCT_ID);
    const allVariantSelectorsInCartForm = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_SELECT, addToCartForm);
    if (productId && allVariantSelectorsInCartForm.length > 0) {
        disableOptionsOnChange({
            apolloClient,
            productId,
            optionSets: allVariantSelectorsInCartForm,
            optionSetId
        });
    }
};
const updateSkuBindings = (binding, node, newSkuItem)=>{
    if ([
        'f_weight_',
        'f_width_',
        'f_length_',
        'f_height_',
        'f_sku_'
    ].some((slug)=>binding.from === slug)) {
        node[binding.to === 'innerHTML' ? 'innerText' : binding.to] = newSkuItem[binding.from] || '';
        updateTextNodeVisibility(node);
    }
    if (binding.from === 'f_price_' && newSkuItem.f_price_) {
        node[binding.to === 'innerHTML' ? 'innerText' : binding.to] = (0, _CurrencyUtils.renderPriceFromSettings)(newSkuItem.f_price_, // @ts-expect-error - TS2339 - Property '__WEBFLOW_CURRENCY_SETTINGS' does not exist on type 'Window & typeof globalThis'.
        window.__WEBFLOW_CURRENCY_SETTINGS);
        updateTextNodeVisibility(node);
    }
    if (binding.from === 'f_compare_at_price_7dr10dr') {
        if (newSkuItem.f_compare_at_price_7dr10dr) {
            // if compare-at is available, apply the binding
            node[binding.to === 'innerHTML' ? 'innerText' : binding.to] = (0, _CurrencyUtils.renderPriceFromSettings)(newSkuItem.f_compare_at_price_7dr10dr, // @ts-expect-error - TS2339 - Property '__WEBFLOW_CURRENCY_SETTINGS' does not exist on type 'Window & typeof globalThis'.
            window.__WEBFLOW_CURRENCY_SETTINGS);
        } else {
            // otherwise, we need to specifically clear it; it could have been set
            // by a previously-selected product option
            node[binding.to === 'innerHTML' ? 'innerText' : binding.to] = '';
        }
        updateTextNodeVisibility(node);
    }
    if (binding.from === 'f_main_image_4dr' || binding.from === 'f_main_image_4dr.url') {
        const mainImage = (0, _get.default)(newSkuItem, binding.from.replace(/\.url$/, ''));
        if (binding.to === 'style.background-image') {
            node.style.backgroundImage = mainImage && mainImage.url ? `url("${mainImage.url}")` : 'none';
        } else if (binding.to === 'media') {
            if (node.classList.contains('w-lightbox')) {
                updateLightboxJson(node, mainImage);
            }
        } else if (binding.to === 'src') {
            if (mainImage && mainImage.url) {
                node.src = mainImage.url;
                (0, _RenderingUtils.removeWDynBindEmptyClass)(node);
                // Temporary solution for responsive images for product variants
                if (node.hasAttribute('srcset')) {
                    node.removeAttribute('srcset');
                }
            } else {
                node.removeAttribute('src');
                node.classList.add(_constants2.CLASS_NAME_W_DYN_BIND_EMPTY);
            }
        }
    }
    if (binding.from === 'f_more_images_4dr' || binding.from.startsWith('f_more_images_4dr.')) {
        const image = (0, _get.default)(newSkuItem, binding.from.replace(/\.url$/, ''));
        if (binding.to === 'style.background-image') {
            node.style.backgroundImage = image ? `url("${image.url}")` : 'none';
        } else if (binding.to === 'media') {
            if (node.classList.contains('w-lightbox')) {
                updateLightboxJson(node, image);
            }
        } else if (binding.to === 'src') {
            if (image && image.url) {
                node.src = image.url;
                node.alt = image.alt || '';
                (0, _RenderingUtils.removeWDynBindEmptyClass)(node);
                // Temporary solution for responsive images for product variants
                if (node.hasAttribute('srcset')) {
                    node.removeAttribute('srcset');
                    node.removeAttribute('sizes');
                }
            } else {
                node.removeAttribute('src');
                node.removeAttribute('srcset');
                node.removeAttribute('sizes');
                node.removeAttribute('alt');
                node.classList.add(_constants2.CLASS_NAME_W_DYN_BIND_EMPTY);
            }
        }
    }
    if (binding.from === 'ecSkuInventoryQuantity') {
        const inventoryQuantity = (0, _get.default)(newSkuItem, 'inventory.type') === 'infinite' ? null : (0, _get.default)(newSkuItem, 'inventory.quantity');
        node[binding.to === 'innerHTML' ? 'innerText' : binding.to] = inventoryQuantity;
        updateTextNodeVisibility(node);
    }
};
const updatePageWithNewSkuValuesData = (instanceId, apolloClient)=>(newSkuValues)=>{
        // @ts-expect-error - TS2339 - Property 'jQuery' does not exist on type 'Window & typeof globalThis'.
        const $1 = window.jQuery;
        apolloClient.query({
            query: getAllVariants,
            variables: {
                productId: instanceId
            }
        }).then(({ data })=>{
            const items = data?.database?.collections?.c_sku_?.items ?? [];
            const products = data?.database?.collections?.c_product_?.items ?? [];
            const productType = products[0] ? products[0].f_ec_product_type_2dr10dr.name : 'Advanced';
            const newSkuItem = (0, _find.default)(items, (item)=>{
                if (item.f_sku_values_3dr && Array.isArray(item.f_sku_values_3dr)) {
                    const skuValues = (0, _site.simplifySkuValues)(item.f_sku_values_3dr);
                    return Object.keys(newSkuValues).every((key)=>newSkuValues[key] === skuValues[key]);
                }
            });
            if (newSkuItem && newSkuItem.id) {
                updateStore(instanceId, {
                    selectedSku: newSkuItem.id
                });
                if (newSkuItem['f_ec_sku_billing_method_2dr6dr14dr'] === 'subscription' || productType === 'Membership') {
                    updateStore(instanceId, {
                        requiresUserSession: true
                    });
                }
                const formsForProduct = document.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_FORM}"][${_constants.DATA_ATTR_COMMERCE_PRODUCT_ID}="${instanceId}"]`);
                Array.from(formsForProduct).forEach((addToCartForm)=>{
                    const collectionItemWrapper = findCollectionItemWrapper(addToCartForm);
                    const referenceRepeaters = queryAllReferenceRepeaters(collectionItemWrapper);
                    // Update the state of the buy now button text to handle subscription
                    const buyNowButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_BUY_NOW_BUTTON, addToCartForm);
                    if (buyNowButton) {
                        if (newSkuItem['f_ec_sku_billing_method_2dr6dr14dr'] === 'subscription') {
                            const addToCartButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_BUTTON, addToCartForm);
                            const buyNowSubscriptionText = buyNowButton.getAttribute(_constants.DATA_ATTR_SUBSCRIPTION_TEXT) || 'Subscribe now';
                            hideElement(addToCartButton);
                            buyNowButton.innerText = buyNowSubscriptionText;
                        } else {
                            const buyNowDefaultText = buyNowButton.getAttribute(_constants.DATA_ATTR_DEFAULT_TEXT) || 'Buy now';
                            buyNowButton.innerText = buyNowDefaultText;
                        }
                    }
                    const moreImagesFieldLength = newSkuItem.f_more_images_4dr && newSkuItem.f_more_images_4dr.length || 0;
                    if (referenceRepeaters.length > 0) {
                        referenceRepeaters.forEach((referenceRepeater)=>{
                            // @ts-expect-error - TS2345 - Argument of type 'unknown' is not assignable to parameter of type 'Element'.
                            (0, _rendering.renderTree)(referenceRepeater, {
                                data: newSkuItem
                            });
                            if (moreImagesFieldLength > 0) {
                                hideEmptyStateAndShowItemsList(referenceRepeater);
                            } else {
                                showEmptyStateAndHideItemsList(referenceRepeater);
                            }
                        });
                    }
                    const skuBoundNodes = queryAllWithoutOtherItemWrapperContents(collectionItemWrapper, `[${_constants.WF_SKU_BINDING_DATA_KEY}]`);
                    (0, _forEach.default)(skuBoundNodes, (node)=>{
                        // @ts-expect-error - TS18046 - 'node' is of type 'unknown'.
                        const skuBindingsData = node.getAttribute(_constants.WF_SKU_BINDING_DATA_KEY);
                        if (skuBindingsData) {
                            const skuBindings = (0, _commerceUtils.safeParseJson)(skuBindingsData);
                            if (Array.isArray(skuBindings)) {
                                skuBindings.forEach((binding)=>updateSkuBindings(binding, node, newSkuItem));
                            }
                        }
                    });
                    const skuConditionBoundNodes = queryAllWithoutOtherItemWrapperContents(collectionItemWrapper, `[${_constants.WF_SKU_CONDITION_DATA_KEY}]`);
                    (0, _forEach.default)(skuConditionBoundNodes, (node)=>{
                        const conditionData = (0, _commerceUtils.safeParseJson)(// @ts-expect-error - TS18046 - 'node' is of type 'unknown'.
                        node.getAttribute(_constants.WF_SKU_CONDITION_DATA_KEY));
                        if (conditionData) {
                            (0, _rendering.applySkuBoundConditionalVisibility)({
                                conditionData,
                                newSkuItem,
                                // @ts-expect-error - TS2322 - Type 'unknown' is not assignable to type 'Element'.
                                node
                            });
                        }
                    });
                    const errorElement = $1(collectionItemWrapper).siblings(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_ERROR}"]`)[0];
                    if (errorElement instanceof Element) {
                        // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
                        errorElement.style.display = 'none';
                    }
                });
                // In case there are lightboxes bound, we need to initialize the events again after each script
                // was updated with the right data in updateSkuBindings
                if (window.Webflow.require('lightbox')) {
                    window.Webflow.require('lightbox').ready();
                }
            } else {
                // if we can't find a valid SKU, we've deselected one of the variant selectors
                // as such, we need to clear the selected SKU in the store
                updateStore(instanceId, {
                    selectedSku: ''
                });
            }
        });
    };
const updateSkuValuesOnPillSelect = (instanceId, apolloClient)=>// @ts-expect-error - TS7031 - Binding element 'optionId' implicitly has an 'any' type. | TS7031 - Binding element 'optionSetId' implicitly has an 'any' type. | TS7031 - Binding element 'groups' implicitly has an 'any' type.
    ({ optionId, optionSetId, groups })=>{
        const currentSkuValues = fetchFromStore(instanceId, 'skuValues');
        const newSkuValues = {
            ...currentSkuValues,
            [optionSetId]: optionId
        };
        updateStore(instanceId, {
            skuValues: newSkuValues
        });
        disableOptionsOnChange({
            apolloClient,
            productId: instanceId,
            optionSets: Object.values(groups),
            optionSetId
        });
    };
const handleAtcPageLoad = (event, apolloClient, stripeStore)=>{
    if (!(event instanceof CustomEvent && event.type === _constants.RENDER_TREE_EVENT)) {
        return;
    }
    const addToCartForms = document.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_FORM}"]`);
    // allow pills to work only in preview
    if (window.Webflow.env('preview')) {
        if (event.detail.isInitial) {
            (0, _forEach.default)(addToCartForms, (addToCartForm)=>{
                // set up pill groups
                const groups = new _PillGroup.PillGroups(// @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                addToCartForm, ({ optionId, optionSetId })=>{
                    groups.setSelectedPillsForSkuValues({
                        [optionSetId]: optionId
                    });
                });
                groups.init();
            });
        }
        return;
    }
    // otherwise, return for designer
    if (window.Webflow.env('design')) {
        return;
    }
    (0, _forEach.default)(addToCartForms, (addToCartForm)=>{
        const addToCartButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_BUTTON, addToCartForm);
        // If this form has an add to cart button, set the `aria-haspopup` to `dialog` or `false`
        // depending on at least one Cart element having the setting for "Open when product is added"
        if (addToCartButton) {
            const cartElementsThatOpenOnAdd = document.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_CART_WRAPPER}"][${_constants.DATA_ATTR_OPEN_PRODUCT}]`);
            addToCartButton.setAttribute('aria-haspopup', cartElementsThatOpenOnAdd.length > 0 ? 'dialog' : 'false');
        }
        const buyNowButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_BUY_NOW_BUTTON, addToCartForm);
        // Hide the Buy now button if Stripe is not connected
        if (stripeStore && !stripeStore.isInitialized()) {
            if (buyNowButton) {
                hideElement(buyNowButton);
            }
        }
        // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLFormElement'.
        const instanceId = getInstanceId(addToCartForm);
        if (event.detail.isInitial) {
            // only set the selected SKU from the DOM on the initial render event, as after that we want to
            // rely on the store as the source of truth. without this, the selected SKU could get reset on any render
            updateStore(instanceId, {
                // @ts-expect-error - TS2322 - Type 'string | null' is not assignable to type 'string | undefined'.
                selectedSku: addToCartForm instanceof Element ? addToCartForm.getAttribute(_constants.DATA_ATTR_COMMERCE_SKU_ID) : ''
            });
            // add watcher for sku values change to update the page as needed
            addStoreWatcher(instanceId, 'skuValues', updatePageWithNewSkuValuesData(instanceId, apolloClient));
            // add watcher for dropdowns to update on sku change
            addStoreWatcher(instanceId, 'skuValues', updateDropdownsOnPage(instanceId));
            // set up pill groups
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            if (_PillGroup.PillGroups.hasPillGroups(addToCartForm)) {
                const pillGroup = new _PillGroup.PillGroups(// @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                addToCartForm, updateSkuValuesOnPillSelect(instanceId, apolloClient));
                addStoreWatcher(instanceId, 'skuValues', (newSkuValues)=>{
                    pillGroup.setSelectedPillsForSkuValues(newSkuValues);
                });
                pillGroup.init();
            }
        }
        const currentSkuId = fetchFromStore(instanceId, 'selectedSku');
        if (!currentSkuId) {
            return;
        }
        const productId = addToCartForm && addToCartForm.getAttribute(_constants.DATA_ATTR_COMMERCE_PRODUCT_ID);
        if (productId) {
            apolloClient.query({
                query: getAllVariantsAndMemberships,
                variables: {
                    productId
                }
            }).then(({ data })=>{
                const items = data?.database?.collections?.c_sku_?.items ?? [];
                const products = data?.database?.collections?.c_product_?.items ?? [];
                const productType = products[0] ? products[0].f_ec_product_type_2dr10dr.name : 'Advanced';
                // build the possible sku values for the given product
                // since all items have the same sku values, we just use the first
                // then we iterate over the skus, and create an object of [propertyId: string]: ''
                // to represent that by default, no property has been selected yet
                if (event.detail.isInitial && items[0].f_sku_values_3dr && items[0].f_sku_values_3dr.length > 0) {
                    // @ts-expect-error - TS2347 - Untyped function calls may not accept type arguments.
                    const skuValuesMap = items[0].f_sku_values_3dr.reduce((map, sku)=>{
                        map[sku.property.id] = '';
                        return map;
                    }, {});
                    updateStore(instanceId, {
                        skuValues: skuValuesMap
                    });
                }
                const memberships = data?.database?.commerceMemberships ?? [];
                const hasActiveMemebership = Boolean(memberships[0]?.active);
                if (hasActiveMemebership) {
                    if (buyNowButton) {
                        buyNowButton.removeAttribute('href');
                        // without href <a> doesn't have an implicit role, so adding it back here for accesibility
                        buyNowButton.setAttribute('role', 'link');
                        buyNowButton.setAttribute('aria-disabled', 'true');
                        buyNowButton.classList.add('w--ecommerce-buy-now-disabled');
                    }
                    if (addToCartButton) {
                        addToCartButton.setAttribute('disabled', 'true');
                        addToCartButton.classList.add('w--ecommerce-add-to-cart-disabled');
                    }
                }
                // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
                const currentSku = items.find((item)=>item.id === currentSkuId);
                if (currentSku) {
                    if (currentSku['f_ec_sku_billing_method_2dr6dr14dr'] === 'subscription' || productType === 'Membership') {
                        updateStore(instanceId, {
                            requiresUserSession: true
                        });
                    }
                    // Set buy now text to subscription state if subscription
                    if (currentSku['f_ec_sku_billing_method_2dr6dr14dr'] === 'subscription') {
                        hideElement(addToCartButton);
                        if (buyNowButton) {
                            const buyNowSubscriptionText = buyNowButton.getAttribute(_constants.DATA_ATTR_SUBSCRIPTION_TEXT) || 'Subscribe now';
                            buyNowButton.innerText = buyNowSubscriptionText;
                        }
                    } else if (buyNowButton) {
                        const buyNowDefaultText = buyNowButton.getAttribute(_constants.DATA_ATTR_DEFAULT_TEXT) || 'Buy now';
                        buyNowButton.innerText = buyNowDefaultText;
                    }
                    const addToCartWrapper = addToCartForm.parentElement;
                    const optionListElement = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_LIST, // @ts-expect-error - TS2345 - Argument of type 'HTMLElement | null' is not assignable to parameter of type 'Document | Element | undefined'.
                    addToCartWrapper);
                    const outOfStockState = addToCartWrapper && addToCartWrapper.getElementsByClassName('w-commerce-commerceaddtocartoutofstock')[0];
                    // Check if exist a variant with stock
                    const hasVariantsWithStock = items.some(// @ts-expect-error - TS7006 - Parameter 'variant' implicitly has an 'any' type.
                    (variant)=>variant.inventory.type === _constants.INVENTORY_TYPE_FINITE && variant.inventory.quantity > 0 || variant.inventory.type === _constants.INVENTORY_TYPE_INFINITE);
                    if (!hasVariantsWithStock && outOfStockState) {
                        // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
                        outOfStockState.style.display = '';
                        // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
                        addToCartForm.style.display = 'none';
                    }
                    // Update select options based on stock
                    const optionSetsToUpdate = items[0].f_sku_values_3dr.map(// @ts-expect-error - TS7006 - Parameter 'skuValue' implicitly has an 'any' type.
                    (skuValue)=>skuValue.property.id);
                    // @ts-expect-error - TS7006 - Parameter 'optionToUpdateSetId' implicitly has an 'any' type.
                    optionSetsToUpdate.forEach((optionToUpdateSetId)=>{
                        // Get the select we will update
                        let optionSet = addToCartForm.querySelector(`[${_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID}="${optionToUpdateSetId}"]`);
                        if (!(optionSet instanceof HTMLElement)) {
                            return;
                        }
                        const optionSetId = optionSet.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID);
                        if (optionSet.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_ADD_TO_CART_PILL_GROUP) {
                            // if we're using a pill group, we need to get the PillGroup class for the given element
                            // so that we have access to the getters we defined to give us compatibility with the `select` API
                            // @ts-expect-error - TS2339 - Property '_wfPillGroup' does not exist on type 'HTMLElement'.
                            optionSet = optionSet._wfPillGroup;
                        }
                        // @ts-expect-error - TS18047 - 'optionSet' is possibly 'null'. | TS2339 - Property 'options' does not exist on type 'Element'.
                        (0, _forEach.default)(optionSet.options, (option)=>{
                            // Get the variant that has the current option combined with other selected options that in this case, since it's in the on load
                            // it will be the default variant
                            if (!option.value) {
                                // The default options should be always enabled
                                option.enabled = true;
                            } else {
                                disableVariantsWithNoStock(items, optionSetId, option);
                            }
                        });
                        // Make sure that if this is render occurs with option sets already selected that we disable based on available options
                        const selectedOptionSets = optionSetsToUpdate.filter(// @ts-expect-error - TS7006 - Parameter 'optionSetToUpdate' implicitly has an 'any' type.
                        (optionSetToUpdate)=>optionSetToUpdate.value);
                        disableVariantsWithNoStockForRemainingSelections(items, selectedOptionSets, optionSet, optionSetId);
                        // Preselect the default variant if setting has been enabled and initial render
                        if (event.detail.isInitial && optionListElement && optionListElement.getAttribute(_constants.DATA_ATTR_PRESELECT_DEFAULT_VARIANT) === 'true') {
                            const defaultSkuId = (0, _get.default)(data, [
                                'database',
                                'collections',
                                'c_product_',
                                'items',
                                0,
                                'f_default_sku_7dr',
                                'id'
                            ]);
                            const defaultSku = items.find(// @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
                            (item)=>item.id === defaultSkuId);
                            // Ensure the default variant is in stock before preselecting
                            if (defaultSku && !(defaultSku.inventory.type === _constants.INVENTORY_TYPE_FINITE && defaultSku.inventory.quantity <= 0)) {
                                const defaultSkuIndex = Array.from(// @ts-expect-error - TS18047 - 'optionSet' is possibly 'null'. | TS2339 - Property 'options' does not exist on type 'Element'.
                                optionSet.options).findIndex((option)=>defaultSku.f_sku_values_3dr.some(// @ts-expect-error - TS7006 - Parameter 'value' implicitly has an 'any' type. | TS18046 - 'option' is of type 'unknown'.
                                    (value)=>value.value.id === option.value));
                                if (defaultSkuIndex > -1) {
                                    // @ts-expect-error - TS18047 - 'optionSet' is possibly 'null'. | TS2339 - Property 'selectedIndex' does not exist on type 'Element'.
                                    optionSet.selectedIndex = defaultSkuIndex;
                                    updateStore(instanceId, {
                                        selectedSku: defaultSku.id,
                                        // update the sku values map to set each property id to the value id
                                        // for the current variant
                                        skuValues: (0, _site.simplifySkuValues)(defaultSku.f_sku_values_3dr)
                                    });
                                }
                            }
                        }
                    });
                }
            });
        }
    });
};
const disableVariantsWithNoStockForRemainingSelections = (items, // @ts-expect-error - TS7006 - Parameter 'selectedOptionSets' implicitly has an 'any' type.
selectedOptionSets, optionSet, id)=>{
    // Get all the possible variants given our current selections
    // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
    let possibleVariantSelections = items.filter((item)=>{
        const itemMappedBySkuValues = item.f_sku_values_3dr.map(// @ts-expect-error - TS7006 - Parameter 'skuValues' implicitly has an 'any' type.
        (skuValues)=>skuValues.value.id);
        const currentlySelectedSkuValues = selectedOptionSets.map(// @ts-expect-error - TS7006 - Parameter 'selectedOptionSet' implicitly has an 'any' type.
        (selectedOptionSet)=>selectedOptionSet.value);
        // @ts-expect-error - TS7006 - Parameter 'selectedValue' implicitly has an 'any' type.
        return currentlySelectedSkuValues.every((selectedValue)=>itemMappedBySkuValues.includes(selectedValue));
    });
    // Reset them if there is only 1 left i.e. user has selected all 3 options
    if (possibleVariantSelections.length === 1) {
        possibleVariantSelections = items;
    }
    (0, _forEach.default)(optionSet.options, (option)=>{
        // Get the variant that has the current option combined with other selected options that in this case, since it's in the on load
        // it will be the default variant
        if (!option.value) {
            // The default options should be always enabled
            option.enabled = true;
        } else {
            // @ts-expect-error - TS7006 - Parameter 'variant' implicitly has an 'any' type.
            const variantsFiltered = possibleVariantSelections.filter((variant)=>{
                const sku = variant.f_sku_values_3dr.find(// @ts-expect-error - TS7006 - Parameter 'value' implicitly has an 'any' type.
                (value)=>value.property.id === id);
                return sku.value.id === option.value;
            });
            const hasVariantsWithStock = variantsFiltered.some(// @ts-expect-error - TS7006 - Parameter 'variant' implicitly has an 'any' type.
            (variant)=>variant.inventory.type === _constants.INVENTORY_TYPE_FINITE && variant.inventory.quantity > 0 || variant.inventory.type === _constants.INVENTORY_TYPE_INFINITE);
            if (!hasVariantsWithStock) {
                option.disabled = true;
            } else {
                option.disabled = false;
            }
        }
    });
};
const disableVariantsWithNoStock = (items, optionSetId, option)=>{
    if (!option.value) {
        return;
    }
    // @ts-expect-error - TS7006 - Parameter 'variant' implicitly has an 'any' type.
    const variantsFiltered = items.filter((variant)=>{
        const sku = variant.f_sku_values_3dr.find(// @ts-expect-error - TS7006 - Parameter 'value' implicitly has an 'any' type.
        (value)=>value.property.id === optionSetId);
        return sku.value.id === option.value;
    });
    const hasVariantsWithStock = variantsFiltered.some(// @ts-expect-error - TS7006 - Parameter 'variant' implicitly has an 'any' type.
    (variant)=>variant.inventory.type === _constants.INVENTORY_TYPE_FINITE && variant.inventory.quantity > 0 || variant.inventory.type === _constants.INVENTORY_TYPE_INFINITE);
    if (!hasVariantsWithStock) {
        option.disabled = true;
    } else {
        option.disabled = false;
    }
};
const updateTextNodeVisibility = (node)=>{
    if (node.innerText) {
        (0, _RenderingUtils.removeWDynBindEmptyClass)(node);
    }
    if (!node.innerText && !node.classList.contains(_constants2.CLASS_NAME_W_DYN_BIND_EMPTY)) {
        node.classList.add(_constants2.CLASS_NAME_W_DYN_BIND_EMPTY);
    }
};
const updateLightboxJson = (node, binding)=>{
    const lightboxScript = node.querySelector('script.w-json');
    if (lightboxScript) {
        const nodeJsonData = JSON.parse(lightboxScript.innerHTML);
        // if the JSON created from bound media is `null`,
        // we replace `script` tag contents with placeholder data
        // that retains the `group` property
        lightboxScript.innerHTML = JSON.stringify((0, _utils.createJsonFromBoundMedia)(binding, nodeJsonData) || {
            items: [],
            group: nodeJsonData && nodeJsonData.group
        });
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isBuyNowButtonEvent = ({ target })=>target instanceof Element && target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_BUY_NOW_BUTTON;
// @ts-expect-error - TS2314 - Generic type 'ApolloClient<TCacheShape>' requires 1 type argument(s).
const handleBuyNow = (event, apolloClient)=>{
    event.preventDefault();
    // Don't try and do anything in preview mode
    if (window.Webflow.env('preview')) {
        return;
    }
    const buyNowButton = event.target;
    const addToCartForm = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_FORM, // @ts-expect-error - TS2345 - Argument of type 'EventTarget | null' is not assignable to parameter of type 'EventTarget'.
    buyNowButton);
    if (!(buyNowButton instanceof HTMLAnchorElement) || !(addToCartForm instanceof HTMLFormElement)) {
        return;
    }
    if (buyNowButton.classList.contains('w--ecommerce-buy-now-disabled')) {
        return;
    }
    const addToCartWrapper = addToCartForm.parentElement;
    if (!(addToCartWrapper instanceof Element)) {
        return;
    }
    const addToCartErrorElement = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_ERROR, addToCartWrapper);
    if (!(addToCartErrorElement instanceof Element)) {
        return;
    }
    addToCartErrorElement.style.display = 'none';
    if (!(0, _commerceUtils.isProtocolHttps)()) {
        window.alert('This site is currently unsecured so you cannot purchase this item.');
        return;
    }
    // Confirm atc selection is valid
    if (!addToCartForm.reportValidity()) {
        return;
    }
    // Redirect to sign up if the purchase requires a user session and there is none
    const requiresUserSession = fetchFromStore(getInstanceId(addToCartForm), 'requiresUserSession');
    const hasUserSession = document.cookie.split(';').some((cookie)=>cookie.indexOf(_constants1.LOGGEDIN_COOKIE_NAME) > -1);
    if (requiresUserSession && !hasUserSession) {
        (0, _siteBundles.redirectWithUsrdir)(`/${_constants1.USYS_PAGE_SETTINGS.signup.slug}`);
        return;
    }
    const publishableKey = buyNowButton.getAttribute(_constants.DATA_ATTR_PUBLISHABLE_KEY);
    // If no publishable key checkout is not enabled
    if (!publishableKey) {
        const errorMsg = addToCartErrorElement.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_ADD_TO_CART_ERROR}"]`);
        if (!errorMsg) {
            return;
        }
        const errorText = errorMsg.getAttribute(_constants.CHECKOUT_DISABLED_ERROR_MESSAGE) || 'Checkout is disabled.';
        errorMsg.textContent = errorText;
        addToCartErrorElement.style.removeProperty('display');
        return;
    }
    const skuId = fetchFromStore(getInstanceId(addToCartForm), 'selectedSku') || '';
    const formData = (0, _commerceUtils.formToObject)(addToCartForm);
    const formCount = formData[_constants.NODE_NAME_COMMERCE_ADD_TO_CART_QUANTITY_INPUT];
    const count = formCount ? parseInt(formCount, 10) : 1;
    // if no SKU id, then all options need to be selected
    // this is only shown for pills, as dropdowns will be caught by reportValidity above
    if (!skuId) {
        const errorMsg = addToCartErrorElement.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_ADD_TO_CART_ERROR}"]`);
        if (!errorMsg) {
            return;
        }
        const errorText = errorMsg.getAttribute((0, _constants.getATCErrorMessageForType)('select-all-options')) || 'Please select an option in each set.';
        errorMsg.textContent = errorText;
        addToCartErrorElement.style.removeProperty('display');
        return;
    }
    apolloClient.mutate({
        mutation: addToCartMutation,
        variables: {
            skuId,
            count,
            buyNow: true
        }
    })// @ts-expect-error - TS7031 - Binding element 'data' implicitly has an 'any' type.
    .then(({ data })=>{
        const itemPrice = data.ecommerceAddToCart.itemPrice || {};
        trackAddToCartUsage(skuId, count, itemPrice);
        // @ts-expect-error - TS2322 - Type 'string' is not assignable to type 'Location | (string & Location)'.
        window.location = buyNowButton.href;
    })// @ts-expect-error - TS7006 - Parameter 'error' implicitly has an 'any' type.
    .catch((error)=>{
        if (addToCartErrorElement) {
            addToCartErrorElement.style.removeProperty('display');
            const errorMsg = addToCartErrorElement.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_ADD_TO_CART_ERROR}"]`);
            if (!errorMsg) {
                return;
            }
            const errorType = error.graphQLErrors && error.graphQLErrors.length > 0 && error.graphQLErrors[0].code === 'OutOfInventory' ? 'quantity' : 'buy-now';
            const errorText = errorMsg.getAttribute((0, _constants.getATCErrorMessageForType)(errorType)) || '';
            errorMsg.textContent = errorText;
        }
        _debug.default.error(error);
        (0, _commerceUtils.triggerRender)(null);
    });
};
const register = (handlerProxy)=>{
    handlerProxy.on('submit', addToCartFormEventTargetMatcher, handleAtcSubmit);
    handlerProxy.on('change', addToCartOptionSelectEventTargetMatcher, handleAtcOptionSelectChange);
    handlerProxy.on('click', isBuyNowButtonEvent, handleBuyNow);
    handlerProxy.on(_constants.RENDER_TREE_EVENT, Boolean, handleAtcPageLoad);
};
const _default = {
    register
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZFRvQ2FydEV2ZW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIGRvY3VtZW50LCB3aW5kb3csIEVsZW1lbnQsIEhUTUxFbGVtZW50LCBDdXN0b21FdmVudCwgSFRNTEZvcm1FbGVtZW50LCBIVE1MSW5wdXRFbGVtZW50LCBIVE1MU2VsZWN0RWxlbWVudCwgSFRNTEFuY2hvckVsZW1lbnQqL1xuaW1wb3J0IHR5cGUge0Fwb2xsb0NsaWVudCwgTm9ybWFsaXplZENhY2hlT2JqZWN0fSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJztcbmltcG9ydCB7XG4gIERBVEFfQVRUUl9DT01NRVJDRV9TS1VfSUQsXG4gIERBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lELFxuICBEQVRBX0FUVFJfTk9ERV9UWVBFLFxuICBEQVRBX0FUVFJfTE9BRElOR19URVhULFxuICBEQVRBX0FUVFJfT1BFTl9QUk9EVUNULFxuICBEQVRBX0FUVFJfQ09NTUVSQ0VfUFJPRFVDVF9JRCxcbiAgREFUQV9BVFRSX1BVQkxJU0hBQkxFX0tFWSxcbiAgREFUQV9BVFRSX1BSRVNFTEVDVF9ERUZBVUxUX1ZBUklBTlQsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9GT1JNLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRVJST1IsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9PUFRJT05fU0VMRUNULFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfT1BUSU9OX0xJU1QsXG4gIE5PREVfTkFNRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9RVUFOVElUWV9JTlBVVCxcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfV1JBUFBFUixcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0JVWV9OT1dfQlVUVE9OLFxuICBOT0RFX1RZUEVfQUREX1RPX0NBUlRfRVJST1IsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9QSUxMX0dST1VQLFxuICBXRl9TS1VfQklORElOR19EQVRBX0tFWSxcbiAgV0ZfU0tVX0NPTkRJVElPTl9EQVRBX0tFWSxcbiAgSU5WRU5UT1JZX1RZUEVfRklOSVRFLFxuICBJTlZFTlRPUllfVFlQRV9JTkZJTklURSxcbiAgQUREX1RPX0NBUlRfTE9BRElORyxcbiAgQ0hBTkdFX0NBUlRfRVZFTlQsXG4gIGdldEFUQ0Vycm9yTWVzc2FnZUZvclR5cGUsXG4gIFJFTkRFUl9UUkVFX0VWRU5ULFxuICBDSEVDS09VVF9ESVNBQkxFRF9FUlJPUl9NRVNTQUdFLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfQlVUVE9OLFxuICBEQVRBX0FUVFJfU1VCU0NSSVBUSU9OX1RFWFQsXG4gIERBVEFfQVRUUl9ERUZBVUxUX1RFWFQsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBMT0dHRURJTl9DT09LSUVfTkFNRSxcbiAgVVNZU19QQUdFX1NFVFRJTkdTLFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy91c2Vycy9jb25zdGFudHMnO1xuaW1wb3J0IHtDTEFTU19OQU1FX1dfRFlOX0JJTkRfRU1QVFl9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfSVRFTSxcbiAgQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfUkVQRUFURVJfSVRFTSxcbiAgQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfUkVQRUFURVJfUkVGLFxufSBmcm9tICcuLi8uLi9EeW5hbW8vY29uc3RhbnRzJztcbmltcG9ydCB7Y3JlYXRlSnNvbkZyb21Cb3VuZE1lZGlhfSBmcm9tICcuLi8uLi9MaWdodGJveC91dGlscyc7XG5pbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuXG5pbXBvcnQge3NpbXBsaWZ5U2t1VmFsdWVzfSBmcm9tICdAcGFja2FnZXMvc2hhcmVkL3NpdGUnO1xuaW1wb3J0IEV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCBmcm9tICcuL2V2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCc7XG5pbXBvcnQge1xuICB0cmlnZ2VyUmVuZGVyLFxuICBpc1Byb3RvY29sSHR0cHMsXG4gIHNhZmVQYXJzZUpzb24sXG4gIGZvcm1Ub09iamVjdCxcbiAgYWRkTG9hZGluZ0NhbGxiYWNrLFxuICBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlLFxuICBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUsXG4gIGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUsXG59IGZyb20gJy4vY29tbWVyY2VVdGlscyc7XG5pbXBvcnQge3JlbW92ZVdEeW5CaW5kRW1wdHlDbGFzc30gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL1JlbmRlcmluZ1V0aWxzJztcbmltcG9ydCB7cmVuZGVyUHJpY2VGcm9tU2V0dGluZ3N9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvcmUvdXRpbHMvQ3VycmVuY3lVdGlscyc7XG5pbXBvcnQgZGVidWcgZnJvbSAnLi9kZWJ1Zyc7XG5pbXBvcnQgZm9yRWFjaCBmcm9tICdsb2Rhc2gvZm9yRWFjaCc7XG5pbXBvcnQgZmluZCBmcm9tICdsb2Rhc2gvZmluZCc7XG5pbXBvcnQge3JlbmRlclRyZWUsIGFwcGx5U2t1Qm91bmRDb25kaXRpb25hbFZpc2liaWxpdHl9IGZyb20gJy4vcmVuZGVyaW5nJztcbmltcG9ydCB7Y3JlYXRlTmV3U3RvcmUsIHR5cGUgU2t1VmFsdWVzfSBmcm9tICcuL2FkZFRvQ2FydFN0b3JlJztcbmltcG9ydCB7UGlsbEdyb3Vwc30gZnJvbSAnLi9jb21wb25lbnRzL1BpbGxHcm91cCc7XG5pbXBvcnQge3JlZGlyZWN0V2l0aFVzcmRpcn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvc2l0ZUJ1bmRsZXMnO1xuaW1wb3J0IHtTdHJpcGVTdG9yZX0gZnJvbSAnLi9zdHJpcGVTdG9yZSc7XG4vKjo6XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuKi9cblxuLy8gZmJxIGlzIEZhY2Vib29rIHBpeGVsIGxpYnJhcnkgbG9hZGVkIG9uIHBhZ2UgbG9hZFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuZGVjbGFyZSB2YXIgZmJxOiBhbnk7XG5cbi8vIGd0YWcgaXMgR29vZ2xlIEFuYWx5dGljcyBsaWJyYXJ5IGxvYWRlZCBvbiBwYWdlIGxvYWQsIG5vLXZhclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuZGVjbGFyZSB2YXIgZ3RhZzogYW55O1xuXG5jb25zdCB7ZmV0Y2hGcm9tU3RvcmUsIHVwZGF0ZVN0b3JlLCBhZGRTdG9yZVdhdGNoZXJ9ID0gY3JlYXRlTmV3U3RvcmUoKTtcblxuY29uc3QgZ2V0SW5zdGFuY2VJZCA9IChmb3JtOiBIVE1MRm9ybUVsZW1lbnQpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBpbnN0YW5jZUlkID0gZm9ybS5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0NPTU1FUkNFX1BST0RVQ1RfSUQpO1xuICBpZiAoaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiBpbnN0YW5jZUlkO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGZvcm0gaW5zdGFuY2UgcHJvdmlkZWQsIGhhcyBubyBpbnN0YW5jZSBJRCcpO1xuICB9XG59O1xuXG5mdW5jdGlvbiB0cmFja0FkZFRvQ2FydFVzYWdlKFxuICBza3VJZDogc3RyaW5nLFxuICBjb3VudDogbnVtYmVyLFxuICBpdGVtUHJpY2U6IHtcbiAgICB1bml0OiBzdHJpbmc7XG4gICAgZGVjaW1hbFZhbHVlOiBudW1iZXI7XG4gIH1cbikge1xuICBjb25zdCB7ZGVjaW1hbFZhbHVlLCB1bml0fSA9IGl0ZW1QcmljZTtcblxuICBpZiAodHlwZW9mIGZicSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZicSgndHJhY2snLCAnQWRkVG9DYXJ0Jywge1xuICAgICAgdmFsdWU6IGNvdW50ICogZGVjaW1hbFZhbHVlLFxuICAgICAgY3VycmVuY3k6IHVuaXQsXG4gICAgICBjb250ZW50X2lkczogW3NrdUlkXSxcbiAgICAgIGNvbnRlbnRfdHlwZTogJ3Byb2R1Y3QnLFxuICAgICAgY29udGVudHM6IFt7aWQ6IHNrdUlkLCBxdWFudGl0eTogY291bnQsIGl0ZW1fcHJpY2U6IGRlY2ltYWxWYWx1ZX1dLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBndGFnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZ3RhZygnZXZlbnQnLCAnYWRkX3RvX2NhcnQnLCB7XG4gICAgICBpdGVtczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IHNrdUlkLFxuICAgICAgICAgIHF1YW50aXR5OiBjb3VudCxcbiAgICAgICAgICBwcmljZTogZGVjaW1hbFZhbHVlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhZGRUb0NhcnRNdXRhdGlvbiA9IGdxbGBcbiAgbXV0YXRpb24gQWRkVG9DYXJ0KCRza3VJZDogU3RyaW5nISwgJGNvdW50OiBJbnQhLCAkYnV5Tm93OiBCb29sZWFuKSB7XG4gICAgZWNvbW1lcmNlQWRkVG9DYXJ0KHNrdTogJHNrdUlkLCBjb3VudDogJGNvdW50LCBidXlOb3c6ICRidXlOb3cpIHtcbiAgICAgIG9rXG4gICAgICBpdGVtSWRcbiAgICAgIGl0ZW1Db3VudFxuICAgICAgaXRlbVByaWNlIHtcbiAgICAgICAgdW5pdFxuICAgICAgICBkZWNpbWFsVmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG5cbmNvbnN0IGNvbGxlY3Rpb25zUXVlcnkgPSBgXG4gICAgICBjb2xsZWN0aW9ucyB7XG4gICAgICAgIGNfc2t1XyB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBpdGVtcyhmaWx0ZXI6IHtmX3Byb2R1Y3RfOiB7ZXE6ICRwcm9kdWN0SWR9fSkge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIGZfcHJpY2VfIHtcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgdW5pdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZl93ZWlnaHRfXG4gICAgICAgICAgICBmX3dpZHRoX1xuICAgICAgICAgICAgZl9sZW5ndGhfXG4gICAgICAgICAgICBmX2hlaWdodF9cbiAgICAgICAgICAgIGZfc2t1X1xuICAgICAgICAgICAgZl9tYWluX2ltYWdlXzRkciB7XG4gICAgICAgICAgICAgIHVybFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZl9tb3JlX2ltYWdlc180ZHIge1xuICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgICAgYWx0XG4gICAgICAgICAgICAgIGZpbGUge1xuICAgICAgICAgICAgICAgIG9yaWdGaWxlTmFtZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmX3NrdV92YWx1ZXNfM2RyIHtcbiAgICAgICAgICAgICAgdmFsdWUge1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJvcGVydHkge1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludmVudG9yeSB7XG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICAgcXVhbnRpdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZfY29tcGFyZV9hdF9wcmljZV83ZHIxMGRyIHtcbiAgICAgICAgICAgICAgdW5pdFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZl9lY19za3VfYmlsbGluZ19tZXRob2RfMmRyNmRyMTRkclxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjX3Byb2R1Y3RfIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIGl0ZW1zKGZpbHRlcjoge2lkOiB7ZXE6ICRwcm9kdWN0SWR9fSkge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIGZfZGVmYXVsdF9za3VfN2RyIHtcbiAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZfZWNfcHJvZHVjdF90eXBlXzJkcjEwZHIge1xuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9YDtcblxuY29uc3QgZ2V0QWxsVmFyaWFudHMgPSBncWxgXG4gIHF1ZXJ5IEZldGNoQWxsVmFyaWFudHMoJHByb2R1Y3RJZDogQmFzaWNJZCEpIHtcbiAgICBkYXRhYmFzZSB7XG4gICAgICBpZFxuICAgICAgJHtjb2xsZWN0aW9uc1F1ZXJ5fVxuICAgIH1cbiAgfVxuYDtcblxuY29uc3QgZ2V0QWxsVmFyaWFudHNBbmRNZW1iZXJzaGlwcyA9IGdxbGBcbiAgcXVlcnkgRmV0Y2hBbGxWYXJpYW50c0FuZE1lbWJlcnNoaXBzKCRwcm9kdWN0SWQ6IEJhc2ljSWQhKSB7XG4gICAgZGF0YWJhc2Uge1xuICAgICAgaWRcbiAgICAgICR7Y29sbGVjdGlvbnNRdWVyeX1cbiAgICAgIGNvbW1lcmNlTWVtYmVyc2hpcHMocHJvZHVjdElkczogWyRwcm9kdWN0SWRdKSB7XG4gICAgICAgIHByb2R1Y3RJZFxuICAgICAgICBvcmRlcklkXG4gICAgICAgIGFjdGl2ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnbm9kZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGZpbmRDb2xsZWN0aW9uSXRlbVdyYXBwZXIgPSAobm9kZSkgPT4ge1xuICBjb25zdCBkeW5hbW9JdGVtU2VsZWN0b3IgPSBgLiR7Q0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfSVRFTX06bm90KC4ke0NMQVNTX05BTUVfRFlOQU1JQ19MSVNUX1JFUEVBVEVSX0lURU19KWA7XG5cbiAgcmV0dXJuICQobm9kZSkuY2xvc2VzdChkeW5hbW9JdGVtU2VsZWN0b3IpWzBdIHx8IGRvY3VtZW50LmJvZHk7XG59O1xuXG5jb25zdCBhZGRUb0NhcnRGb3JtRXZlbnRUYXJnZXRNYXRjaGVyID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICBpZiAoXG4gICAgZXZlbnQgIT0gbnVsbCAmJlxuICAgIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTk9ERV9UWVBFKSA9PT1cbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9GT1JNXG4gICkge1xuICAgIHJldHVybiBldmVudC50YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgZ2V0RXJyb3JUeXBlID0gKGVycm9yOiBhbnkpID0+IHtcbiAgY29uc3QgZGVmYXVsdEVycm9yVHlwZSA9ICdnZW5lcmFsJztcbiAgaWYgKGVycm9yICYmIGVycm9yLmdyYXBoUUxFcnJvcnMgJiYgZXJyb3IuZ3JhcGhRTEVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgc3dpdGNoIChlcnJvci5ncmFwaFFMRXJyb3JzWzBdLmNvZGUpIHtcbiAgICAgIGNhc2UgJ091dE9mSW52ZW50b3J5JzpcbiAgICAgICAgcmV0dXJuICdxdWFudGl0eSc7XG4gICAgICBjYXNlICdNaXhlZENhcnRFcnJvcic6XG4gICAgICAgIHJldHVybiAnbWl4ZWQtY2FydCc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZGVmYXVsdEVycm9yVHlwZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRFcnJvclR5cGU7XG59O1xuXG5jb25zdCBoYW5kbGVBdGNTdWJtaXQgPSAoXG4gIGV2ZW50OiBFdmVudCxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PlxuKSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICBpZiAoXG4gICAgIShcbiAgICAgIGV2ZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50ICYmXG4gICAgICBldmVudFRhcmdldC5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudFxuICAgICkgfHxcbiAgICBldmVudFRhcmdldC5oYXNBdHRyaWJ1dGUoQUREX1RPX0NBUlRfTE9BRElORylcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qge3BhcmVudE5vZGV9ID0gZXZlbnRUYXJnZXQ7XG4gIGNvbnN0IGlucHV0QnV0dG9uID0gZXZlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpO1xuXG4gIGlmICghaXNQcm90b2NvbEh0dHBzKCkpIHtcbiAgICB3aW5kb3cuYWxlcnQoXG4gICAgICAnVGhpcyBzaXRlIGlzIGN1cnJlbnRseSB1bnNlY3VyZWQgc28geW91IGNhbm5vdCBhZGQgcHJvZHVjdHMgdG8geW91ciBjYXJ0LidcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKGlucHV0QnV0dG9uIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBwYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoXG4gICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRVJST1J9XCJdYFxuICApO1xuICBpZiAoZXJyb3JFbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnc3R5bGUnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0VsZW1lbnQnLlxuICAgIGVycm9yRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG4gIGV2ZW50VGFyZ2V0LnNldEF0dHJpYnV0ZShBRERfVE9fQ0FSVF9MT0FESU5HLCAnJyk7XG4gIGNvbnN0IHByZXZpb3VzQnV0dG9uVmFsdWUgPSBpbnB1dEJ1dHRvbi52YWx1ZTtcbiAgLy8gV2UgbW92ZWQgdGhlIGRhdGEgaGVyZSB0byB0aGUgYWN0dWFsIGJ1dHRvbiBub2RlIGJ1dCB3aWxsIGZhbGxiYWNrIHRvIG9sZCB2YWx1ZSBvbiB0aGUgd3JhcHBlciBpZiBub3Qgc2V0XG4gIGNvbnN0IGxvYWRpbmdUZXh0RnJvbUJ1dHRvbiA9IGlucHV0QnV0dG9uLmdldEF0dHJpYnV0ZShcbiAgICBEQVRBX0FUVFJfTE9BRElOR19URVhUXG4gICk7XG4gIGlucHV0QnV0dG9uLnZhbHVlID0gbG9hZGluZ1RleHRGcm9tQnV0dG9uXG4gICAgPyBsb2FkaW5nVGV4dEZyb21CdXR0b25cbiAgICA6IGV2ZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTE9BRElOR19URVhUKSB8fCAnJztcbiAgaW5wdXRCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWJ1c3knLCAndHJ1ZScpO1xuXG4gIGNvbnN0IHNrdUlkID0gZmV0Y2hGcm9tU3RvcmUoZ2V0SW5zdGFuY2VJZChldmVudFRhcmdldCksICdzZWxlY3RlZFNrdScpIHx8ICcnO1xuICBjb25zdCBmb3JtRGF0YSA9IGZvcm1Ub09iamVjdChldmVudFRhcmdldCk7XG4gIGNvbnN0IGZvcm1Db3VudCA9IGZvcm1EYXRhW05PREVfTkFNRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9RVUFOVElUWV9JTlBVVF07XG4gIGNvbnN0IGNvdW50ID0gZm9ybUNvdW50ID8gcGFyc2VJbnQoZm9ybUNvdW50LCAxMCkgOiAxO1xuXG4gIC8vIGlmIG5vIFNLVSBpZCwgdGhlbiBhbGwgb3B0aW9ucyBuZWVkIHRvIGJlIHNlbGVjdGVkXG4gIC8vIHRoaXMgaXMgb25seSBzaG93biBmb3IgcGlsbHMsIGFzIGRyb3Bkb3ducyB3aWxsIGJlIGNhdWdodCBieSByZXBvcnRWYWxpZGl0eSBhYm92ZVxuICBpZiAoIXNrdUlkICYmIGVycm9yRWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICBldmVudFRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoQUREX1RPX0NBUlRfTE9BRElORyk7XG4gICAgaW5wdXRCdXR0b24udmFsdWUgPSBwcmV2aW91c0J1dHRvblZhbHVlO1xuICAgIGlucHV0QnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1idXN5JywgJ2ZhbHNlJyk7XG5cbiAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQUREX1RPX0NBUlRfRVJST1J9XCJdYFxuICAgICk7XG4gICAgaWYgKCFlcnJvck1zZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlcnJvclRleHQgPVxuICAgICAgZXJyb3JNc2cuZ2V0QXR0cmlidXRlKGdldEFUQ0Vycm9yTWVzc2FnZUZvclR5cGUoJ3NlbGVjdC1hbGwtb3B0aW9ucycpKSB8fFxuICAgICAgJ1BsZWFzZSBzZWxlY3QgYW4gb3B0aW9uIGluIGVhY2ggc2V0Lic7XG4gICAgZXJyb3JNc2cudGV4dENvbnRlbnQgPSBlcnJvclRleHQ7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdzdHlsZScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgZXJyb3JFbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmVkaXJlY3QgdG8gc2lnbiB1cCBpZiB0aGUgcHVyY2hhc2UgcmVxdWlyZXMgYSB1c2VyIHNlc3Npb24gYW5kIHRoZXJlIGlzIG5vbmVcbiAgY29uc3QgcmVxdWlyZXNVc2VyU2Vzc2lvbiA9IGZldGNoRnJvbVN0b3JlKFxuICAgIGdldEluc3RhbmNlSWQoZXZlbnRUYXJnZXQpLFxuICAgICdyZXF1aXJlc1VzZXJTZXNzaW9uJ1xuICApO1xuICBjb25zdCBoYXNVc2VyU2Vzc2lvbiA9IGRvY3VtZW50LmNvb2tpZVxuICAgIC5zcGxpdCgnOycpXG4gICAgLnNvbWUoKGNvb2tpZSkgPT4gY29va2llLmluZGV4T2YoTE9HR0VESU5fQ09PS0lFX05BTUUpID4gLTEpO1xuICBpZiAocmVxdWlyZXNVc2VyU2Vzc2lvbiAmJiAhaGFzVXNlclNlc3Npb24pIHtcbiAgICByZWRpcmVjdFdpdGhVc3JkaXIoYC8ke1VTWVNfUEFHRV9TRVRUSU5HUy5zaWdudXAuc2x1Z31gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhcG9sbG9DbGllbnRcbiAgICAubXV0YXRlKHtcbiAgICAgIG11dGF0aW9uOiBhZGRUb0NhcnRNdXRhdGlvbixcbiAgICAgIHZhcmlhYmxlczoge3NrdUlkLCBjb3VudCwgYnV5Tm93OiBmYWxzZX0sXG4gICAgfSlcbiAgICAudGhlbigoe2RhdGF9KSA9PiB7XG4gICAgICBhZGRMb2FkaW5nQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBldmVudFRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoQUREX1RPX0NBUlRfTE9BRElORyk7XG4gICAgICAgIGlucHV0QnV0dG9uLnZhbHVlID0gcHJldmlvdXNCdXR0b25WYWx1ZTtcbiAgICAgICAgaW5wdXRCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWJ1c3knLCAnZmFsc2UnKTtcblxuICAgICAgICBjb25zdCBjYXJ0RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgIGBbJHtEQVRBX0FUVFJfTk9ERV9UWVBFfT1cIiR7Tk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfV1JBUFBFUn1cIl1bJHtEQVRBX0FUVFJfT1BFTl9QUk9EVUNUfV1gXG4gICAgICAgICk7XG4gICAgICAgIGNhcnRFbGVtZW50cy5mb3JFYWNoKChjYXJ0KSA9PiB7XG4gICAgICAgICAgY29uc3QgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KENIQU5HRV9DQVJUX0VWRU5ULCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FydC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRyaWdnZXJSZW5kZXIobnVsbCk7XG5cbiAgICAgIGNvbnN0IGl0ZW1QcmljZSA9IGRhdGEuZWNvbW1lcmNlQWRkVG9DYXJ0Lml0ZW1QcmljZSB8fCB7fTtcblxuICAgICAgdHJhY2tBZGRUb0NhcnRVc2FnZShza3VJZCwgY291bnQsIGl0ZW1QcmljZSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBldmVudFRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoQUREX1RPX0NBUlRfTE9BRElORyk7XG4gICAgICBpbnB1dEJ1dHRvbi52YWx1ZSA9IHByZXZpb3VzQnV0dG9uVmFsdWU7XG4gICAgICBpbnB1dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICdmYWxzZScpO1xuICAgICAgaWYgKGVycm9yRWxlbWVudCkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ3N0eWxlJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdFbGVtZW50Jy5cbiAgICAgICAgZXJyb3JFbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gZXJyb3JFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQUREX1RPX0NBUlRfRVJST1J9XCJdYFxuICAgICAgICApO1xuICAgICAgICBpZiAoIWVycm9yTXNnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEFUQ0Vycm9yTWVzc2FnZUZvclR5cGUoZ2V0RXJyb3JUeXBlKGVycm9yKSk7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGVycm9yTXNnLmdldEF0dHJpYnV0ZShlcnJvck1lc3NhZ2UpIHx8ICcnO1xuICAgICAgICBlcnJvck1zZy50ZXh0Q29udGVudCA9IGVycm9yVGV4dDtcbiAgICAgIH1cbiAgICAgIGRlYnVnLmVycm9yKGVycm9yKTtcbiAgICAgIHRyaWdnZXJSZW5kZXIobnVsbCk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBhZGRUb0NhcnRPcHRpb25TZWxlY3RFdmVudFRhcmdldE1hdGNoZXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gIGlmIChcbiAgICBldmVudCAhPSBudWxsICYmXG4gICAgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgICBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9OT0RFX1RZUEUpID09PVxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX09QVElPTl9TRUxFQ1RcbiAgKSB7XG4gICAgcmV0dXJuIGV2ZW50LnRhcmdldDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBxdWVyeUFsbFdpdGhvdXRPdGhlckl0ZW1XcmFwcGVyQ29udGVudHMgPSAoXG4gIGNvbGxlY3Rpb25JdGVtV3JhcHBlcjogYW55LFxuICBzZWxlY3Rvcjogc3RyaW5nXG4pID0+IHtcbiAgcmV0dXJuIEFycmF5LmZyb20oY29sbGVjdGlvbkl0ZW1XcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgKG5vZGUpID0+IGZpbmRDb2xsZWN0aW9uSXRlbVdyYXBwZXIobm9kZSkgPT09IGNvbGxlY3Rpb25JdGVtV3JhcHBlclxuICApO1xufTtcblxuY29uc3QgcXVlcnlBbGxSZWZlcmVuY2VSZXBlYXRlcnMgPSAoY29sbGVjdGlvbkl0ZW1XcmFwcGVyOiBhbnkpID0+IHtcbiAgcmV0dXJuIEFycmF5LmZyb20oXG4gICAgY29sbGVjdGlvbkl0ZW1XcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgLiR7Q0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfUkVQRUFURVJfUkVGfWBcbiAgICApXG4gICk7XG59O1xuXG5jb25zdCByZW1vdmVDbGFzcyA9IChlbGVtZW50OiBhbnksIGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XG4gIGVsZW1lbnQgJiZcbiAgICBlbGVtZW50LmNsYXNzTGlzdCBpbnN0YW5jZW9mIERPTVRva2VuTGlzdCAmJlxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gIH1cbn07XG5cbmNvbnN0IHNob3dFbGVtZW50ID0gKGVsZW1lbnQ6IGFueSkgPT4gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ3ctZHluLWhpZGUnKTtcblxuY29uc3QgaGlkZUVsZW1lbnQgPSAoZWxlbWVudDogYW55IHwgbnVsbCB8IHVuZGVmaW5lZCB8IEhUTUxFbGVtZW50KSA9PlxuICBlbGVtZW50ICYmXG4gIGVsZW1lbnQuY2xhc3NMaXN0IGluc3RhbmNlb2YgRE9NVG9rZW5MaXN0ICYmXG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndy1keW4taGlkZScpO1xuXG5jb25zdCB1cGRhdGVFbXB0eVN0YXRlVmlzaWJpbGl0eSA9IChcbiAgbm9kZTogYW55LFxuICBmbjE6XG4gICAgfCAoKFxuICAgICAgICBlbGVtZW50PzogYW55IHwgSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkXG4gICAgICApID0+IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkKVxuICAgIHwgKChlbGVtZW50PzogYW55KSA9PiB2b2lkKSxcbiAgZm4yOlxuICAgIHwgKChcbiAgICAgICAgZWxlbWVudD86IGFueSB8IEhUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZFxuICAgICAgKSA9PiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZClcbiAgICB8ICgoZWxlbWVudD86IGFueSkgPT4gdm9pZClcbikgPT4ge1xuICBjb25zdCBlbXB0eVN0YXRlTm9kZXMgPSBBcnJheS5mcm9tKG5vZGUucXVlcnlTZWxlY3RvckFsbCgnLnctZHluLWVtcHR5JykpO1xuICBjb25zdCBlbXB0eVN0YXRlTW9yZUltYWdlRmllbGROb2RlcyA9IGVtcHR5U3RhdGVOb2Rlcy5maWx0ZXIoKG4pID0+IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0NiAtICduJyBpcyBvZiB0eXBlICd1bmtub3duJy5cbiAgICBjb25zdCBpdGVtc0xpc3QgPSBuLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnctZHluLWl0ZW1zJyk7XG4gICAgcmV0dXJuIChcbiAgICAgIGl0ZW1zTGlzdC5kYXRhc2V0ICYmXG4gICAgICBpdGVtc0xpc3QuZGF0YXNldC53ZkNvbGxlY3Rpb24gJiZcbiAgICAgIGl0ZW1zTGlzdC5kYXRhc2V0LndmQ29sbGVjdGlvbiA9PT0gJ2ZfbW9yZV9pbWFnZXNfNGRyJ1xuICAgICk7XG4gIH0pO1xuICByZXR1cm4gKFxuICAgIGVtcHR5U3RhdGVNb3JlSW1hZ2VGaWVsZE5vZGVzICYmXG4gICAgZW1wdHlTdGF0ZU1vcmVJbWFnZUZpZWxkTm9kZXMubWFwKChuKSA9PiB7XG4gICAgICBmbjEobik7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0NiAtICduJyBpcyBvZiB0eXBlICd1bmtub3duJy5cbiAgICAgIGNvbnN0IGl0ZW1zTGlzdCA9IG4ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudy1keW4taXRlbXMnKTtcbiAgICAgIGlmIChcbiAgICAgICAgaXRlbXNMaXN0ICYmXG4gICAgICAgIGl0ZW1zTGlzdC5kYXRhc2V0ICYmXG4gICAgICAgIGl0ZW1zTGlzdC5kYXRhc2V0LndmQ29sbGVjdGlvbiAmJlxuICAgICAgICBpdGVtc0xpc3QuZGF0YXNldC53ZkNvbGxlY3Rpb24gPT09ICdmX21vcmVfaW1hZ2VzXzRkcicgJiZcbiAgICAgICAgaXRlbXNMaXN0LmNsYXNzTGlzdCBpbnN0YW5jZW9mIERPTVRva2VuTGlzdCAmJlxuICAgICAgICBpdGVtc0xpc3QucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXG4gICAgICAgICAgQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfUkVQRUFURVJfUkVGXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZm4yKGl0ZW1zTGlzdCk7XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbn07XG5cbmNvbnN0IHNob3dFbXB0eVN0YXRlQW5kSGlkZUl0ZW1zTGlzdCA9IChub2RlOiBhbnkpID0+IHtcbiAgdXBkYXRlRW1wdHlTdGF0ZVZpc2liaWxpdHkobm9kZSwgc2hvd0VsZW1lbnQsIGhpZGVFbGVtZW50KTtcbn07XG5cbmNvbnN0IGhpZGVFbXB0eVN0YXRlQW5kU2hvd0l0ZW1zTGlzdCA9IChub2RlOiBhbnkpID0+IHtcbiAgdXBkYXRlRW1wdHlTdGF0ZVZpc2liaWxpdHkobm9kZSwgaGlkZUVsZW1lbnQsIHNob3dFbGVtZW50KTtcbn07XG5cbmNvbnN0IHVwZGF0ZURyb3Bkb3duc09uUGFnZSA9XG4gIChpbnN0YW5jZUlkOiBzdHJpbmcpID0+IChuZXdTa3VWYWx1ZXM6IFNrdVZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGRyb3Bkb3duc0ZvclByb2R1Y3Q6IEFycmF5PEhUTUxTZWxlY3RFbGVtZW50PiA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICBgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke05PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9PUFRJT05fTElTVH1cIl1bJHtEQVRBX0FUVFJfQ09NTUVSQ0VfUFJPRFVDVF9JRH09XCIke2luc3RhbmNlSWR9XCJdIFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfT1BUSU9OX1NFTEVDVH1cIl1gXG4gICAgICApXG4gICAgKSBhcyBBcnJheTxhbnk+O1xuXG4gICAgZm9yIChjb25zdCBvcHRpb25TZXRJZCBvZiBPYmplY3Qua2V5cyhuZXdTa3VWYWx1ZXMpKSB7XG4gICAgICBjb25zdCBvcHRpb25TZXRWYWx1ZSA9IG5ld1NrdVZhbHVlc1tvcHRpb25TZXRJZF07XG4gICAgICBjb25zdCBtYXRjaGluZ0Ryb3Bkb3duc0Zvck9wdGlvblNldCA9IGRyb3Bkb3duc0ZvclByb2R1Y3QuZmlsdGVyKFxuICAgICAgICAoZCkgPT4gZC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0NPTU1FUkNFX09QVElPTl9TRVRfSUQpID09PSBvcHRpb25TZXRJZFxuICAgICAgKTtcbiAgICAgIGZvciAoY29uc3QgZHJvcGRvd24gb2YgbWF0Y2hpbmdEcm9wZG93bnNGb3JPcHRpb25TZXQpIHtcbiAgICAgICAgZHJvcGRvd24udmFsdWUgPSBTdHJpbmcob3B0aW9uU2V0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuY29uc3QgZGlzYWJsZU9wdGlvbnNPbkNoYW5nZSA9ICh7XG4gIGFwb2xsb0NsaWVudCxcbiAgcHJvZHVjdElkLFxuICBvcHRpb25TZXRzLFxuICBvcHRpb25TZXRJZCxcbn06IHtcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PjtcbiAgcHJvZHVjdElkOiBzdHJpbmc7XG4gIC8vIEBUT0RPIC0gdHJ5IGFuZCB0eXBlIHRoaXMgcHJvcGVybHkuLi4gdGhlIHBpbGwgZ3JvdXBzIHVzZSBPYmplY3QudmFsdWVzLCB3aGljaCByZXR1cm5zIG1peGVkLCB3aGljaCBjYXVzZXMgYSBzaHdhY2sgb2YgaXNzdWVzXG4gIG9wdGlvblNldHM6IEFycmF5PGFueT47XG4gIG9wdGlvblNldElkOiBzdHJpbmc7XG59KSA9PiB7XG4gIGFwb2xsb0NsaWVudFxuICAgIC5xdWVyeSh7cXVlcnk6IGdldEFsbFZhcmlhbnRzLCB2YXJpYWJsZXM6IHtwcm9kdWN0SWR9fSlcbiAgICAudGhlbigoe2RhdGF9KSA9PiB7XG4gICAgICAvLyBUaGF0J3MgYSBsb3Qgb2YgcXVlc3Rpb24gbWFya3MhIFdoYXQgZG8gdGhleSBtZWFuP1xuICAgICAgLy8gVGhlIGA/LmAgaXMgb3B0aW9uYWwgY2hhaW5pbmcsIHdoaWNoIGxldHMgeW91IHNhZmVseSBhY2Nlc3MgZGVlcGx5IG5lc3RlZCBwcm9wZXJ0aWVzLFxuICAgICAgLy8gd2l0aCBpdCBiYWlsaW5nIG91dCBpZiB0aGUgcHJvcGVydHkgZG9lc24ndCBleGlzdDogaHR0cHM6Ly9naXRodWIuY29tL1RDMzkvcHJvcG9zYWwtb3B0aW9uYWwtY2hhaW5pbmdcbiAgICAgIC8vIFRoZSBgPz9gIGlzIG51bGxpc2ggY29hbGVzY2luZywgd2hpY2ggaXMgc2ltaWxhciB0byBgfHxgIHdoZW4gd2FudGluZyB0byBlbnN1cmUgc29tZXRoaW5nIGlzIGRlZmluZWQsXG4gICAgICAvLyBidXQgb25seSB0cmlwcGluZyBpZiB0aGUgdmFsdWUgaXQncyBjaGVja2luZyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRvIHByZXZlbnQgb2RkIGBmYWxzZWAgYW5kIGBmYWxzZWAtaXNoIHRyaXBwaW5nIGZhbHNlIHBvc2l0aXZlc1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtbnVsbGlzaC1jb2FsZXNjaW5nXG4gICAgICBjb25zdCBpdGVtcyA9IGRhdGE/LmRhdGFiYXNlPy5jb2xsZWN0aW9ucz8uY19za3VfPy5pdGVtcyA/PyBbXTtcblxuICAgICAgLy8gR2V0IGFsbCB0aGUgZGF0YSB3ZSdyZSBnb2luZyB0byB1c2UsIHdlIG5lZWQgdG8ga25vdyB3aGljaCBzZWxlY3RvcnMgd2VyZSBwcmV2aW91c2x5IHNlbGVjdGVkLCB3aGljaCBhcmUgY3VycmVudGx5XG4gICAgICAvLyBzZWxlY3RlZCB2cy4gd2hpY2ggYXJlIG5vdCwgYW5kIHRoZSBtb3N0IHJlY2VudGx5IHVwZGF0ZWQgb25lXG4gICAgICBjb25zdCBvcHRpb25TZXREYXRhID0gb3B0aW9uU2V0cy5yZWR1Y2UoXG4gICAgICAgIChwYXJzZWRTZWxlY3Rvck9wdGlvblNldHMsIHNlbGVjdG9yT3B0aW9uU2V0KSA9PiB7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yT3B0aW9uU2V0LnZhbHVlKSB7XG4gICAgICAgICAgICBwYXJzZWRTZWxlY3Rvck9wdGlvblNldHMuc2VsZWN0ZWRPcHRpb25TZXRzLnB1c2goc2VsZWN0b3JPcHRpb25TZXQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzZWxlY3Rvck9wdGlvblNldC5nZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgREFUQV9BVFRSX0NPTU1FUkNFX09QVElPTl9TRVRfSURcbiAgICAgICAgICAgICAgKSA9PT0gb3B0aW9uU2V0SWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBwYXJzZWRTZWxlY3Rvck9wdGlvblNldHMucmVjZW50bHlTZWxlY3RlZE9wdGlvblNldCA9XG4gICAgICAgICAgICAgICAgc2VsZWN0b3JPcHRpb25TZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZWRTZWxlY3Rvck9wdGlvblNldHMucHJldmlvdXNseVNlbGVjdGVkT3B0aW9uU2V0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yT3B0aW9uU2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZFNlbGVjdG9yT3B0aW9uU2V0cy51bnNlbGVjdGVkT3B0aW9uU2V0cy5wdXNoKFxuICAgICAgICAgICAgICBzZWxlY3Rvck9wdGlvblNldFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHBhcnNlZFNlbGVjdG9yT3B0aW9uU2V0cztcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNlbGVjdGVkT3B0aW9uU2V0czogW10sXG4gICAgICAgICAgcmVjZW50bHlTZWxlY3RlZE9wdGlvblNldDogdW5kZWZpbmVkLFxuICAgICAgICAgIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvblNldHM6IFtdLFxuICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25TZXRzOiBbXSxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGxldCB7c2VsZWN0ZWRPcHRpb25TZXRzLCB1bnNlbGVjdGVkT3B0aW9uU2V0c30gPSBvcHRpb25TZXREYXRhO1xuICAgICAgY29uc3Qge3JlY2VudGx5U2VsZWN0ZWRPcHRpb25TZXQsIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvblNldHN9ID1cbiAgICAgICAgb3B0aW9uU2V0RGF0YTtcblxuICAgICAgLy8gRGVzZWxlY3QgcHJldmlvdXNseSBzZWxlY3RlZCBvcHRpb24gc2V0cyBpZiB0aGV5IGFyZSB1bmNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICBpZiAocmVjZW50bHlTZWxlY3RlZE9wdGlvblNldCAmJiBzZWxlY3RlZE9wdGlvblNldHMubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCByZWNlbnRseVNlbGVjdGVkT3B0aW9uU2V0VmFsdWUgPSByZWNlbnRseVNlbGVjdGVkT3B0aW9uU2V0LnZhbHVlO1xuXG4gICAgICAgIGZvckVhY2gocHJldmlvdXNseVNlbGVjdGVkT3B0aW9uU2V0cywgKHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvblNldCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9wdGlvblNldFZhbHVlQ29tYmluYXRpb25XaXRoTW9zdFJlY2VudCA9IFtcbiAgICAgICAgICAgIHJlY2VudGx5U2VsZWN0ZWRPcHRpb25TZXRWYWx1ZSxcbiAgICAgICAgICAgIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvblNldC52YWx1ZSxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnaXRlbScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICAgICBjb25zdCBzb21lQXZhaWxhYmxlSXRlbSA9IGl0ZW1zLnNvbWUoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaXRlbS5pbnZlbnRvcnkudHlwZSA9PT0gSU5WRU5UT1JZX1RZUEVfRklOSVRFICYmXG4gICAgICAgICAgICAgIGl0ZW0uaW52ZW50b3J5LnF1YW50aXR5IDw9IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpdGVtTWFwcGVkQnlTa3VWYWx1ZXMgPSBpdGVtLmZfc2t1X3ZhbHVlc18zZHIubWFwKFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdza3VWYWx1ZXMnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAgICAgICAgIChza3VWYWx1ZXMpID0+IHNrdVZhbHVlcy52YWx1ZS5pZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25TZXRWYWx1ZUNvbWJpbmF0aW9uV2l0aE1vc3RSZWNlbnQuZXZlcnkoKHZhbHVlKSA9PlxuICAgICAgICAgICAgICBpdGVtTWFwcGVkQnlTa3VWYWx1ZXMuaW5jbHVkZXModmFsdWUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFzb21lQXZhaWxhYmxlSXRlbSkge1xuICAgICAgICAgICAgcHJldmlvdXNseVNlbGVjdGVkT3B0aW9uU2V0LnNlbGVjdGVkSW5kZXggPSAwO1xuXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvblNldHMgPSBzZWxlY3RlZE9wdGlvblNldHMuZmlsdGVyKFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdzZWxlY3RlZE9wdGlvblNldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICAgICAgICAgKHNlbGVjdGVkT3B0aW9uU2V0KSA9PlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uU2V0LmdldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgIERBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lEXG4gICAgICAgICAgICAgICAgKSAhPT1cbiAgICAgICAgICAgICAgICBwcmV2aW91c2x5U2VsZWN0ZWRPcHRpb25TZXQuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgREFUQV9BVFRSX0NPTU1FUkNFX09QVElPTl9TRVRfSURcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uU2V0cyA9IHVuc2VsZWN0ZWRPcHRpb25TZXRzLmNvbmNhdChcbiAgICAgICAgICAgICAgcHJldmlvdXNseVNlbGVjdGVkT3B0aW9uU2V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvciB0aGUgKHJlbWFpbmluZyBhZnRlciBhYm92ZSBkZXNlbGVjdGlvbikgc2VsZWN0ZWQgb25lcyB3ZSB3YW50IHRvIGRpc2FibGUgYW55IG9wdGlvbnMgdGhhdCBzaW1wbHkgaGF2ZSBubyBwb3NzaWJsZSBzdG9ja1xuICAgICAgZm9yRWFjaChzZWxlY3RlZE9wdGlvblNldHMsIChvcHRpb25TZXQpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBvcHRpb25TZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lEKTtcbiAgICAgICAgZm9yRWFjaChvcHRpb25TZXQub3B0aW9ucywgKG9wdGlvbikgPT4ge1xuICAgICAgICAgIGlmICghb3B0aW9uLnZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb24uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc2FibGVWYXJpYW50c1dpdGhOb1N0b2NrKGl0ZW1zLCBpZCwgb3B0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEZvciB0aGUgcmVtYWluaW5nIHVuc2VsZWN0ZWQgb25lcyB3ZSB3YW50IHRvIGRpc2FibGUgYW55IG9wdGlvbnMgdGhhdCBhcmVuJ3QgcG9zc2libGUgZ2l2ZW4gY3VycmVudCBzZWxlY3Rpb25zXG4gICAgICBmb3JFYWNoKHVuc2VsZWN0ZWRPcHRpb25TZXRzLCAob3B0aW9uU2V0KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gb3B0aW9uU2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfQ09NTUVSQ0VfT1BUSU9OX1NFVF9JRCk7XG4gICAgICAgIGRpc2FibGVWYXJpYW50c1dpdGhOb1N0b2NrRm9yUmVtYWluaW5nU2VsZWN0aW9ucyhcbiAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvblNldHMsXG4gICAgICAgICAgb3B0aW9uU2V0LFxuICAgICAgICAgIGlkXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUF0Y09wdGlvblNlbGVjdENoYW5nZSA9IChcbiAgZXZlbnQ6IEV2ZW50LFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+XG4pID0+IHtcbiAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICBpZiAoIShldmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnalF1ZXJ5JyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcycuXG4gIGNvbnN0ICQgPSB3aW5kb3cualF1ZXJ5O1xuICBjb25zdCBvcHRpb25TZXRJZCA9IGV2ZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcbiAgICBEQVRBX0FUVFJfQ09NTUVSQ0VfT1BUSU9OX1NFVF9JRFxuICApO1xuICBjb25zdCBvcHRpb25TZXRWYWx1ZSA9IGV2ZW50VGFyZ2V0LnZhbHVlO1xuICBjb25zdCBvcHRpb25MaXN0RWxlbWVudCA9ICQoZXZlbnRUYXJnZXQpLmNsb3Nlc3QoXG4gICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfT1BUSU9OX0xJU1R9XCJdYFxuICApWzBdO1xuICBjb25zdCBhZGRUb0NhcnRGb3JtID0gJChldmVudFRhcmdldCkuY2xvc2VzdChcbiAgICBgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke05PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9GT1JNfVwiXWBcbiAgKVswXTtcblxuICBpZiAoXG4gICAgIShvcHRpb25MaXN0RWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHx8XG4gICAgIW9wdGlvblNldElkIHx8XG4gICAgIShhZGRUb0NhcnRGb3JtIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaW5zdGFuY2VJZCA9IGdldEluc3RhbmNlSWQoYWRkVG9DYXJ0Rm9ybSk7XG4gIGNvbnN0IGN1cnJlbnRTa3VWYWx1ZXMgPSBmZXRjaEZyb21TdG9yZShpbnN0YW5jZUlkLCAnc2t1VmFsdWVzJyk7XG4gIGNvbnN0IG5ld1NrdVZhbHVlcyA9IHtcbiAgICAuLi5jdXJyZW50U2t1VmFsdWVzLFxuICAgIFtvcHRpb25TZXRJZF06IG9wdGlvblNldFZhbHVlLFxuICB9IGFzIGNvbnN0O1xuICB1cGRhdGVTdG9yZShpbnN0YW5jZUlkLCB7XG4gICAgc2t1VmFsdWVzOiBuZXdTa3VWYWx1ZXMsXG4gIH0pO1xuICBjb25zdCBwcm9kdWN0SWQgPVxuICAgIG9wdGlvbkxpc3RFbGVtZW50ICYmXG4gICAgb3B0aW9uTGlzdEVsZW1lbnQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9DT01NRVJDRV9QUk9EVUNUX0lEKTtcblxuICBjb25zdCBhbGxWYXJpYW50U2VsZWN0b3JzSW5DYXJ0Rm9ybTogQXJyYXk8SFRNTFNlbGVjdEVsZW1lbnQ+ID1cbiAgICBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlKFxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX09QVElPTl9TRUxFQ1QsXG4gICAgICBhZGRUb0NhcnRGb3JtXG4gICAgKSBhcyBBcnJheTxhbnk+O1xuXG4gIGlmIChwcm9kdWN0SWQgJiYgYWxsVmFyaWFudFNlbGVjdG9yc0luQ2FydEZvcm0ubGVuZ3RoID4gMCkge1xuICAgIGRpc2FibGVPcHRpb25zT25DaGFuZ2Uoe1xuICAgICAgYXBvbGxvQ2xpZW50LFxuICAgICAgcHJvZHVjdElkLFxuICAgICAgb3B0aW9uU2V0czogYWxsVmFyaWFudFNlbGVjdG9yc0luQ2FydEZvcm0sXG4gICAgICBvcHRpb25TZXRJZCxcbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlU2t1QmluZGluZ3MgPSAoYmluZGluZzogYW55LCBub2RlOiBhbnksIG5ld1NrdUl0ZW06IGFueSkgPT4ge1xuICBpZiAoXG4gICAgWydmX3dlaWdodF8nLCAnZl93aWR0aF8nLCAnZl9sZW5ndGhfJywgJ2ZfaGVpZ2h0XycsICdmX3NrdV8nXS5zb21lKFxuICAgICAgKHNsdWcpID0+IGJpbmRpbmcuZnJvbSA9PT0gc2x1Z1xuICAgIClcbiAgKSB7XG4gICAgbm9kZVtiaW5kaW5nLnRvID09PSAnaW5uZXJIVE1MJyA/ICdpbm5lclRleHQnIDogYmluZGluZy50b10gPVxuICAgICAgbmV3U2t1SXRlbVtiaW5kaW5nLmZyb21dIHx8ICcnO1xuICAgIHVwZGF0ZVRleHROb2RlVmlzaWJpbGl0eShub2RlKTtcbiAgfVxuICBpZiAoYmluZGluZy5mcm9tID09PSAnZl9wcmljZV8nICYmIG5ld1NrdUl0ZW0uZl9wcmljZV8pIHtcbiAgICBub2RlW2JpbmRpbmcudG8gPT09ICdpbm5lckhUTUwnID8gJ2lubmVyVGV4dCcgOiBiaW5kaW5nLnRvXSA9XG4gICAgICByZW5kZXJQcmljZUZyb21TZXR0aW5ncyhcbiAgICAgICAgbmV3U2t1SXRlbS5mX3ByaWNlXyxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdfX1dFQkZMT1dfQ1VSUkVOQ1lfU0VUVElOR1MnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICAgICAgd2luZG93Ll9fV0VCRkxPV19DVVJSRU5DWV9TRVRUSU5HU1xuICAgICAgKTtcbiAgICB1cGRhdGVUZXh0Tm9kZVZpc2liaWxpdHkobm9kZSk7XG4gIH1cbiAgaWYgKGJpbmRpbmcuZnJvbSA9PT0gJ2ZfY29tcGFyZV9hdF9wcmljZV83ZHIxMGRyJykge1xuICAgIGlmIChuZXdTa3VJdGVtLmZfY29tcGFyZV9hdF9wcmljZV83ZHIxMGRyKSB7XG4gICAgICAvLyBpZiBjb21wYXJlLWF0IGlzIGF2YWlsYWJsZSwgYXBwbHkgdGhlIGJpbmRpbmdcbiAgICAgIG5vZGVbYmluZGluZy50byA9PT0gJ2lubmVySFRNTCcgPyAnaW5uZXJUZXh0JyA6IGJpbmRpbmcudG9dID1cbiAgICAgICAgcmVuZGVyUHJpY2VGcm9tU2V0dGluZ3MoXG4gICAgICAgICAgbmV3U2t1SXRlbS5mX2NvbXBhcmVfYXRfcHJpY2VfN2RyMTBkcixcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ19fV0VCRkxPV19DVVJSRU5DWV9TRVRUSU5HUycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMnLlxuICAgICAgICAgIHdpbmRvdy5fX1dFQkZMT1dfQ1VSUkVOQ1lfU0VUVElOR1NcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHNwZWNpZmljYWxseSBjbGVhciBpdDsgaXQgY291bGQgaGF2ZSBiZWVuIHNldFxuICAgICAgLy8gYnkgYSBwcmV2aW91c2x5LXNlbGVjdGVkIHByb2R1Y3Qgb3B0aW9uXG4gICAgICBub2RlW2JpbmRpbmcudG8gPT09ICdpbm5lckhUTUwnID8gJ2lubmVyVGV4dCcgOiBiaW5kaW5nLnRvXSA9ICcnO1xuICAgIH1cbiAgICB1cGRhdGVUZXh0Tm9kZVZpc2liaWxpdHkobm9kZSk7XG4gIH1cblxuICBpZiAoXG4gICAgYmluZGluZy5mcm9tID09PSAnZl9tYWluX2ltYWdlXzRkcicgfHxcbiAgICBiaW5kaW5nLmZyb20gPT09ICdmX21haW5faW1hZ2VfNGRyLnVybCdcbiAgKSB7XG4gICAgY29uc3QgbWFpbkltYWdlID0gZ2V0KG5ld1NrdUl0ZW0sIGJpbmRpbmcuZnJvbS5yZXBsYWNlKC9cXC51cmwkLywgJycpKTtcbiAgICBpZiAoYmluZGluZy50byA9PT0gJ3N0eWxlLmJhY2tncm91bmQtaW1hZ2UnKSB7XG4gICAgICBub2RlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9XG4gICAgICAgIG1haW5JbWFnZSAmJiBtYWluSW1hZ2UudXJsID8gYHVybChcIiR7bWFpbkltYWdlLnVybH1cIilgIDogJ25vbmUnO1xuICAgIH0gZWxzZSBpZiAoYmluZGluZy50byA9PT0gJ21lZGlhJykge1xuICAgICAgaWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3LWxpZ2h0Ym94JykpIHtcbiAgICAgICAgdXBkYXRlTGlnaHRib3hKc29uKG5vZGUsIG1haW5JbWFnZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChiaW5kaW5nLnRvID09PSAnc3JjJykge1xuICAgICAgaWYgKG1haW5JbWFnZSAmJiBtYWluSW1hZ2UudXJsKSB7XG4gICAgICAgIG5vZGUuc3JjID0gbWFpbkltYWdlLnVybDtcbiAgICAgICAgcmVtb3ZlV0R5bkJpbmRFbXB0eUNsYXNzKG5vZGUpO1xuICAgICAgICAvLyBUZW1wb3Jhcnkgc29sdXRpb24gZm9yIHJlc3BvbnNpdmUgaW1hZ2VzIGZvciBwcm9kdWN0IHZhcmlhbnRzXG4gICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZSgnc3Jjc2V0JykpIHtcbiAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnc3Jjc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfV19EWU5fQklORF9FTVBUWSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgIGJpbmRpbmcuZnJvbSA9PT0gJ2ZfbW9yZV9pbWFnZXNfNGRyJyB8fFxuICAgIGJpbmRpbmcuZnJvbS5zdGFydHNXaXRoKCdmX21vcmVfaW1hZ2VzXzRkci4nKVxuICApIHtcbiAgICBjb25zdCBpbWFnZSA9IGdldChuZXdTa3VJdGVtLCBiaW5kaW5nLmZyb20ucmVwbGFjZSgvXFwudXJsJC8sICcnKSk7XG4gICAgaWYgKGJpbmRpbmcudG8gPT09ICdzdHlsZS5iYWNrZ3JvdW5kLWltYWdlJykge1xuICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBpbWFnZSA/IGB1cmwoXCIke2ltYWdlLnVybH1cIilgIDogJ25vbmUnO1xuICAgIH0gZWxzZSBpZiAoYmluZGluZy50byA9PT0gJ21lZGlhJykge1xuICAgICAgaWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3LWxpZ2h0Ym94JykpIHtcbiAgICAgICAgdXBkYXRlTGlnaHRib3hKc29uKG5vZGUsIGltYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJpbmRpbmcudG8gPT09ICdzcmMnKSB7XG4gICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UudXJsKSB7XG4gICAgICAgIG5vZGUuc3JjID0gaW1hZ2UudXJsO1xuICAgICAgICBub2RlLmFsdCA9IGltYWdlLmFsdCB8fCAnJztcbiAgICAgICAgcmVtb3ZlV0R5bkJpbmRFbXB0eUNsYXNzKG5vZGUpO1xuICAgICAgICAvLyBUZW1wb3Jhcnkgc29sdXRpb24gZm9yIHJlc3BvbnNpdmUgaW1hZ2VzIGZvciBwcm9kdWN0IHZhcmlhbnRzXG4gICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZSgnc3Jjc2V0JykpIHtcbiAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnc3Jjc2V0Jyk7XG4gICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ3NpemVzJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ3NyY3NldCcpO1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnc2l6ZXMnKTtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2FsdCcpO1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9XX0RZTl9CSU5EX0VNUFRZKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYmluZGluZy5mcm9tID09PSAnZWNTa3VJbnZlbnRvcnlRdWFudGl0eScpIHtcbiAgICBjb25zdCBpbnZlbnRvcnlRdWFudGl0eSA9XG4gICAgICBnZXQobmV3U2t1SXRlbSwgJ2ludmVudG9yeS50eXBlJykgPT09ICdpbmZpbml0ZSdcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogZ2V0KG5ld1NrdUl0ZW0sICdpbnZlbnRvcnkucXVhbnRpdHknKTtcblxuICAgIG5vZGVbYmluZGluZy50byA9PT0gJ2lubmVySFRNTCcgPyAnaW5uZXJUZXh0JyA6IGJpbmRpbmcudG9dID1cbiAgICAgIGludmVudG9yeVF1YW50aXR5O1xuICAgIHVwZGF0ZVRleHROb2RlVmlzaWJpbGl0eShub2RlKTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlUGFnZVdpdGhOZXdTa3VWYWx1ZXNEYXRhID1cbiAgKGluc3RhbmNlSWQ6IHN0cmluZywgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PikgPT5cbiAgKG5ld1NrdVZhbHVlczogU2t1VmFsdWVzKSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdqUXVlcnknIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICBjb25zdCAkID0gd2luZG93LmpRdWVyeTtcbiAgICBhcG9sbG9DbGllbnRcbiAgICAgIC5xdWVyeSh7cXVlcnk6IGdldEFsbFZhcmlhbnRzLCB2YXJpYWJsZXM6IHtwcm9kdWN0SWQ6IGluc3RhbmNlSWR9fSlcbiAgICAgIC50aGVuKCh7ZGF0YX0pID0+IHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkYXRhPy5kYXRhYmFzZT8uY29sbGVjdGlvbnM/LmNfc2t1Xz8uaXRlbXMgPz8gW107XG4gICAgICAgIGNvbnN0IHByb2R1Y3RzID0gZGF0YT8uZGF0YWJhc2U/LmNvbGxlY3Rpb25zPy5jX3Byb2R1Y3RfPy5pdGVtcyA/PyBbXTtcbiAgICAgICAgY29uc3QgcHJvZHVjdFR5cGUgPSBwcm9kdWN0c1swXVxuICAgICAgICAgID8gcHJvZHVjdHNbMF0uZl9lY19wcm9kdWN0X3R5cGVfMmRyMTBkci5uYW1lXG4gICAgICAgICAgOiAnQWR2YW5jZWQnO1xuXG4gICAgICAgIGNvbnN0IG5ld1NrdUl0ZW0gPSBmaW5kKGl0ZW1zLCAoaXRlbSkgPT4ge1xuICAgICAgICAgIGlmIChpdGVtLmZfc2t1X3ZhbHVlc18zZHIgJiYgQXJyYXkuaXNBcnJheShpdGVtLmZfc2t1X3ZhbHVlc18zZHIpKSB7XG4gICAgICAgICAgICBjb25zdCBza3VWYWx1ZXMgPSBzaW1wbGlmeVNrdVZhbHVlcyhpdGVtLmZfc2t1X3ZhbHVlc18zZHIpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG5ld1NrdVZhbHVlcykuZXZlcnkoXG4gICAgICAgICAgICAgIChrZXkpID0+IG5ld1NrdVZhbHVlc1trZXldID09PSBza3VWYWx1ZXNba2V5XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmV3U2t1SXRlbSAmJiBuZXdTa3VJdGVtLmlkKSB7XG4gICAgICAgICAgdXBkYXRlU3RvcmUoaW5zdGFuY2VJZCwge1xuICAgICAgICAgICAgc2VsZWN0ZWRTa3U6IG5ld1NrdUl0ZW0uaWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmV3U2t1SXRlbVsnZl9lY19za3VfYmlsbGluZ19tZXRob2RfMmRyNmRyMTRkciddID09PVxuICAgICAgICAgICAgICAnc3Vic2NyaXB0aW9uJyB8fFxuICAgICAgICAgICAgcHJvZHVjdFR5cGUgPT09ICdNZW1iZXJzaGlwJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdXBkYXRlU3RvcmUoaW5zdGFuY2VJZCwge1xuICAgICAgICAgICAgICByZXF1aXJlc1VzZXJTZXNzaW9uOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZm9ybXNGb3JQcm9kdWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgIGBbJHtEQVRBX0FUVFJfTk9ERV9UWVBFfT1cIiR7Tk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX0ZPUk19XCJdWyR7REFUQV9BVFRSX0NPTU1FUkNFX1BST0RVQ1RfSUR9PVwiJHtpbnN0YW5jZUlkfVwiXWBcbiAgICAgICAgICApO1xuICAgICAgICAgIEFycmF5LmZyb20oZm9ybXNGb3JQcm9kdWN0KS5mb3JFYWNoKChhZGRUb0NhcnRGb3JtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uSXRlbVdyYXBwZXIgPVxuICAgICAgICAgICAgICBmaW5kQ29sbGVjdGlvbkl0ZW1XcmFwcGVyKGFkZFRvQ2FydEZvcm0pO1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlUmVwZWF0ZXJzID0gcXVlcnlBbGxSZWZlcmVuY2VSZXBlYXRlcnMoXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25JdGVtV3JhcHBlclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgYnV5IG5vdyBidXR0b24gdGV4dCB0byBoYW5kbGUgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICBjb25zdCBidXlOb3dCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgICAgICAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9CVVlfTk9XX0JVVFRPTixcbiAgICAgICAgICAgICAgYWRkVG9DYXJ0Rm9ybVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChidXlOb3dCdXR0b24pIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5ld1NrdUl0ZW1bJ2ZfZWNfc2t1X2JpbGxpbmdfbWV0aG9kXzJkcjZkcjE0ZHInXSA9PT1cbiAgICAgICAgICAgICAgICAnc3Vic2NyaXB0aW9uJ1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRUb0NhcnRCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgICAgICAgICAgICAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfQlVUVE9OLFxuICAgICAgICAgICAgICAgICAgYWRkVG9DYXJ0Rm9ybVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV5Tm93U3Vic2NyaXB0aW9uVGV4dCA9XG4gICAgICAgICAgICAgICAgICBidXlOb3dCdXR0b24uZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9TVUJTQ1JJUFRJT05fVEVYVCkgfHxcbiAgICAgICAgICAgICAgICAgICdTdWJzY3JpYmUgbm93JztcblxuICAgICAgICAgICAgICAgIGhpZGVFbGVtZW50KGFkZFRvQ2FydEJ1dHRvbik7XG4gICAgICAgICAgICAgICAgYnV5Tm93QnV0dG9uLmlubmVyVGV4dCA9IGJ1eU5vd1N1YnNjcmlwdGlvblRleHQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV5Tm93RGVmYXVsdFRleHQgPVxuICAgICAgICAgICAgICAgICAgYnV5Tm93QnV0dG9uLmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfREVGQVVMVF9URVhUKSB8fFxuICAgICAgICAgICAgICAgICAgJ0J1eSBub3cnO1xuICAgICAgICAgICAgICAgIGJ1eU5vd0J1dHRvbi5pbm5lclRleHQgPSBidXlOb3dEZWZhdWx0VGV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBtb3JlSW1hZ2VzRmllbGRMZW5ndGggPVxuICAgICAgICAgICAgICAobmV3U2t1SXRlbS5mX21vcmVfaW1hZ2VzXzRkciAmJlxuICAgICAgICAgICAgICAgIG5ld1NrdUl0ZW0uZl9tb3JlX2ltYWdlc180ZHIubGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZVJlcGVhdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJlZmVyZW5jZVJlcGVhdGVycy5mb3JFYWNoKChyZWZlcmVuY2VSZXBlYXRlcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICd1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnRWxlbWVudCcuXG4gICAgICAgICAgICAgICAgcmVuZGVyVHJlZShyZWZlcmVuY2VSZXBlYXRlciwge2RhdGE6IG5ld1NrdUl0ZW19KTtcbiAgICAgICAgICAgICAgICBpZiAobW9yZUltYWdlc0ZpZWxkTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgaGlkZUVtcHR5U3RhdGVBbmRTaG93SXRlbXNMaXN0KHJlZmVyZW5jZVJlcGVhdGVyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2hvd0VtcHR5U3RhdGVBbmRIaWRlSXRlbXNMaXN0KHJlZmVyZW5jZVJlcGVhdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBza3VCb3VuZE5vZGVzID0gcXVlcnlBbGxXaXRob3V0T3RoZXJJdGVtV3JhcHBlckNvbnRlbnRzKFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uSXRlbVdyYXBwZXIsXG4gICAgICAgICAgICAgIGBbJHtXRl9TS1VfQklORElOR19EQVRBX0tFWX1dYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvckVhY2goc2t1Qm91bmROb2RlcywgKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMTgwNDYgLSAnbm9kZScgaXMgb2YgdHlwZSAndW5rbm93bicuXG4gICAgICAgICAgICAgIGNvbnN0IHNrdUJpbmRpbmdzRGF0YSA9IG5vZGUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFdGX1NLVV9CSU5ESU5HX0RBVEFfS0VZXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChza3VCaW5kaW5nc0RhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza3VCaW5kaW5ncyA9IHNhZmVQYXJzZUpzb24oc2t1QmluZGluZ3NEYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShza3VCaW5kaW5ncykpIHtcbiAgICAgICAgICAgICAgICAgIHNrdUJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNrdUJpbmRpbmdzKGJpbmRpbmcsIG5vZGUsIG5ld1NrdUl0ZW0pXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNrdUNvbmRpdGlvbkJvdW5kTm9kZXMgPVxuICAgICAgICAgICAgICBxdWVyeUFsbFdpdGhvdXRPdGhlckl0ZW1XcmFwcGVyQ29udGVudHMoXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbkl0ZW1XcmFwcGVyLFxuICAgICAgICAgICAgICAgIGBbJHtXRl9TS1VfQ09ORElUSU9OX0RBVEFfS0VZfV1gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmb3JFYWNoKHNrdUNvbmRpdGlvbkJvdW5kTm9kZXMsIChub2RlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbkRhdGEgPSBzYWZlUGFyc2VKc29uKFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ2IC0gJ25vZGUnIGlzIG9mIHR5cGUgJ3Vua25vd24nLlxuICAgICAgICAgICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKFdGX1NLVV9DT05ESVRJT05fREFUQV9LRVkpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChjb25kaXRpb25EYXRhKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlTa3VCb3VuZENvbmRpdGlvbmFsVmlzaWJpbGl0eSh7XG4gICAgICAgICAgICAgICAgICBjb25kaXRpb25EYXRhLFxuICAgICAgICAgICAgICAgICAgbmV3U2t1SXRlbSxcbiAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICd1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdFbGVtZW50Jy5cbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSAkKGNvbGxlY3Rpb25JdGVtV3JhcHBlcikuc2libGluZ3MoXG4gICAgICAgICAgICAgIGBbJHtEQVRBX0FUVFJfTk9ERV9UWVBFfT1cIiR7Tk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX0VSUk9SfVwiXWBcbiAgICAgICAgICAgIClbMF07XG5cbiAgICAgICAgICAgIGlmIChlcnJvckVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnc3R5bGUnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0VsZW1lbnQnLlxuICAgICAgICAgICAgICBlcnJvckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIGxpZ2h0Ym94ZXMgYm91bmQsIHdlIG5lZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZXZlbnRzIGFnYWluIGFmdGVyIGVhY2ggc2NyaXB0XG4gICAgICAgICAgLy8gd2FzIHVwZGF0ZWQgd2l0aCB0aGUgcmlnaHQgZGF0YSBpbiB1cGRhdGVTa3VCaW5kaW5nc1xuXG4gICAgICAgICAgaWYgKHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2xpZ2h0Ym94JykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2xpZ2h0Ym94JykucmVhZHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgd2UgY2FuJ3QgZmluZCBhIHZhbGlkIFNLVSwgd2UndmUgZGVzZWxlY3RlZCBvbmUgb2YgdGhlIHZhcmlhbnQgc2VsZWN0b3JzXG4gICAgICAgICAgLy8gYXMgc3VjaCwgd2UgbmVlZCB0byBjbGVhciB0aGUgc2VsZWN0ZWQgU0tVIGluIHRoZSBzdG9yZVxuICAgICAgICAgIHVwZGF0ZVN0b3JlKGluc3RhbmNlSWQsIHtcbiAgICAgICAgICAgIHNlbGVjdGVkU2t1OiAnJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbmNvbnN0IHVwZGF0ZVNrdVZhbHVlc09uUGlsbFNlbGVjdCA9XG4gIChpbnN0YW5jZUlkOiBzdHJpbmcsIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4pID0+XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ29wdGlvbklkJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLiB8IFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnb3B0aW9uU2V0SWQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuIHwgVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICdncm91cHMnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICh7b3B0aW9uSWQsIG9wdGlvblNldElkLCBncm91cHN9KSA9PiB7XG4gICAgY29uc3QgY3VycmVudFNrdVZhbHVlcyA9IGZldGNoRnJvbVN0b3JlKGluc3RhbmNlSWQsICdza3VWYWx1ZXMnKTtcbiAgICBjb25zdCBuZXdTa3VWYWx1ZXMgPSB7XG4gICAgICAuLi5jdXJyZW50U2t1VmFsdWVzLFxuICAgICAgW29wdGlvblNldElkXTogb3B0aW9uSWQsXG4gICAgfSBhcyBjb25zdDtcbiAgICB1cGRhdGVTdG9yZShpbnN0YW5jZUlkLCB7XG4gICAgICBza3VWYWx1ZXM6IG5ld1NrdVZhbHVlcyxcbiAgICB9KTtcbiAgICBkaXNhYmxlT3B0aW9uc09uQ2hhbmdlKHtcbiAgICAgIGFwb2xsb0NsaWVudCxcbiAgICAgIHByb2R1Y3RJZDogaW5zdGFuY2VJZCxcbiAgICAgIG9wdGlvblNldHM6IE9iamVjdC52YWx1ZXMoZ3JvdXBzKSxcbiAgICAgIG9wdGlvblNldElkLFxuICAgIH0pO1xuICB9O1xuXG5jb25zdCBoYW5kbGVBdGNQYWdlTG9hZCA9IChcbiAgZXZlbnQ6IEV2ZW50IHwgQ3VzdG9tRXZlbnQsXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4sXG4gIHN0cmlwZVN0b3JlOiBTdHJpcGVTdG9yZVxuKSA9PiB7XG4gIGlmICghKGV2ZW50IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gUkVOREVSX1RSRUVfRVZFTlQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGFkZFRvQ2FydEZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICBgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke05PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9GT1JNfVwiXWBcbiAgKTtcblxuICAvLyBhbGxvdyBwaWxscyB0byB3b3JrIG9ubHkgaW4gcHJldmlld1xuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICBpZiAoZXZlbnQuZGV0YWlsLmlzSW5pdGlhbCkge1xuICAgICAgZm9yRWFjaChhZGRUb0NhcnRGb3JtcywgKGFkZFRvQ2FydEZvcm0pID0+IHtcbiAgICAgICAgLy8gc2V0IHVwIHBpbGwgZ3JvdXBzXG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IG5ldyBQaWxsR3JvdXBzKFxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgICAgIGFkZFRvQ2FydEZvcm0sXG4gICAgICAgICAgKHtvcHRpb25JZCwgb3B0aW9uU2V0SWR9KSA9PiB7XG4gICAgICAgICAgICBncm91cHMuc2V0U2VsZWN0ZWRQaWxsc0ZvclNrdVZhbHVlcyh7XG4gICAgICAgICAgICAgIFtvcHRpb25TZXRJZF06IG9wdGlvbklkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBncm91cHMuaW5pdCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIG90aGVyd2lzZSwgcmV0dXJuIGZvciBkZXNpZ25lclxuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdkZXNpZ24nKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3JFYWNoKGFkZFRvQ2FydEZvcm1zLCAoYWRkVG9DYXJ0Rm9ybSkgPT4ge1xuICAgIGNvbnN0IGFkZFRvQ2FydEJ1dHRvbiA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9CVVRUT04sXG4gICAgICBhZGRUb0NhcnRGb3JtXG4gICAgKTtcblxuICAgIC8vIElmIHRoaXMgZm9ybSBoYXMgYW4gYWRkIHRvIGNhcnQgYnV0dG9uLCBzZXQgdGhlIGBhcmlhLWhhc3BvcHVwYCB0byBgZGlhbG9nYCBvciBgZmFsc2VgXG4gICAgLy8gZGVwZW5kaW5nIG9uIGF0IGxlYXN0IG9uZSBDYXJ0IGVsZW1lbnQgaGF2aW5nIHRoZSBzZXR0aW5nIGZvciBcIk9wZW4gd2hlbiBwcm9kdWN0IGlzIGFkZGVkXCJcbiAgICBpZiAoYWRkVG9DYXJ0QnV0dG9uKSB7XG4gICAgICBjb25zdCBjYXJ0RWxlbWVudHNUaGF0T3Blbk9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9XUkFQUEVSfVwiXVske0RBVEFfQVRUUl9PUEVOX1BST0RVQ1R9XWBcbiAgICAgICk7XG5cbiAgICAgIGFkZFRvQ2FydEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICdhcmlhLWhhc3BvcHVwJyxcbiAgICAgICAgY2FydEVsZW1lbnRzVGhhdE9wZW5PbkFkZC5sZW5ndGggPiAwID8gJ2RpYWxvZycgOiAnZmFsc2UnXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1eU5vd0J1dHRvbiA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9CVVlfTk9XX0JVVFRPTixcbiAgICAgIGFkZFRvQ2FydEZvcm1cbiAgICApO1xuICAgIC8vIEhpZGUgdGhlIEJ1eSBub3cgYnV0dG9uIGlmIFN0cmlwZSBpcyBub3QgY29ubmVjdGVkXG4gICAgaWYgKHN0cmlwZVN0b3JlICYmICFzdHJpcGVTdG9yZS5pc0luaXRpYWxpemVkKCkpIHtcbiAgICAgIGlmIChidXlOb3dCdXR0b24pIHtcbiAgICAgICAgaGlkZUVsZW1lbnQoYnV5Tm93QnV0dG9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxGb3JtRWxlbWVudCcuXG4gICAgY29uc3QgaW5zdGFuY2VJZCA9IGdldEluc3RhbmNlSWQoYWRkVG9DYXJ0Rm9ybSk7XG4gICAgaWYgKGV2ZW50LmRldGFpbC5pc0luaXRpYWwpIHtcbiAgICAgIC8vIG9ubHkgc2V0IHRoZSBzZWxlY3RlZCBTS1UgZnJvbSB0aGUgRE9NIG9uIHRoZSBpbml0aWFsIHJlbmRlciBldmVudCwgYXMgYWZ0ZXIgdGhhdCB3ZSB3YW50IHRvXG4gICAgICAvLyByZWx5IG9uIHRoZSBzdG9yZSBhcyB0aGUgc291cmNlIG9mIHRydXRoLiB3aXRob3V0IHRoaXMsIHRoZSBzZWxlY3RlZCBTS1UgY291bGQgZ2V0IHJlc2V0IG9uIGFueSByZW5kZXJcbiAgICAgIHVwZGF0ZVN0b3JlKGluc3RhbmNlSWQsIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ3N0cmluZyB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ3N0cmluZyB8IHVuZGVmaW5lZCcuXG4gICAgICAgIHNlbGVjdGVkU2t1OlxuICAgICAgICAgIGFkZFRvQ2FydEZvcm0gaW5zdGFuY2VvZiBFbGVtZW50XG4gICAgICAgICAgICA/IGFkZFRvQ2FydEZvcm0uZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9DT01NRVJDRV9TS1VfSUQpXG4gICAgICAgICAgICA6ICcnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIGFkZCB3YXRjaGVyIGZvciBza3UgdmFsdWVzIGNoYW5nZSB0byB1cGRhdGUgdGhlIHBhZ2UgYXMgbmVlZGVkXG4gICAgICBhZGRTdG9yZVdhdGNoZXIoXG4gICAgICAgIGluc3RhbmNlSWQsXG4gICAgICAgICdza3VWYWx1ZXMnLFxuICAgICAgICB1cGRhdGVQYWdlV2l0aE5ld1NrdVZhbHVlc0RhdGEoaW5zdGFuY2VJZCwgYXBvbGxvQ2xpZW50KVxuICAgICAgKTtcblxuICAgICAgLy8gYWRkIHdhdGNoZXIgZm9yIGRyb3Bkb3ducyB0byB1cGRhdGUgb24gc2t1IGNoYW5nZVxuICAgICAgYWRkU3RvcmVXYXRjaGVyKFxuICAgICAgICBpbnN0YW5jZUlkLFxuICAgICAgICAnc2t1VmFsdWVzJyxcbiAgICAgICAgdXBkYXRlRHJvcGRvd25zT25QYWdlKGluc3RhbmNlSWQpXG4gICAgICApO1xuXG4gICAgICAvLyBzZXQgdXAgcGlsbCBncm91cHNcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgaWYgKFBpbGxHcm91cHMuaGFzUGlsbEdyb3VwcyhhZGRUb0NhcnRGb3JtKSkge1xuICAgICAgICBjb25zdCBwaWxsR3JvdXAgPSBuZXcgUGlsbEdyb3VwcyhcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICAgICAgICBhZGRUb0NhcnRGb3JtLFxuICAgICAgICAgIHVwZGF0ZVNrdVZhbHVlc09uUGlsbFNlbGVjdChpbnN0YW5jZUlkLCBhcG9sbG9DbGllbnQpXG4gICAgICAgICk7XG4gICAgICAgIGFkZFN0b3JlV2F0Y2hlcihpbnN0YW5jZUlkLCAnc2t1VmFsdWVzJywgKG5ld1NrdVZhbHVlcykgPT4ge1xuICAgICAgICAgIHBpbGxHcm91cC5zZXRTZWxlY3RlZFBpbGxzRm9yU2t1VmFsdWVzKG5ld1NrdVZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBwaWxsR3JvdXAuaW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjdXJyZW50U2t1SWQgPSBmZXRjaEZyb21TdG9yZShpbnN0YW5jZUlkLCAnc2VsZWN0ZWRTa3UnKTtcblxuICAgIGlmICghY3VycmVudFNrdUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZHVjdElkID1cbiAgICAgIGFkZFRvQ2FydEZvcm0gJiZcbiAgICAgIGFkZFRvQ2FydEZvcm0uZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9DT01NRVJDRV9QUk9EVUNUX0lEKTtcbiAgICBpZiAocHJvZHVjdElkKSB7XG4gICAgICBhcG9sbG9DbGllbnRcbiAgICAgICAgLnF1ZXJ5KHtcbiAgICAgICAgICBxdWVyeTogZ2V0QWxsVmFyaWFudHNBbmRNZW1iZXJzaGlwcyxcbiAgICAgICAgICB2YXJpYWJsZXM6IHtwcm9kdWN0SWR9LFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoe2RhdGF9KSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbXMgPSBkYXRhPy5kYXRhYmFzZT8uY29sbGVjdGlvbnM/LmNfc2t1Xz8uaXRlbXMgPz8gW107XG4gICAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBkYXRhPy5kYXRhYmFzZT8uY29sbGVjdGlvbnM/LmNfcHJvZHVjdF8/Lml0ZW1zID8/IFtdO1xuICAgICAgICAgIGNvbnN0IHByb2R1Y3RUeXBlID0gcHJvZHVjdHNbMF1cbiAgICAgICAgICAgID8gcHJvZHVjdHNbMF0uZl9lY19wcm9kdWN0X3R5cGVfMmRyMTBkci5uYW1lXG4gICAgICAgICAgICA6ICdBZHZhbmNlZCc7XG4gICAgICAgICAgLy8gYnVpbGQgdGhlIHBvc3NpYmxlIHNrdSB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBwcm9kdWN0XG4gICAgICAgICAgLy8gc2luY2UgYWxsIGl0ZW1zIGhhdmUgdGhlIHNhbWUgc2t1IHZhbHVlcywgd2UganVzdCB1c2UgdGhlIGZpcnN0XG4gICAgICAgICAgLy8gdGhlbiB3ZSBpdGVyYXRlIG92ZXIgdGhlIHNrdXMsIGFuZCBjcmVhdGUgYW4gb2JqZWN0IG9mIFtwcm9wZXJ0eUlkOiBzdHJpbmddOiAnJ1xuICAgICAgICAgIC8vIHRvIHJlcHJlc2VudCB0aGF0IGJ5IGRlZmF1bHQsIG5vIHByb3BlcnR5IGhhcyBiZWVuIHNlbGVjdGVkIHlldFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGV2ZW50LmRldGFpbC5pc0luaXRpYWwgJiZcbiAgICAgICAgICAgIGl0ZW1zWzBdLmZfc2t1X3ZhbHVlc18zZHIgJiZcbiAgICAgICAgICAgIGl0ZW1zWzBdLmZfc2t1X3ZhbHVlc18zZHIubGVuZ3RoID4gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NyAtIFVudHlwZWQgZnVuY3Rpb24gY2FsbHMgbWF5IG5vdCBhY2NlcHQgdHlwZSBhcmd1bWVudHMuXG4gICAgICAgICAgICBjb25zdCBza3VWYWx1ZXNNYXAgPSBpdGVtc1swXS5mX3NrdV92YWx1ZXNfM2RyLnJlZHVjZTxcbiAgICAgICAgICAgICAgUmVjb3JkPHN0cmluZywgYW55PlxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdtYXAnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuIHwgVFM3MDA2IC0gUGFyYW1ldGVyICdza3UnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAgICAgICA+KChtYXAsIHNrdSkgPT4ge1xuICAgICAgICAgICAgICBtYXBbc2t1LnByb3BlcnR5LmlkXSA9ICcnO1xuICAgICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICAgICAgfSwge30pO1xuXG4gICAgICAgICAgICB1cGRhdGVTdG9yZShpbnN0YW5jZUlkLCB7XG4gICAgICAgICAgICAgIHNrdVZhbHVlczogc2t1VmFsdWVzTWFwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG1lbWJlcnNoaXBzID0gZGF0YT8uZGF0YWJhc2U/LmNvbW1lcmNlTWVtYmVyc2hpcHMgPz8gW107XG4gICAgICAgICAgY29uc3QgaGFzQWN0aXZlTWVtZWJlcnNoaXAgPSBCb29sZWFuKG1lbWJlcnNoaXBzWzBdPy5hY3RpdmUpO1xuICAgICAgICAgIGlmIChoYXNBY3RpdmVNZW1lYmVyc2hpcCkge1xuICAgICAgICAgICAgaWYgKGJ1eU5vd0J1dHRvbikge1xuICAgICAgICAgICAgICBidXlOb3dCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgICAgICAgIC8vIHdpdGhvdXQgaHJlZiA8YT4gZG9lc24ndCBoYXZlIGFuIGltcGxpY2l0IHJvbGUsIHNvIGFkZGluZyBpdCBiYWNrIGhlcmUgZm9yIGFjY2VzaWJpbGl0eVxuICAgICAgICAgICAgICBidXlOb3dCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2xpbmsnKTtcbiAgICAgICAgICAgICAgYnV5Tm93QnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgIGJ1eU5vd0J1dHRvbi5jbGFzc0xpc3QuYWRkKCd3LS1lY29tbWVyY2UtYnV5LW5vdy1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWRkVG9DYXJ0QnV0dG9uKSB7XG4gICAgICAgICAgICAgIGFkZFRvQ2FydEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgYWRkVG9DYXJ0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXG4gICAgICAgICAgICAgICAgJ3ctLWVjb21tZXJjZS1hZGQtdG8tY2FydC1kaXNhYmxlZCdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdpdGVtJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTa3UgPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBjdXJyZW50U2t1SWQpO1xuICAgICAgICAgIGlmIChjdXJyZW50U2t1KSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGN1cnJlbnRTa3VbJ2ZfZWNfc2t1X2JpbGxpbmdfbWV0aG9kXzJkcjZkcjE0ZHInXSA9PT1cbiAgICAgICAgICAgICAgICAnc3Vic2NyaXB0aW9uJyB8fFxuICAgICAgICAgICAgICBwcm9kdWN0VHlwZSA9PT0gJ01lbWJlcnNoaXAnXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdXBkYXRlU3RvcmUoaW5zdGFuY2VJZCwge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVzVXNlclNlc3Npb246IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IGJ1eSBub3cgdGV4dCB0byBzdWJzY3JpcHRpb24gc3RhdGUgaWYgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGN1cnJlbnRTa3VbJ2ZfZWNfc2t1X2JpbGxpbmdfbWV0aG9kXzJkcjZkcjE0ZHInXSA9PT1cbiAgICAgICAgICAgICAgJ3N1YnNjcmlwdGlvbidcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBoaWRlRWxlbWVudChhZGRUb0NhcnRCdXR0b24pO1xuXG4gICAgICAgICAgICAgIGlmIChidXlOb3dCdXR0b24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidXlOb3dTdWJzY3JpcHRpb25UZXh0ID1cbiAgICAgICAgICAgICAgICAgIGJ1eU5vd0J1dHRvbi5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX1NVQlNDUklQVElPTl9URVhUKSB8fFxuICAgICAgICAgICAgICAgICAgJ1N1YnNjcmliZSBub3cnO1xuICAgICAgICAgICAgICAgIGJ1eU5vd0J1dHRvbi5pbm5lclRleHQgPSBidXlOb3dTdWJzY3JpcHRpb25UZXh0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJ1eU5vd0J1dHRvbikge1xuICAgICAgICAgICAgICBjb25zdCBidXlOb3dEZWZhdWx0VGV4dCA9XG4gICAgICAgICAgICAgICAgYnV5Tm93QnV0dG9uLmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfREVGQVVMVF9URVhUKSB8fCAnQnV5IG5vdyc7XG4gICAgICAgICAgICAgIGJ1eU5vd0J1dHRvbi5pbm5lclRleHQgPSBidXlOb3dEZWZhdWx0VGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYWRkVG9DYXJ0V3JhcHBlciA9IGFkZFRvQ2FydEZvcm0ucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkxpc3RFbGVtZW50ID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgICAgICAgICAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfT1BUSU9OX0xJU1QsXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdIVE1MRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdEb2N1bWVudCB8IEVsZW1lbnQgfCB1bmRlZmluZWQnLlxuICAgICAgICAgICAgICBhZGRUb0NhcnRXcmFwcGVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgb3V0T2ZTdG9ja1N0YXRlID1cbiAgICAgICAgICAgICAgYWRkVG9DYXJ0V3JhcHBlciAmJlxuICAgICAgICAgICAgICBhZGRUb0NhcnRXcmFwcGVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgICAgICAgICAgJ3ctY29tbWVyY2UtY29tbWVyY2VhZGR0b2NhcnRvdXRvZnN0b2NrJ1xuICAgICAgICAgICAgICApWzBdO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZXhpc3QgYSB2YXJpYW50IHdpdGggc3RvY2tcbiAgICAgICAgICAgIGNvbnN0IGhhc1ZhcmlhbnRzV2l0aFN0b2NrID0gaXRlbXMuc29tZShcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAndmFyaWFudCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICAgICAgICAgKHZhcmlhbnQpID0+XG4gICAgICAgICAgICAgICAgKHZhcmlhbnQuaW52ZW50b3J5LnR5cGUgPT09IElOVkVOVE9SWV9UWVBFX0ZJTklURSAmJlxuICAgICAgICAgICAgICAgICAgdmFyaWFudC5pbnZlbnRvcnkucXVhbnRpdHkgPiAwKSB8fFxuICAgICAgICAgICAgICAgIHZhcmlhbnQuaW52ZW50b3J5LnR5cGUgPT09IElOVkVOVE9SWV9UWVBFX0lORklOSVRFXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFoYXNWYXJpYW50c1dpdGhTdG9jayAmJiBvdXRPZlN0b2NrU3RhdGUpIHtcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdzdHlsZScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgICAgICAgICAgIG91dE9mU3RvY2tTdGF0ZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnc3R5bGUnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0VsZW1lbnQnLlxuICAgICAgICAgICAgICBhZGRUb0NhcnRGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWxlY3Qgb3B0aW9ucyBiYXNlZCBvbiBzdG9ja1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uU2V0c1RvVXBkYXRlID0gaXRlbXNbMF0uZl9za3VfdmFsdWVzXzNkci5tYXAoXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ3NrdVZhbHVlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICAgICAgICAoc2t1VmFsdWUpID0+IHNrdVZhbHVlLnByb3BlcnR5LmlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnb3B0aW9uVG9VcGRhdGVTZXRJZCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICAgICAgIG9wdGlvblNldHNUb1VwZGF0ZS5mb3JFYWNoKChvcHRpb25Ub1VwZGF0ZVNldElkKSA9PiB7XG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgc2VsZWN0IHdlIHdpbGwgdXBkYXRlXG4gICAgICAgICAgICAgIGxldCBvcHRpb25TZXQgPSBhZGRUb0NhcnRGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgYFske0RBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lEfT1cIiR7b3B0aW9uVG9VcGRhdGVTZXRJZH1cIl1gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmICghKG9wdGlvblNldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBvcHRpb25TZXRJZCA9IG9wdGlvblNldC5nZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgREFUQV9BVFRSX0NPTU1FUkNFX09QVElPTl9TRVRfSURcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG9wdGlvblNldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX05PREVfVFlQRSkgPT09XG4gICAgICAgICAgICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX1BJTExfR1JPVVBcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgdXNpbmcgYSBwaWxsIGdyb3VwLCB3ZSBuZWVkIHRvIGdldCB0aGUgUGlsbEdyb3VwIGNsYXNzIGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgaGF2ZSBhY2Nlc3MgdG8gdGhlIGdldHRlcnMgd2UgZGVmaW5lZCB0byBnaXZlIHVzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgYHNlbGVjdGAgQVBJXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdfd2ZQaWxsR3JvdXAnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICAgICAgICAgICAgICBvcHRpb25TZXQgPSBvcHRpb25TZXQuX3dmUGlsbEdyb3VwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ3IC0gJ29wdGlvblNldCcgaXMgcG9zc2libHkgJ251bGwnLiB8IFRTMjMzOSAtIFByb3BlcnR5ICdvcHRpb25zJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdFbGVtZW50Jy5cbiAgICAgICAgICAgICAgZm9yRWFjaChvcHRpb25TZXQub3B0aW9ucywgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdmFyaWFudCB0aGF0IGhhcyB0aGUgY3VycmVudCBvcHRpb24gY29tYmluZWQgd2l0aCBvdGhlciBzZWxlY3RlZCBvcHRpb25zIHRoYXQgaW4gdGhpcyBjYXNlLCBzaW5jZSBpdCdzIGluIHRoZSBvbiBsb2FkXG4gICAgICAgICAgICAgICAgLy8gaXQgd2lsbCBiZSB0aGUgZGVmYXVsdCB2YXJpYW50XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb24udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnMgc2hvdWxkIGJlIGFsd2F5cyBlbmFibGVkXG4gICAgICAgICAgICAgICAgICBvcHRpb24uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVWYXJpYW50c1dpdGhOb1N0b2NrKGl0ZW1zLCBvcHRpb25TZXRJZCwgb3B0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGlmIHRoaXMgaXMgcmVuZGVyIG9jY3VycyB3aXRoIG9wdGlvbiBzZXRzIGFscmVhZHkgc2VsZWN0ZWQgdGhhdCB3ZSBkaXNhYmxlIGJhc2VkIG9uIGF2YWlsYWJsZSBvcHRpb25zXG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uU2V0cyA9IG9wdGlvblNldHNUb1VwZGF0ZS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnb3B0aW9uU2V0VG9VcGRhdGUnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAgICAgICAgICAgKG9wdGlvblNldFRvVXBkYXRlKSA9PiBvcHRpb25TZXRUb1VwZGF0ZS52YWx1ZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBkaXNhYmxlVmFyaWFudHNXaXRoTm9TdG9ja0ZvclJlbWFpbmluZ1NlbGVjdGlvbnMoXG4gICAgICAgICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb25TZXRzLFxuICAgICAgICAgICAgICAgIG9wdGlvblNldCxcbiAgICAgICAgICAgICAgICBvcHRpb25TZXRJZFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIFByZXNlbGVjdCB0aGUgZGVmYXVsdCB2YXJpYW50IGlmIHNldHRpbmcgaGFzIGJlZW4gZW5hYmxlZCBhbmQgaW5pdGlhbCByZW5kZXJcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGV2ZW50LmRldGFpbC5pc0luaXRpYWwgJiZcbiAgICAgICAgICAgICAgICBvcHRpb25MaXN0RWxlbWVudCAmJlxuICAgICAgICAgICAgICAgIG9wdGlvbkxpc3RFbGVtZW50LmdldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgIERBVEFfQVRUUl9QUkVTRUxFQ1RfREVGQVVMVF9WQVJJQU5UXG4gICAgICAgICAgICAgICAgKSA9PT0gJ3RydWUnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTa3VJZCA9IGdldChkYXRhLCBbXG4gICAgICAgICAgICAgICAgICAnZGF0YWJhc2UnLFxuICAgICAgICAgICAgICAgICAgJ2NvbGxlY3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICdjX3Byb2R1Y3RfJyxcbiAgICAgICAgICAgICAgICAgICdpdGVtcycsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgJ2ZfZGVmYXVsdF9za3VfN2RyJyxcbiAgICAgICAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFNrdSA9IGl0ZW1zLmZpbmQoXG4gICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdpdGVtJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICAgICAgICAgICAgKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGRlZmF1bHRTa3VJZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBkZWZhdWx0IHZhcmlhbnQgaXMgaW4gc3RvY2sgYmVmb3JlIHByZXNlbGVjdGluZ1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRTa3UgJiZcbiAgICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTa3UuaW52ZW50b3J5LnR5cGUgPT09IElOVkVOVE9SWV9UWVBFX0ZJTklURSAmJlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2t1LmludmVudG9yeS5xdWFudGl0eSA8PSAwXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0U2t1SW5kZXggPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0NyAtICdvcHRpb25TZXQnIGlzIHBvc3NpYmx5ICdudWxsJy4gfCBUUzIzMzkgLSBQcm9wZXJ0eSAnb3B0aW9ucycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvblNldC5vcHRpb25zXG4gICAgICAgICAgICAgICAgICApLmZpbmRJbmRleCgob3B0aW9uKSA9PlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2t1LmZfc2t1X3ZhbHVlc18zZHIuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd2YWx1ZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS4gfCBUUzE4MDQ2IC0gJ29wdGlvbicgaXMgb2YgdHlwZSAndW5rbm93bicuXG4gICAgICAgICAgICAgICAgICAgICAgKHZhbHVlKSA9PiB2YWx1ZS52YWx1ZS5pZCA9PT0gb3B0aW9uLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFNrdUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMTgwNDcgLSAnb3B0aW9uU2V0JyBpcyBwb3NzaWJseSAnbnVsbCcuIHwgVFMyMzM5IC0gUHJvcGVydHkgJ3NlbGVjdGVkSW5kZXgnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0VsZW1lbnQnLlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25TZXQuc2VsZWN0ZWRJbmRleCA9IGRlZmF1bHRTa3VJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RvcmUoaW5zdGFuY2VJZCwge1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2t1OiBkZWZhdWx0U2t1LmlkLFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2t1IHZhbHVlcyBtYXAgdG8gc2V0IGVhY2ggcHJvcGVydHkgaWQgdG8gdGhlIHZhbHVlIGlkXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHRoZSBjdXJyZW50IHZhcmlhbnRcbiAgICAgICAgICAgICAgICAgICAgICBza3VWYWx1ZXM6IHNpbXBsaWZ5U2t1VmFsdWVzKGRlZmF1bHRTa3UuZl9za3VfdmFsdWVzXzNkciksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgZGlzYWJsZVZhcmlhbnRzV2l0aE5vU3RvY2tGb3JSZW1haW5pbmdTZWxlY3Rpb25zID0gKFxuICBpdGVtczogYW55LFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdzZWxlY3RlZE9wdGlvblNldHMnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIHNlbGVjdGVkT3B0aW9uU2V0cyxcbiAgb3B0aW9uU2V0OiBhbnksXG4gIGlkOiBhbnlcbikgPT4ge1xuICAvLyBHZXQgYWxsIHRoZSBwb3NzaWJsZSB2YXJpYW50cyBnaXZlbiBvdXIgY3VycmVudCBzZWxlY3Rpb25zXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ2l0ZW0nIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIGxldCBwb3NzaWJsZVZhcmlhbnRTZWxlY3Rpb25zID0gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgY29uc3QgaXRlbU1hcHBlZEJ5U2t1VmFsdWVzID0gaXRlbS5mX3NrdV92YWx1ZXNfM2RyLm1hcChcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ3NrdVZhbHVlcycgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgIChza3VWYWx1ZXMpID0+IHNrdVZhbHVlcy52YWx1ZS5pZFxuICAgICk7XG4gICAgY29uc3QgY3VycmVudGx5U2VsZWN0ZWRTa3VWYWx1ZXMgPSBzZWxlY3RlZE9wdGlvblNldHMubWFwKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnc2VsZWN0ZWRPcHRpb25TZXQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAoc2VsZWN0ZWRPcHRpb25TZXQpID0+IHNlbGVjdGVkT3B0aW9uU2V0LnZhbHVlXG4gICAgKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdzZWxlY3RlZFZhbHVlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgIHJldHVybiBjdXJyZW50bHlTZWxlY3RlZFNrdVZhbHVlcy5ldmVyeSgoc2VsZWN0ZWRWYWx1ZSkgPT5cbiAgICAgIGl0ZW1NYXBwZWRCeVNrdVZhbHVlcy5pbmNsdWRlcyhzZWxlY3RlZFZhbHVlKVxuICAgICk7XG4gIH0pO1xuICAvLyBSZXNldCB0aGVtIGlmIHRoZXJlIGlzIG9ubHkgMSBsZWZ0IGkuZS4gdXNlciBoYXMgc2VsZWN0ZWQgYWxsIDMgb3B0aW9uc1xuICBpZiAocG9zc2libGVWYXJpYW50U2VsZWN0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICBwb3NzaWJsZVZhcmlhbnRTZWxlY3Rpb25zID0gaXRlbXM7XG4gIH1cblxuICBmb3JFYWNoKG9wdGlvblNldC5vcHRpb25zLCAob3B0aW9uKSA9PiB7XG4gICAgLy8gR2V0IHRoZSB2YXJpYW50IHRoYXQgaGFzIHRoZSBjdXJyZW50IG9wdGlvbiBjb21iaW5lZCB3aXRoIG90aGVyIHNlbGVjdGVkIG9wdGlvbnMgdGhhdCBpbiB0aGlzIGNhc2UsIHNpbmNlIGl0J3MgaW4gdGhlIG9uIGxvYWRcbiAgICAvLyBpdCB3aWxsIGJlIHRoZSBkZWZhdWx0IHZhcmlhbnRcbiAgICBpZiAoIW9wdGlvbi52YWx1ZSkge1xuICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyBzaG91bGQgYmUgYWx3YXlzIGVuYWJsZWRcbiAgICAgIG9wdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAndmFyaWFudCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgIGNvbnN0IHZhcmlhbnRzRmlsdGVyZWQgPSBwb3NzaWJsZVZhcmlhbnRTZWxlY3Rpb25zLmZpbHRlcigodmFyaWFudCkgPT4ge1xuICAgICAgICBjb25zdCBza3UgPSB2YXJpYW50LmZfc2t1X3ZhbHVlc18zZHIuZmluZChcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd2YWx1ZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICAgICAodmFsdWUpID0+IHZhbHVlLnByb3BlcnR5LmlkID09PSBpZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2t1LnZhbHVlLmlkID09PSBvcHRpb24udmFsdWU7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGhhc1ZhcmlhbnRzV2l0aFN0b2NrID0gdmFyaWFudHNGaWx0ZXJlZC5zb21lKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd2YXJpYW50JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICAodmFyaWFudCkgPT5cbiAgICAgICAgICAodmFyaWFudC5pbnZlbnRvcnkudHlwZSA9PT0gSU5WRU5UT1JZX1RZUEVfRklOSVRFICYmXG4gICAgICAgICAgICB2YXJpYW50LmludmVudG9yeS5xdWFudGl0eSA+IDApIHx8XG4gICAgICAgICAgdmFyaWFudC5pbnZlbnRvcnkudHlwZSA9PT0gSU5WRU5UT1JZX1RZUEVfSU5GSU5JVEVcbiAgICAgICk7XG5cbiAgICAgIGlmICghaGFzVmFyaWFudHNXaXRoU3RvY2spIHtcbiAgICAgICAgb3B0aW9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBkaXNhYmxlVmFyaWFudHNXaXRoTm9TdG9jayA9IChcbiAgaXRlbXM6IGFueSxcbiAgb3B0aW9uU2V0SWQ6IGFueSxcbiAgb3B0aW9uOiBhbnlcbikgPT4ge1xuICBpZiAoIW9wdGlvbi52YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd2YXJpYW50JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICBjb25zdCB2YXJpYW50c0ZpbHRlcmVkID0gaXRlbXMuZmlsdGVyKCh2YXJpYW50KSA9PiB7XG4gICAgY29uc3Qgc2t1ID0gdmFyaWFudC5mX3NrdV92YWx1ZXNfM2RyLmZpbmQoXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd2YWx1ZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICh2YWx1ZSkgPT4gdmFsdWUucHJvcGVydHkuaWQgPT09IG9wdGlvblNldElkXG4gICAgKTtcbiAgICByZXR1cm4gc2t1LnZhbHVlLmlkID09PSBvcHRpb24udmFsdWU7XG4gIH0pO1xuICBjb25zdCBoYXNWYXJpYW50c1dpdGhTdG9jayA9IHZhcmlhbnRzRmlsdGVyZWQuc29tZShcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd2YXJpYW50JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICh2YXJpYW50KSA9PlxuICAgICAgKHZhcmlhbnQuaW52ZW50b3J5LnR5cGUgPT09IElOVkVOVE9SWV9UWVBFX0ZJTklURSAmJlxuICAgICAgICB2YXJpYW50LmludmVudG9yeS5xdWFudGl0eSA+IDApIHx8XG4gICAgICB2YXJpYW50LmludmVudG9yeS50eXBlID09PSBJTlZFTlRPUllfVFlQRV9JTkZJTklURVxuICApO1xuXG4gIGlmICghaGFzVmFyaWFudHNXaXRoU3RvY2spIHtcbiAgICBvcHRpb24uZGlzYWJsZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVUZXh0Tm9kZVZpc2liaWxpdHkgPSAobm9kZTogYW55KSA9PiB7XG4gIGlmIChub2RlLmlubmVyVGV4dCkge1xuICAgIHJlbW92ZVdEeW5CaW5kRW1wdHlDbGFzcyhub2RlKTtcbiAgfVxuXG4gIGlmIChcbiAgICAhbm9kZS5pbm5lclRleHQgJiZcbiAgICAhbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9XX0RZTl9CSU5EX0VNUFRZKVxuICApIHtcbiAgICBub2RlLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9XX0RZTl9CSU5EX0VNUFRZKTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlTGlnaHRib3hKc29uID0gKG5vZGU6IGFueSwgYmluZGluZzogYW55KSA9PiB7XG4gIGNvbnN0IGxpZ2h0Ym94U2NyaXB0ID0gbm9kZS5xdWVyeVNlbGVjdG9yKCdzY3JpcHQudy1qc29uJyk7XG4gIGlmIChsaWdodGJveFNjcmlwdCkge1xuICAgIGNvbnN0IG5vZGVKc29uRGF0YSA9IEpTT04ucGFyc2UobGlnaHRib3hTY3JpcHQuaW5uZXJIVE1MKTtcbiAgICAvLyBpZiB0aGUgSlNPTiBjcmVhdGVkIGZyb20gYm91bmQgbWVkaWEgaXMgYG51bGxgLFxuICAgIC8vIHdlIHJlcGxhY2UgYHNjcmlwdGAgdGFnIGNvbnRlbnRzIHdpdGggcGxhY2Vob2xkZXIgZGF0YVxuICAgIC8vIHRoYXQgcmV0YWlucyB0aGUgYGdyb3VwYCBwcm9wZXJ0eVxuICAgIGxpZ2h0Ym94U2NyaXB0LmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgY3JlYXRlSnNvbkZyb21Cb3VuZE1lZGlhKGJpbmRpbmcsIG5vZGVKc29uRGF0YSkgfHwge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIGdyb3VwOiBub2RlSnNvbkRhdGEgJiYgbm9kZUpzb25EYXRhLmdyb3VwLFxuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3RhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGlzQnV5Tm93QnV0dG9uRXZlbnQgPSAoe3RhcmdldH0pID0+XG4gIHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgdGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTk9ERV9UWVBFKSA9PT1cbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQlVZX05PV19CVVRUT047XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMTQgLSBHZW5lcmljIHR5cGUgJ0Fwb2xsb0NsaWVudDxUQ2FjaGVTaGFwZT4nIHJlcXVpcmVzIDEgdHlwZSBhcmd1bWVudChzKS5cbmNvbnN0IGhhbmRsZUJ1eU5vdyA9IChldmVudDogRXZlbnQsIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50KSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgLy8gRG9uJ3QgdHJ5IGFuZCBkbyBhbnl0aGluZyBpbiBwcmV2aWV3IG1vZGVcbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudigncHJldmlldycpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYnV5Tm93QnV0dG9uID0gZXZlbnQudGFyZ2V0O1xuICBjb25zdCBhZGRUb0NhcnRGb3JtID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRk9STSxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRXZlbnRUYXJnZXQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnRXZlbnRUYXJnZXQnLlxuICAgIGJ1eU5vd0J1dHRvblxuICApO1xuICBpZiAoXG4gICAgIShidXlOb3dCdXR0b24gaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCkgfHxcbiAgICAhKGFkZFRvQ2FydEZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChidXlOb3dCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCd3LS1lY29tbWVyY2UtYnV5LW5vdy1kaXNhYmxlZCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYWRkVG9DYXJ0V3JhcHBlciA9IGFkZFRvQ2FydEZvcm0ucGFyZW50RWxlbWVudDtcbiAgaWYgKCEoYWRkVG9DYXJ0V3JhcHBlciBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYWRkVG9DYXJ0RXJyb3JFbGVtZW50ID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9FUlJPUixcbiAgICBhZGRUb0NhcnRXcmFwcGVyXG4gICk7XG4gIGlmICghKGFkZFRvQ2FydEVycm9yRWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYWRkVG9DYXJ0RXJyb3JFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgaWYgKCFpc1Byb3RvY29sSHR0cHMoKSkge1xuICAgIHdpbmRvdy5hbGVydChcbiAgICAgICdUaGlzIHNpdGUgaXMgY3VycmVudGx5IHVuc2VjdXJlZCBzbyB5b3UgY2Fubm90IHB1cmNoYXNlIHRoaXMgaXRlbS4nXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDb25maXJtIGF0YyBzZWxlY3Rpb24gaXMgdmFsaWRcbiAgaWYgKCFhZGRUb0NhcnRGb3JtLnJlcG9ydFZhbGlkaXR5KCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSZWRpcmVjdCB0byBzaWduIHVwIGlmIHRoZSBwdXJjaGFzZSByZXF1aXJlcyBhIHVzZXIgc2Vzc2lvbiBhbmQgdGhlcmUgaXMgbm9uZVxuICBjb25zdCByZXF1aXJlc1VzZXJTZXNzaW9uID0gZmV0Y2hGcm9tU3RvcmUoXG4gICAgZ2V0SW5zdGFuY2VJZChhZGRUb0NhcnRGb3JtKSxcbiAgICAncmVxdWlyZXNVc2VyU2Vzc2lvbidcbiAgKTtcbiAgY29uc3QgaGFzVXNlclNlc3Npb24gPSBkb2N1bWVudC5jb29raWVcbiAgICAuc3BsaXQoJzsnKVxuICAgIC5zb21lKChjb29raWUpID0+IGNvb2tpZS5pbmRleE9mKExPR0dFRElOX0NPT0tJRV9OQU1FKSA+IC0xKTtcbiAgaWYgKHJlcXVpcmVzVXNlclNlc3Npb24gJiYgIWhhc1VzZXJTZXNzaW9uKSB7XG4gICAgcmVkaXJlY3RXaXRoVXNyZGlyKGAvJHtVU1lTX1BBR0VfU0VUVElOR1Muc2lnbnVwLnNsdWd9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcHVibGlzaGFibGVLZXkgPSBidXlOb3dCdXR0b24uZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9QVUJMSVNIQUJMRV9LRVkpO1xuICAvLyBJZiBubyBwdWJsaXNoYWJsZSBrZXkgY2hlY2tvdXQgaXMgbm90IGVuYWJsZWRcbiAgaWYgKCFwdWJsaXNoYWJsZUtleSkge1xuICAgIGNvbnN0IGVycm9yTXNnID0gYWRkVG9DYXJ0RXJyb3JFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke05PREVfVFlQRV9BRERfVE9fQ0FSVF9FUlJPUn1cIl1gXG4gICAgKTtcbiAgICBpZiAoIWVycm9yTXNnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVycm9yVGV4dCA9XG4gICAgICBlcnJvck1zZy5nZXRBdHRyaWJ1dGUoQ0hFQ0tPVVRfRElTQUJMRURfRVJST1JfTUVTU0FHRSkgfHxcbiAgICAgICdDaGVja291dCBpcyBkaXNhYmxlZC4nO1xuICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gZXJyb3JUZXh0O1xuICAgIGFkZFRvQ2FydEVycm9yRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHNrdUlkID1cbiAgICBmZXRjaEZyb21TdG9yZShnZXRJbnN0YW5jZUlkKGFkZFRvQ2FydEZvcm0pLCAnc2VsZWN0ZWRTa3UnKSB8fCAnJztcbiAgY29uc3QgZm9ybURhdGEgPSBmb3JtVG9PYmplY3QoYWRkVG9DYXJ0Rm9ybSk7XG4gIGNvbnN0IGZvcm1Db3VudCA9IGZvcm1EYXRhW05PREVfTkFNRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9RVUFOVElUWV9JTlBVVF07XG4gIGNvbnN0IGNvdW50ID0gZm9ybUNvdW50ID8gcGFyc2VJbnQoZm9ybUNvdW50LCAxMCkgOiAxO1xuXG4gIC8vIGlmIG5vIFNLVSBpZCwgdGhlbiBhbGwgb3B0aW9ucyBuZWVkIHRvIGJlIHNlbGVjdGVkXG4gIC8vIHRoaXMgaXMgb25seSBzaG93biBmb3IgcGlsbHMsIGFzIGRyb3Bkb3ducyB3aWxsIGJlIGNhdWdodCBieSByZXBvcnRWYWxpZGl0eSBhYm92ZVxuICBpZiAoIXNrdUlkKSB7XG4gICAgY29uc3QgZXJyb3JNc2cgPSBhZGRUb0NhcnRFcnJvckVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbJHtEQVRBX0FUVFJfTk9ERV9UWVBFfT1cIiR7Tk9ERV9UWVBFX0FERF9UT19DQVJUX0VSUk9SfVwiXWBcbiAgICApO1xuICAgIGlmICghZXJyb3JNc2cpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JUZXh0ID1cbiAgICAgIGVycm9yTXNnLmdldEF0dHJpYnV0ZShnZXRBVENFcnJvck1lc3NhZ2VGb3JUeXBlKCdzZWxlY3QtYWxsLW9wdGlvbnMnKSkgfHxcbiAgICAgICdQbGVhc2Ugc2VsZWN0IGFuIG9wdGlvbiBpbiBlYWNoIHNldC4nO1xuICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gZXJyb3JUZXh0O1xuICAgIGFkZFRvQ2FydEVycm9yRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGFwb2xsb0NsaWVudFxuICAgIC5tdXRhdGUoe1xuICAgICAgbXV0YXRpb246IGFkZFRvQ2FydE11dGF0aW9uLFxuICAgICAgdmFyaWFibGVzOiB7c2t1SWQsIGNvdW50LCBidXlOb3c6IHRydWV9LFxuICAgIH0pXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnZGF0YScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAudGhlbigoe2RhdGF9KSA9PiB7XG4gICAgICBjb25zdCBpdGVtUHJpY2UgPSBkYXRhLmVjb21tZXJjZUFkZFRvQ2FydC5pdGVtUHJpY2UgfHwge307XG5cbiAgICAgIHRyYWNrQWRkVG9DYXJ0VXNhZ2Uoc2t1SWQsIGNvdW50LCBpdGVtUHJpY2UpO1xuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnc3RyaW5nJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdMb2NhdGlvbiB8IChzdHJpbmcgJiBMb2NhdGlvbiknLlxuICAgICAgd2luZG93LmxvY2F0aW9uID0gYnV5Tm93QnV0dG9uLmhyZWY7XG4gICAgfSlcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdlcnJvcicgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBpZiAoYWRkVG9DYXJ0RXJyb3JFbGVtZW50KSB7XG4gICAgICAgIGFkZFRvQ2FydEVycm9yRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuXG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gYWRkVG9DYXJ0RXJyb3JFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQUREX1RPX0NBUlRfRVJST1J9XCJdYFxuICAgICAgICApO1xuICAgICAgICBpZiAoIWVycm9yTXNnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yVHlwZSA9XG4gICAgICAgICAgZXJyb3IuZ3JhcGhRTEVycm9ycyAmJlxuICAgICAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnNbMF0uY29kZSA9PT0gJ091dE9mSW52ZW50b3J5J1xuICAgICAgICAgICAgPyAncXVhbnRpdHknXG4gICAgICAgICAgICA6ICdidXktbm93JztcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID1cbiAgICAgICAgICBlcnJvck1zZy5nZXRBdHRyaWJ1dGUoZ2V0QVRDRXJyb3JNZXNzYWdlRm9yVHlwZShlcnJvclR5cGUpKSB8fCAnJztcbiAgICAgICAgZXJyb3JNc2cudGV4dENvbnRlbnQgPSBlcnJvclRleHQ7XG4gICAgICB9XG4gICAgICBkZWJ1Zy5lcnJvcihlcnJvcik7XG4gICAgICB0cmlnZ2VyUmVuZGVyKG51bGwpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gKGhhbmRsZXJQcm94eTogRXZlbnRIYW5kbGVyUHJveHlXaXRoQXBvbGxvQ2xpZW50KSA9PiB7XG4gIGhhbmRsZXJQcm94eS5vbignc3VibWl0JywgYWRkVG9DYXJ0Rm9ybUV2ZW50VGFyZ2V0TWF0Y2hlciwgaGFuZGxlQXRjU3VibWl0KTtcbiAgaGFuZGxlclByb3h5Lm9uKFxuICAgICdjaGFuZ2UnLFxuICAgIGFkZFRvQ2FydE9wdGlvblNlbGVjdEV2ZW50VGFyZ2V0TWF0Y2hlcixcbiAgICBoYW5kbGVBdGNPcHRpb25TZWxlY3RDaGFuZ2VcbiAgKTtcbiAgaGFuZGxlclByb3h5Lm9uKCdjbGljaycsIGlzQnV5Tm93QnV0dG9uRXZlbnQsIGhhbmRsZUJ1eU5vdyk7XG4gIGhhbmRsZXJQcm94eS5vbihSRU5ERVJfVFJFRV9FVkVOVCwgQm9vbGVhbiwgaGFuZGxlQXRjUGFnZUxvYWQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge3JlZ2lzdGVyfTtcbiJdLCJuYW1lcyI6WyJyZWdpc3RlciIsImZldGNoRnJvbVN0b3JlIiwidXBkYXRlU3RvcmUiLCJhZGRTdG9yZVdhdGNoZXIiLCJjcmVhdGVOZXdTdG9yZSIsImdldEluc3RhbmNlSWQiLCJmb3JtIiwiaW5zdGFuY2VJZCIsImdldEF0dHJpYnV0ZSIsIkRBVEFfQVRUUl9DT01NRVJDRV9QUk9EVUNUX0lEIiwiRXJyb3IiLCJ0cmFja0FkZFRvQ2FydFVzYWdlIiwic2t1SWQiLCJjb3VudCIsIml0ZW1QcmljZSIsImRlY2ltYWxWYWx1ZSIsInVuaXQiLCJmYnEiLCJ2YWx1ZSIsImN1cnJlbmN5IiwiY29udGVudF9pZHMiLCJjb250ZW50X3R5cGUiLCJjb250ZW50cyIsImlkIiwicXVhbnRpdHkiLCJpdGVtX3ByaWNlIiwiZ3RhZyIsIml0ZW1zIiwicHJpY2UiLCJhZGRUb0NhcnRNdXRhdGlvbiIsImdxbCIsImNvbGxlY3Rpb25zUXVlcnkiLCJnZXRBbGxWYXJpYW50cyIsImdldEFsbFZhcmlhbnRzQW5kTWVtYmVyc2hpcHMiLCJmaW5kQ29sbGVjdGlvbkl0ZW1XcmFwcGVyIiwibm9kZSIsImR5bmFtb0l0ZW1TZWxlY3RvciIsIkNMQVNTX05BTUVfRFlOQU1JQ19MSVNUX0lURU0iLCJDTEFTU19OQU1FX0RZTkFNSUNfTElTVF9SRVBFQVRFUl9JVEVNIiwiJCIsImNsb3Nlc3QiLCJkb2N1bWVudCIsImJvZHkiLCJhZGRUb0NhcnRGb3JtRXZlbnRUYXJnZXRNYXRjaGVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJIVE1MRWxlbWVudCIsIkRBVEFfQVRUUl9OT0RFX1RZUEUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRk9STSIsImdldEVycm9yVHlwZSIsImVycm9yIiwiZGVmYXVsdEVycm9yVHlwZSIsImdyYXBoUUxFcnJvcnMiLCJsZW5ndGgiLCJjb2RlIiwiaGFuZGxlQXRjU3VibWl0IiwiYXBvbGxvQ2xpZW50IiwicHJldmVudERlZmF1bHQiLCJldmVudFRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJIVE1MRm9ybUVsZW1lbnQiLCJwYXJlbnROb2RlIiwiRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsIkFERF9UT19DQVJUX0xPQURJTkciLCJpbnB1dEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJpc1Byb3RvY29sSHR0cHMiLCJ3aW5kb3ciLCJhbGVydCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRVJST1IiLCJzdHlsZSIsImRpc3BsYXkiLCJzZXRBdHRyaWJ1dGUiLCJwcmV2aW91c0J1dHRvblZhbHVlIiwibG9hZGluZ1RleHRGcm9tQnV0dG9uIiwiREFUQV9BVFRSX0xPQURJTkdfVEVYVCIsImZvcm1EYXRhIiwiZm9ybVRvT2JqZWN0IiwiZm9ybUNvdW50IiwiTk9ERV9OQU1FX0NPTU1FUkNFX0FERF9UT19DQVJUX1FVQU5USVRZX0lOUFVUIiwicGFyc2VJbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJlcnJvck1zZyIsIk5PREVfVFlQRV9BRERfVE9fQ0FSVF9FUlJPUiIsImVycm9yVGV4dCIsImdldEFUQ0Vycm9yTWVzc2FnZUZvclR5cGUiLCJ0ZXh0Q29udGVudCIsInJlbW92ZVByb3BlcnR5IiwicmVxdWlyZXNVc2VyU2Vzc2lvbiIsImhhc1VzZXJTZXNzaW9uIiwiY29va2llIiwic3BsaXQiLCJzb21lIiwiaW5kZXhPZiIsIkxPR0dFRElOX0NPT0tJRV9OQU1FIiwicmVkaXJlY3RXaXRoVXNyZGlyIiwiVVNZU19QQUdFX1NFVFRJTkdTIiwic2lnbnVwIiwic2x1ZyIsIm11dGF0ZSIsIm11dGF0aW9uIiwidmFyaWFibGVzIiwiYnV5Tm93IiwidGhlbiIsImRhdGEiLCJhZGRMb2FkaW5nQ2FsbGJhY2siLCJjYXJ0RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfV1JBUFBFUiIsIkRBVEFfQVRUUl9PUEVOX1BST0RVQ1QiLCJmb3JFYWNoIiwiY2FydCIsImV2dCIsIkN1c3RvbUV2ZW50IiwiQ0hBTkdFX0NBUlRfRVZFTlQiLCJidWJibGVzIiwiZGV0YWlsIiwib3BlbiIsImRpc3BhdGNoRXZlbnQiLCJ0cmlnZ2VyUmVuZGVyIiwiZWNvbW1lcmNlQWRkVG9DYXJ0IiwiY2F0Y2giLCJlcnJvck1lc3NhZ2UiLCJkZWJ1ZyIsImFkZFRvQ2FydE9wdGlvblNlbGVjdEV2ZW50VGFyZ2V0TWF0Y2hlciIsIk5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9PUFRJT05fU0VMRUNUIiwicXVlcnlBbGxXaXRob3V0T3RoZXJJdGVtV3JhcHBlckNvbnRlbnRzIiwiY29sbGVjdGlvbkl0ZW1XcmFwcGVyIiwic2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJxdWVyeUFsbFJlZmVyZW5jZVJlcGVhdGVycyIsIkNMQVNTX05BTUVfRFlOQU1JQ19MSVNUX1JFUEVBVEVSX1JFRiIsInJlbW92ZUNsYXNzIiwiZWxlbWVudCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsIkRPTVRva2VuTGlzdCIsInJlbW92ZSIsInNob3dFbGVtZW50IiwiaGlkZUVsZW1lbnQiLCJhZGQiLCJ1cGRhdGVFbXB0eVN0YXRlVmlzaWJpbGl0eSIsImZuMSIsImZuMiIsImVtcHR5U3RhdGVOb2RlcyIsImVtcHR5U3RhdGVNb3JlSW1hZ2VGaWVsZE5vZGVzIiwibiIsIml0ZW1zTGlzdCIsInBhcmVudEVsZW1lbnQiLCJkYXRhc2V0Iiwid2ZDb2xsZWN0aW9uIiwibWFwIiwiY29udGFpbnMiLCJzaG93RW1wdHlTdGF0ZUFuZEhpZGVJdGVtc0xpc3QiLCJoaWRlRW1wdHlTdGF0ZUFuZFNob3dJdGVtc0xpc3QiLCJ1cGRhdGVEcm9wZG93bnNPblBhZ2UiLCJuZXdTa3VWYWx1ZXMiLCJkcm9wZG93bnNGb3JQcm9kdWN0IiwiTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX09QVElPTl9MSVNUIiwib3B0aW9uU2V0SWQiLCJPYmplY3QiLCJrZXlzIiwib3B0aW9uU2V0VmFsdWUiLCJtYXRjaGluZ0Ryb3Bkb3duc0Zvck9wdGlvblNldCIsImQiLCJEQVRBX0FUVFJfQ09NTUVSQ0VfT1BUSU9OX1NFVF9JRCIsImRyb3Bkb3duIiwiU3RyaW5nIiwiZGlzYWJsZU9wdGlvbnNPbkNoYW5nZSIsInByb2R1Y3RJZCIsIm9wdGlvblNldHMiLCJxdWVyeSIsImRhdGFiYXNlIiwiY29sbGVjdGlvbnMiLCJjX3NrdV8iLCJvcHRpb25TZXREYXRhIiwicmVkdWNlIiwicGFyc2VkU2VsZWN0b3JPcHRpb25TZXRzIiwic2VsZWN0b3JPcHRpb25TZXQiLCJzZWxlY3RlZE9wdGlvblNldHMiLCJwdXNoIiwicmVjZW50bHlTZWxlY3RlZE9wdGlvblNldCIsInByZXZpb3VzbHlTZWxlY3RlZE9wdGlvblNldHMiLCJ1bnNlbGVjdGVkT3B0aW9uU2V0cyIsInVuZGVmaW5lZCIsInJlY2VudGx5U2VsZWN0ZWRPcHRpb25TZXRWYWx1ZSIsInByZXZpb3VzbHlTZWxlY3RlZE9wdGlvblNldCIsIm9wdGlvblNldFZhbHVlQ29tYmluYXRpb25XaXRoTW9zdFJlY2VudCIsInNvbWVBdmFpbGFibGVJdGVtIiwiaXRlbSIsImludmVudG9yeSIsInR5cGUiLCJJTlZFTlRPUllfVFlQRV9GSU5JVEUiLCJpdGVtTWFwcGVkQnlTa3VWYWx1ZXMiLCJmX3NrdV92YWx1ZXNfM2RyIiwic2t1VmFsdWVzIiwiZXZlcnkiLCJpbmNsdWRlcyIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3RlZE9wdGlvblNldCIsImNvbmNhdCIsIm9wdGlvblNldCIsIm9wdGlvbnMiLCJvcHRpb24iLCJlbmFibGVkIiwiZGlzYWJsZVZhcmlhbnRzV2l0aE5vU3RvY2siLCJkaXNhYmxlVmFyaWFudHNXaXRoTm9TdG9ja0ZvclJlbWFpbmluZ1NlbGVjdGlvbnMiLCJoYW5kbGVBdGNPcHRpb25TZWxlY3RDaGFuZ2UiLCJIVE1MU2VsZWN0RWxlbWVudCIsImpRdWVyeSIsIm9wdGlvbkxpc3RFbGVtZW50IiwiYWRkVG9DYXJ0Rm9ybSIsImN1cnJlbnRTa3VWYWx1ZXMiLCJhbGxWYXJpYW50U2VsZWN0b3JzSW5DYXJ0Rm9ybSIsImZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUiLCJ1cGRhdGVTa3VCaW5kaW5ncyIsImJpbmRpbmciLCJuZXdTa3VJdGVtIiwidG8iLCJ1cGRhdGVUZXh0Tm9kZVZpc2liaWxpdHkiLCJmX3ByaWNlXyIsInJlbmRlclByaWNlRnJvbVNldHRpbmdzIiwiX19XRUJGTE9XX0NVUlJFTkNZX1NFVFRJTkdTIiwiZl9jb21wYXJlX2F0X3ByaWNlXzdkcjEwZHIiLCJtYWluSW1hZ2UiLCJnZXQiLCJyZXBsYWNlIiwiYmFja2dyb3VuZEltYWdlIiwidXJsIiwidXBkYXRlTGlnaHRib3hKc29uIiwic3JjIiwicmVtb3ZlV0R5bkJpbmRFbXB0eUNsYXNzIiwiQ0xBU1NfTkFNRV9XX0RZTl9CSU5EX0VNUFRZIiwic3RhcnRzV2l0aCIsImltYWdlIiwiYWx0IiwiaW52ZW50b3J5UXVhbnRpdHkiLCJ1cGRhdGVQYWdlV2l0aE5ld1NrdVZhbHVlc0RhdGEiLCJwcm9kdWN0cyIsImNfcHJvZHVjdF8iLCJwcm9kdWN0VHlwZSIsImZfZWNfcHJvZHVjdF90eXBlXzJkcjEwZHIiLCJuYW1lIiwiZmluZCIsImlzQXJyYXkiLCJzaW1wbGlmeVNrdVZhbHVlcyIsImtleSIsInNlbGVjdGVkU2t1IiwiZm9ybXNGb3JQcm9kdWN0IiwicmVmZXJlbmNlUmVwZWF0ZXJzIiwiYnV5Tm93QnV0dG9uIiwiZmluZEVsZW1lbnRCeU5vZGVUeXBlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0JVWV9OT1dfQlVUVE9OIiwiYWRkVG9DYXJ0QnV0dG9uIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX0JVVFRPTiIsImJ1eU5vd1N1YnNjcmlwdGlvblRleHQiLCJEQVRBX0FUVFJfU1VCU0NSSVBUSU9OX1RFWFQiLCJpbm5lclRleHQiLCJidXlOb3dEZWZhdWx0VGV4dCIsIkRBVEFfQVRUUl9ERUZBVUxUX1RFWFQiLCJtb3JlSW1hZ2VzRmllbGRMZW5ndGgiLCJmX21vcmVfaW1hZ2VzXzRkciIsInJlZmVyZW5jZVJlcGVhdGVyIiwicmVuZGVyVHJlZSIsInNrdUJvdW5kTm9kZXMiLCJXRl9TS1VfQklORElOR19EQVRBX0tFWSIsInNrdUJpbmRpbmdzRGF0YSIsInNrdUJpbmRpbmdzIiwic2FmZVBhcnNlSnNvbiIsInNrdUNvbmRpdGlvbkJvdW5kTm9kZXMiLCJXRl9TS1VfQ09ORElUSU9OX0RBVEFfS0VZIiwiY29uZGl0aW9uRGF0YSIsImFwcGx5U2t1Qm91bmRDb25kaXRpb25hbFZpc2liaWxpdHkiLCJzaWJsaW5ncyIsIldlYmZsb3ciLCJyZXF1aXJlIiwicmVhZHkiLCJ1cGRhdGVTa3VWYWx1ZXNPblBpbGxTZWxlY3QiLCJvcHRpb25JZCIsImdyb3VwcyIsInZhbHVlcyIsImhhbmRsZUF0Y1BhZ2VMb2FkIiwic3RyaXBlU3RvcmUiLCJSRU5ERVJfVFJFRV9FVkVOVCIsImFkZFRvQ2FydEZvcm1zIiwiZW52IiwiaXNJbml0aWFsIiwiUGlsbEdyb3VwcyIsInNldFNlbGVjdGVkUGlsbHNGb3JTa3VWYWx1ZXMiLCJpbml0IiwiY2FydEVsZW1lbnRzVGhhdE9wZW5PbkFkZCIsImlzSW5pdGlhbGl6ZWQiLCJEQVRBX0FUVFJfQ09NTUVSQ0VfU0tVX0lEIiwiaGFzUGlsbEdyb3VwcyIsInBpbGxHcm91cCIsImN1cnJlbnRTa3VJZCIsInNrdVZhbHVlc01hcCIsInNrdSIsInByb3BlcnR5IiwibWVtYmVyc2hpcHMiLCJjb21tZXJjZU1lbWJlcnNoaXBzIiwiaGFzQWN0aXZlTWVtZWJlcnNoaXAiLCJCb29sZWFuIiwiYWN0aXZlIiwiY3VycmVudFNrdSIsImFkZFRvQ2FydFdyYXBwZXIiLCJvdXRPZlN0b2NrU3RhdGUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaGFzVmFyaWFudHNXaXRoU3RvY2siLCJ2YXJpYW50IiwiSU5WRU5UT1JZX1RZUEVfSU5GSU5JVEUiLCJvcHRpb25TZXRzVG9VcGRhdGUiLCJza3VWYWx1ZSIsIm9wdGlvblRvVXBkYXRlU2V0SWQiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfUElMTF9HUk9VUCIsIl93ZlBpbGxHcm91cCIsIm9wdGlvblNldFRvVXBkYXRlIiwiREFUQV9BVFRSX1BSRVNFTEVDVF9ERUZBVUxUX1ZBUklBTlQiLCJkZWZhdWx0U2t1SWQiLCJkZWZhdWx0U2t1IiwiZGVmYXVsdFNrdUluZGV4IiwiZmluZEluZGV4IiwicG9zc2libGVWYXJpYW50U2VsZWN0aW9ucyIsImN1cnJlbnRseVNlbGVjdGVkU2t1VmFsdWVzIiwic2VsZWN0ZWRWYWx1ZSIsInZhcmlhbnRzRmlsdGVyZWQiLCJkaXNhYmxlZCIsImxpZ2h0Ym94U2NyaXB0Iiwibm9kZUpzb25EYXRhIiwiSlNPTiIsInBhcnNlIiwiaW5uZXJIVE1MIiwic3RyaW5naWZ5IiwiY3JlYXRlSnNvbkZyb21Cb3VuZE1lZGlhIiwiZ3JvdXAiLCJpc0J1eU5vd0J1dHRvbkV2ZW50IiwiaGFuZGxlQnV5Tm93IiwiZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZSIsIkhUTUxBbmNob3JFbGVtZW50IiwiYWRkVG9DYXJ0RXJyb3JFbGVtZW50IiwicmVwb3J0VmFsaWRpdHkiLCJwdWJsaXNoYWJsZUtleSIsIkRBVEFfQVRUUl9QVUJMSVNIQUJMRV9LRVkiLCJDSEVDS09VVF9ESVNBQkxFRF9FUlJPUl9NRVNTQUdFIiwibG9jYXRpb24iLCJocmVmIiwiZXJyb3JUeXBlIiwiaGFuZGxlclByb3h5Iiwib24iXSwibWFwcGluZ3MiOiJBQUFBLHVJQUF1STs7Ozs7Ozs7Ozs7SUFpa0R2SSxPQUEwQjtlQUExQjs7SUFYYUEsUUFBUTtlQUFSQTs7O21FQXBqREc7MkJBK0JUOzRCQUlBOzRCQUNtQzs0QkFLbkM7dUJBQ2dDOzREQUN2QjtzQkFFZ0I7K0JBV3pCO2dDQUNnQzsrQkFDRDs4REFDcEI7Z0VBQ0U7NkRB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

}),
21465: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "createNewStore", ({
    enumerable: true,
    get: function() {
        return createNewStore;
    }
}));
const initialState = {
    selectedSku: '',
    skuValues: {},
    requiresUserSession: false
};
const createNewStore = ()=>{
    const store = {};
    const watchers = {};
    const fetchFromStore = (instanceId, key)=>{
        return store[instanceId] ? store[instanceId][key] : undefined;
    };
    const updateStore = (instanceId, newValues)=>{
        if (!store[instanceId]) {
            store[instanceId] = {
                ...initialState
            };
        }
        for (const key of Object.keys(newValues)){
            if (!store[instanceId].hasOwnProperty(key)) {
                continue;
            }
            const previousValue = store[instanceId][key];
            // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<StoreShape>'.
            store[instanceId][key] = newValues[key];
            if (watchers[instanceId] && watchers[instanceId][key]) {
                for (const watcher of watchers[instanceId][key]){
                    // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<StoreShape>'.
                    watcher(newValues[key], previousValue);
                }
            }
        }
    };
    const addStoreWatcher = (instanceId, key, cb)=>{
        if (!watchers[instanceId]) {
            watchers[instanceId] = {};
        }
        if (watchers[instanceId][key]) {
            watchers[instanceId][key].push(cb);
        } else {
            watchers[instanceId][key] = [
                cb
            ];
        }
    };
    return {
        fetchFromStore,
        updateStore,
        addStoreWatcher
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZFRvQ2FydFN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgU3RvcmVTaGFwZSA9IHtcbiAgc2VsZWN0ZWRTa3U6IHN0cmluZztcbiAgc2t1VmFsdWVzOiBTa3VWYWx1ZXM7XG4gIHJlcXVpcmVzVXNlclNlc3Npb246IGJvb2xlYW47XG59O1xuZXhwb3J0IHR5cGUgU2t1VmFsdWVzID0ge1xuICBbcHJvcGVydHlJZDogc3RyaW5nXTogc3RyaW5nO1xufTtcblxuaW50ZXJmYWNlIFN0b3JlRmV0Y2hlciB7XG4gIChpbnN0YW5jZUlkOiBzdHJpbmcsIGtleTogJ3NlbGVjdGVkU2t1Jyk6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIChpbnN0YW5jZUlkOiBzdHJpbmcsIGtleTogJ3NrdVZhbHVlcycpOiBTa3VWYWx1ZXMgfCBudWxsIHwgdW5kZWZpbmVkO1xuICAoaW5zdGFuY2VJZDogc3RyaW5nLCBrZXk6ICdyZXF1aXJlc1VzZXJTZXNzaW9uJyk6IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkO1xufVxudHlwZSBTdG9yZVVwZGF0ZXIgPSAoXG4gIGluc3RhbmNlSWQ6IHN0cmluZyxcbiAgbmV3VmFsdWVzOiBQYXJ0aWFsPFN0b3JlU2hhcGU+XG4pID0+IHZvaWQ7XG50eXBlIEFkZFN0b3JlV2F0Y2hlciA9IChcbiAgaW5zdGFuY2VJZDogc3RyaW5nLFxuICBrZXk6IGtleW9mIFN0b3JlU2hhcGUsXG4gIGNiOiAoY3VycmVudFZhbHVlPzogYW55LCBwcmV2aW91c1ZhbHVlPzogYW55KSA9PiB2b2lkXG4pID0+IHZvaWQ7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogU3RvcmVTaGFwZSA9IHtcbiAgc2VsZWN0ZWRTa3U6ICcnLFxuICBza3VWYWx1ZXM6IHt9LFxuICByZXF1aXJlc1VzZXJTZXNzaW9uOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVOZXdTdG9yZSA9ICgpOiB7XG4gIGZldGNoRnJvbVN0b3JlOiBTdG9yZUZldGNoZXI7XG4gIHVwZGF0ZVN0b3JlOiBTdG9yZVVwZGF0ZXI7XG4gIGFkZFN0b3JlV2F0Y2hlcjogQWRkU3RvcmVXYXRjaGVyO1xufSA9PiB7XG4gIGNvbnN0IHN0b3JlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gIGNvbnN0IHdhdGNoZXJzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgY29uc3QgZmV0Y2hGcm9tU3RvcmU6IFN0b3JlRmV0Y2hlciA9IChpbnN0YW5jZUlkLCBrZXkpID0+IHtcbiAgICByZXR1cm4gc3RvcmVbaW5zdGFuY2VJZF0gPyBzdG9yZVtpbnN0YW5jZUlkXVtrZXldIDogdW5kZWZpbmVkO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZVN0b3JlOiBTdG9yZVVwZGF0ZXIgPSAoaW5zdGFuY2VJZCwgbmV3VmFsdWVzKSA9PiB7XG4gICAgaWYgKCFzdG9yZVtpbnN0YW5jZUlkXSkge1xuICAgICAgc3RvcmVbaW5zdGFuY2VJZF0gPSB7Li4uaW5pdGlhbFN0YXRlfTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhuZXdWYWx1ZXMpKSB7XG4gICAgICBpZiAoIXN0b3JlW2luc3RhbmNlSWRdLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBzdG9yZVtpbnN0YW5jZUlkXVtrZXldO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ1BhcnRpYWw8U3RvcmVTaGFwZT4nLlxuICAgICAgc3RvcmVbaW5zdGFuY2VJZF1ba2V5XSA9IG5ld1ZhbHVlc1trZXldO1xuICAgICAgaWYgKHdhdGNoZXJzW2luc3RhbmNlSWRdICYmIHdhdGNoZXJzW2luc3RhbmNlSWRdW2tleV0pIHtcbiAgICAgICAgZm9yIChjb25zdCB3YXRjaGVyIG9mIHdhdGNoZXJzW2luc3RhbmNlSWRdW2tleV0pIHtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAnUGFydGlhbDxTdG9yZVNoYXBlPicuXG4gICAgICAgICAgd2F0Y2hlcihuZXdWYWx1ZXNba2V5XSwgcHJldmlvdXNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYWRkU3RvcmVXYXRjaGVyOiBBZGRTdG9yZVdhdGNoZXIgPSAoaW5zdGFuY2VJZCwga2V5LCBjYikgPT4ge1xuICAgIGlmICghd2F0Y2hlcnNbaW5zdGFuY2VJZF0pIHtcbiAgICAgIHdhdGNoZXJzW2luc3RhbmNlSWRdID0ge307XG4gICAgfVxuXG4gICAgaWYgKHdhdGNoZXJzW2luc3RhbmNlSWRdW2tleV0pIHtcbiAgICAgIHdhdGNoZXJzW2luc3RhbmNlSWRdW2tleV0ucHVzaChjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhdGNoZXJzW2luc3RhbmNlSWRdW2tleV0gPSBbY2JdO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge2ZldGNoRnJvbVN0b3JlLCB1cGRhdGVTdG9yZSwgYWRkU3RvcmVXYXRjaGVyfTtcbn07XG4iXSwibmFtZXMiOlsiY3JlYXRlTmV3U3RvcmUiLCJpbml0aWFsU3RhdGUiLCJzZWxlY3RlZFNrdSIsInNrdVZhbHVlcyIsInJlcXVpcmVzVXNlclNlc3Npb24iLCJzdG9yZSIsIndhdGNoZXJzIiwiZmV0Y2hGcm9tU3RvcmUiLCJpbnN0YW5jZUlkIiwia2V5IiwidW5kZWZpbmVkIiwidXBkYXRlU3RvcmUiLCJuZXdWYWx1ZXMiLCJPYmplY3QiLCJrZXlzIiwiaGFzT3duUHJvcGVydHkiLCJwcmV2aW91c1ZhbHVlIiwid2F0Y2hlciIsImFkZFN0b3JlV2F0Y2hlciIsImNiIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7OzsrQkE4QmFBOzs7ZUFBQUE7OztBQU5iLE1BQU1DLGVBQTJCO0lBQy9CQyxhQUFhO0lBQ2JDLFdBQVcsQ0FBQztJQUNaQyxxQkFBcUI7QUFDdkI7QUFFTyxNQUFNSixpQkFBaUI7SUFLNUIsTUFBTUssUUFBNkIsQ0FBQztJQUNwQyxNQUFNQyxXQUFnQyxDQUFDO0lBRXZDLE1BQU1DLGlCQUErQixDQUFDQyxZQUFZQztRQUNoRCxPQUFPSixLQUFLLENBQUNHLFdBQVcsR0FBR0gsS0FBSyxDQUFDRyxXQUFXLENBQUNDLElBQUksR0FBR0M7SUFDdEQ7SUFFQSxNQUFNQyxjQUE0QixDQUFDSCxZQUFZSTtRQUM3QyxJQUFJLENBQUNQLEtBQUssQ0FBQ0csV0FBVyxFQUFFO1lBQ3RCSCxLQUFLLENBQUNHLFdBQVcsR0FBRztnQkFBQyxHQUFHUCxZQUFZO1lBQUE7UUFDdEM7UUFFQSxLQUFLLE1BQU1RLE9BQU9JLE9BQU9DLElBQUksQ0FBQ0YsV0FBWTtZQUN4QyxJQUFJLENBQUNQLEtBQUssQ0FBQ0csV0FBVyxDQUFDTyxjQUFjLENBQUNOLE1BQU07Z0JBQzFDO1lBQ0Y7WUFFQSxNQUFNTyxnQkFBZ0JYLEtBQUssQ0FBQ0csV0FBVyxDQUFDQyxJQUFJO1lBQzVDLDBKQUEwSjtZQUMxSkosS0FBSyxDQUFDRyxXQUFXLENBQUNDLElBQUksR0FBR0csU0FBUyxDQUFDSCxJQUFJO1lBQ3ZDLElBQUlILFFBQVEsQ0FBQ0UsV0FBVyxJQUFJRixRQUFRLENBQUNFLFdBQVcsQ0FBQ0MsSUFBSSxFQUFFO2dCQUNyRCxLQUFLLE1BQU1RLFdBQVdYLFFBQVEsQ0FBQ0UsV0FBVyxDQUFDQyxJQUFJLENBQUU7b0JBQy9DLDBKQUEwSjtvQkFDMUpRLFFBQVFMLFNBQVMsQ0FBQ0gsSUFBSSxFQUFFTztnQkFDMUI7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxNQUFNRSxrQkFBbUMsQ0FBQ1YsWUFBWUMsS0FBS1U7UUFDekQsSUFBSSxDQUFDYixRQUFRLENBQUNFLFdBQVcsRUFBRTtZQUN6QkYsUUFBUSxDQUFDRSxXQUFXLEdBQUcsQ0FBQztRQUMxQjtRQUVBLElBQUlGLFFBQVEsQ0FBQ0UsV0FBVyxDQUFDQyxJQUFJLEVBQUU7WUFDN0JILFFBQVEsQ0FBQ0UsV0FBVyxDQUFDQyxJQUFJLENBQUNXLElBQUksQ0FBQ0Q7UUFDakMsT0FBTztZQUNMYixRQUFRLENBQUNFLFdBQVcsQ0FBQ0MsSUFBSSxHQUFHO2dCQUFDVTthQUFHO1FBQ2xDO0lBQ0Y7SUFFQSxPQUFPO1FBQUNaO1FBQWdCSTtRQUFhTztJQUFlO0FBQ3REIn0=

}),
82150: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals document, window, Element, HTMLElement, CustomEvent, HTMLFormElement, HTMLInputElement, HTMLCollection, HTMLAnchorElement */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    register: function() {
        return register;
    },
    renderCart: function() {
        return renderCart;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
const _mergeWith = /*#__PURE__*/ _interop_require_default(__webpack_require__(93794));
const _forEach = /*#__PURE__*/ _interop_require_default(__webpack_require__(32397));
const _constants = __webpack_require__(10873);
const _commerceUtils = __webpack_require__(54556);
const _debug = /*#__PURE__*/ _interop_require_default(__webpack_require__(85986));
const _webPaymentsEvents = __webpack_require__(94492);
const _rendering = __webpack_require__(91898);
const _defaultTo = /*#__PURE__*/ _interop_require_default(__webpack_require__(34075));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const { MODAL, LEFT_SIDEBAR, RIGHT_SIDEBAR, LEFT_DROPDOWN, RIGHT_DROPDOWN } = _constants.CART_TYPES;
const { REMOVE_ITEM, UPDATE_ITEM_QUANTITY } = _constants.COMMERCE_CART_PUBLISHED_SITE_ACTIONS;
const updateItemQuantityMutation = (0, _graphqltag.default)`
  mutation AddToCart($skuId: String!, $count: Int!) {
    ecommerceUpdateCartItem(sku: $skuId, count: $count) {
      ok
      itemId
      itemCount
    }
  }
`;
const forEachElementInForm = (form, callback)=>{
    if (form instanceof HTMLFormElement && form.elements instanceof HTMLCollection) {
        Array.from(form.elements).forEach((input)=>{
            if (input instanceof HTMLInputElement) {
                callback(input);
            }
        });
    }
};
const disableAllFormElements = (form)=>{
    forEachElementInForm(form, (input)=>{
        input.disabled = true;
    });
};
const enableAllFormElements = (form)=>{
    forEachElementInForm(form, (input)=>{
        input.disabled = false;
    });
};
// Recursively searches up the tree to find the remove link anchor element
// @ts-expect-error - TS7023 - 'searchTreeForRemoveLink' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions.
const searchTreeForRemoveLink = (element)=>{
    if (element instanceof Element && element.hasAttribute(_constants.COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR) && element.getAttribute(_constants.COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR) === REMOVE_ITEM && element.hasAttribute(_constants.DATA_ATTR_COMMERCE_SKU_ID)) {
        return element;
    } else {
        return element instanceof Element && element.parentElement ? searchTreeForRemoveLink(element.parentElement) : false;
    }
};
// Matchers:
const isItemRemovedEvent = (event)=>{
    // @ts-expect-error - TS2345 - Argument of type 'EventTarget | null' is not assignable to parameter of type 'EventTarget | Element'.
    return searchTreeForRemoveLink(event.target);
};
const isItemQuantityChangedEvent = (event)=>event.target instanceof Element && event.target.hasAttribute(_constants.COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR) && event.target.getAttribute(_constants.COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR) === UPDATE_ITEM_QUANTITY && event.target.hasAttribute(_constants.DATA_ATTR_COMMERCE_SKU_ID) && event.target;
const isItemQuantityInputEvent = (event)=>event.target instanceof Element && event.target.hasAttribute(_constants.COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR) && event.target.getAttribute(_constants.COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR) === UPDATE_ITEM_QUANTITY && event.target.hasAttribute(_constants.DATA_ATTR_COMMERCE_SKU_ID) && event.target;
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isCartButtonEvent = ({ target })=>{
    const cartOpenLink = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_OPEN_LINK, target);
    const cartCloseLink = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CLOSE_LINK, target);
    if (cartOpenLink) {
        return cartOpenLink;
    } else if (cartCloseLink) {
        return cartCloseLink;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isCartCheckoutButtonEvent = ({ target })=>{
    const cartCheckoutButton = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CHECKOUT_BUTTON, target);
    if (cartCheckoutButton) {
        return cartCheckoutButton;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isCartWrapperEvent = ({ target })=>target instanceof Element && target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CART_WRAPPER && target;
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isCartFormEvent = ({ target })=>target instanceof Element && target.hasAttribute(_constants.DATA_ATTR_NODE_TYPE) && target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CART_FORM;
// @ts-expect-error - TS7023 - 'getFormElement' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions.
const getFormElement = (element)=>{
    if (!(element instanceof Element)) {
        return null;
    }
    return element instanceof HTMLFormElement ? element : getFormElement(element.parentElement);
};
// Event handlers:
const handleItemRemoved = (event, apolloClient)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    event.preventDefault();
    const { currentTarget } = event;
    if (!(currentTarget instanceof HTMLElement)) {
        return;
    }
    const commerceCartWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER, currentTarget);
    if (!(commerceCartWrapper instanceof Element)) {
        return;
    }
    const errorElement = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_ERROR, commerceCartWrapper);
    if (!(errorElement instanceof Element)) {
        return;
    }
    errorElement.style.setProperty('display', 'none');
    const skuId = currentTarget.getAttribute(_constants.DATA_ATTR_COMMERCE_SKU_ID);
    const count = 0;
    const form = getFormElement(currentTarget);
    disableAllFormElements(form);
    const cartItem = (0, _commerceUtils.findClosestElementByClassName)('w-commerce-commercecartitem', currentTarget);
    if (!(cartItem instanceof Element)) {
        return;
    }
    (0, _commerceUtils.addLoadingCallback)((0, _commerceUtils.setElementLoading)(cartItem));
    // @ts-expect-error - TS2345 - Argument of type 'EventTarget | null' is not assignable to parameter of type 'EventTarget | Element'.
    const removeLinkElement = searchTreeForRemoveLink(event.target);
    // It always will be an anchor element here, but this is mostly a Flow-complaint-fixer
    if (removeLinkElement instanceof HTMLAnchorElement) {
        // Disable click events on the Remove link
        removeLinkElement.style.pointerEvents = 'none';
    }
    apolloClient.mutate({
        mutation: updateItemQuantityMutation,
        variables: {
            skuId,
            count
        }
    }).then(()=>{
        (0, _commerceUtils.triggerRender)(null);
    }, (error)=>{
        _debug.default.error(error);
        errorElement.style.removeProperty('display');
        const errorMsg = errorElement.querySelector(_constants.CART_ERROR_MESSAGE_SELECTOR);
        if (!errorMsg) {
            return;
        }
        // Only general error should be triggered when removing items
        const errorText = errorMsg.getAttribute(_constants.CART_GENERAL_ERROR_MESSAGE) || '';
        errorMsg.textContent = errorText;
        (0, _commerceUtils.triggerRender)(error);
    }).then(()=>{
        if (removeLinkElement instanceof HTMLAnchorElement) {
            // Re-enable click events on the Remove link
            removeLinkElement.style.pointerEvents = 'auto';
        }
        // When cart is becoming empty, focus on the first thing that can be focused
        const cartContainer = currentTarget.closest('.w-commerce-commercecartcontainer');
        if (cartContainer instanceof HTMLElement) {
            const itemContainer = cartContainer.getElementsByClassName('w-commerce-commercecartitem');
            const focusableContent = getFocusableElements(cartContainer);
            if (itemContainer.length === 1 && focusableContent.length > 0) {
                // @ts-expect-error - TS2339 - Property 'focus' does not exist on type 'Element'.
                focusableContent[0].focus();
            }
        }
    });
};
const handleItemQuantityChanged = (event, apolloClient)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    event.preventDefault();
    const { currentTarget } = event;
    if (!(currentTarget instanceof HTMLInputElement)) {
        return;
    }
    if (currentTarget.form instanceof HTMLFormElement && currentTarget.form.reportValidity() === false) {
        return;
    }
    const commerceCartWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER, currentTarget);
    if (!(commerceCartWrapper instanceof Element)) {
        return;
    }
    const errorElement = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_ERROR, commerceCartWrapper);
    if (!(errorElement instanceof Element)) {
        return;
    }
    errorElement.style.setProperty('display', 'none');
    const cartItem = currentTarget.parentElement;
    if (!(cartItem instanceof Element)) {
        return;
    }
    (0, _commerceUtils.addLoadingCallback)((0, _commerceUtils.setElementLoading)(cartItem));
    const skuId = currentTarget.getAttribute(_constants.DATA_ATTR_COMMERCE_SKU_ID);
    const count = currentTarget.value;
    disableAllFormElements(currentTarget.form);
    apolloClient.mutate({
        mutation: updateItemQuantityMutation,
        variables: {
            skuId,
            count
        }
    }).then(()=>{
        enableAllFormElements(currentTarget.form);
        (0, _commerceUtils.triggerRender)(null);
    }, (error)=>{
        enableAllFormElements(currentTarget.form);
        _debug.default.error(error);
        errorElement.style.removeProperty('display');
        const errorMsg = errorElement.querySelector(_constants.CART_ERROR_MESSAGE_SELECTOR);
        if (!errorMsg) {
            return;
        }
        const errorType = error.graphQLErrors && error.graphQLErrors.length > 0 && error.graphQLErrors[0].code === 'OutOfInventory' ? 'quantity' : 'general';
        const errorText = errorMsg.getAttribute((0, _constants.getCartErrorMessageForType)(errorType)) || '';
        errorMsg.textContent = errorText;
        (0, _commerceUtils.triggerRender)(error);
    });
};
const handleItemInputChanged = (event)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    event.preventDefault();
    const { currentTarget } = event;
    if (!(currentTarget instanceof HTMLInputElement)) {
        return;
    }
    if (currentTarget.validity.valid === false && currentTarget.form instanceof HTMLFormElement) {
        currentTarget.form.reportValidity();
    }
};
const handleChangeCartStateEvent = (event)=>{
    if (!(event.currentTarget instanceof Element) || !(event instanceof CustomEvent)) {
        return;
    }
    const { currentTarget, detail } = event;
    const isOpen = currentTarget.hasAttribute(_constants.CART_OPEN);
    const shouldOpen = detail && detail.open != null ? detail.open : !isOpen;
    const wrapper = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER, currentTarget);
    if (!wrapper) {
        return;
    }
    const cartContainer = getCartContainer(wrapper);
    if (!cartContainer) {
        return;
    }
    const cartElement = wrapper.parentElement;
    if (!cartElement) {
        return;
    }
    const cartType = cartElement.getAttribute(_constants.CART_TYPE);
    const duration = (0, _defaultTo.default)(cartElement.getAttribute(_constants.DATA_ATTR_ANIMATION_DURATION), _constants.ANIMATION_DURATION_DEFAULT) + 'ms';
    const containerEasing = (0, _defaultTo.default)(cartElement.getAttribute(_constants.DATA_ATTR_ANIMATION_EASING), _constants.ANIMATION_EASING_DEFAULT);
    const wrapperTransition = `opacity ${duration} ease 0ms`;
    const containerOutDelay = '50ms';
    const shouldAnimate = duration !== '0ms';
    let containerStepA;
    let containerStepB;
    switch(cartType){
        case MODAL:
            {
                containerStepA = {
                    scale: 0.95
                };
                containerStepB = {
                    scale: 1.0
                };
                break;
            }
        case LEFT_SIDEBAR:
            {
                containerStepA = {
                    x: -30
                };
                containerStepB = {
                    x: 0
                };
                break;
            }
        case RIGHT_SIDEBAR:
            {
                containerStepA = {
                    x: 30
                };
                containerStepB = {
                    x: 0
                };
                break;
            }
        case LEFT_DROPDOWN:
        case RIGHT_DROPDOWN:
            {
                containerStepA = {
                    y: -10
                };
                containerStepB = {
                    y: 0
                };
                break;
            }
    }
    if (shouldOpen) {
        document.addEventListener('keydown', handleCartFocusTrap);
        currentTarget.setAttribute(_constants.CART_OPEN, '');
        wrapper.style.removeProperty('display');
        // Ensures that the first focusable element in the cart gets focus
        // on cart launching.
        const focusableContent = getFocusableElements(cartContainer);
        if (focusableContent.length > 0) {
            // @ts-expect-error - TS2339 - Property 'focus' does not exist on type 'Element'.
            focusableContent[0].focus();
        }
        if (shouldAnimate && !isOpen) {
            // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
            window.Webflow.tram(wrapper).add(wrapperTransition).set({
                opacity: 0
            }).start({
                opacity: 1
            });
            // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
            window.Webflow.tram(cartContainer).add(`transform ${duration} ${containerEasing} 0ms`).set(containerStepA).start(containerStepB);
        }
    } else {
        document.removeEventListener('keydown', handleCartFocusTrap);
        currentTarget.removeAttribute(_constants.CART_OPEN);
        if (shouldAnimate) {
            // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
            window.Webflow.tram(wrapper).add(wrapperTransition).start({
                opacity: 0
            }).then(()=>{
                wrapper.style.display = 'none';
                // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
                window.Webflow.tram(cartContainer).stop();
            });
            // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
            window.Webflow.tram(cartContainer).add(`transform ${duration} ${containerEasing} ${containerOutDelay}`).start(containerStepA);
        } else {
            wrapper.style.display = 'none';
        }
        const cartOpenButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_OPEN_LINK, cartElement);
        if (cartOpenButton instanceof Element) {
            cartOpenButton.focus();
        }
    }
};
const handleCartButton = (event)=>{
    // Don't handle events when we're in design mode
    if (window.Webflow.env('design')) {
        return;
    }
    const { currentTarget, type } = event;
    if (!(currentTarget instanceof Element)) {
        return;
    }
    const commerceCartWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER, currentTarget);
    if (!(commerceCartWrapper instanceof Element)) {
        return;
    }
    const cartContainerWrapper = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER, commerceCartWrapper);
    let evt;
    if (type === 'click' && (currentTarget.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CART_CLOSE_LINK || currentTarget.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CART_OPEN_LINK && !commerceCartWrapper.hasAttribute(_constants.DATA_ATTR_OPEN_ON_HOVER))) {
        evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
            bubbles: true
        });
        if (cartContainerWrapper && currentTarget.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CART_CLOSE_LINK) {
            cartContainerWrapper.removeEventListener('mouseleave', handleCartContainerLeave);
            // @ts-expect-error - TS2769 - No overload matches this call.
            commerceCartWrapper.removeEventListener('mouseleave', handleCartContainerLeave);
        }
    } else if (type === 'mouseover' && commerceCartWrapper.hasAttribute(_constants.DATA_ATTR_OPEN_ON_HOVER) && currentTarget.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CART_OPEN_LINK) {
        evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
            bubbles: true,
            detail: {
                open: true
            }
        });
        if (cartContainerWrapper) {
            cartContainerWrapper.addEventListener('mouseleave', handleCartContainerLeave);
            // @ts-expect-error - TS2769 - No overload matches this call.
            currentTarget.addEventListener('mouseleave', handleCartContainerLeave);
        }
    }
    if (evt) {
        commerceCartWrapper.dispatchEvent(evt);
    }
};
const handleCartCheckoutButton = (event)=>{
    // Don't want to continue with validation in preview mode
    if (window.Webflow.env('preview')) {
        return;
    }
    event.preventDefault();
    const { currentTarget: checkoutButton } = event;
    if (!(checkoutButton instanceof Element)) {
        return;
    }
    if (!(0, _commerceUtils.isProtocolHttps)()) {
        window.alert('This site is currently unsecured so you cannot enter checkout.');
        return;
    }
    const loadingText = checkoutButton.getAttribute(_constants.DATA_ATTR_LOADING_TEXT);
    const buttonText = checkoutButton.innerHTML;
    checkoutButton.innerHTML = loadingText ? loadingText : _constants.CART_CHECKOUT_LOADING_TEXT_DEFAULT;
    const commerceCartWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER, checkoutButton);
    if (!(commerceCartWrapper instanceof Element)) {
        return;
    }
    // To determine if we should continue with checkout, we check for the existence of
    // either the Stripe publishable key (only added when Stripe is enabled), or the
    // PayPal script element. If neither exists, we want to block checkout, as this means
    // no payment gateway has been enabled, and therefore, checkout cannot be enabled.
    // In the future, we may need to expand this to be more comprehensive, if we allow
    // for free orders on sites without a payment gateway attached, or if/when we add
    // more possible payment gateways.
    const publishableKey = checkoutButton.getAttribute(_constants.DATA_ATTR_PUBLISHABLE_KEY);
    const paypalElement = document.querySelector(`[${_constants.PAYPAL_ELEMENT_INSTANCE}]`);
    if (!publishableKey && !paypalElement) {
        const errorElement = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_ERROR, commerceCartWrapper);
        if (!(errorElement instanceof Element)) {
            return;
        }
        errorElement.style.setProperty('display', 'none');
        errorElement.style.removeProperty('display');
        const errorMsg = errorElement.querySelector('.w-cart-error-msg');
        if (!errorMsg) {
            return;
        }
        // Render checkout error message
        const errorText = errorMsg.getAttribute(`data-w-cart-checkout-error`) || '';
        errorMsg.textContent = errorText;
        checkoutButton.innerHTML = buttonText ? buttonText : _constants.CART_CHECKOUT_BUTTON_TEXT_DEFAULT;
        return;
    }
    if (!(checkoutButton instanceof HTMLAnchorElement)) {
        checkoutButton.innerHTML = buttonText ? buttonText : _constants.CART_CHECKOUT_BUTTON_TEXT_DEFAULT;
        return;
    }
    // @ts-expect-error - TS2322 - Type 'string' is not assignable to type 'Location | (string & Location)'.
    window.location = checkoutButton.href;
};
const handleSubmitForm = (event)=>{
    if (window.Webflow.env('preview')) {
        return;
    }
    event.preventDefault();
};
const handleCartContainerLeave = (event)=>{
    const { target, relatedTarget } = event;
    if (!(target instanceof Element) || !(relatedTarget instanceof Element)) {
        return;
    }
    const { parentElement } = target;
    if (!(parentElement instanceof Element)) {
        return;
    }
    // Don't want to close cart if switching between the button and the container
    const cartWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER, relatedTarget);
    const cartContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CONTAINER, relatedTarget);
    if (cartWrapper || cartContainer) {
        return;
    }
    const evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
        bubbles: true,
        detail: {
            open: false
        }
    });
    parentElement.dispatchEvent(evt);
    cartWrapper && // @ts-expect-error - TS2358 - The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
    cartWrapper instanceof Element && // @ts-expect-error - TS2339 - Property 'removeEventListener' does not exist on type 'never'.
    cartWrapper.removeEventListener('mouseleave', handleCartContainerLeave);
    cartContainer && // @ts-expect-error - TS2358 - The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
    cartContainer instanceof Element && // @ts-expect-error - TS2339 - Property 'removeEventListener' does not exist on type 'never'.
    cartContainer.removeEventListener('mouseleave', handleCartContainerLeave);
};
let cartContainerStates = [];
const handlePreviewMode = ()=>{
    // When we change to preview mode, we start by getting all of the cart wrappers on the page
    const cartContainerElements = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER);
    cartContainerElements.forEach((element)=>{
        // We then store the container element and its state in the designer
        const wasOpen = element.style.display !== 'none';
        cartContainerStates.push({
            element,
            wasOpen
        });
        // If it was open, we then dispatch the cart change event on the wrapper outside
        // to mirror what the functionality is in the `handleCartButton` function, so that
        // when the user tries to close the cart in the preview, it works as expected
        if (wasOpen) {
            const evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
                bubbles: true,
                detail: {
                    open: true
                }
            });
            const { parentElement } = element;
            if (parentElement) {
                parentElement.dispatchEvent(evt);
            }
        }
    });
};
const handleDesignMode = ()=>{
    // When we change back to design mode, we iterate over all the stored elements and states
    // and return them back to what they were when the user changed to preview mode.
    // While it would be nice if we could update the state that's stored in the designer,
    // this would require some ugly hacks to access the outer frame of the designer.
    cartContainerStates.forEach(({ element: wrapper, wasOpen })=>{
        // Remove quick animation style data
        // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
        window.Webflow.tram(wrapper).destroy();
        wrapper.style.opacity = '1';
        const cartContainer = getCartContainer(wrapper);
        if (cartContainer) {
            // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
            window.Webflow.tram(cartContainer).destroy();
            cartContainer.style.transform = '';
        }
        // Reset the wrapper display property
        if (wasOpen) {
            wrapper.style.removeProperty('display');
        } else {
            wrapper.style.display = 'none';
        }
        // We reset the associated outer wrapper's state, so that we're back exactly to the state
        // of the DOM as it was in the designer.
        const cartElement = wrapper.parentElement;
        if (cartElement) {
            cartElement.removeAttribute(_constants.CART_OPEN);
        }
    });
    // We then clear out the states after the iteration has completed. It's possible we could keep them, and then
    // do some diff-ing or something so we don't have to iterate over them again in `handlePreviewMode`, but I think
    // that would be more computational work than just re-querying the DOM.
    cartContainerStates = [];
};
const doForAllMatchingClass = (cart, className, // @ts-expect-error - TS7006 - Parameter 'fn' implicitly has an 'any' type.
fn)=>Array.from(cart.getElementsByClassName(className)).forEach(fn);
const showCartDefaultState = (cart)=>{
    doForAllMatchingClass(cart, 'w-commerce-commercecartemptystate', _commerceUtils.hideElement);
    doForAllMatchingClass(cart, 'w-commerce-commercecartform', _commerceUtils.showElement);
};
const showCartEmptyState = (cart)=>{
    doForAllMatchingClass(cart, 'w-commerce-commercecartemptystate', _commerceUtils.showElement);
    doForAllMatchingClass(cart, 'w-commerce-commercecartform', _commerceUtils.hideElement);
};
const hideErrorState = (cart)=>{
    doForAllMatchingClass(cart, 'w-commerce-commercecarterrorstate', _commerceUtils.hideElement);
};
const showErrorState = (cart)=>{
    doForAllMatchingClass(cart, 'w-commerce-commercecarterrorstate', _commerceUtils.showElement);
};
const hasItems = (response)=>response && response.data && response.data.database && response.data.database.commerceOrder && response.data.database.commerceOrder.userItems && response.data.database.commerceOrder.userItems.length > 0;
const hasErrors = (response)=>response && response.errors && response.errors.length > 0;
const updateCartA11Y = (cart)=>{
    doForAllMatchingClass(cart, 'w-commerce-commercecartopenlinkcount', // @ts-expect-error - TS7006 - Parameter 'element' implicitly has an 'any' type.
    (element)=>{
        doForAllMatchingClass(cart, 'w-commerce-commercecartopenlink', // @ts-expect-error - TS7006 - Parameter 'openLinkElement' implicitly has an 'any' type.
        (openLinkElement)=>{
            openLinkElement.setAttribute('aria-label', element.textContent === '0' ? 'Open empty cart' : `Open cart containing ${element.textContent} items`);
        });
    });
};
const renderCart = (cart, data, stripeStore)=>{
    hideErrorState(cart);
    if (hasErrors(data)) {
        showErrorState(cart);
    }
    doForAllMatchingClass(cart, 'w-commerce-commercecartopenlinkcount', // @ts-expect-error - TS7006 - Parameter 'element' implicitly has an 'any' type.
    (element)=>{
        const hideRule = element.getAttribute(_constants.DATA_ATTR_COUNT_HIDE_RULE);
        if (hideRule === _constants.CART_COUNT_HIDE_RULES.ALWAYS || hideRule === _constants.CART_COUNT_HIDE_RULES.EMPTY && !hasItems(data)) {
            (0, _commerceUtils.hideElement)(element);
        } else {
            (0, _commerceUtils.showElement)(element);
        }
    });
    // If it is a newly published site the commerceOrder will be null, causing the cart counter to render
    // an empty div if hide cart when empty is false and userItemsCount is not set to 0
    const dataWithDefaults = (0, _mergeWith.default)({}, data, (obj, src, key)=>{
        if (key === 'commerceOrder' && src === null) {
            return {
                userItemsCount: 0
            };
        }
    });
    (0, _rendering.renderTree)(cart, dataWithDefaults);
    if (hasItems(data)) {
        showCartDefaultState(cart);
    } else {
        showCartEmptyState(cart);
    }
    const cartForm = cart.querySelector('form');
    if (cartForm instanceof HTMLFormElement) {
        enableAllFormElements(cartForm);
    }
    // we hide the button when the paypal sdk is on the page (only appears when paypal linked and checkout enabled)
    // and when the stripe store reports that it's not initialized. we don't pass stripe store for some errors,
    // so this ensures that the button will be shown still if there was an error.
    const paypalElement = document.querySelector(`[${_constants.PAYPAL_ELEMENT_INSTANCE}]`);
    const checkoutButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CHECKOUT_BUTTON, cart);
    if (checkoutButton && paypalElement && stripeStore && !stripeStore.isInitialized()) {
        if ((0, _commerceUtils.isFreeOrder)(data)) {
            (0, _commerceUtils.showElement)(checkoutButton);
        } else {
            (0, _commerceUtils.hideElement)(checkoutButton);
        }
    }
    const paypalButton = cart.querySelector(`[${_constants.PAYPAL_BUTTON_ELEMENT_INSTANCE}]`);
    if (paypalElement && paypalButton) {
        if ((0, _commerceUtils.isFreeOrder)(data) || (0, _commerceUtils.hasSubscription)(data)) {
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            (0, _commerceUtils.hideElement)(paypalButton);
        } else {
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            (0, _commerceUtils.showElement)(paypalButton);
        }
    }
    (0, _webPaymentsEvents.updateWebPaymentsButton)(cart, data, stripeStore);
    return cart;
};
const handleRenderCart = (event, apolloClient, stripeStore)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    if (!(event instanceof CustomEvent && event.type === _constants.RENDER_TREE_EVENT)) {
        return;
    }
    const errors = [];
    const { detail } = event;
    if (detail != null && detail.error) {
        errors.push(detail.error);
    }
    const orderConfirmationContainer = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ORDER_CONFIRMATION_WRAPPER);
    // stop cart render on order confirmation page as it will always be empty, this query was setting commerceOrder to null
    // and overwritting a second query in `handleRenderOrderConfirmation`
    if (orderConfirmationContainer) {
        return;
    }
    const carts = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER);
    if (!carts.length) {
        (0, _commerceUtils.executeLoadingCallbacks)();
        return;
    }
    carts.forEach((cart)=>{
        apolloClient.query({
            query: (0, _graphqltag.default)`
          ${cart.getAttribute(_constants.CART_QUERY)}
        `,
            fetchPolicy: 'network-only',
            errorPolicy: 'all'
        }).then((data)=>{
            (0, _commerceUtils.executeLoadingCallbacks)();
            renderCart(cart, {
                ...data,
                errors: errors.concat(data.errors).filter(Boolean)
            }, stripeStore);
            updateCartA11Y(cart);
        }).catch((err)=>{
            (0, _commerceUtils.executeLoadingCallbacks)();
            errors.push(err);
            renderCart(cart, {
                errors
            });
            updateCartA11Y(cart);
        });
    });
};
const handleCartKeyUp = (event)=>{
    // Escape
    // @ts-expect-error - TS2339 - Property 'keyCode' does not exist on type 'Event | KeyboardEvent'.
    if (event.keyCode === 27) {
        const openCarts = Array.from(document.querySelectorAll(`[${_constants.CART_OPEN}]`));
        (0, _forEach.default)(openCarts, (cart)=>{
            const evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
                bubbles: true,
                detail: {
                    open: false
                }
            });
            cart.dispatchEvent(evt);
        });
    }
    // Spacebar
    // @ts-expect-error - TS2339 - Property 'keyCode' does not exist on type 'Event | KeyboardEvent'.
    if (event.keyCode === 32 && event.target instanceof HTMLElement) {
        // Flow was being a bit strange with typing and only assuming HTMLElement
        // the first time it was used. So setting it as a new variable here to
        // persist that type.
        const htmlElement = event.target;
        // Make sure element being checked is intended to work as a link or button and
        // is a child of `commerce-cart-wrapper`
        // This will prevent the keyboard trigger applying to elements that don't
        // belong to the Cart or otherwise shouldn't be interactable in this manner.
        if ((htmlElement.getAttribute('role') === 'button' || htmlElement.getAttribute('role') === 'link' || htmlElement.hasAttribute('href') || htmlElement.hasAttribute('onClick')) && (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER, event.target) != null) {
            event.preventDefault();
            htmlElement.click();
        }
    }
};
const getCartContainer = (parent)=>(0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CONTAINER, parent);
const handleClickCloseCart = ({ target })=>{
    if (!(target instanceof Element)) {
        return;
    }
    const openCarts = Array.from(document.querySelectorAll(`[${_constants.CART_OPEN}]`));
    (0, _forEach.default)(openCarts, (cart)=>{
        // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
        const cartContainer = getCartContainer(cart);
        const cartOpenButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_OPEN_LINK, cart);
        if (!(cartContainer instanceof Element) || !(cartOpenButton instanceof Element)) {
            return;
        }
        const cartType = cart.getAttribute(_constants.CART_TYPE);
        // on dropdown, we close if outside the cart is clicked, and on modal/sidebar, we close if outside the container or open button is clicked
        const isNotInside = cartType === LEFT_DROPDOWN || cartType === RIGHT_DROPDOWN ? !cart.contains(target) : !cartContainer.contains(target) && !cartOpenButton.contains(target);
        if (isNotInside) {
            const evt = new CustomEvent(_constants.CHANGE_CART_EVENT, {
                bubbles: true,
                detail: {
                    open: false
                }
            });
            cart.dispatchEvent(evt);
        }
    });
};
const getFocusableElements = (container)=>{
    const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
    return [
        ...container.querySelectorAll(focusableElements)
    ].filter(// @ts-expect-error - TS2339 - Property 'offsetHeight' does not exist on type 'Element'.
    (element)=>!element.hasAttribute('disabled') && element.offsetHeight > 0);
};
const handleCartFocusTrap = (event)=>{
    // @ts-expect-error - TS2339 - Property 'key' does not exist on type 'Event | KeyboardEvent'. | TS2339 - Property 'keyCode' does not exist on type 'Event | KeyboardEvent'.
    if (event.key !== 'Tab' && event.keyCode !== 9) {
        return;
    }
    const openCarts = Array.from(document.querySelectorAll(`[${_constants.CART_OPEN}]`));
    (0, _forEach.default)(openCarts, (cart)=>{
        // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
        const cartContainer = getCartContainer(cart);
        if (!(cartContainer instanceof Element)) {
            return;
        }
        const focusableContent = getFocusableElements(cartContainer);
        const firstFocusableElement = focusableContent[0];
        const lastFocusableElement = focusableContent[focusableContent.length - 1];
        // @ts-expect-error - TS2339 - Property 'shiftKey' does not exist on type 'Event | KeyboardEvent'.
        if (event.shiftKey) {
            if (document.activeElement === firstFocusableElement) {
                // @ts-expect-error - TS2339 - Property 'focus' does not exist on type 'Element'.
                lastFocusableElement.focus();
                event.preventDefault();
            }
        } else {
            if (document.activeElement === lastFocusableElement) {
                // @ts-expect-error - TS2339 - Property 'focus' does not exist on type 'Element'.
                firstFocusableElement.focus();
                event.preventDefault();
            }
        }
    });
};
const register = (handlerProxy)=>{
    handlerProxy.on('click', isItemRemovedEvent, handleItemRemoved);
    handlerProxy.on('change', isItemQuantityChangedEvent, handleItemQuantityChanged);
    handlerProxy.on('focus', isItemQuantityInputEvent, handleItemInputChanged);
    handlerProxy.on('click', isCartButtonEvent, handleCartButton);
    handlerProxy.on('click', isCartCheckoutButtonEvent, handleCartCheckoutButton);
    handlerProxy.on('mouseover', isCartButtonEvent, handleCartButton);
    handlerProxy.on(_constants.CHANGE_CART_EVENT, isCartWrapperEvent, handleChangeCartStateEvent);
    handlerProxy.on(_constants.RENDER_TREE_EVENT, Boolean, handleRenderCart);
    // Needed to avoid submission of cart form when only one item is in cart and user hits
    // enter key while in quantity input (acts as submit if only 1 input and no submit)
    handlerProxy.on('submit', isCartFormEvent, handleSubmitForm);
    handlerProxy.on('keyup', Boolean, handleCartKeyUp);
    handlerProxy.on('click', Boolean, handleClickCloseCart);
    // These events are for handling the back and forth between preview and designer
    // and must be registered directly to the window, otherwise they are not registered
    // when the canvas is created.
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        window.addEventListener('__wf_preview', handlePreviewMode);
        window.addEventListener('__wf_design', handleDesignMode);
    }
};
const _default = {
    register
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnRFdmVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBkb2N1bWVudCwgd2luZG93LCBFbGVtZW50LCBIVE1MRWxlbWVudCwgQ3VzdG9tRXZlbnQsIEhUTUxGb3JtRWxlbWVudCwgSFRNTElucHV0RWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIEhUTUxBbmNob3JFbGVtZW50ICovXG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJztcbmltcG9ydCBtZXJnZVdpdGggZnJvbSAnbG9kYXNoL21lcmdlV2l0aCc7XG5pbXBvcnQgZm9yRWFjaCBmcm9tICdsb2Rhc2gvZm9yRWFjaCc7XG5pbXBvcnQge1xuICBDT01NRVJDRV9DQVJUX1BVQkxJU0hFRF9TSVRFX0FDVElPTl9BVFRSLFxuICBDT01NRVJDRV9DQVJUX1BVQkxJU0hFRF9TSVRFX0FDVElPTlMsXG4gIERBVEFfQVRUUl9DT01NRVJDRV9TS1VfSUQsXG4gIERBVEFfQVRUUl9OT0RFX1RZUEUsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX09QRU5fTElOSyxcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ0xPU0VfTElOSyxcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSX1dSQVBQRVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NPTlRBSU5FUixcbiAgREFUQV9BVFRSX0NPVU5UX0hJREVfUlVMRSxcbiAgQ0FSVF9DT1VOVF9ISURFX1JVTEVTLFxuICBDQVJUX1RZUEVTLFxuICBBTklNQVRJT05fRUFTSU5HX0RFRkFVTFQsXG4gIEFOSU1BVElPTl9EVVJBVElPTl9ERUZBVUxULFxuICBEQVRBX0FUVFJfQU5JTUFUSU9OX0VBU0lORyxcbiAgREFUQV9BVFRSX0FOSU1BVElPTl9EVVJBVElPTixcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ0hFQ0tPVVRfQlVUVE9OLFxuICBEQVRBX0FUVFJfTE9BRElOR19URVhULFxuICBDQVJUX0NIRUNLT1VUX0JVVFRPTl9URVhUX0RFRkFVTFQsXG4gIENBUlRfQ0hFQ0tPVVRfTE9BRElOR19URVhUX0RFRkFVTFQsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0VSUk9SLFxuICBEQVRBX0FUVFJfUFVCTElTSEFCTEVfS0VZLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9GT1JNLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfT1JERVJfQ09ORklSTUFUSU9OX1dSQVBQRVIsXG4gIENBUlRfR0VORVJBTF9FUlJPUl9NRVNTQUdFLFxuICBDQVJUX0VSUk9SX01FU1NBR0VfU0VMRUNUT1IsXG4gIENBUlRfT1BFTixcbiAgQ0FSVF9UWVBFLFxuICBDQVJUX1FVRVJZLFxuICBQQVlQQUxfRUxFTUVOVF9JTlNUQU5DRSxcbiAgZ2V0Q2FydEVycm9yTWVzc2FnZUZvclR5cGUsXG4gIERBVEFfQVRUUl9PUEVOX09OX0hPVkVSLFxuICBDSEFOR0VfQ0FSVF9FVkVOVCxcbiAgUkVOREVSX1RSRUVfRVZFTlQsXG4gIFBBWVBBTF9CVVRUT05fRUxFTUVOVF9JTlNUQU5DRSxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29uc3RhbnRzJztcbmltcG9ydCBFdmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQgZnJvbSAnLi9ldmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQnO1xuaW1wb3J0IHtcbiAgdHJpZ2dlclJlbmRlcixcbiAgZmluZEVsZW1lbnRCeU5vZGVUeXBlLFxuICBpc1Byb3RvY29sSHR0cHMsXG4gIGZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUsXG4gIGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUsXG4gIGZpbmRDbG9zZXN0RWxlbWVudEJ5Q2xhc3NOYW1lLFxuICBzZXRFbGVtZW50TG9hZGluZyxcbiAgYWRkTG9hZGluZ0NhbGxiYWNrLFxuICBleGVjdXRlTG9hZGluZ0NhbGxiYWNrcyxcbiAgaXNGcmVlT3JkZXIsXG4gIGhhc1N1YnNjcmlwdGlvbixcbiAgc2hvd0VsZW1lbnQsXG4gIGhpZGVFbGVtZW50LFxufSBmcm9tICcuL2NvbW1lcmNlVXRpbHMnO1xuaW1wb3J0IHtTdHJpcGVTdG9yZX0gZnJvbSAnLi9zdHJpcGVTdG9yZSc7XG5pbXBvcnQgZGVidWcgZnJvbSAnLi9kZWJ1Zyc7XG5pbXBvcnQge3VwZGF0ZVdlYlBheW1lbnRzQnV0dG9ufSBmcm9tICcuL3dlYlBheW1lbnRzRXZlbnRzJztcblxuaW1wb3J0IHtyZW5kZXJUcmVlfSBmcm9tICcuL3JlbmRlcmluZyc7XG5cbmltcG9ydCBkZWZhdWx0VG8gZnJvbSAnbG9kYXNoL2RlZmF1bHRUbyc7XG5pbXBvcnQge0Fwb2xsb0NsaWVudCwgTm9ybWFsaXplZENhY2hlT2JqZWN0fSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5cbmNvbnN0IHtNT0RBTCwgTEVGVF9TSURFQkFSLCBSSUdIVF9TSURFQkFSLCBMRUZUX0RST1BET1dOLCBSSUdIVF9EUk9QRE9XTn0gPVxuICBDQVJUX1RZUEVTO1xuXG5jb25zdCB7UkVNT1ZFX0lURU0sIFVQREFURV9JVEVNX1FVQU5USVRZfSA9XG4gIENPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OUztcblxuY29uc3QgdXBkYXRlSXRlbVF1YW50aXR5TXV0YXRpb24gPSBncWxgXG4gIG11dGF0aW9uIEFkZFRvQ2FydCgkc2t1SWQ6IFN0cmluZyEsICRjb3VudDogSW50ISkge1xuICAgIGVjb21tZXJjZVVwZGF0ZUNhcnRJdGVtKHNrdTogJHNrdUlkLCBjb3VudDogJGNvdW50KSB7XG4gICAgICBva1xuICAgICAgaXRlbUlkXG4gICAgICBpdGVtQ291bnRcbiAgICB9XG4gIH1cbmA7XG5cbmNvbnN0IGZvckVhY2hFbGVtZW50SW5Gb3JtID0gKFxuICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBjYWxsYmFjazogKGFyZzE6IEhUTUxJbnB1dEVsZW1lbnQpID0+IHZvaWRcbikgPT4ge1xuICBpZiAoXG4gICAgZm9ybSBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCAmJlxuICAgIGZvcm0uZWxlbWVudHMgaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvblxuICApIHtcbiAgICBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGNhbGxiYWNrKGlucHV0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgZGlzYWJsZUFsbEZvcm1FbGVtZW50cyA9IChmb3JtPzogSFRNTEZvcm1FbGVtZW50IHwgbnVsbCkgPT4ge1xuICBmb3JFYWNoRWxlbWVudEluRm9ybShmb3JtLCAoaW5wdXQpID0+IHtcbiAgICBpbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gIH0pO1xufTtcblxuY29uc3QgZW5hYmxlQWxsRm9ybUVsZW1lbnRzID0gKGZvcm0/OiBIVE1MRm9ybUVsZW1lbnQgfCBudWxsKSA9PiB7XG4gIGZvckVhY2hFbGVtZW50SW5Gb3JtKGZvcm0sIChpbnB1dCkgPT4ge1xuICAgIGlucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gIH0pO1xufTtcblxuLy8gUmVjdXJzaXZlbHkgc2VhcmNoZXMgdXAgdGhlIHRyZWUgdG8gZmluZCB0aGUgcmVtb3ZlIGxpbmsgYW5jaG9yIGVsZW1lbnRcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMjMgLSAnc2VhcmNoVHJlZUZvclJlbW92ZUxpbmsnIGltcGxpY2l0bHkgaGFzIHJldHVybiB0eXBlICdhbnknIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhIHJldHVybiB0eXBlIGFubm90YXRpb24gYW5kIGlzIHJlZmVyZW5jZWQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbiBvbmUgb2YgaXRzIHJldHVybiBleHByZXNzaW9ucy5cbmNvbnN0IHNlYXJjaFRyZWVGb3JSZW1vdmVMaW5rID0gKGVsZW1lbnQ6IEVsZW1lbnQgfCBFdmVudFRhcmdldCkgPT4ge1xuICBpZiAoXG4gICAgZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgICBlbGVtZW50Lmhhc0F0dHJpYnV0ZShDT01NRVJDRV9DQVJUX1BVQkxJU0hFRF9TSVRFX0FDVElPTl9BVFRSKSAmJlxuICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKENPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OX0FUVFIpID09PVxuICAgICAgUkVNT1ZFX0lURU0gJiZcbiAgICBlbGVtZW50Lmhhc0F0dHJpYnV0ZShEQVRBX0FUVFJfQ09NTUVSQ0VfU0tVX0lEKVxuICApIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgICA/IHNlYXJjaFRyZWVGb3JSZW1vdmVMaW5rKGVsZW1lbnQucGFyZW50RWxlbWVudClcbiAgICAgIDogZmFsc2U7XG4gIH1cbn07XG5cbi8vIE1hdGNoZXJzOlxuY29uc3QgaXNJdGVtUmVtb3ZlZEV2ZW50ID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRXZlbnRUYXJnZXQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnRXZlbnRUYXJnZXQgfCBFbGVtZW50Jy5cbiAgcmV0dXJuIHNlYXJjaFRyZWVGb3JSZW1vdmVMaW5rKGV2ZW50LnRhcmdldCk7XG59O1xuXG5jb25zdCBpc0l0ZW1RdWFudGl0eUNoYW5nZWRFdmVudCA9IChldmVudDogRXZlbnQpID0+XG4gIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgZXZlbnQudGFyZ2V0Lmhhc0F0dHJpYnV0ZShDT01NRVJDRV9DQVJUX1BVQkxJU0hFRF9TSVRFX0FDVElPTl9BVFRSKSAmJlxuICBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKENPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OX0FUVFIpID09PVxuICAgIFVQREFURV9JVEVNX1FVQU5USVRZICYmXG4gIGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUoREFUQV9BVFRSX0NPTU1FUkNFX1NLVV9JRCkgJiZcbiAgZXZlbnQudGFyZ2V0O1xuXG5jb25zdCBpc0l0ZW1RdWFudGl0eUlucHV0RXZlbnQgPSAoZXZlbnQ6IEV2ZW50KSA9PlxuICBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmXG4gIGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUoQ09NTUVSQ0VfQ0FSVF9QVUJMSVNIRURfU0lURV9BQ1RJT05fQVRUUikgJiZcbiAgZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShDT01NRVJDRV9DQVJUX1BVQkxJU0hFRF9TSVRFX0FDVElPTl9BVFRSKSA9PT1cbiAgICBVUERBVEVfSVRFTV9RVUFOVElUWSAmJlxuICBldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKERBVEFfQVRUUl9DT01NRVJDRV9TS1VfSUQpICYmXG4gIGV2ZW50LnRhcmdldDtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAndGFyZ2V0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuY29uc3QgaXNDYXJ0QnV0dG9uRXZlbnQgPSAoe3RhcmdldH0pID0+IHtcbiAgY29uc3QgY2FydE9wZW5MaW5rID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9PUEVOX0xJTkssXG4gICAgdGFyZ2V0XG4gICk7XG4gIGNvbnN0IGNhcnRDbG9zZUxpbmsgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NMT1NFX0xJTkssXG4gICAgdGFyZ2V0XG4gICk7XG5cbiAgaWYgKGNhcnRPcGVuTGluaykge1xuICAgIHJldHVybiBjYXJ0T3Blbkxpbms7XG4gIH0gZWxzZSBpZiAoY2FydENsb3NlTGluaykge1xuICAgIHJldHVybiBjYXJ0Q2xvc2VMaW5rO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAndGFyZ2V0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuY29uc3QgaXNDYXJ0Q2hlY2tvdXRCdXR0b25FdmVudCA9ICh7dGFyZ2V0fSkgPT4ge1xuICBjb25zdCBjYXJ0Q2hlY2tvdXRCdXR0b24gPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NIRUNLT1VUX0JVVFRPTixcbiAgICB0YXJnZXRcbiAgKTtcbiAgaWYgKGNhcnRDaGVja291dEJ1dHRvbikge1xuICAgIHJldHVybiBjYXJ0Q2hlY2tvdXRCdXR0b247XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICd0YXJnZXQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG5jb25zdCBpc0NhcnRXcmFwcGVyRXZlbnQgPSAoe3RhcmdldH0pID0+XG4gIHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgdGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTk9ERV9UWVBFKSA9PT1cbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9XUkFQUEVSICYmXG4gIHRhcmdldDtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAndGFyZ2V0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuY29uc3QgaXNDYXJ0Rm9ybUV2ZW50ID0gKHt0YXJnZXR9KSA9PlxuICB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmXG4gIHRhcmdldC5oYXNBdHRyaWJ1dGUoREFUQV9BVFRSX05PREVfVFlQRSkgJiZcbiAgdGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTk9ERV9UWVBFKSA9PT0gTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfRk9STTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAyMyAtICdnZXRGb3JtRWxlbWVudCcgaW1wbGljaXRseSBoYXMgcmV0dXJuIHR5cGUgJ2FueScgYmVjYXVzZSBpdCBkb2VzIG5vdCBoYXZlIGEgcmV0dXJuIHR5cGUgYW5ub3RhdGlvbiBhbmQgaXMgcmVmZXJlbmNlZCBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluIG9uZSBvZiBpdHMgcmV0dXJuIGV4cHJlc3Npb25zLlxuY29uc3QgZ2V0Rm9ybUVsZW1lbnQgPSAoXG4gIGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkIHwgSFRNTEVsZW1lbnQgfCBIVE1MRm9ybUVsZW1lbnRcbikgPT4ge1xuICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudFxuICAgID8gZWxlbWVudFxuICAgIDogZ2V0Rm9ybUVsZW1lbnQoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbn07XG5cbi8vIEV2ZW50IGhhbmRsZXJzOlxuY29uc3QgaGFuZGxlSXRlbVJlbW92ZWQgPSAoXG4gIGV2ZW50OiBFdmVudCxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PlxuKSA9PiB7XG4gIGlmICh3aW5kb3cuV2ViZmxvdy5lbnYoJ2Rlc2lnbicpIHx8IHdpbmRvdy5XZWJmbG93LmVudigncHJldmlldycpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3Qge2N1cnJlbnRUYXJnZXR9ID0gZXZlbnQ7XG5cbiAgaWYgKCEoY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbW1lcmNlQ2FydFdyYXBwZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVIsXG4gICAgY3VycmVudFRhcmdldFxuICApO1xuICBpZiAoIShjb21tZXJjZUNhcnRXcmFwcGVyIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfRVJST1IsXG4gICAgY29tbWVyY2VDYXJ0V3JhcHBlclxuICApO1xuICBpZiAoIShlcnJvckVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBlcnJvckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gIGNvbnN0IHNrdUlkID0gY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0NPTU1FUkNFX1NLVV9JRCk7XG4gIGNvbnN0IGNvdW50ID0gMDtcbiAgY29uc3QgZm9ybSA9IGdldEZvcm1FbGVtZW50KGN1cnJlbnRUYXJnZXQpO1xuICBkaXNhYmxlQWxsRm9ybUVsZW1lbnRzKGZvcm0pO1xuXG4gIGNvbnN0IGNhcnRJdGVtID0gZmluZENsb3Nlc3RFbGVtZW50QnlDbGFzc05hbWUoXG4gICAgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0aXRlbScsXG4gICAgY3VycmVudFRhcmdldFxuICApO1xuICBpZiAoIShjYXJ0SXRlbSBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFkZExvYWRpbmdDYWxsYmFjayhzZXRFbGVtZW50TG9hZGluZyhjYXJ0SXRlbSkpO1xuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFdmVudFRhcmdldCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdFdmVudFRhcmdldCB8IEVsZW1lbnQnLlxuICBjb25zdCByZW1vdmVMaW5rRWxlbWVudCA9IHNlYXJjaFRyZWVGb3JSZW1vdmVMaW5rKGV2ZW50LnRhcmdldCk7XG5cbiAgLy8gSXQgYWx3YXlzIHdpbGwgYmUgYW4gYW5jaG9yIGVsZW1lbnQgaGVyZSwgYnV0IHRoaXMgaXMgbW9zdGx5IGEgRmxvdy1jb21wbGFpbnQtZml4ZXJcbiAgaWYgKHJlbW92ZUxpbmtFbGVtZW50IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQpIHtcbiAgICAvLyBEaXNhYmxlIGNsaWNrIGV2ZW50cyBvbiB0aGUgUmVtb3ZlIGxpbmtcbiAgICByZW1vdmVMaW5rRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICB9XG5cbiAgYXBvbGxvQ2xpZW50XG4gICAgLm11dGF0ZSh7XG4gICAgICBtdXRhdGlvbjogdXBkYXRlSXRlbVF1YW50aXR5TXV0YXRpb24sXG4gICAgICB2YXJpYWJsZXM6IHtza3VJZCwgY291bnR9LFxuICAgIH0pXG4gICAgLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRyaWdnZXJSZW5kZXIobnVsbCk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGRlYnVnLmVycm9yKGVycm9yKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gZXJyb3JFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgQ0FSVF9FUlJPUl9NRVNTQUdFX1NFTEVDVE9SXG4gICAgICAgICk7XG4gICAgICAgIGlmICghZXJyb3JNc2cpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBnZW5lcmFsIGVycm9yIHNob3VsZCBiZSB0cmlnZ2VyZWQgd2hlbiByZW1vdmluZyBpdGVtc1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPVxuICAgICAgICAgIGVycm9yTXNnLmdldEF0dHJpYnV0ZShDQVJUX0dFTkVSQUxfRVJST1JfTUVTU0FHRSkgfHwgJyc7XG4gICAgICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gZXJyb3JUZXh0O1xuICAgICAgICB0cmlnZ2VyUmVuZGVyKGVycm9yKTtcbiAgICAgIH1cbiAgICApXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHJlbW92ZUxpbmtFbGVtZW50IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQpIHtcbiAgICAgICAgLy8gUmUtZW5hYmxlIGNsaWNrIGV2ZW50cyBvbiB0aGUgUmVtb3ZlIGxpbmtcbiAgICAgICAgcmVtb3ZlTGlua0VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiBjYXJ0IGlzIGJlY29taW5nIGVtcHR5LCBmb2N1cyBvbiB0aGUgZmlyc3QgdGhpbmcgdGhhdCBjYW4gYmUgZm9jdXNlZFxuICAgICAgY29uc3QgY2FydENvbnRhaW5lciA9IGN1cnJlbnRUYXJnZXQuY2xvc2VzdChcbiAgICAgICAgJy53LWNvbW1lcmNlLWNvbW1lcmNlY2FydGNvbnRhaW5lcidcbiAgICAgICk7XG4gICAgICBpZiAoY2FydENvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGl0ZW1Db250YWluZXIgPSBjYXJ0Q29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgICAgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0aXRlbSdcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZm9jdXNhYmxlQ29udGVudCA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKGNhcnRDb250YWluZXIpO1xuICAgICAgICBpZiAoaXRlbUNvbnRhaW5lci5sZW5ndGggPT09IDEgJiYgZm9jdXNhYmxlQ29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdmb2N1cycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgICAgICAgZm9jdXNhYmxlQ29udGVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVJdGVtUXVhbnRpdHlDaGFuZ2VkID0gKFxuICBldmVudDogRXZlbnQsXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD5cbikgPT4ge1xuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdkZXNpZ24nKSB8fCB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHtjdXJyZW50VGFyZ2V0fSA9IGV2ZW50O1xuICBpZiAoIShjdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKFxuICAgIGN1cnJlbnRUYXJnZXQuZm9ybSBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCAmJlxuICAgIGN1cnJlbnRUYXJnZXQuZm9ybS5yZXBvcnRWYWxpZGl0eSgpID09PSBmYWxzZVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb21tZXJjZUNhcnRXcmFwcGVyID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9XUkFQUEVSLFxuICAgIGN1cnJlbnRUYXJnZXRcbiAgKTtcbiAgaWYgKCEoY29tbWVyY2VDYXJ0V3JhcHBlciBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0VSUk9SLFxuICAgIGNvbW1lcmNlQ2FydFdyYXBwZXJcbiAgKTtcblxuICBpZiAoIShlcnJvckVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBlcnJvckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gIGNvbnN0IGNhcnRJdGVtID0gY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50O1xuICBpZiAoIShjYXJ0SXRlbSBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFkZExvYWRpbmdDYWxsYmFjayhzZXRFbGVtZW50TG9hZGluZyhjYXJ0SXRlbSkpO1xuXG4gIGNvbnN0IHNrdUlkID0gY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0NPTU1FUkNFX1NLVV9JRCk7XG4gIGNvbnN0IGNvdW50ID0gY3VycmVudFRhcmdldC52YWx1ZTtcbiAgZGlzYWJsZUFsbEZvcm1FbGVtZW50cyhjdXJyZW50VGFyZ2V0LmZvcm0pO1xuICBhcG9sbG9DbGllbnRcbiAgICAubXV0YXRlKHtcbiAgICAgIG11dGF0aW9uOiB1cGRhdGVJdGVtUXVhbnRpdHlNdXRhdGlvbixcbiAgICAgIHZhcmlhYmxlczoge3NrdUlkLCBjb3VudH0sXG4gICAgfSlcbiAgICAudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgZW5hYmxlQWxsRm9ybUVsZW1lbnRzKGN1cnJlbnRUYXJnZXQuZm9ybSk7XG4gICAgICAgIHRyaWdnZXJSZW5kZXIobnVsbCk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGVuYWJsZUFsbEZvcm1FbGVtZW50cyhjdXJyZW50VGFyZ2V0LmZvcm0pO1xuICAgICAgICBkZWJ1Zy5lcnJvcihlcnJvcik7XG4gICAgICAgIGVycm9yRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIENBUlRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUlxuICAgICAgICApO1xuICAgICAgICBpZiAoIWVycm9yTXNnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yVHlwZSA9XG4gICAgICAgICAgZXJyb3IuZ3JhcGhRTEVycm9ycyAmJlxuICAgICAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnNbMF0uY29kZSA9PT0gJ091dE9mSW52ZW50b3J5J1xuICAgICAgICAgICAgPyAncXVhbnRpdHknXG4gICAgICAgICAgICA6ICdnZW5lcmFsJztcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID1cbiAgICAgICAgICBlcnJvck1zZy5nZXRBdHRyaWJ1dGUoZ2V0Q2FydEVycm9yTWVzc2FnZUZvclR5cGUoZXJyb3JUeXBlKSkgfHwgJyc7XG4gICAgICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gZXJyb3JUZXh0O1xuICAgICAgICB0cmlnZ2VyUmVuZGVyKGVycm9yKTtcbiAgICAgIH1cbiAgICApO1xufTtcblxuY29uc3QgaGFuZGxlSXRlbUlucHV0Q2hhbmdlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHwgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3Qge2N1cnJlbnRUYXJnZXR9ID0gZXZlbnQ7XG4gIGlmICghKGN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoXG4gICAgY3VycmVudFRhcmdldC52YWxpZGl0eS52YWxpZCA9PT0gZmFsc2UgJiZcbiAgICBjdXJyZW50VGFyZ2V0LmZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnRcbiAgKSB7XG4gICAgY3VycmVudFRhcmdldC5mb3JtLnJlcG9ydFZhbGlkaXR5KCk7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUNoYW5nZUNhcnRTdGF0ZUV2ZW50ID0gKGV2ZW50OiBFdmVudCB8IEN1c3RvbUV2ZW50KSA9PiB7XG4gIGlmIChcbiAgICAhKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSB8fFxuICAgICEoZXZlbnQgaW5zdGFuY2VvZiBDdXN0b21FdmVudClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qge2N1cnJlbnRUYXJnZXQsIGRldGFpbH0gPSBldmVudDtcbiAgY29uc3QgaXNPcGVuID0gY3VycmVudFRhcmdldC5oYXNBdHRyaWJ1dGUoQ0FSVF9PUEVOKTtcbiAgY29uc3Qgc2hvdWxkT3BlbiA9IGRldGFpbCAmJiBkZXRhaWwub3BlbiAhPSBudWxsID8gZGV0YWlsLm9wZW4gOiAhaXNPcGVuO1xuXG4gIGNvbnN0IHdyYXBwZXIgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSX1dSQVBQRVIsXG4gICAgY3VycmVudFRhcmdldFxuICApO1xuICBpZiAoIXdyYXBwZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYXJ0Q29udGFpbmVyID0gZ2V0Q2FydENvbnRhaW5lcih3cmFwcGVyKTtcbiAgaWYgKCFjYXJ0Q29udGFpbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY2FydEVsZW1lbnQgPSB3cmFwcGVyLnBhcmVudEVsZW1lbnQ7XG4gIGlmICghY2FydEVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYXJ0VHlwZSA9IGNhcnRFbGVtZW50LmdldEF0dHJpYnV0ZShDQVJUX1RZUEUpO1xuICBjb25zdCBkdXJhdGlvbiA9XG4gICAgZGVmYXVsdFRvKFxuICAgICAgY2FydEVsZW1lbnQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9BTklNQVRJT05fRFVSQVRJT04pLFxuICAgICAgQU5JTUFUSU9OX0RVUkFUSU9OX0RFRkFVTFRcbiAgICApICsgJ21zJztcbiAgY29uc3QgY29udGFpbmVyRWFzaW5nID0gZGVmYXVsdFRvKFxuICAgIGNhcnRFbGVtZW50LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfQU5JTUFUSU9OX0VBU0lORyksXG4gICAgQU5JTUFUSU9OX0VBU0lOR19ERUZBVUxUXG4gICk7XG4gIGNvbnN0IHdyYXBwZXJUcmFuc2l0aW9uID0gYG9wYWNpdHkgJHtkdXJhdGlvbn0gZWFzZSAwbXNgO1xuICBjb25zdCBjb250YWluZXJPdXREZWxheSA9ICc1MG1zJztcbiAgY29uc3Qgc2hvdWxkQW5pbWF0ZSA9IGR1cmF0aW9uICE9PSAnMG1zJztcblxuICBsZXQgY29udGFpbmVyU3RlcEE7XG4gIGxldCBjb250YWluZXJTdGVwQjtcbiAgc3dpdGNoIChjYXJ0VHlwZSkge1xuICAgIGNhc2UgTU9EQUw6IHtcbiAgICAgIGNvbnRhaW5lclN0ZXBBID0ge3NjYWxlOiAwLjk1fTtcbiAgICAgIGNvbnRhaW5lclN0ZXBCID0ge3NjYWxlOiAxLjB9O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgTEVGVF9TSURFQkFSOiB7XG4gICAgICBjb250YWluZXJTdGVwQSA9IHt4OiAtMzB9O1xuICAgICAgY29udGFpbmVyU3RlcEIgPSB7eDogMH07XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBSSUdIVF9TSURFQkFSOiB7XG4gICAgICBjb250YWluZXJTdGVwQSA9IHt4OiAzMH07XG4gICAgICBjb250YWluZXJTdGVwQiA9IHt4OiAwfTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIExFRlRfRFJPUERPV046XG4gICAgY2FzZSBSSUdIVF9EUk9QRE9XTjoge1xuICAgICAgY29udGFpbmVyU3RlcEEgPSB7eTogLTEwfTtcbiAgICAgIGNvbnRhaW5lclN0ZXBCID0ge3k6IDB9O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNob3VsZE9wZW4pIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlQ2FydEZvY3VzVHJhcCk7XG5cbiAgICBjdXJyZW50VGFyZ2V0LnNldEF0dHJpYnV0ZShDQVJUX09QRU4sICcnKTtcbiAgICB3cmFwcGVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG5cbiAgICAvLyBFbnN1cmVzIHRoYXQgdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IGluIHRoZSBjYXJ0IGdldHMgZm9jdXNcbiAgICAvLyBvbiBjYXJ0IGxhdW5jaGluZy5cbiAgICBjb25zdCBmb2N1c2FibGVDb250ZW50ID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoY2FydENvbnRhaW5lcik7XG4gICAgaWYgKGZvY3VzYWJsZUNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdmb2N1cycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgICBmb2N1c2FibGVDb250ZW50WzBdLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZEFuaW1hdGUgJiYgIWlzT3Blbikge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdXZWJmbG93JyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcycuXG4gICAgICB3aW5kb3cuV2ViZmxvdy50cmFtKHdyYXBwZXIpXG4gICAgICAgIC5hZGQod3JhcHBlclRyYW5zaXRpb24pXG4gICAgICAgIC5zZXQoe29wYWNpdHk6IDB9KVxuICAgICAgICAuc3RhcnQoe29wYWNpdHk6IDF9KTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdXZWJmbG93JyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcycuXG4gICAgICB3aW5kb3cuV2ViZmxvdy50cmFtKGNhcnRDb250YWluZXIpXG4gICAgICAgIC5hZGQoYHRyYW5zZm9ybSAke2R1cmF0aW9ufSAke2NvbnRhaW5lckVhc2luZ30gMG1zYClcbiAgICAgICAgLnNldChjb250YWluZXJTdGVwQSlcbiAgICAgICAgLnN0YXJ0KGNvbnRhaW5lclN0ZXBCKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUNhcnRGb2N1c1RyYXApO1xuXG4gICAgY3VycmVudFRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoQ0FSVF9PUEVOKTtcblxuICAgIGlmIChzaG91bGRBbmltYXRlKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ1dlYmZsb3cnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICAgIHdpbmRvdy5XZWJmbG93LnRyYW0od3JhcHBlcilcbiAgICAgICAgLmFkZCh3cmFwcGVyVHJhbnNpdGlvbilcbiAgICAgICAgLnN0YXJ0KHtvcGFjaXR5OiAwfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ1dlYmZsb3cnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICAgICAgICB3aW5kb3cuV2ViZmxvdy50cmFtKGNhcnRDb250YWluZXIpLnN0b3AoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnV2ViZmxvdycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMnLlxuICAgICAgd2luZG93LldlYmZsb3cudHJhbShjYXJ0Q29udGFpbmVyKVxuICAgICAgICAuYWRkKGB0cmFuc2Zvcm0gJHtkdXJhdGlvbn0gJHtjb250YWluZXJFYXNpbmd9ICR7Y29udGFpbmVyT3V0RGVsYXl9YClcbiAgICAgICAgLnN0YXJ0KGNvbnRhaW5lclN0ZXBBKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIGNvbnN0IGNhcnRPcGVuQnV0dG9uID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfT1BFTl9MSU5LLFxuICAgICAgY2FydEVsZW1lbnRcbiAgICApO1xuICAgIGlmIChjYXJ0T3BlbkJ1dHRvbiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGNhcnRPcGVuQnV0dG9uLmZvY3VzKCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBoYW5kbGVDYXJ0QnV0dG9uID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAvLyBEb24ndCBoYW5kbGUgZXZlbnRzIHdoZW4gd2UncmUgaW4gZGVzaWduIG1vZGVcbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7Y3VycmVudFRhcmdldCwgdHlwZX0gPSBldmVudDtcblxuICBpZiAoIShjdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb21tZXJjZUNhcnRXcmFwcGVyID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9XUkFQUEVSLFxuICAgIGN1cnJlbnRUYXJnZXRcbiAgKTtcbiAgaWYgKCEoY29tbWVyY2VDYXJ0V3JhcHBlciBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY2FydENvbnRhaW5lcldyYXBwZXIgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSX1dSQVBQRVIsXG4gICAgY29tbWVyY2VDYXJ0V3JhcHBlclxuICApO1xuXG4gIGxldCBldnQ7XG4gIGlmIChcbiAgICB0eXBlID09PSAnY2xpY2snICYmXG4gICAgKGN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9OT0RFX1RZUEUpID09PVxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ0xPU0VfTElOSyB8fFxuICAgICAgKGN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9OT0RFX1RZUEUpID09PVxuICAgICAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9PUEVOX0xJTksgJiZcbiAgICAgICAgIWNvbW1lcmNlQ2FydFdyYXBwZXIuaGFzQXR0cmlidXRlKERBVEFfQVRUUl9PUEVOX09OX0hPVkVSKSkpXG4gICkge1xuICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudChDSEFOR0VfQ0FSVF9FVkVOVCwge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAoXG4gICAgICBjYXJ0Q29udGFpbmVyV3JhcHBlciAmJlxuICAgICAgY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX05PREVfVFlQRSkgPT09XG4gICAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NMT1NFX0xJTktcbiAgICApIHtcbiAgICAgIGNhcnRDb250YWluZXJXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdtb3VzZWxlYXZlJyxcbiAgICAgICAgaGFuZGxlQ2FydENvbnRhaW5lckxlYXZlXG4gICAgICApO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjc2OSAtIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgICAgY29tbWVyY2VDYXJ0V3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAnbW91c2VsZWF2ZScsXG4gICAgICAgIGhhbmRsZUNhcnRDb250YWluZXJMZWF2ZVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZSA9PT0gJ21vdXNlb3ZlcicgJiZcbiAgICBjb21tZXJjZUNhcnRXcmFwcGVyLmhhc0F0dHJpYnV0ZShEQVRBX0FUVFJfT1BFTl9PTl9IT1ZFUikgJiZcbiAgICBjdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTk9ERV9UWVBFKSA9PT1cbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX09QRU5fTElOS1xuICApIHtcbiAgICBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoQ0hBTkdFX0NBUlRfRVZFTlQsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKGNhcnRDb250YWluZXJXcmFwcGVyKSB7XG4gICAgICBjYXJ0Q29udGFpbmVyV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnbW91c2VsZWF2ZScsXG4gICAgICAgIGhhbmRsZUNhcnRDb250YWluZXJMZWF2ZVxuICAgICAgKTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI3NjkgLSBObyBvdmVybG9hZCBtYXRjaGVzIHRoaXMgY2FsbC5cbiAgICAgIGN1cnJlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhhbmRsZUNhcnRDb250YWluZXJMZWF2ZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGV2dCkge1xuICAgIGNvbW1lcmNlQ2FydFdyYXBwZXIuZGlzcGF0Y2hFdmVudChldnQpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVDYXJ0Q2hlY2tvdXRCdXR0b24gPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gIC8vIERvbid0IHdhbnQgdG8gY29udGludWUgd2l0aCB2YWxpZGF0aW9uIGluIHByZXZpZXcgbW9kZVxuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3Qge2N1cnJlbnRUYXJnZXQ6IGNoZWNrb3V0QnV0dG9ufSA9IGV2ZW50O1xuXG4gIGlmICghKGNoZWNrb3V0QnV0dG9uIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWlzUHJvdG9jb2xIdHRwcygpKSB7XG4gICAgd2luZG93LmFsZXJ0KFxuICAgICAgJ1RoaXMgc2l0ZSBpcyBjdXJyZW50bHkgdW5zZWN1cmVkIHNvIHlvdSBjYW5ub3QgZW50ZXIgY2hlY2tvdXQuJ1xuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbG9hZGluZ1RleHQgPSBjaGVja291dEJ1dHRvbi5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0xPQURJTkdfVEVYVCk7XG4gIGNvbnN0IGJ1dHRvblRleHQgPSBjaGVja291dEJ1dHRvbi5pbm5lckhUTUw7XG4gIGNoZWNrb3V0QnV0dG9uLmlubmVySFRNTCA9IGxvYWRpbmdUZXh0XG4gICAgPyBsb2FkaW5nVGV4dFxuICAgIDogQ0FSVF9DSEVDS09VVF9MT0FESU5HX1RFWFRfREVGQVVMVDtcblxuICBjb25zdCBjb21tZXJjZUNhcnRXcmFwcGVyID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9XUkFQUEVSLFxuICAgIGNoZWNrb3V0QnV0dG9uXG4gICk7XG4gIGlmICghKGNvbW1lcmNlQ2FydFdyYXBwZXIgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRvIGRldGVybWluZSBpZiB3ZSBzaG91bGQgY29udGludWUgd2l0aCBjaGVja291dCwgd2UgY2hlY2sgZm9yIHRoZSBleGlzdGVuY2Ugb2ZcbiAgLy8gZWl0aGVyIHRoZSBTdHJpcGUgcHVibGlzaGFibGUga2V5IChvbmx5IGFkZGVkIHdoZW4gU3RyaXBlIGlzIGVuYWJsZWQpLCBvciB0aGVcbiAgLy8gUGF5UGFsIHNjcmlwdCBlbGVtZW50LiBJZiBuZWl0aGVyIGV4aXN0cywgd2Ugd2FudCB0byBibG9jayBjaGVja291dCwgYXMgdGhpcyBtZWFuc1xuICAvLyBubyBwYXltZW50IGdhdGV3YXkgaGFzIGJlZW4gZW5hYmxlZCwgYW5kIHRoZXJlZm9yZSwgY2hlY2tvdXQgY2Fubm90IGJlIGVuYWJsZWQuXG4gIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSBuZWVkIHRvIGV4cGFuZCB0aGlzIHRvIGJlIG1vcmUgY29tcHJlaGVuc2l2ZSwgaWYgd2UgYWxsb3dcbiAgLy8gZm9yIGZyZWUgb3JkZXJzIG9uIHNpdGVzIHdpdGhvdXQgYSBwYXltZW50IGdhdGV3YXkgYXR0YWNoZWQsIG9yIGlmL3doZW4gd2UgYWRkXG4gIC8vIG1vcmUgcG9zc2libGUgcGF5bWVudCBnYXRld2F5cy5cbiAgY29uc3QgcHVibGlzaGFibGVLZXkgPSBjaGVja291dEJ1dHRvbi5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX1BVQkxJU0hBQkxFX0tFWSk7XG4gIGNvbnN0IHBheXBhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtQQVlQQUxfRUxFTUVOVF9JTlNUQU5DRX1dYCk7XG5cbiAgaWYgKCFwdWJsaXNoYWJsZUtleSAmJiAhcGF5cGFsRWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0VSUk9SLFxuICAgICAgY29tbWVyY2VDYXJ0V3JhcHBlclxuICAgICk7XG5cbiAgICBpZiAoIShlcnJvckVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlcnJvckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIGVycm9yRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgIGNvbnN0IGVycm9yTXNnID0gZXJyb3JFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53LWNhcnQtZXJyb3ItbXNnJyk7XG4gICAgaWYgKCFlcnJvck1zZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBSZW5kZXIgY2hlY2tvdXQgZXJyb3IgbWVzc2FnZVxuICAgIGNvbnN0IGVycm9yVGV4dCA9IGVycm9yTXNnLmdldEF0dHJpYnV0ZShgZGF0YS13LWNhcnQtY2hlY2tvdXQtZXJyb3JgKSB8fCAnJztcbiAgICBlcnJvck1zZy50ZXh0Q29udGVudCA9IGVycm9yVGV4dDtcbiAgICBjaGVja291dEJ1dHRvbi5pbm5lckhUTUwgPSBidXR0b25UZXh0XG4gICAgICA/IGJ1dHRvblRleHRcbiAgICAgIDogQ0FSVF9DSEVDS09VVF9CVVRUT05fVEVYVF9ERUZBVUxUO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKGNoZWNrb3V0QnV0dG9uIGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQpKSB7XG4gICAgY2hlY2tvdXRCdXR0b24uaW5uZXJIVE1MID0gYnV0dG9uVGV4dFxuICAgICAgPyBidXR0b25UZXh0XG4gICAgICA6IENBUlRfQ0hFQ0tPVVRfQlVUVE9OX1RFWFRfREVGQVVMVDtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnc3RyaW5nJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdMb2NhdGlvbiB8IChzdHJpbmcgJiBMb2NhdGlvbiknLlxuICB3aW5kb3cubG9jYXRpb24gPSBjaGVja291dEJ1dHRvbi5ocmVmO1xufTtcblxuY29uc3QgaGFuZGxlU3VibWl0Rm9ybSA9IChldmVudDogRXZlbnQpID0+IHtcbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudigncHJldmlldycpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG5jb25zdCBoYW5kbGVDYXJ0Q29udGFpbmVyTGVhdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgY29uc3Qge3RhcmdldCwgcmVsYXRlZFRhcmdldH0gPSBldmVudDtcbiAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkgfHwgIShyZWxhdGVkVGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7cGFyZW50RWxlbWVudH0gPSB0YXJnZXQ7XG5cbiAgaWYgKCEocGFyZW50RWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRG9uJ3Qgd2FudCB0byBjbG9zZSBjYXJ0IGlmIHN3aXRjaGluZyBiZXR3ZWVuIHRoZSBidXR0b24gYW5kIHRoZSBjb250YWluZXJcbiAgY29uc3QgY2FydFdyYXBwZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVIsXG4gICAgcmVsYXRlZFRhcmdldFxuICApO1xuICBjb25zdCBjYXJ0Q29udGFpbmVyID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DT05UQUlORVIsXG4gICAgcmVsYXRlZFRhcmdldFxuICApO1xuICBpZiAoY2FydFdyYXBwZXIgfHwgY2FydENvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoQ0hBTkdFX0NBUlRfRVZFTlQsIHtcbiAgICBidWJibGVzOiB0cnVlLFxuICAgIGRldGFpbDoge1xuICAgICAgb3BlbjogZmFsc2UsXG4gICAgfSxcbiAgfSk7XG4gIHBhcmVudEVsZW1lbnQuZGlzcGF0Y2hFdmVudChldnQpO1xuICBjYXJ0V3JhcHBlciAmJlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNTggLSBUaGUgbGVmdC1oYW5kIHNpZGUgb2YgYW4gJ2luc3RhbmNlb2YnIGV4cHJlc3Npb24gbXVzdCBiZSBvZiB0eXBlICdhbnknLCBhbiBvYmplY3QgdHlwZSBvciBhIHR5cGUgcGFyYW1ldGVyLlxuICAgIGNhcnRXcmFwcGVyIGluc3RhbmNlb2YgRWxlbWVudCAmJlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAncmVtb3ZlRXZlbnRMaXN0ZW5lcicgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnbmV2ZXInLlxuICAgIGNhcnRXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoYW5kbGVDYXJ0Q29udGFpbmVyTGVhdmUpO1xuICBjYXJ0Q29udGFpbmVyICYmXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM1OCAtIFRoZSBsZWZ0LWhhbmQgc2lkZSBvZiBhbiAnaW5zdGFuY2VvZicgZXhwcmVzc2lvbiBtdXN0IGJlIG9mIHR5cGUgJ2FueScsIGFuIG9iamVjdCB0eXBlIG9yIGEgdHlwZSBwYXJhbWV0ZXIuXG4gICAgY2FydENvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ25ldmVyJy5cbiAgICBjYXJ0Q29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoYW5kbGVDYXJ0Q29udGFpbmVyTGVhdmUpO1xufTtcblxubGV0IGNhcnRDb250YWluZXJTdGF0ZXM6IEFycmF5PFxuICB8IGFueVxuICB8IHtcbiAgICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgICAgd2FzT3BlbjogYm9vbGVhbjtcbiAgICB9XG4+ID0gW107XG5cbmNvbnN0IGhhbmRsZVByZXZpZXdNb2RlID0gKCkgPT4ge1xuICAvLyBXaGVuIHdlIGNoYW5nZSB0byBwcmV2aWV3IG1vZGUsIHdlIHN0YXJ0IGJ5IGdldHRpbmcgYWxsIG9mIHRoZSBjYXJ0IHdyYXBwZXJzIG9uIHRoZSBwYWdlXG4gIGNvbnN0IGNhcnRDb250YWluZXJFbGVtZW50cyA9IGZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSX1dSQVBQRVJcbiAgKTtcblxuICBjYXJ0Q29udGFpbmVyRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIC8vIFdlIHRoZW4gc3RvcmUgdGhlIGNvbnRhaW5lciBlbGVtZW50IGFuZCBpdHMgc3RhdGUgaW4gdGhlIGRlc2lnbmVyXG4gICAgY29uc3Qgd2FzT3BlbiA9IGVsZW1lbnQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xuICAgIGNhcnRDb250YWluZXJTdGF0ZXMucHVzaCh7XG4gICAgICBlbGVtZW50LFxuICAgICAgd2FzT3BlbixcbiAgICB9KTtcblxuICAgIC8vIElmIGl0IHdhcyBvcGVuLCB3ZSB0aGVuIGRpc3BhdGNoIHRoZSBjYXJ0IGNoYW5nZSBldmVudCBvbiB0aGUgd3JhcHBlciBvdXRzaWRlXG4gICAgLy8gdG8gbWlycm9yIHdoYXQgdGhlIGZ1bmN0aW9uYWxpdHkgaXMgaW4gdGhlIGBoYW5kbGVDYXJ0QnV0dG9uYCBmdW5jdGlvbiwgc28gdGhhdFxuICAgIC8vIHdoZW4gdGhlIHVzZXIgdHJpZXMgdG8gY2xvc2UgdGhlIGNhcnQgaW4gdGhlIHByZXZpZXcsIGl0IHdvcmtzIGFzIGV4cGVjdGVkXG4gICAgaWYgKHdhc09wZW4pIHtcbiAgICAgIGNvbnN0IGV2dCA9IG5ldyBDdXN0b21FdmVudChDSEFOR0VfQ0FSVF9FVkVOVCwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCB7cGFyZW50RWxlbWVudH0gPSBlbGVtZW50O1xuICAgICAgaWYgKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgcGFyZW50RWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZURlc2lnbk1vZGUgPSAoKSA9PiB7XG4gIC8vIFdoZW4gd2UgY2hhbmdlIGJhY2sgdG8gZGVzaWduIG1vZGUsIHdlIGl0ZXJhdGUgb3ZlciBhbGwgdGhlIHN0b3JlZCBlbGVtZW50cyBhbmQgc3RhdGVzXG4gIC8vIGFuZCByZXR1cm4gdGhlbSBiYWNrIHRvIHdoYXQgdGhleSB3ZXJlIHdoZW4gdGhlIHVzZXIgY2hhbmdlZCB0byBwcmV2aWV3IG1vZGUuXG4gIC8vIFdoaWxlIGl0IHdvdWxkIGJlIG5pY2UgaWYgd2UgY291bGQgdXBkYXRlIHRoZSBzdGF0ZSB0aGF0J3Mgc3RvcmVkIGluIHRoZSBkZXNpZ25lcixcbiAgLy8gdGhpcyB3b3VsZCByZXF1aXJlIHNvbWUgdWdseSBoYWNrcyB0byBhY2Nlc3MgdGhlIG91dGVyIGZyYW1lIG9mIHRoZSBkZXNpZ25lci5cbiAgY2FydENvbnRhaW5lclN0YXRlcy5mb3JFYWNoKCh7ZWxlbWVudDogd3JhcHBlciwgd2FzT3Blbn0pID0+IHtcbiAgICAvLyBSZW1vdmUgcXVpY2sgYW5pbWF0aW9uIHN0eWxlIGRhdGFcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ1dlYmZsb3cnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICB3aW5kb3cuV2ViZmxvdy50cmFtKHdyYXBwZXIpLmRlc3Ryb3koKTtcbiAgICB3cmFwcGVyLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgY29uc3QgY2FydENvbnRhaW5lciA9IGdldENhcnRDb250YWluZXIod3JhcHBlcik7XG4gICAgaWYgKGNhcnRDb250YWluZXIpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnV2ViZmxvdycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMnLlxuICAgICAgd2luZG93LldlYmZsb3cudHJhbShjYXJ0Q29udGFpbmVyKS5kZXN0cm95KCk7XG4gICAgICBjYXJ0Q29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHRoZSB3cmFwcGVyIGRpc3BsYXkgcHJvcGVydHlcbiAgICBpZiAod2FzT3Blbikge1xuICAgICAgd3JhcHBlci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgLy8gV2UgcmVzZXQgdGhlIGFzc29jaWF0ZWQgb3V0ZXIgd3JhcHBlcidzIHN0YXRlLCBzbyB0aGF0IHdlJ3JlIGJhY2sgZXhhY3RseSB0byB0aGUgc3RhdGVcbiAgICAvLyBvZiB0aGUgRE9NIGFzIGl0IHdhcyBpbiB0aGUgZGVzaWduZXIuXG4gICAgY29uc3QgY2FydEVsZW1lbnQgPSB3cmFwcGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKGNhcnRFbGVtZW50KSB7XG4gICAgICBjYXJ0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoQ0FSVF9PUEVOKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFdlIHRoZW4gY2xlYXIgb3V0IHRoZSBzdGF0ZXMgYWZ0ZXIgdGhlIGl0ZXJhdGlvbiBoYXMgY29tcGxldGVkLiBJdCdzIHBvc3NpYmxlIHdlIGNvdWxkIGtlZXAgdGhlbSwgYW5kIHRoZW5cbiAgLy8gZG8gc29tZSBkaWZmLWluZyBvciBzb21ldGhpbmcgc28gd2UgZG9uJ3QgaGF2ZSB0byBpdGVyYXRlIG92ZXIgdGhlbSBhZ2FpbiBpbiBgaGFuZGxlUHJldmlld01vZGVgLCBidXQgSSB0aGlua1xuICAvLyB0aGF0IHdvdWxkIGJlIG1vcmUgY29tcHV0YXRpb25hbCB3b3JrIHRoYW4ganVzdCByZS1xdWVyeWluZyB0aGUgRE9NLlxuICBjYXJ0Q29udGFpbmVyU3RhdGVzID0gW107XG59O1xuXG5jb25zdCBkb0ZvckFsbE1hdGNoaW5nQ2xhc3MgPSAoXG4gIGNhcnQ6IEVsZW1lbnQgfCBIVE1MRWxlbWVudCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ2ZuJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICBmblxuKSA9PiBBcnJheS5mcm9tKGNhcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpKS5mb3JFYWNoKGZuKTtcblxuY29uc3Qgc2hvd0NhcnREZWZhdWx0U3RhdGUgPSAoY2FydDogRWxlbWVudCkgPT4ge1xuICBkb0ZvckFsbE1hdGNoaW5nQ2xhc3MoY2FydCwgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0ZW1wdHlzdGF0ZScsIGhpZGVFbGVtZW50KTtcbiAgZG9Gb3JBbGxNYXRjaGluZ0NsYXNzKGNhcnQsICd3LWNvbW1lcmNlLWNvbW1lcmNlY2FydGZvcm0nLCBzaG93RWxlbWVudCk7XG59O1xuXG5jb25zdCBzaG93Q2FydEVtcHR5U3RhdGUgPSAoY2FydDogRWxlbWVudCkgPT4ge1xuICBkb0ZvckFsbE1hdGNoaW5nQ2xhc3MoY2FydCwgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0ZW1wdHlzdGF0ZScsIHNob3dFbGVtZW50KTtcbiAgZG9Gb3JBbGxNYXRjaGluZ0NsYXNzKGNhcnQsICd3LWNvbW1lcmNlLWNvbW1lcmNlY2FydGZvcm0nLCBoaWRlRWxlbWVudCk7XG59O1xuXG5jb25zdCBoaWRlRXJyb3JTdGF0ZSA9IChjYXJ0OiBFbGVtZW50KSA9PiB7XG4gIGRvRm9yQWxsTWF0Y2hpbmdDbGFzcyhjYXJ0LCAndy1jb21tZXJjZS1jb21tZXJjZWNhcnRlcnJvcnN0YXRlJywgaGlkZUVsZW1lbnQpO1xufTtcblxuY29uc3Qgc2hvd0Vycm9yU3RhdGUgPSAoY2FydDogRWxlbWVudCkgPT4ge1xuICBkb0ZvckFsbE1hdGNoaW5nQ2xhc3MoY2FydCwgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0ZXJyb3JzdGF0ZScsIHNob3dFbGVtZW50KTtcbn07XG5cbmNvbnN0IGhhc0l0ZW1zID0gKHJlc3BvbnNlOiBhbnkpID0+XG4gIHJlc3BvbnNlICYmXG4gIHJlc3BvbnNlLmRhdGEgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZSAmJlxuICByZXNwb25zZS5kYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLnVzZXJJdGVtcyAmJlxuICByZXNwb25zZS5kYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIudXNlckl0ZW1zLmxlbmd0aCA+IDA7XG5cbmNvbnN0IGhhc0Vycm9ycyA9IChyZXNwb25zZTogYW55KSA9PlxuICByZXNwb25zZSAmJiByZXNwb25zZS5lcnJvcnMgJiYgcmVzcG9uc2UuZXJyb3JzLmxlbmd0aCA+IDA7XG5cbmNvbnN0IHVwZGF0ZUNhcnRBMTFZID0gKGNhcnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gIGRvRm9yQWxsTWF0Y2hpbmdDbGFzcyhcbiAgICBjYXJ0LFxuICAgICd3LWNvbW1lcmNlLWNvbW1lcmNlY2FydG9wZW5saW5rY291bnQnLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ2VsZW1lbnQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgKGVsZW1lbnQpID0+IHtcbiAgICAgIGRvRm9yQWxsTWF0Y2hpbmdDbGFzcyhcbiAgICAgICAgY2FydCxcbiAgICAgICAgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0b3BlbmxpbmsnLFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdvcGVuTGlua0VsZW1lbnQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAgIChvcGVuTGlua0VsZW1lbnQpID0+IHtcbiAgICAgICAgICBvcGVuTGlua0VsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnLFxuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9PT0gJzAnXG4gICAgICAgICAgICAgID8gJ09wZW4gZW1wdHkgY2FydCdcbiAgICAgICAgICAgICAgOiBgT3BlbiBjYXJ0IGNvbnRhaW5pbmcgJHtlbGVtZW50LnRleHRDb250ZW50fSBpdGVtc2BcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJDYXJ0ID0gKFxuICBjYXJ0OiBFbGVtZW50LFxuICBkYXRhOiBSZWNvcmQ8YW55LCBhbnk+LFxuICBzdHJpcGVTdG9yZT86IFN0cmlwZVN0b3JlXG4pID0+IHtcbiAgaGlkZUVycm9yU3RhdGUoY2FydCk7XG5cbiAgaWYgKGhhc0Vycm9ycyhkYXRhKSkge1xuICAgIHNob3dFcnJvclN0YXRlKGNhcnQpO1xuICB9XG5cbiAgZG9Gb3JBbGxNYXRjaGluZ0NsYXNzKFxuICAgIGNhcnQsXG4gICAgJ3ctY29tbWVyY2UtY29tbWVyY2VjYXJ0b3Blbmxpbmtjb3VudCcsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnZWxlbWVudCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgaGlkZVJ1bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfQ09VTlRfSElERV9SVUxFKTtcblxuICAgICAgaWYgKFxuICAgICAgICBoaWRlUnVsZSA9PT0gQ0FSVF9DT1VOVF9ISURFX1JVTEVTLkFMV0FZUyB8fFxuICAgICAgICAoaGlkZVJ1bGUgPT09IENBUlRfQ09VTlRfSElERV9SVUxFUy5FTVBUWSAmJiAhaGFzSXRlbXMoZGF0YSkpXG4gICAgICApIHtcbiAgICAgICAgaGlkZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG93RWxlbWVudChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbiAgLy8gSWYgaXQgaXMgYSBuZXdseSBwdWJsaXNoZWQgc2l0ZSB0aGUgY29tbWVyY2VPcmRlciB3aWxsIGJlIG51bGwsIGNhdXNpbmcgdGhlIGNhcnQgY291bnRlciB0byByZW5kZXJcbiAgLy8gYW4gZW1wdHkgZGl2IGlmIGhpZGUgY2FydCB3aGVuIGVtcHR5IGlzIGZhbHNlIGFuZCB1c2VySXRlbXNDb3VudCBpcyBub3Qgc2V0IHRvIDBcbiAgY29uc3QgZGF0YVdpdGhEZWZhdWx0cyA9IG1lcmdlV2l0aCh7fSwgZGF0YSwgKG9iaiwgc3JjLCBrZXkpID0+IHtcbiAgICBpZiAoa2V5ID09PSAnY29tbWVyY2VPcmRlcicgJiYgc3JjID09PSBudWxsKSB7XG4gICAgICByZXR1cm4ge3VzZXJJdGVtc0NvdW50OiAwfTtcbiAgICB9XG4gIH0pO1xuXG4gIHJlbmRlclRyZWUoY2FydCwgZGF0YVdpdGhEZWZhdWx0cyk7XG5cbiAgaWYgKGhhc0l0ZW1zKGRhdGEpKSB7XG4gICAgc2hvd0NhcnREZWZhdWx0U3RhdGUoY2FydCk7XG4gIH0gZWxzZSB7XG4gICAgc2hvd0NhcnRFbXB0eVN0YXRlKGNhcnQpO1xuICB9XG4gIGNvbnN0IGNhcnRGb3JtID0gY2FydC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gIGlmIChjYXJ0Rm9ybSBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkge1xuICAgIGVuYWJsZUFsbEZvcm1FbGVtZW50cyhjYXJ0Rm9ybSk7XG4gIH1cblxuICAvLyB3ZSBoaWRlIHRoZSBidXR0b24gd2hlbiB0aGUgcGF5cGFsIHNkayBpcyBvbiB0aGUgcGFnZSAob25seSBhcHBlYXJzIHdoZW4gcGF5cGFsIGxpbmtlZCBhbmQgY2hlY2tvdXQgZW5hYmxlZClcbiAgLy8gYW5kIHdoZW4gdGhlIHN0cmlwZSBzdG9yZSByZXBvcnRzIHRoYXQgaXQncyBub3QgaW5pdGlhbGl6ZWQuIHdlIGRvbid0IHBhc3Mgc3RyaXBlIHN0b3JlIGZvciBzb21lIGVycm9ycyxcbiAgLy8gc28gdGhpcyBlbnN1cmVzIHRoYXQgdGhlIGJ1dHRvbiB3aWxsIGJlIHNob3duIHN0aWxsIGlmIHRoZXJlIHdhcyBhbiBlcnJvci5cbiAgY29uc3QgcGF5cGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske1BBWVBBTF9FTEVNRU5UX0lOU1RBTkNFfV1gKTtcbiAgY29uc3QgY2hlY2tvdXRCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ0hFQ0tPVVRfQlVUVE9OLFxuICAgIGNhcnRcbiAgKTtcbiAgaWYgKFxuICAgIGNoZWNrb3V0QnV0dG9uICYmXG4gICAgcGF5cGFsRWxlbWVudCAmJlxuICAgIHN0cmlwZVN0b3JlICYmXG4gICAgIXN0cmlwZVN0b3JlLmlzSW5pdGlhbGl6ZWQoKVxuICApIHtcbiAgICBpZiAoaXNGcmVlT3JkZXIoZGF0YSkpIHtcbiAgICAgIHNob3dFbGVtZW50KGNoZWNrb3V0QnV0dG9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZUVsZW1lbnQoY2hlY2tvdXRCdXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHBheXBhbEJ1dHRvbiA9IGNhcnQucXVlcnlTZWxlY3RvcihcbiAgICBgWyR7UEFZUEFMX0JVVFRPTl9FTEVNRU5UX0lOU1RBTkNFfV1gXG4gICk7XG4gIGlmIChwYXlwYWxFbGVtZW50ICYmIHBheXBhbEJ1dHRvbikge1xuICAgIGlmIChpc0ZyZWVPcmRlcihkYXRhKSB8fCBoYXNTdWJzY3JpcHRpb24oZGF0YSkpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgaGlkZUVsZW1lbnQocGF5cGFsQnV0dG9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCcuXG4gICAgICBzaG93RWxlbWVudChwYXlwYWxCdXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVdlYlBheW1lbnRzQnV0dG9uKGNhcnQsIGRhdGEsIHN0cmlwZVN0b3JlKTtcblxuICByZXR1cm4gY2FydDtcbn07XG5cbmNvbnN0IGhhbmRsZVJlbmRlckNhcnQgPSAoXG4gIGV2ZW50OiBFdmVudCB8IEN1c3RvbUV2ZW50LFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBzdHJpcGVTdG9yZTogU3RyaXBlU3RvcmVcbikgPT4ge1xuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdkZXNpZ24nKSB8fCB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIShldmVudCBpbnN0YW5jZW9mIEN1c3RvbUV2ZW50ICYmIGV2ZW50LnR5cGUgPT09IFJFTkRFUl9UUkVFX0VWRU5UKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBlcnJvcnM6IEFycmF5PGFueT4gPSBbXTtcbiAgY29uc3Qge2RldGFpbH0gPSBldmVudDtcbiAgaWYgKGRldGFpbCAhPSBudWxsICYmIGRldGFpbC5lcnJvcikge1xuICAgIGVycm9ycy5wdXNoKGRldGFpbC5lcnJvcik7XG4gIH1cbiAgY29uc3Qgb3JkZXJDb25maXJtYXRpb25Db250YWluZXIgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX09SREVSX0NPTkZJUk1BVElPTl9XUkFQUEVSXG4gICk7XG4gIC8vIHN0b3AgY2FydCByZW5kZXIgb24gb3JkZXIgY29uZmlybWF0aW9uIHBhZ2UgYXMgaXQgd2lsbCBhbHdheXMgYmUgZW1wdHksIHRoaXMgcXVlcnkgd2FzIHNldHRpbmcgY29tbWVyY2VPcmRlciB0byBudWxsXG4gIC8vIGFuZCBvdmVyd3JpdHRpbmcgYSBzZWNvbmQgcXVlcnkgaW4gYGhhbmRsZVJlbmRlck9yZGVyQ29uZmlybWF0aW9uYFxuICBpZiAob3JkZXJDb25maXJtYXRpb25Db250YWluZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYXJ0cyA9IGZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUoTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfV1JBUFBFUik7XG5cbiAgaWYgKCFjYXJ0cy5sZW5ndGgpIHtcbiAgICBleGVjdXRlTG9hZGluZ0NhbGxiYWNrcygpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNhcnRzLmZvckVhY2goKGNhcnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgYXBvbGxvQ2xpZW50XG4gICAgICAucXVlcnkoe1xuICAgICAgICBxdWVyeTogZ3FsYFxuICAgICAgICAgICR7Y2FydC5nZXRBdHRyaWJ1dGUoQ0FSVF9RVUVSWSl9XG4gICAgICAgIGAsXG4gICAgICAgIGZldGNoUG9saWN5OiAnbmV0d29yay1vbmx5JyxcbiAgICAgICAgZXJyb3JQb2xpY3k6ICdhbGwnLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGV4ZWN1dGVMb2FkaW5nQ2FsbGJhY2tzKCk7XG4gICAgICAgIHJlbmRlckNhcnQoXG4gICAgICAgICAgY2FydCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnMuY29uY2F0KGRhdGEuZXJyb3JzKS5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdHJpcGVTdG9yZVxuICAgICAgICApO1xuICAgICAgICB1cGRhdGVDYXJ0QTExWShjYXJ0KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBleGVjdXRlTG9hZGluZ0NhbGxiYWNrcygpO1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICByZW5kZXJDYXJ0KGNhcnQsIHtlcnJvcnN9KTtcbiAgICAgICAgdXBkYXRlQ2FydEExMVkoY2FydCk7XG4gICAgICB9KTtcbiAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVDYXJ0S2V5VXAgPSAoZXZlbnQ6IEV2ZW50IHwgS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAvLyBFc2NhcGVcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdrZXlDb2RlJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdFdmVudCB8IEtleWJvYXJkRXZlbnQnLlxuICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMjcpIHtcbiAgICBjb25zdCBvcGVuQ2FydHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske0NBUlRfT1BFTn1dYCkpO1xuICAgIGZvckVhY2gob3BlbkNhcnRzLCAoY2FydCkgPT4ge1xuICAgICAgY29uc3QgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KENIQU5HRV9DQVJUX0VWRU5ULCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIG9wZW46IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjYXJ0LmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFNwYWNlYmFyXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAna2V5Q29kZScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQgfCBLZXlib2FyZEV2ZW50Jy5cbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDMyICYmIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgLy8gRmxvdyB3YXMgYmVpbmcgYSBiaXQgc3RyYW5nZSB3aXRoIHR5cGluZyBhbmQgb25seSBhc3N1bWluZyBIVE1MRWxlbWVudFxuICAgIC8vIHRoZSBmaXJzdCB0aW1lIGl0IHdhcyB1c2VkLiBTbyBzZXR0aW5nIGl0IGFzIGEgbmV3IHZhcmlhYmxlIGhlcmUgdG9cbiAgICAvLyBwZXJzaXN0IHRoYXQgdHlwZS5cbiAgICBjb25zdCBodG1sRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcblxuICAgIC8vIE1ha2Ugc3VyZSBlbGVtZW50IGJlaW5nIGNoZWNrZWQgaXMgaW50ZW5kZWQgdG8gd29yayBhcyBhIGxpbmsgb3IgYnV0dG9uIGFuZFxuICAgIC8vIGlzIGEgY2hpbGQgb2YgYGNvbW1lcmNlLWNhcnQtd3JhcHBlcmBcbiAgICAvLyBUaGlzIHdpbGwgcHJldmVudCB0aGUga2V5Ym9hcmQgdHJpZ2dlciBhcHBseWluZyB0byBlbGVtZW50cyB0aGF0IGRvbid0XG4gICAgLy8gYmVsb25nIHRvIHRoZSBDYXJ0IG9yIG90aGVyd2lzZSBzaG91bGRuJ3QgYmUgaW50ZXJhY3RhYmxlIGluIHRoaXMgbWFubmVyLlxuICAgIGlmIChcbiAgICAgIChodG1sRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ2J1dHRvbicgfHxcbiAgICAgICAgaHRtbEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdsaW5rJyB8fFxuICAgICAgICBodG1sRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2hyZWYnKSB8fFxuICAgICAgICBodG1sRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ29uQ2xpY2snKSkgJiZcbiAgICAgIGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVIsXG4gICAgICAgIGV2ZW50LnRhcmdldFxuICAgICAgKSAhPSBudWxsXG4gICAgKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaHRtbEVsZW1lbnQuY2xpY2soKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGdldENhcnRDb250YWluZXIgPSAoXG4gIHBhcmVudDogSFRNTEVsZW1lbnRcbik6IEhUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCA9PlxuICBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSLCBwYXJlbnQpO1xuXG5jb25zdCBoYW5kbGVDbGlja0Nsb3NlQ2FydCA9ICh7dGFyZ2V0fTogRXZlbnQpID0+IHtcbiAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvcGVuQ2FydHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske0NBUlRfT1BFTn1dYCkpO1xuICBmb3JFYWNoKG9wZW5DYXJ0cywgKGNhcnQpID0+IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICBjb25zdCBjYXJ0Q29udGFpbmVyID0gZ2V0Q2FydENvbnRhaW5lcihjYXJ0KTtcbiAgICBjb25zdCBjYXJ0T3BlbkJ1dHRvbiA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX09QRU5fTElOSyxcbiAgICAgIGNhcnRcbiAgICApO1xuICAgIGlmIChcbiAgICAgICEoY2FydENvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHx8XG4gICAgICAhKGNhcnRPcGVuQnV0dG9uIGluc3RhbmNlb2YgRWxlbWVudClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjYXJ0VHlwZSA9IGNhcnQuZ2V0QXR0cmlidXRlKENBUlRfVFlQRSk7XG4gICAgLy8gb24gZHJvcGRvd24sIHdlIGNsb3NlIGlmIG91dHNpZGUgdGhlIGNhcnQgaXMgY2xpY2tlZCwgYW5kIG9uIG1vZGFsL3NpZGViYXIsIHdlIGNsb3NlIGlmIG91dHNpZGUgdGhlIGNvbnRhaW5lciBvciBvcGVuIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgY29uc3QgaXNOb3RJbnNpZGUgPVxuICAgICAgY2FydFR5cGUgPT09IExFRlRfRFJPUERPV04gfHwgY2FydFR5cGUgPT09IFJJR0hUX0RST1BET1dOXG4gICAgICAgID8gIWNhcnQuY29udGFpbnModGFyZ2V0KVxuICAgICAgICA6ICFjYXJ0Q29udGFpbmVyLmNvbnRhaW5zKHRhcmdldCkgJiYgIWNhcnRPcGVuQnV0dG9uLmNvbnRhaW5zKHRhcmdldCk7XG5cbiAgICBpZiAoaXNOb3RJbnNpZGUpIHtcbiAgICAgIGNvbnN0IGV2dCA9IG5ldyBDdXN0b21FdmVudChDSEFOR0VfQ0FSVF9FVkVOVCwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY2FydC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpID0+IHtcbiAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPVxuICAgICdidXR0b24sIFtocmVmXSwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG5cbiAgcmV0dXJuIFsuLi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVFbGVtZW50cyldLmZpbHRlcihcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ29mZnNldEhlaWdodCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgKGVsZW1lbnQpID0+ICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiBlbGVtZW50Lm9mZnNldEhlaWdodCA+IDBcbiAgKTtcbn07XG5cbmNvbnN0IGhhbmRsZUNhcnRGb2N1c1RyYXAgPSAoZXZlbnQ6IEV2ZW50IHwgS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2tleScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQgfCBLZXlib2FyZEV2ZW50Jy4gfCBUUzIzMzkgLSBQcm9wZXJ0eSAna2V5Q29kZScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQgfCBLZXlib2FyZEV2ZW50Jy5cbiAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicgJiYgZXZlbnQua2V5Q29kZSAhPT0gOSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9wZW5DYXJ0cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7Q0FSVF9PUEVOfV1gKSk7XG4gIGZvckVhY2gob3BlbkNhcnRzLCAoY2FydCkgPT4ge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgIGNvbnN0IGNhcnRDb250YWluZXIgPSBnZXRDYXJ0Q29udGFpbmVyKGNhcnQpO1xuICAgIGlmICghKGNhcnRDb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZvY3VzYWJsZUNvbnRlbnQgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhjYXJ0Q29udGFpbmVyKTtcbiAgICBjb25zdCBmaXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBmb2N1c2FibGVDb250ZW50WzBdO1xuICAgIGNvbnN0IGxhc3RGb2N1c2FibGVFbGVtZW50ID0gZm9jdXNhYmxlQ29udGVudFtmb2N1c2FibGVDb250ZW50Lmxlbmd0aCAtIDFdO1xuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdzaGlmdEtleScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQgfCBLZXlib2FyZEV2ZW50Jy5cbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEZvY3VzYWJsZUVsZW1lbnQpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdmb2N1cycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRWxlbWVudCcuXG4gICAgICAgIGxhc3RGb2N1c2FibGVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0Rm9jdXNhYmxlRWxlbWVudCkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2ZvY3VzJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdFbGVtZW50Jy5cbiAgICAgICAgZmlyc3RGb2N1c2FibGVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IChoYW5kbGVyUHJveHk6IEV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCkgPT4ge1xuICBoYW5kbGVyUHJveHkub24oJ2NsaWNrJywgaXNJdGVtUmVtb3ZlZEV2ZW50LCBoYW5kbGVJdGVtUmVtb3ZlZCk7XG4gIGhhbmRsZXJQcm94eS5vbihcbiAgICAnY2hhbmdlJyxcbiAgICBpc0l0ZW1RdWFudGl0eUNoYW5nZWRFdmVudCxcbiAgICBoYW5kbGVJdGVtUXVhbnRpdHlDaGFuZ2VkXG4gICk7XG4gIGhhbmRsZXJQcm94eS5vbignZm9jdXMnLCBpc0l0ZW1RdWFudGl0eUlucHV0RXZlbnQsIGhhbmRsZUl0ZW1JbnB1dENoYW5nZWQpO1xuICBoYW5kbGVyUHJveHkub24oJ2NsaWNrJywgaXNDYXJ0QnV0dG9uRXZlbnQsIGhhbmRsZUNhcnRCdXR0b24pO1xuICBoYW5kbGVyUHJveHkub24oJ2NsaWNrJywgaXNDYXJ0Q2hlY2tvdXRCdXR0b25FdmVudCwgaGFuZGxlQ2FydENoZWNrb3V0QnV0dG9uKTtcbiAgaGFuZGxlclByb3h5Lm9uKCdtb3VzZW92ZXInLCBpc0NhcnRCdXR0b25FdmVudCwgaGFuZGxlQ2FydEJ1dHRvbik7XG4gIGhhbmRsZXJQcm94eS5vbihcbiAgICBDSEFOR0VfQ0FSVF9FVkVOVCxcbiAgICBpc0NhcnRXcmFwcGVyRXZlbnQsXG4gICAgaGFuZGxlQ2hhbmdlQ2FydFN0YXRlRXZlbnRcbiAgKTtcbiAgaGFuZGxlclByb3h5Lm9uKFJFTkRFUl9UUkVFX0VWRU5ULCBCb29sZWFuLCBoYW5kbGVSZW5kZXJDYXJ0KTtcbiAgLy8gTmVlZGVkIHRvIGF2b2lkIHN1Ym1pc3Npb24gb2YgY2FydCBmb3JtIHdoZW4gb25seSBvbmUgaXRlbSBpcyBpbiBjYXJ0IGFuZCB1c2VyIGhpdHNcbiAgLy8gZW50ZXIga2V5IHdoaWxlIGluIHF1YW50aXR5IGlucHV0IChhY3RzIGFzIHN1Ym1pdCBpZiBvbmx5IDEgaW5wdXQgYW5kIG5vIHN1Ym1pdClcbiAgaGFuZGxlclByb3h5Lm9uKCdzdWJtaXQnLCBpc0NhcnRGb3JtRXZlbnQsIGhhbmRsZVN1Ym1pdEZvcm0pO1xuICBoYW5kbGVyUHJveHkub24oJ2tleXVwJywgQm9vbGVhbiwgaGFuZGxlQ2FydEtleVVwKTtcbiAgaGFuZGxlclByb3h5Lm9uKCdjbGljaycsIEJvb2xlYW4sIGhhbmRsZUNsaWNrQ2xvc2VDYXJ0KTtcblxuICAvLyBUaGVzZSBldmVudHMgYXJlIGZvciBoYW5kbGluZyB0aGUgYmFjayBhbmQgZm9ydGggYmV0d2VlbiBwcmV2aWV3IGFuZCBkZXNpZ25lclxuICAvLyBhbmQgbXVzdCBiZSByZWdpc3RlcmVkIGRpcmVjdGx5IHRvIHRoZSB3aW5kb3csIG90aGVyd2lzZSB0aGV5IGFyZSBub3QgcmVnaXN0ZXJlZFxuICAvLyB3aGVuIHRoZSBjYW52YXMgaXMgY3JlYXRlZC5cbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHwgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignX193Zl9wcmV2aWV3JywgaGFuZGxlUHJldmlld01vZGUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdfX3dmX2Rlc2lnbicsIGhhbmRsZURlc2lnbk1vZGUpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7cmVnaXN0ZXJ9O1xuIl0sIm5hbWVzIjpbInJlZ2lzdGVyIiwicmVuZGVyQ2FydCIsIk1PREFMIiwiTEVGVF9TSURFQkFSIiwiUklHSFRfU0lERUJBUiIsIkxFRlRfRFJPUERPV04iLCJSSUdIVF9EUk9QRE9XTiIsIkNBUlRfVFlQRVMiLCJSRU1PVkVfSVRFTSIsIlVQREFURV9JVEVNX1FVQU5USVRZIiwiQ09NTUVSQ0VfQ0FSVF9QVUJMSVNIRURfU0lURV9BQ1RJT05TIiwidXBkYXRlSXRlbVF1YW50aXR5TXV0YXRpb24iLCJncWwiLCJmb3JFYWNoRWxlbWVudEluRm9ybSIsImZvcm0iLCJjYWxsYmFjayIsIkhUTUxGb3JtRWxlbWVudCIsImVsZW1lbnRzIiwiSFRNTENvbGxlY3Rpb24iLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiaW5wdXQiLCJIVE1MSW5wdXRFbGVtZW50IiwiZGlzYWJsZUFsbEZvcm1FbGVtZW50cyIsImRpc2FibGVkIiwiZW5hYmxlQWxsRm9ybUVsZW1lbnRzIiwic2VhcmNoVHJlZUZvclJlbW92ZUxpbmsiLCJlbGVtZW50IiwiRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsIkNPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OX0FUVFIiLCJnZXRBdHRyaWJ1dGUiLCJEQVRBX0FUVFJfQ09NTUVSQ0VfU0tVX0lEIiwicGFyZW50RWxlbWVudCIsImlzSXRlbVJlbW92ZWRFdmVudCIsImV2ZW50IiwidGFyZ2V0IiwiaXNJdGVtUXVhbnRpdHlDaGFuZ2VkRXZlbnQiLCJpc0l0ZW1RdWFudGl0eUlucHV0RXZlbnQiLCJpc0NhcnRCdXR0b25FdmVudCIsImNhcnRPcGVuTGluayIsImZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9PUEVOX0xJTksiLCJjYXJ0Q2xvc2VMaW5rIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ0xPU0VfTElOSyIsImlzQ2FydENoZWNrb3V0QnV0dG9uRXZlbnQiLCJjYXJ0Q2hlY2tvdXRCdXR0b24iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DSEVDS09VVF9CVVRUT04iLCJpc0NhcnRXcmFwcGVyRXZlbnQiLCJEQVRBX0FUVFJfTk9ERV9UWVBFIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfV1JBUFBFUiIsImlzQ2FydEZvcm1FdmVudCIsIk5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0ZPUk0iLCJnZXRGb3JtRWxlbWVudCIsImhhbmRsZUl0ZW1SZW1vdmVkIiwiYXBvbGxvQ2xpZW50Iiwid2luZG93IiwiV2ViZmxvdyIsImVudiIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsIkhUTUxFbGVtZW50IiwiY29tbWVyY2VDYXJ0V3JhcHBlciIsImVycm9yRWxlbWVudCIsImZpbmRFbGVtZW50QnlOb2RlVHlwZSIsIk5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0VSUk9SIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsInNrdUlkIiwiY291bnQiLCJjYXJ0SXRlbSIsImZpbmRDbG9zZXN0RWxlbWVudEJ5Q2xhc3NOYW1lIiwiYWRkTG9hZGluZ0NhbGxiYWNrIiwic2V0RWxlbWVudExvYWRpbmciLCJyZW1vdmVMaW5rRWxlbWVudCIsIkhUTUxBbmNob3JFbGVtZW50IiwicG9pbnRlckV2ZW50cyIsIm11dGF0ZSIsIm11dGF0aW9uIiwidmFyaWFibGVzIiwidGhlbiIsInRyaWdnZXJSZW5kZXIiLCJlcnJvciIsImRlYnVnIiwicmVtb3ZlUHJvcGVydHkiLCJlcnJvck1zZyIsInF1ZXJ5U2VsZWN0b3IiLCJDQVJUX0VSUk9SX01FU1NBR0VfU0VMRUNUT1IiLCJlcnJvclRleHQiLCJDQVJUX0dFTkVSQUxfRVJST1JfTUVTU0FHRSIsInRleHRDb250ZW50IiwiY2FydENvbnRhaW5lciIsImNsb3Nlc3QiLCJpdGVtQ29udGFpbmVyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImZvY3VzYWJsZUNvbnRlbnQiLCJnZXRGb2N1c2FibGVFbGVtZW50cyIsImxlbmd0aCIsImZvY3VzIiwiaGFuZGxlSXRlbVF1YW50aXR5Q2hhbmdlZCIsInJlcG9ydFZhbGlkaXR5IiwidmFsdWUiLCJlcnJvclR5cGUiLCJncmFwaFFMRXJyb3JzIiwiY29kZSIsImdldENhcnRFcnJvck1lc3NhZ2VGb3JUeXBlIiwiaGFuZGxlSXRlbUlucHV0Q2hhbmdlZCIsInZhbGlkaXR5IiwidmFsaWQiLCJoYW5kbGVDaGFuZ2VDYXJ0U3RhdGVFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiaXNPcGVuIiwiQ0FSVF9PUEVOIiwic2hvdWxkT3BlbiIsIm9wZW4iLCJ3cmFwcGVyIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSX1dSQVBQRVIiLCJnZXRDYXJ0Q29udGFpbmVyIiwiY2FydEVsZW1lbnQiLCJjYXJ0VHlwZSIsIkNBUlRfVFlQRSIsImR1cmF0aW9uIiwiZGVmYXVsdFRvIiwiREFUQV9BVFRSX0FOSU1BVElPTl9EVVJBVElPTiIsIkFOSU1BVElPTl9EVVJBVElPTl9ERUZBVUxUIiwiY29udGFpbmVyRWFzaW5nIiwiREFUQV9BVFRSX0FOSU1BVElPTl9FQVNJTkciLCJBTklNQVRJT05fRUFTSU5HX0RFRkFVTFQiLCJ3cmFwcGVyVHJhbnNpdGlvbiIsImNvbnRhaW5lck91dERlbGF5Iiwic2hvdWxkQW5pbWF0ZSIsImNvbnRhaW5lclN0ZXBBIiwiY29udGFpbmVyU3RlcEIiLCJzY2FsZSIsIngiLCJ5IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2FydEZvY3VzVHJhcCIsInNldEF0dHJpYnV0ZSIsInRyYW0iLCJhZGQiLCJzZXQiLCJvcGFjaXR5Iiwic3RhcnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlQXR0cmlidXRlIiwiZGlzcGxheSIsInN0b3AiLCJjYXJ0T3BlbkJ1dHRvbiIsImhhbmRsZUNhcnRCdXR0b24iLCJ0eXBlIiwiY2FydENvbnRhaW5lcldyYXBwZXIiLCJldnQiLCJEQVRBX0FUVFJfT1BFTl9PTl9IT1ZFUiIsIkNIQU5HRV9DQVJUX0VWRU5UIiwiYnViYmxlcyIsImhhbmRsZUNhcnRDb250YWluZXJMZWF2ZSIsImRpc3BhdGNoRXZlbnQiLCJoYW5kbGVDYXJ0Q2hlY2tvdXRCdXR0b24iLCJjaGVja291dEJ1dHRvbiIsImlzUHJvdG9jb2xIdHRwcyIsImFsZXJ0IiwibG9hZGluZ1RleHQiLCJEQVRBX0FUVFJfTE9BRElOR19URVhUIiwiYnV0dG9uVGV4dCIsImlubmVySFRNTCIsIkNBUlRfQ0hFQ0tPVVRfTE9BRElOR19URVhUX0RFRkFVTFQiLCJwdWJsaXNoYWJsZUtleSIsIkRBVEFfQVRUUl9QVUJMSVNIQUJMRV9LRVkiLCJwYXlwYWxFbGVtZW50IiwiUEFZUEFMX0VMRU1FTlRfSU5TVEFOQ0UiLCJDQVJUX0NIRUNLT1VUX0JVVFRPTl9URVhUX0RFRkFVTFQiLCJsb2NhdGlvbiIsImhyZWYiLCJoYW5kbGVTdWJtaXRGb3JtIiwicmVsYXRlZFRhcmdldCIsImNhcnRXcmFwcGVyIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSIiwiY2FydENvbnRhaW5lclN0YXRlcyIsImhhbmRsZVByZXZpZXdNb2RlIiwiY2FydENvbnRhaW5lckVsZW1lbnRzIiwiZmluZEFsbEVsZW1lbnRzQnlOb2RlVHlwZSIsIndhc09wZW4iLCJwdXNoIiwiaGFuZGxlRGVzaWduTW9kZSIsImRlc3Ryb3kiLCJ0cmFuc2Zvcm0iLCJkb0ZvckFsbE1hdGNoaW5nQ2xhc3MiLCJjYXJ0IiwiY2xhc3NOYW1lIiwiZm4iLCJzaG93Q2FydERlZmF1bHRTdGF0ZSIsImhpZGVFbGVtZW50Iiwic2hvd0VsZW1lbnQiLCJzaG93Q2FydEVtcHR5U3RhdGUiLCJoaWRlRXJyb3JTdGF0ZSIsInNob3dFcnJvclN0YXRlIiwiaGFzSXRlbXMiLCJyZXNwb25zZSIsImRhdGEiLCJkYXRhYmFzZSIsImNvbW1lcmNlT3JkZXIiLCJ1c2VySXRlbXMiLCJoYXNFcnJvcnMiLCJlcnJvcnMiLCJ1cGRhdGVDYXJ0QTExWSIsIm9wZW5MaW5rRWxlbWVudCIsInN0cmlwZVN0b3JlIiwiaGlkZVJ1bGUiLCJEQVRBX0FUVFJfQ09VTlRfSElERV9SVUxFIiwiQ0FSVF9DT1VOVF9ISURFX1JVTEVTIiwiQUxXQVlTIiwiRU1QVFkiLCJkYXRhV2l0aERlZmF1bHRzIiwibWVyZ2VXaXRoIiwib2JqIiwic3JjIiwia2V5IiwidXNlckl0ZW1zQ291bnQiLCJyZW5kZXJUcmVlIiwiY2FydEZvcm0iLCJpc0luaXRpYWxpemVkIiwiaXNGcmVlT3JkZXIiLCJwYXlwYWxCdXR0b24iLCJQQVlQQUxfQlVUVE9OX0VMRU1FTlRfSU5TVEFOQ0UiLCJoYXNTdWJzY3JpcHRpb24iLCJ1cGRhdGVXZWJQYXltZW50c0J1dHRvbiIsImhhbmRsZVJlbmRlckNhcnQiLCJSRU5ERVJfVFJFRV9FVkVOVCIsIm9yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVyIiwiTk9ERV9UWVBFX0NPTU1FUkNFX09SREVSX0NPTkZJUk1BVElPTl9XUkFQUEVSIiwiY2FydHMiLCJleGVjdXRlTG9hZGluZ0NhbGxiYWNrcyIsInF1ZXJ5IiwiQ0FSVF9RVUVSWSIsImZldGNoUG9saWN5IiwiZXJyb3JQb2xpY3kiLCJjb25jYXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY2F0Y2giLCJlcnIiLCJoYW5kbGVDYXJ0S2V5VXAiLCJrZXlDb2RlIiwib3BlbkNhcnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImh0bWxFbGVtZW50IiwiY2xpY2siLCJwYXJlbnQiLCJoYW5kbGVDbGlja0Nsb3NlQ2FydCIsImlzTm90SW5zaWRlIiwiY29udGFpbnMiLCJjb250YWluZXIiLCJmb2N1c2FibGVFbGVtZW50cyIsIm9mZnNldEhlaWdodCIsImZpcnN0Rm9jdXNhYmxlRWxlbWVudCIsImxhc3RGb2N1c2FibGVFbGVtZW50Iiwic2hpZnRLZXkiLCJhY3RpdmVFbGVtZW50IiwiaGFuZGxlclByb3h5Iiwib24iXSwibWFwcGluZ3MiOiJBQUFBLHFJQUFxSTs7Ozs7Ozs7Ozs7SUFnckNySSxPQUEwQjtlQUExQjs7SUFoQ2FBLFFBQVE7ZUFBUkE7O0lBM1JBQyxVQUFVO2VBQVZBOzs7bUVBcDNCRztrRUFDTTtnRUFDRjsyQkFxQ2I7K0JBZ0JBOzhEQUVXO21DQUNvQjsyQkFFYjtrRUFFSDs7Ozs7O0FBR3RCLE1BQU0sRUFBQ0MsS0FBSyxFQUFFQyxZQUFZLEVBQUVDLGFBQWEsRUFBRUMsYUFBYSxFQUFFQyxjQUFjLEVBQUMsR0FDdkVDLHFCQUFVO0FBRVosTUFBTSxFQUFDQyxXQUFXLEVBQUVDLG9CQUFvQixFQUFDLEdBQ3ZDQywrQ0FBb0M7QUFFdEMsTUFBTUMsNkJBQTZCQyxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7Ozs7O0FBUXZDLENBQUM7QUFFRCxNQUFNQyx1QkFBdUIsQ0FDM0JDLE1BQ0FDO0lB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

}),
69773: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    isCartOpen: function() {
        return isCartOpen;
    },
    showErrorMessageForError: function() {
        return showErrorMessageForError;
    }
});
const _constants = __webpack_require__(10873);
const _commerceUtils = __webpack_require__(54556);
const isCartOpen = ()=>{
    const cartContainerEl = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER);
    if (!cartContainerEl) return false;
    return window.getComputedStyle(cartContainerEl).display !== 'none';
};
const updateErrorMessage = (element, error)=>{
    const errorText = element.querySelector(_constants.CART_ERROR_MESSAGE_SELECTOR);
    if (!errorText) return;
    const errorType = getErrorType(error);
    // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ readonly QUANTITY: { readonly id: "QUANTITY_ERROR"; readonly name: "Quantity not available"; readonly category: { readonly id: "GENERAL"; readonly label: "General Errors"; }; readonly copy: "Product is not available in this quantity."; readonly path: readonly [...]; }; readonly GENERAL: { ...; }; readonly CHECKOUT...'.
    const errorData = _constants.CART_ERRORS[errorType.toUpperCase()] || {};
    const defaultErrorMessage = errorData.msg;
    const errorMessage = errorText.getAttribute((0, _constants.getCheckoutErrorMessageForType)(errorType)) || defaultErrorMessage;
    errorText.textContent = errorMessage;
    if (errorData.requiresRefresh) {
        errorText.setAttribute(_constants.NEEDS_REFRESH, 'true');
    } else {
        errorText.removeAttribute(_constants.NEEDS_REFRESH);
    }
};
const errorCodeToCartErrorType = (code, msg)=>{
    switch(code){
        case 'OrderTotalRange':
            {
                if (msg && msg.match(/too small/i)) {
                    return 'cart_order_min';
                }
                return 'general';
            }
        default:
            return 'general';
    }
};
const getErrorType = (error)=>{
    if (error.graphQLErrors && error.graphQLErrors.length > 0) {
        return errorCodeToCartErrorType(error.graphQLErrors[0].code, error.graphQLErrors[0].message);
    }
    if (error.code) {
        return errorCodeToCartErrorType(error.code, error.message);
    }
    return 'general';
};
const showErrorMessageForError = (err, scope)=>{
    const cartErrorState = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_ERROR, scope);
    if (cartErrorState) {
        cartErrorState.style.removeProperty('display');
        updateErrorMessage(cartErrorState, err);
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnRVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIHdpbmRvdyAqL1xuaW1wb3J0IHtcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfRVJST1IsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NPTlRBSU5FUl9XUkFQUEVSLFxuICBDQVJUX0VSUk9SUyxcbiAgQ0FSVF9FUlJPUl9NRVNTQUdFX1NFTEVDVE9SLFxuICBnZXRDaGVja291dEVycm9yTWVzc2FnZUZvclR5cGUsXG4gIE5FRURTX1JFRlJFU0gsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5pbXBvcnQge2ZpbmRFbGVtZW50QnlOb2RlVHlwZX0gZnJvbSAnLi9jb21tZXJjZVV0aWxzJztcblxuZXhwb3J0IGNvbnN0IGlzQ2FydE9wZW4gPSAoKSA9PiB7XG4gIGNvbnN0IGNhcnRDb250YWluZXJFbCA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DT05UQUlORVJfV1JBUFBFUlxuICApO1xuXG4gIGlmICghY2FydENvbnRhaW5lckVsKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhcnRDb250YWluZXJFbCkuZGlzcGxheSAhPT0gJ25vbmUnO1xufTtcblxuY29uc3QgdXBkYXRlRXJyb3JNZXNzYWdlID0gKGVsZW1lbnQ6IEVsZW1lbnQsIGVycm9yOiBSZWNvcmQ8YW55LCBhbnk+KSA9PiB7XG4gIGNvbnN0IGVycm9yVGV4dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihDQVJUX0VSUk9SX01FU1NBR0VfU0VMRUNUT1IpO1xuICBpZiAoIWVycm9yVGV4dCkgcmV0dXJuO1xuXG4gIGNvbnN0IGVycm9yVHlwZSA9IGdldEVycm9yVHlwZShlcnJvcik7XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ3sgcmVhZG9ubHkgUVVBTlRJVFk6IHsgcmVhZG9ubHkgaWQ6IFwiUVVBTlRJVFlfRVJST1JcIjsgcmVhZG9ubHkgbmFtZTogXCJRdWFudGl0eSBub3QgYXZhaWxhYmxlXCI7IHJlYWRvbmx5IGNhdGVnb3J5OiB7IHJlYWRvbmx5IGlkOiBcIkdFTkVSQUxcIjsgcmVhZG9ubHkgbGFiZWw6IFwiR2VuZXJhbCBFcnJvcnNcIjsgfTsgcmVhZG9ubHkgY29weTogXCJQcm9kdWN0IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBxdWFudGl0eS5cIjsgcmVhZG9ubHkgcGF0aDogcmVhZG9ubHkgWy4uLl07IH07IHJlYWRvbmx5IEdFTkVSQUw6IHsgLi4uOyB9OyByZWFkb25seSBDSEVDS09VVC4uLicuXG4gIGNvbnN0IGVycm9yRGF0YSA9IENBUlRfRVJST1JTW2Vycm9yVHlwZS50b1VwcGVyQ2FzZSgpXSB8fCB7fTtcbiAgY29uc3QgZGVmYXVsdEVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5tc2c7XG5cbiAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICBlcnJvclRleHQuZ2V0QXR0cmlidXRlKGdldENoZWNrb3V0RXJyb3JNZXNzYWdlRm9yVHlwZShlcnJvclR5cGUpKSB8fFxuICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U7XG5cbiAgZXJyb3JUZXh0LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuXG4gIGlmIChlcnJvckRhdGEucmVxdWlyZXNSZWZyZXNoKSB7XG4gICAgZXJyb3JUZXh0LnNldEF0dHJpYnV0ZShORUVEU19SRUZSRVNILCAndHJ1ZScpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yVGV4dC5yZW1vdmVBdHRyaWJ1dGUoTkVFRFNfUkVGUkVTSCk7XG4gIH1cbn07XG5cbmNvbnN0IGVycm9yQ29kZVRvQ2FydEVycm9yVHlwZSA9IChjb2RlPzogc3RyaW5nLCBtc2c/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBzd2l0Y2ggKGNvZGUpIHtcbiAgICBjYXNlICdPcmRlclRvdGFsUmFuZ2UnOiB7XG4gICAgICBpZiAobXNnICYmIG1zZy5tYXRjaCgvdG9vIHNtYWxsL2kpKSB7XG4gICAgICAgIHJldHVybiAnY2FydF9vcmRlcl9taW4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ2dlbmVyYWwnO1xuICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ2dlbmVyYWwnO1xuICB9XG59O1xuXG5jb25zdCBnZXRFcnJvclR5cGUgPSAoZXJyb3I6IFJlY29yZDxhbnksIGFueT4pID0+IHtcbiAgaWYgKGVycm9yLmdyYXBoUUxFcnJvcnMgJiYgZXJyb3IuZ3JhcGhRTEVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGVycm9yQ29kZVRvQ2FydEVycm9yVHlwZShcbiAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnNbMF0uY29kZSxcbiAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnNbMF0ubWVzc2FnZVxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IuY29kZSkge1xuICAgIHJldHVybiBlcnJvckNvZGVUb0NhcnRFcnJvclR5cGUoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XG4gIH1cblxuICByZXR1cm4gJ2dlbmVyYWwnO1xufTtcblxuZXhwb3J0IGNvbnN0IHNob3dFcnJvck1lc3NhZ2VGb3JFcnJvciA9IChcbiAgZXJyOiBSZWNvcmQ8YW55LCBhbnk+LFxuICBzY29wZT86IEVsZW1lbnQgfCBEb2N1bWVudFxuKSA9PiB7XG4gIGNvbnN0IGNhcnRFcnJvclN0YXRlID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0VSUk9SLFxuICAgIHNjb3BlXG4gICk7XG4gIGlmIChjYXJ0RXJyb3JTdGF0ZSkge1xuICAgIGNhcnRFcnJvclN0YXRlLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgdXBkYXRlRXJyb3JNZXNzYWdlKGNhcnRFcnJvclN0YXRlLCBlcnIpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbImlzQ2FydE9wZW4iLCJzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IiLCJjYXJ0Q29udGFpbmVyRWwiLCJmaW5kRWxlbWVudEJ5Tm9kZVR5cGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DT05UQUlORVJfV1JBUFBFUiIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJkaXNwbGF5IiwidXBkYXRlRXJyb3JNZXNzYWdlIiwiZWxlbWVudCIsImVycm9yIiwiZXJyb3JUZXh0IiwicXVlcnlTZWxlY3RvciIsIkNBUlRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiIsImVycm9yVHlwZSIsImdldEVycm9yVHlwZSIsImVycm9yRGF0YSIsIkNBUlRfRVJST1JTIiwidG9VcHBlckNhc2UiLCJkZWZhdWx0RXJyb3JNZXNzYWdlIiwibXNnIiwiZXJyb3JNZXNzYWdlIiwiZ2V0QXR0cmlidXRlIiwiZ2V0Q2hlY2tvdXRFcnJvck1lc3NhZ2VGb3JUeXBlIiwidGV4dENvbnRlbnQiLCJyZXF1aXJlc1JlZnJlc2giLCJzZXRBdHRyaWJ1dGUiLCJORUVEU19SRUZSRVNIIiwicmVtb3ZlQXR0cmlidXRlIiwiZXJyb3JDb2RlVG9DYXJ0RXJyb3JUeXBlIiwiY29kZSIsIm1hdGNoIiwiZ3JhcGhRTEVycm9ycyIsImxlbmd0aCIsIm1lc3NhZ2UiLCJlcnIiLCJzY29wZSIsImNhcnRFcnJvclN0YXRlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfRVJST1IiLCJzdHlsZSIsInJlbW92ZVByb3BlcnR5Il0sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0I7Ozs7Ozs7Ozs7O0lBV0xBLFVBQVU7ZUFBVkE7O0lBK0RBQyx3QkFBd0I7ZUFBeEJBOzs7MkJBbEVOOytCQUM2QjtBQUU3QixNQUFNRCxhQUFhO0lBQ3hCLE1BQU1FLGtCQUFrQkMsSUFBQUEsb0NBQXFCLEVBQzNDQyxvREFBeUM7SUFHM0MsSUFBSSxDQUFDRixpQkFBaUIsT0FBTztJQUU3QixPQUFPRyxPQUFPQyxnQkFBZ0IsQ0FBQ0osaUJBQWlCSyxPQUFPLEtBQUs7QUFDOUQ7QUFFQSxNQUFNQyxxQkFBcUIsQ0FBQ0MsU0FBa0JDO0lBQzVDLE1BQU1DLFlBQVlGLFFBQVFHLGFBQWEsQ0FBQ0Msc0NBQTJCO0lBQ25FLElBQUksQ0FBQ0YsV0FBVztJQUVoQixNQUFNRyxZQUFZQyxhQUFhTDtJQUUvQix1Y0FBdWM7SUFDdmMsTUFBTU0sWUFBWUMsc0JBQVcsQ0FBQ0gsVUFBVUksV0FBVyxHQUFHLElBQUksQ0FBQztJQUMzRCxNQUFNQyxzQkFBc0JILFVBQVVJLEdBQUc7SUFFekMsTUFBTUMsZUFDSlYsVUFBVVcsWUFBWSxDQUFDQyxJQUFBQSx5Q0FBOEIsRUFBQ1QsZUFDdERLO0lBRUZSLFVBQVVhLFdBQVcsR0FBR0g7SUFFeEIsSUFBSUwsVUFBVVMsZUFBZSxFQUFFO1FBQzdCZCxVQUFVZSxZQUFZLENBQUNDLHdCQUFhLEVBQUU7SUFDeEMsT0FBTztRQUNMaEIsVUFBVWlCLGVBQWUsQ0FBQ0Qsd0JBQWE7SUFDekM7QUFDRjtBQUVBLE1BQU1FLDJCQUEyQixDQUFDQyxNQUFlVjtJQUMvQyxPQUFRVTtRQUNOLEtBQUs7WUFBbUI7Z0JBQ3RCLElBQUlWLE9BQU9BLElBQUlXLEtBQUssQ0FBQyxlQUFlO29CQUNsQyxPQUFPO2dCQUNUO2dCQUVBLE9BQU87WUFDVDtRQUVBO1lBQ0UsT0FBTztJQUNYO0FBQ0Y7QUFFQSxNQUFNaEIsZUFBZSxDQUFDTDtJQUNwQixJQUFJQSxNQUFNc0IsYUFBYSxJQUFJdEIsTUFBTXNCLGFBQWEsQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7UUFDekQsT0FBT0oseUJBQ0xuQixNQUFNc0IsYUFBYSxDQUFDLEVBQUUsQ0FBQ0YsSUFBSSxFQUMzQnBCLE1BQU1zQixhQUFhLENBQUMsRUFBRSxDQUFDRSxPQUFPO0lBRWxDO0lBRUEsSUFBSXhCLE1BQU1vQixJQUFJLEVBQUU7UUFDZCxPQUFPRCx5QkFBeUJuQixNQUFNb0IsSUFBSSxFQUFFcEIsTUFBTXdCLE9BQU87SUFDM0Q7SUFFQSxPQUFPO0FBQ1Q7QUFFTyxNQUFNakMsMkJBQTJCLENBQ3RDa0MsS0FDQUM7SUFFQSxNQUFNQyxpQkFBaUJsQyxJQUFBQSxvQ0FBcUIsRUFDMUNtQyx3Q0FBNkIsRUFDN0JGO0lBRUYsSUFBSUMsZ0JBQWdCO1FBQ2xCQSxlQUFlRSxLQUFLLENBQUNDLGNBQWMsQ0FBQztRQUNwQ2hDLG1CQUFtQjZCLGdCQUFnQkY7SUFDckM7QUFDRiJ9

}),
82333: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window, Element, CustomEvent, HTMLElement */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    register: function() {
        return register;
    }
});
const _debounce = /*#__PURE__*/ _interop_require_default(__webpack_require__(18305));
const _constants = __webpack_require__(10873);
const _commerceUtils = __webpack_require__(54556);
const _checkoutUtils = __webpack_require__(17696);
const _debug = /*#__PURE__*/ _interop_require_default(__webpack_require__(85986));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isInputInsideCustomerInfoEvent = ({ target })=>{
    // ensures this event's logic doesn't run on non-checkout pages
    const checkoutFormContainer = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER);
    if (!checkoutFormContainer) {
        return false;
    }
    const customerInfoWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_CUSTOMER_INFO_WRAPPER, target);
    if (customerInfoWrapper && target instanceof Element && target.tagName === 'INPUT') {
        return target;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isInputInsideAddressWrapperEvent = ({ target })=>{
    // ensures this event's logic doesn't run on non-checkout pages
    const checkoutFormContainer = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER);
    if (!checkoutFormContainer || !(target instanceof Element)) {
        return false;
    }
    const shippingAddressWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER, target);
    const billingAddressWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER, target);
    if (shippingAddressWrapper) {
        return shippingAddressWrapper;
    } else if (billingAddressWrapper) {
        return billingAddressWrapper;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isInputInsideShippingMethodEvent = ({ target })=>{
    // ensures this event's logic doesn't run on non-checkout pages
    const checkoutFormContainer = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER) || (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER);
    if (!checkoutFormContainer) {
        return false;
    }
    const shippingMethodWrapper = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER, target);
    if (shippingMethodWrapper && target instanceof Element && target.tagName === 'INPUT') {
        return target;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isBillingAddressToggleEvent = ({ target })=>{
    if (target instanceof Element && target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX) {
        return target;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isPlaceOrderButtonEvent = ({ target })=>{
    const placeOrderButton = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON, target);
    if (placeOrderButton && target instanceof Element) {
        return target;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isApplyDiscountFormEvent = ({ target })=>{
    if (target instanceof Element && target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_FORM) {
        return target;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isFormInsideCheckoutContainerEvent = ({ target })=>{
    const checkoutForm = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, target);
    if (target instanceof HTMLFormElement && checkoutForm) {
        return target;
    } else {
        return false;
    }
};
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isInputInsideCheckoutFormEvent = ({ target })=>{
    const checkoutForm = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, target);
    if (target instanceof HTMLInputElement && checkoutForm) {
        return target;
    } else {
        return false;
    }
};
const handleRenderCheckout = (event, apolloClient, stripeStore)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    if (!(event instanceof CustomEvent && event.type === _constants.RENDER_TREE_EVENT)) {
        return;
    }
    const errors = [];
    const { detail } = event;
    if (detail != null && detail.error) {
        errors.push(detail.error);
    }
    const focusedEle = window.document.activeElement;
    const checkoutForm = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'EventTarget'.
    focusedEle);
    let prevFocusedInput = null;
    // Only trigger for focused elements in a checkout form
    if (focusedEle instanceof HTMLInputElement && checkoutForm) {
        prevFocusedInput = focusedEle.id;
        if (!prevFocusedInput) {
            prevFocusedInput = focusedEle.getAttribute('data-wf-bindings');
        }
        // Move from empty string to null
        prevFocusedInput = prevFocusedInput ? null : prevFocusedInput;
    }
    const checkoutFormContainers = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER);
    (0, _checkoutUtils.renderCheckoutFormContainers)(checkoutFormContainers, errors, apolloClient, stripeStore, prevFocusedInput);
};
const checkFormValidity = ({ customerInfo, shippingAddress, shippingInfo, billingAddress, billingAddressToggle, additionalInfo, requiresShipping })=>{
    // reportValidity isn't supported in IE, so we need to check if it exists
    // for our IE users. they'll have to rely on the server error, which isn't
    // too bad from a UX experience, since they'll still know something went wrong
    if (!HTMLFormElement.prototype.reportValidity) {
        return true;
    }
    // because we have multiple form elements, what we do is ask the browser to report
    // the validity of each form, which triggers the UI that would usually be seen
    // when someone submitted a regular form. we return if it's not valid, so that
    // the browser doesn't jump ahead to the next element, allowing the user to
    // fix their mistakes. we don't check the stripe elements, since we can't
    // directly get the status of those, as that's handled by stripe. however, if
    // the user is missing a field and tries to submit the form, they will get
    // an error when we try to create the token, so we'll display an error then
    if (!customerInfo.reportValidity() || requiresShipping && !shippingAddress.reportValidity() || requiresShipping && !shippingInfo.reportValidity() || // only check the billing address if the toggle is off, i.e. the billing address
    // form is being shown or if it does not require shipping
    (!requiresShipping || !billingAddressToggle.checked) && !billingAddress.reportValidity() || additionalInfo && additionalInfo instanceof HTMLFormElement && !additionalInfo.reportValidity()) {
        return false;
    }
    return true;
};
let placingOrder = false;
const startOrderFlow = (placeOrderButton)=>{
    placingOrder = true;
    window.addEventListener('beforeunload', _checkoutUtils.beforeUnloadHandler);
    const buttonText = placeOrderButton.innerHTML;
    const loadingText = placeOrderButton.getAttribute(_constants.DATA_ATTR_LOADING_TEXT);
    placeOrderButton.innerHTML = loadingText ? loadingText : _constants.CHECKOUT_PLACE_ORDER_LOADING_TEXT_DEFAULT;
    const finishOrderFlow = (isRedirecting = false)=>{
        // we only set `placingOrder` to false if we're not redirecting to the
        // confirmation page. this is so that while waiting for the confirmation
        // page to load, the user can't attempt to submit the order again
        if (!isRedirecting) {
            placingOrder = false;
        }
        window.removeEventListener('beforeunload', _checkoutUtils.beforeUnloadHandler);
        placeOrderButton.innerHTML = buttonText ? buttonText : _constants.CHECKOUT_PLACE_ORDER_BUTTON_TEXT_DEFAULT;
    };
    return finishOrderFlow;
};
const handlePlaceOrder = (event, apolloClient, stripeStore)=>{
    // Want to skip placing order if in design/preview mode, or an order place is in progress
    if (window.Webflow.env('design') || window.Webflow.env('preview') || placingOrder) {
        return;
    }
    const { currentTarget } = event;
    if (!(currentTarget instanceof Element)) {
        return;
    }
    const checkoutFormContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, currentTarget);
    if (!(checkoutFormContainer instanceof Element)) {
        return;
    }
    const errorState = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_ERROR_STATE, checkoutFormContainer);
    const customerInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_CUSTOMER_INFO_WRAPPER, checkoutFormContainer);
    const shippingAddress = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER, checkoutFormContainer);
    const shippingInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER, checkoutFormContainer);
    const billingAddress = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER, checkoutFormContainer);
    const billingAddressToggle = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX, checkoutFormContainer);
    const placeOrderButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON, checkoutFormContainer);
    const additionalInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_ADDITIONAL_INFO, checkoutFormContainer);
    if (!(errorState instanceof HTMLElement) || !(customerInfo instanceof HTMLFormElement) || !(shippingAddress instanceof HTMLFormElement) || !(shippingInfo instanceof HTMLFormElement) || !(billingAddress instanceof HTMLFormElement) || !(billingAddressToggle instanceof HTMLInputElement) || !(placeOrderButton instanceof Element)) {
        return;
    }
    const errorMessage = errorState.querySelector(_constants.CART_CHECKOUT_ERROR_MESSAGE_SELECTOR);
    // If the error message has this attribute, we want to block the order from
    // being submitted as the user is being forced to refresh the checkout page.
    if (errorMessage && errorMessage.hasAttribute(_constants.NEEDS_REFRESH)) {
        return;
    }
    const hasAdditionalInfo = additionalInfo && additionalInfo instanceof HTMLElement;
    const finishOrderFlow = startOrderFlow(placeOrderButton);
    errorState.style.setProperty('display', 'none');
    (0, _commerceUtils.fetchOrderStatusFlags)(apolloClient).then(({ requiresShipping, isFreeOrder })=>{
        const isFormValid = checkFormValidity({
            customerInfo,
            shippingAddress,
            shippingInfo,
            billingAddress,
            billingAddressToggle,
            additionalInfo,
            requiresShipping
        });
        if (!isFormValid) {
            finishOrderFlow();
            return;
        }
        // final sync with server, to ensure validity
        const customerInfoFormData = (0, _commerceUtils.formToObject)(customerInfo);
        const email = String(customerInfoFormData.email).trim();
        const shippingAddressInfo = {
            type: 'shipping',
            ...(0, _commerceUtils.formToObject)(shippingAddress, true)
        };
        const billingAddressInfo = {
            type: 'billing',
            ...(0, _commerceUtils.formToObject)(!billingAddressToggle.checked || !requiresShipping ? billingAddress : shippingAddress, true)
        };
        const stripeBillingAddressInfo = {
            billing_details: {
                // @ts-expect-error - TS2339 - Property 'name' does not exist on type '{ readonly type: "billing"; }'.
                name: billingAddressInfo.name,
                email,
                address: {
                    // @ts-expect-error - TS2339 - Property 'address_line1' does not exist on type '{ readonly type: "billing"; }'.
                    line1: billingAddressInfo.address_line1,
                    // @ts-expect-error - TS2339 - Property 'address_line2' does not exist on type '{ readonly type: "billing"; }'.
                    line2: billingAddressInfo.address_line2,
                    // @ts-expect-error - TS2339 - Property 'address_city' does not exist on type '{ readonly type: "billing"; }'.
                    city: billingAddressInfo.address_city,
                    // @ts-expect-error - TS2339 - Property 'address_state' does not exist on type '{ readonly type: "billing"; }'.
                    state: billingAddressInfo.address_state,
                    // @ts-expect-error - TS2339 - Property 'address_country' does not exist on type '{ readonly type: "billing"; }'.
                    country: billingAddressInfo.address_country,
                    // @ts-expect-error - TS2339 - Property 'address_zip' does not exist on type '{ readonly type: "billing"; }'.
                    postal_code: billingAddressInfo.address_zip
                }
            }
        };
        let shippingMethodId = '';
        // @ts-expect-error - TS7015 - Element implicitly has an 'any' type because index expression is not of type 'number'.
        if (requiresShipping && shippingInfo.elements['shipping-method-choice']) {
            // this is an IE11-safe way of just doing shippingInfo.elements['shipping-method-choice'].value
            const shippingMethodChoice = shippingInfo.querySelector('input[name="shipping-method-choice"]:checked');
            // this should never be falsey, but Flow
            if (shippingMethodChoice) {
                shippingMethodId = shippingMethodChoice.value;
            }
        }
        const customData = hasAdditionalInfo ? (0, _commerceUtils.customDataFormToArray)(additionalInfo) : [];
        const syncCheckoutForm = Promise.all([
            (0, _checkoutUtils.createOrderIdentityMutation)(apolloClient, email),
            (0, _checkoutUtils.createOrderAddressMutation)(apolloClient, billingAddressInfo),
            requiresShipping ? (0, _checkoutUtils.createOrderAddressMutation)(apolloClient, shippingAddressInfo) : Promise.resolve(),
            requiresShipping ? (0, _checkoutUtils.createOrderShippingMethodMutation)(apolloClient, shippingMethodId) : Promise.resolve(),
            hasAdditionalInfo ? (0, _checkoutUtils.createCustomDataMutation)(apolloClient, customData) : Promise.resolve()
        ]);
        syncCheckoutForm.then(()=>{
            if (isFreeOrder) {
                return Promise.resolve();
            }
            if (!stripeStore.isInitialized()) {
                return Promise.reject(new Error("Stripe has not been set up for this project  Go to the project's Ecommerce Payment settings in the Designer to link Stripe."));
            }
            const stripe = stripeStore.getStripeInstance();
            const checkoutFormInstance = parseInt(// @ts-expect-error - TS2345 - Argument of type 'string | null' is not assignable to parameter of type 'string'.
            checkoutFormContainer.getAttribute(_constants.STRIPE_ELEMENT_INSTANCE), 10);
            const card = stripeStore.getElement('cardNumber', checkoutFormInstance);
            return stripe.createPaymentMethod('card', card, stripeBillingAddressInfo);
        })// @ts-expect-error - Argument of type '(data: any) => Promise<FetchResult<any>> | Promise<void>' is not assignable to parameter of type '(value: any) => FetchResult<any> | PromiseLike<FetchResult<any>>'.
        .then((data)=>{
            if (!data || isFreeOrder) {
                return Promise.resolve();
            }
            if (data.error) {
                return Promise.reject(data.error);
            }
            return (0, _checkoutUtils.createStripePaymentMethodMutation)(apolloClient, data.paymentMethod.id);
        }).then(()=>{
            return (0, _checkoutUtils.createAttemptSubmitOrderRequest)(apolloClient, {
                checkoutType: 'normal'
            });
        }).then((data)=>{
            _debug.default.log(data);
            const order = (0, _checkoutUtils.getOrderDataFromGraphQLResponse)(data);
            if ((0, _checkoutUtils.orderRequiresAdditionalAction)(order.status)) {
                const stripe = stripeStore.getStripeInstance();
                return stripe.retrievePaymentIntent(order.clientSecret)// @ts-expect-error - TS7006 - Parameter 'retrieveResult' implicitly has an 'any' type.
                .then((retrieveResult)=>{
                    const intent = retrieveResult && retrieveResult.paymentIntent || {};
                    const actionPromise = intent.confirmation_method === 'automatic' ? stripe.confirmCardPayment(order.clientSecret) : stripe.handleCardAction(order.clientSecret);
                    // @ts-expect-error - TS7006 - Parameter 'result' implicitly has an 'any' type.
                    return actionPromise.then((result)=>{
                        if (result.error) {
                            return Promise.reject(result.error);
                        }
                        return (0, _checkoutUtils.createAttemptSubmitOrderRequest)(apolloClient, {
                            checkoutType: 'normal',
                            paymentIntentId: result.paymentIntent.id
                        }).then((resp)=>{
                            const finishedOrder = (0, _checkoutUtils.getOrderDataFromGraphQLResponse)(resp);
                            if (finishedOrder.ok) {
                                finishOrderFlow(true);
                                (0, _checkoutUtils.redirectToOrderConfirmation)(finishedOrder);
                            }
                        });
                    });
                });
            }
            if (order.ok) {
                finishOrderFlow(true);
                (0, _checkoutUtils.redirectToOrderConfirmation)(order);
            }
        }).catch((err)=>{
            finishOrderFlow();
            _debug.default.error(err);
            errorState.style.removeProperty('display');
            (0, _checkoutUtils.updateErrorMessage)(errorState, err);
        });
    });
};
// @ts-expect-error - TS2314 - Generic type 'ApolloClient<TCacheShape>' requires 1 type argument(s).
const handleApplyDiscount = (event, apolloClient)=>{
    event.preventDefault(); // prevent submit
    event.stopImmediatePropagation(); // do not trigger submission of any other forms (we have forms in forms :())
    const { currentTarget } = event;
    if (!(currentTarget instanceof Element)) {
        return;
    }
    const inputEl = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_INPUT, currentTarget);
    const checkoutFormContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, currentTarget) || (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER, currentTarget);
    if (!checkoutFormContainer) {
        return;
    }
    const errorStateEl = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_ERROR_STATE, checkoutFormContainer);
    if (!(inputEl instanceof HTMLInputElement && errorStateEl instanceof HTMLElement)) {
        return;
    }
    const discountCode = inputEl.value.trim().toUpperCase();
    (0, _checkoutUtils.applyDiscount)(apolloClient, {
        discountCode
    }).then(()=>{
        inputEl.value = '';
        errorStateEl.style.display = 'none';
        (0, _commerceUtils.triggerRender)(null);
    }).catch((error)=>(0, _checkoutUtils.showErrorMessageForError)(error, checkoutFormContainer));
};
// @ts-expect-error - TS2314 - Generic type 'ApolloClient<TCacheShape>' requires 1 type argument(s).
const handleUpdateCustomerInfo = (event, apolloClient)=>{
    const { currentTarget } = event;
    if (!(currentTarget instanceof HTMLInputElement)) {
        return;
    }
    const value = currentTarget.value.trim();
    const email = value == null || value === '' ? null : value;
    (0, _checkoutUtils.createOrderIdentityMutation)(apolloClient, email).then(()=>{
        (0, _commerceUtils.triggerRender)(null);
    }).catch((err)=>{
        (0, _commerceUtils.triggerRender)(err);
    });
};
const handleUpdateAddress = (0, _debounce.default)((event, apolloClient)=>{
    const { currentTarget } = event;
    if (!(currentTarget instanceof HTMLFormElement)) {
        return;
    }
    const type = currentTarget.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === _constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER ? 'shipping' : 'billing';
    const addressInfo = {
        type,
        ...(0, _commerceUtils.formToObject)(currentTarget, true)
    };
    (0, _checkoutUtils.createOrderAddressMutation)(apolloClient, addressInfo).then(()=>{
        (0, _commerceUtils.triggerRender)(null);
    }).catch((err)=>{
        (0, _commerceUtils.triggerRender)(err);
    });
}, 500);
// @ts-expect-error - TS7031 - Binding element 'currentTarget' implicitly has an 'any' type.
const handleToggleBillingAddress = ({ currentTarget })=>{
    const checkoutFormContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, currentTarget);
    if (!checkoutFormContainer) {
        return;
    }
    const billingAddressWrapper = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER, checkoutFormContainer);
    if (!billingAddressWrapper || !(currentTarget instanceof HTMLInputElement)) {
        return;
    }
    if (currentTarget.checked) {
        billingAddressWrapper.style.setProperty('display', 'none');
    } else {
        billingAddressWrapper.style.removeProperty('display');
    }
};
const handleChooseShippingMethod = (// @ts-expect-error - TS7031 - Binding element 'currentTarget' implicitly has an 'any' type.
{ currentTarget }, apolloClient)=>{
    if (!(currentTarget instanceof HTMLInputElement)) {
        return;
    }
    (0, _checkoutUtils.createOrderShippingMethodMutation)(apolloClient, currentTarget.id).then(()=>{
        (0, _commerceUtils.triggerRender)(null);
    }).catch((err)=>{
        (0, _commerceUtils.triggerRender)(err);
    });
};
const handleSubmitFormInsideCheckoutContainer = (event, apolloClient)=>{
    if (event.type === 'submit') {
        event.preventDefault();
    }
    if (// @ts-expect-error - TS2339 - Property 'keyCode' does not exist on type 'Event | KeyboardEvent'.
    event.type === 'keyup' && event.keyCode !== 13 || !(event.currentTarget instanceof Element)) {
        return;
    }
    if (event.target === (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_INPUT)) {
        return;
    }
    const checkoutFormContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, event.currentTarget);
    if (!(checkoutFormContainer instanceof Element)) {
        return;
    }
    const customerInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_CUSTOMER_INFO_WRAPPER, checkoutFormContainer);
    const shippingAddress = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER, checkoutFormContainer);
    const shippingInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER, checkoutFormContainer);
    const billingAddress = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER, checkoutFormContainer);
    const billingAddressToggle = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX, checkoutFormContainer);
    const additionalInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_ADDITIONAL_INFO, checkoutFormContainer);
    if (!(customerInfo instanceof HTMLFormElement) || !(shippingAddress instanceof HTMLFormElement) || !(shippingInfo instanceof HTMLFormElement) || !(billingAddress instanceof HTMLFormElement) || !(billingAddressToggle instanceof HTMLInputElement)) {
        return;
    }
    const hasAdditionalInfo = additionalInfo && additionalInfo instanceof HTMLFormElement;
    (0, _commerceUtils.fetchOrderStatusFlags)(apolloClient).then(({ requiresShipping })=>{
        checkFormValidity({
            customerInfo,
            shippingAddress,
            shippingInfo,
            billingAddress,
            billingAddressToggle,
            additionalInfo: hasAdditionalInfo ? additionalInfo : null,
            requiresShipping
        });
    });
};
const register = (handlerProxy)=>{
    handlerProxy.on(_constants.RENDER_TREE_EVENT, Boolean, handleRenderCheckout);
    handlerProxy.on('click', isPlaceOrderButtonEvent, handlePlaceOrder);
    handlerProxy.on('keydown', isPlaceOrderButtonEvent, // eslint-disable-next-line @typescript-eslint/no-shadow
    (event, apolloClient, StripeStore)=>{
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 32) {
            // prevent scrolling on spacebar key press
            event.preventDefault();
        }
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 13) {
            // enter key press
            return handlePlaceOrder(event, apolloClient, StripeStore);
        }
    });
    handlerProxy.on('keyup', isPlaceOrderButtonEvent, // eslint-disable-next-line @typescript-eslint/no-shadow
    (event, apolloClient, StripeStore)=>{
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 32) {
            // spacebar key press
            return handlePlaceOrder(event, apolloClient, StripeStore);
        }
    });
    handlerProxy.on('submit', isApplyDiscountFormEvent, handleApplyDiscount);
    // we use blur events on the text inputs, and change event on the country select
    // so that we update faster (blur on a select element requires going into another field)
    handlerProxy.on('change', isInputInsideCustomerInfoEvent, handleUpdateCustomerInfo);
    handlerProxy.on('change', isInputInsideAddressWrapperEvent, handleUpdateAddress);
    handlerProxy.on('change', isBillingAddressToggleEvent, handleToggleBillingAddress);
    handlerProxy.on('change', isInputInsideShippingMethodEvent, handleChooseShippingMethod);
    handlerProxy.on('submit', isFormInsideCheckoutContainerEvent, handleSubmitFormInsideCheckoutContainer);
    // we have to add a keyup event for the enter key on forms to run the validity check
    // as forms with multiple inputs but no submit input don't fire the submit event
    // however we do still need that above submit check, as the email form only has one
    // input, and a browser will fire the submit event if the form has just one input
    // even if it has no submit input
    handlerProxy.on('keyup', isInputInsideCheckoutFormEvent, handleSubmitFormInsideCheckoutContainer);
};
const _default = {
    register
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrb3V0RXZlbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgd2luZG93LCBFbGVtZW50LCBDdXN0b21FdmVudCwgSFRNTEVsZW1lbnQgKi9cbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnO1xuaW1wb3J0IHtcbiAgREFUQV9BVFRSX05PREVfVFlQRSxcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQ1VTVE9NRVJfSU5GT19XUkFQUEVSLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1dSQVBQRVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX1dSQVBQRVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfVE9HR0xFX0NIRUNLQk9YLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfUExBQ0VfT1JERVJfQlVUVE9OLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRVJST1JfU1RBVEUsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9BRERJVElPTkFMX0lORk8sXG4gIE5PREVfVFlQRV9DT01NRVJDRV9QQVlQQUxfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9ESVNDT1VOVF9GT1JNLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRElTQ09VTlRfSU5QVVQsXG4gIERBVEFfQVRUUl9MT0FESU5HX1RFWFQsXG4gIENIRUNLT1VUX1BMQUNFX09SREVSX0xPQURJTkdfVEVYVF9ERUZBVUxULFxuICBDSEVDS09VVF9QTEFDRV9PUkRFUl9CVVRUT05fVEVYVF9ERUZBVUxULFxuICBSRU5ERVJfVFJFRV9FVkVOVCxcbiAgTkVFRFNfUkVGUkVTSCxcbiAgU1RSSVBFX0VMRU1FTlRfSU5TVEFOQ0UsXG4gIENBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUixcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29uc3RhbnRzJztcbmltcG9ydCBFdmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQgZnJvbSAnLi9ldmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQnO1xuaW1wb3J0IHtcbiAgZmluZEVsZW1lbnRCeU5vZGVUeXBlLFxuICBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlLFxuICBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlLFxuICB0cmlnZ2VyUmVuZGVyLFxuICBmb3JtVG9PYmplY3QsXG4gIGN1c3RvbURhdGFGb3JtVG9BcnJheSxcbiAgZmV0Y2hPcmRlclN0YXR1c0ZsYWdzLFxufSBmcm9tICcuL2NvbW1lcmNlVXRpbHMnO1xuaW1wb3J0IHtcbiAgc2hvd0Vycm9yTWVzc2FnZUZvckVycm9yLFxuICB1cGRhdGVFcnJvck1lc3NhZ2UsXG4gIGJlZm9yZVVubG9hZEhhbmRsZXIsXG4gIHJlbmRlckNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMsXG4gIGNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QsXG4gIGdldE9yZGVyRGF0YUZyb21HcmFwaFFMUmVzcG9uc2UsXG4gIG9yZGVyUmVxdWlyZXNBZGRpdGlvbmFsQWN0aW9uLFxuICByZWRpcmVjdFRvT3JkZXJDb25maXJtYXRpb24sXG4gIGNyZWF0ZU9yZGVySWRlbnRpdHlNdXRhdGlvbixcbiAgY3JlYXRlT3JkZXJBZGRyZXNzTXV0YXRpb24sXG4gIGNyZWF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbixcbiAgY3JlYXRlQ3VzdG9tRGF0YU11dGF0aW9uLFxuICBjcmVhdGVTdHJpcGVQYXltZW50TWV0aG9kTXV0YXRpb24sXG4gIGFwcGx5RGlzY291bnQsXG59IGZyb20gJy4vY2hlY2tvdXRVdGlscyc7XG5pbXBvcnQgZGVidWcgZnJvbSAnLi9kZWJ1Zyc7XG5pbXBvcnQge0Fwb2xsb0NsaWVudCwgTm9ybWFsaXplZENhY2hlT2JqZWN0fSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5pbXBvcnQge1N0cmlwZVN0b3JlfSBmcm9tICcuL3N0cmlwZVN0b3JlJztcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAndGFyZ2V0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuY29uc3QgaXNJbnB1dEluc2lkZUN1c3RvbWVySW5mb0V2ZW50ID0gKHt0YXJnZXR9KSA9PiB7XG4gIC8vIGVuc3VyZXMgdGhpcyBldmVudCdzIGxvZ2ljIGRvZXNuJ3QgcnVuIG9uIG5vbi1jaGVja291dCBwYWdlc1xuICBjb25zdCBjaGVja291dEZvcm1Db250YWluZXIgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSXG4gICk7XG4gIGlmICghY2hlY2tvdXRGb3JtQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgY3VzdG9tZXJJbmZvV3JhcHBlciA9IGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0NVU1RPTUVSX0lORk9fV1JBUFBFUixcbiAgICB0YXJnZXRcbiAgKTtcbiAgaWYgKFxuICAgIGN1c3RvbWVySW5mb1dyYXBwZXIgJiZcbiAgICB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmXG4gICAgdGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCdcbiAgKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3RhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGlzSW5wdXRJbnNpZGVBZGRyZXNzV3JhcHBlckV2ZW50ID0gKHt0YXJnZXR9KSA9PiB7XG4gIC8vIGVuc3VyZXMgdGhpcyBldmVudCdzIGxvZ2ljIGRvZXNuJ3QgcnVuIG9uIG5vbi1jaGVja291dCBwYWdlc1xuICBjb25zdCBjaGVja291dEZvcm1Db250YWluZXIgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSXG4gICk7XG4gIGlmICghY2hlY2tvdXRGb3JtQ29udGFpbmVyIHx8ICEodGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzaGlwcGluZ0FkZHJlc3NXcmFwcGVyID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSLFxuICAgIHRhcmdldFxuICApO1xuICBjb25zdCBiaWxsaW5nQWRkcmVzc1dyYXBwZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfV1JBUFBFUixcbiAgICB0YXJnZXRcbiAgKTtcblxuICBpZiAoc2hpcHBpbmdBZGRyZXNzV3JhcHBlcikge1xuICAgIHJldHVybiBzaGlwcGluZ0FkZHJlc3NXcmFwcGVyO1xuICB9IGVsc2UgaWYgKGJpbGxpbmdBZGRyZXNzV3JhcHBlcikge1xuICAgIHJldHVybiBiaWxsaW5nQWRkcmVzc1dyYXBwZXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICd0YXJnZXQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG5jb25zdCBpc0lucHV0SW5zaWRlU2hpcHBpbmdNZXRob2RFdmVudCA9ICh7dGFyZ2V0fSkgPT4ge1xuICAvLyBlbnN1cmVzIHRoaXMgZXZlbnQncyBsb2dpYyBkb2Vzbid0IHJ1biBvbiBub24tY2hlY2tvdXQgcGFnZXNcbiAgY29uc3QgY2hlY2tvdXRGb3JtQ29udGFpbmVyID1cbiAgICBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSKSB8fFxuICAgIGZpbmRFbGVtZW50QnlOb2RlVHlwZShOT0RFX1RZUEVfQ09NTUVSQ0VfUEFZUEFMX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSKTtcbiAgaWYgKCFjaGVja291dEZvcm1Db250YWluZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzaGlwcGluZ01ldGhvZFdyYXBwZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX1dSQVBQRVIsXG4gICAgdGFyZ2V0XG4gICk7XG4gIGlmIChcbiAgICBzaGlwcGluZ01ldGhvZFdyYXBwZXIgJiZcbiAgICB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmXG4gICAgdGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCdcbiAgKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3RhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGlzQmlsbGluZ0FkZHJlc3NUb2dnbGVFdmVudCA9ICh7dGFyZ2V0fSkgPT4ge1xuICBpZiAoXG4gICAgdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCAmJlxuICAgIHRhcmdldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX05PREVfVFlQRSkgPT09XG4gICAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1RPR0dMRV9DSEVDS0JPWFxuICApIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAndGFyZ2V0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuY29uc3QgaXNQbGFjZU9yZGVyQnV0dG9uRXZlbnQgPSAoe3RhcmdldH0pID0+IHtcbiAgY29uc3QgcGxhY2VPcmRlckJ1dHRvbiA9IGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTixcbiAgICB0YXJnZXRcbiAgKTtcbiAgaWYgKHBsYWNlT3JkZXJCdXR0b24gJiYgdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICd0YXJnZXQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG5jb25zdCBpc0FwcGx5RGlzY291bnRGb3JtRXZlbnQgPSAoe3RhcmdldH0pID0+IHtcbiAgaWYgKFxuICAgIHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgICB0YXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9OT0RFX1RZUEUpID09PVxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0RJU0NPVU5UX0ZPUk1cbiAgKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3RhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGlzRm9ybUluc2lkZUNoZWNrb3V0Q29udGFpbmVyRXZlbnQgPSAoe3RhcmdldH0pID0+IHtcbiAgY29uc3QgY2hlY2tvdXRGb3JtID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIsXG4gICAgdGFyZ2V0XG4gICk7XG4gIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQgJiYgY2hlY2tvdXRGb3JtKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3RhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGlzSW5wdXRJbnNpZGVDaGVja291dEZvcm1FdmVudCA9ICh7dGFyZ2V0fSkgPT4ge1xuICBjb25zdCBjaGVja291dEZvcm0gPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUixcbiAgICB0YXJnZXRcbiAgKTtcbiAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgY2hlY2tvdXRGb3JtKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZVJlbmRlckNoZWNrb3V0ID0gKFxuICBldmVudDogRXZlbnQgfCBDdXN0b21FdmVudCxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgc3RyaXBlU3RvcmU6IFN0cmlwZVN0b3JlXG4pID0+IHtcbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHwgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCEoZXZlbnQgaW5zdGFuY2VvZiBDdXN0b21FdmVudCAmJiBldmVudC50eXBlID09PSBSRU5ERVJfVFJFRV9FVkVOVCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZXJyb3JzOiBBcnJheTxhbnk+ID0gW107XG4gIGNvbnN0IHtkZXRhaWx9ID0gZXZlbnQ7XG4gIGlmIChkZXRhaWwgIT0gbnVsbCAmJiBkZXRhaWwuZXJyb3IpIHtcbiAgICBlcnJvcnMucHVzaChkZXRhaWwuZXJyb3IpO1xuICB9XG5cbiAgY29uc3QgZm9jdXNlZEVsZSA9IHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICBjb25zdCBjaGVja291dEZvcm0gPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUixcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdFdmVudFRhcmdldCcuXG4gICAgZm9jdXNlZEVsZVxuICApO1xuXG4gIGxldCBwcmV2Rm9jdXNlZElucHV0ID0gbnVsbDtcbiAgLy8gT25seSB0cmlnZ2VyIGZvciBmb2N1c2VkIGVsZW1lbnRzIGluIGEgY2hlY2tvdXQgZm9ybVxuICBpZiAoZm9jdXNlZEVsZSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgY2hlY2tvdXRGb3JtKSB7XG4gICAgcHJldkZvY3VzZWRJbnB1dCA9IGZvY3VzZWRFbGUuaWQ7XG4gICAgaWYgKCFwcmV2Rm9jdXNlZElucHV0KSB7XG4gICAgICBwcmV2Rm9jdXNlZElucHV0ID0gZm9jdXNlZEVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2YtYmluZGluZ3MnKTtcbiAgICB9XG5cbiAgICAvLyBNb3ZlIGZyb20gZW1wdHkgc3RyaW5nIHRvIG51bGxcbiAgICBwcmV2Rm9jdXNlZElucHV0ID0gcHJldkZvY3VzZWRJbnB1dCA/IG51bGwgOiBwcmV2Rm9jdXNlZElucHV0O1xuICB9XG5cbiAgY29uc3QgY2hlY2tvdXRGb3JtQ29udGFpbmVycyA9IGZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSXG4gICk7XG5cbiAgcmVuZGVyQ2hlY2tvdXRGb3JtQ29udGFpbmVycyhcbiAgICBjaGVja291dEZvcm1Db250YWluZXJzLFxuICAgIGVycm9ycyxcbiAgICBhcG9sbG9DbGllbnQsXG4gICAgc3RyaXBlU3RvcmUsXG4gICAgcHJldkZvY3VzZWRJbnB1dFxuICApO1xufTtcblxuY29uc3QgY2hlY2tGb3JtVmFsaWRpdHkgPSAoe1xuICBjdXN0b21lckluZm8sXG4gIHNoaXBwaW5nQWRkcmVzcyxcbiAgc2hpcHBpbmdJbmZvLFxuICBiaWxsaW5nQWRkcmVzcyxcbiAgYmlsbGluZ0FkZHJlc3NUb2dnbGUsXG4gIGFkZGl0aW9uYWxJbmZvLFxuICByZXF1aXJlc1NoaXBwaW5nLFxufToge1xuICBjdXN0b21lckluZm86IEhUTUxGb3JtRWxlbWVudDtcbiAgc2hpcHBpbmdBZGRyZXNzOiBIVE1MRm9ybUVsZW1lbnQ7XG4gIHNoaXBwaW5nSW5mbzogSFRNTEZvcm1FbGVtZW50O1xuICBiaWxsaW5nQWRkcmVzczogSFRNTEZvcm1FbGVtZW50O1xuICBiaWxsaW5nQWRkcmVzc1RvZ2dsZTogSFRNTElucHV0RWxlbWVudDtcbiAgYWRkaXRpb25hbEluZm86IEhUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgcmVxdWlyZXNTaGlwcGluZzogYm9vbGVhbjtcbn0pID0+IHtcbiAgLy8gcmVwb3J0VmFsaWRpdHkgaXNuJ3Qgc3VwcG9ydGVkIGluIElFLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGlmIGl0IGV4aXN0c1xuICAvLyBmb3Igb3VyIElFIHVzZXJzLiB0aGV5J2xsIGhhdmUgdG8gcmVseSBvbiB0aGUgc2VydmVyIGVycm9yLCB3aGljaCBpc24ndFxuICAvLyB0b28gYmFkIGZyb20gYSBVWCBleHBlcmllbmNlLCBzaW5jZSB0aGV5J2xsIHN0aWxsIGtub3cgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgaWYgKCFIVE1MRm9ybUVsZW1lbnQucHJvdG90eXBlLnJlcG9ydFZhbGlkaXR5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBiZWNhdXNlIHdlIGhhdmUgbXVsdGlwbGUgZm9ybSBlbGVtZW50cywgd2hhdCB3ZSBkbyBpcyBhc2sgdGhlIGJyb3dzZXIgdG8gcmVwb3J0XG4gIC8vIHRoZSB2YWxpZGl0eSBvZiBlYWNoIGZvcm0sIHdoaWNoIHRyaWdnZXJzIHRoZSBVSSB0aGF0IHdvdWxkIHVzdWFsbHkgYmUgc2VlblxuICAvLyB3aGVuIHNvbWVvbmUgc3VibWl0dGVkIGEgcmVndWxhciBmb3JtLiB3ZSByZXR1cm4gaWYgaXQncyBub3QgdmFsaWQsIHNvIHRoYXRcbiAgLy8gdGhlIGJyb3dzZXIgZG9lc24ndCBqdW1wIGFoZWFkIHRvIHRoZSBuZXh0IGVsZW1lbnQsIGFsbG93aW5nIHRoZSB1c2VyIHRvXG4gIC8vIGZpeCB0aGVpciBtaXN0YWtlcy4gd2UgZG9uJ3QgY2hlY2sgdGhlIHN0cmlwZSBlbGVtZW50cywgc2luY2Ugd2UgY2FuJ3RcbiAgLy8gZGlyZWN0bHkgZ2V0IHRoZSBzdGF0dXMgb2YgdGhvc2UsIGFzIHRoYXQncyBoYW5kbGVkIGJ5IHN0cmlwZS4gaG93ZXZlciwgaWZcbiAgLy8gdGhlIHVzZXIgaXMgbWlzc2luZyBhIGZpZWxkIGFuZCB0cmllcyB0byBzdWJtaXQgdGhlIGZvcm0sIHRoZXkgd2lsbCBnZXRcbiAgLy8gYW4gZXJyb3Igd2hlbiB3ZSB0cnkgdG8gY3JlYXRlIHRoZSB0b2tlbiwgc28gd2UnbGwgZGlzcGxheSBhbiBlcnJvciB0aGVuXG4gIGlmIChcbiAgICAhY3VzdG9tZXJJbmZvLnJlcG9ydFZhbGlkaXR5KCkgfHxcbiAgICAocmVxdWlyZXNTaGlwcGluZyAmJiAhc2hpcHBpbmdBZGRyZXNzLnJlcG9ydFZhbGlkaXR5KCkpIHx8XG4gICAgKHJlcXVpcmVzU2hpcHBpbmcgJiYgIXNoaXBwaW5nSW5mby5yZXBvcnRWYWxpZGl0eSgpKSB8fFxuICAgIC8vIG9ubHkgY2hlY2sgdGhlIGJpbGxpbmcgYWRkcmVzcyBpZiB0aGUgdG9nZ2xlIGlzIG9mZiwgaS5lLiB0aGUgYmlsbGluZyBhZGRyZXNzXG4gICAgLy8gZm9ybSBpcyBiZWluZyBzaG93biBvciBpZiBpdCBkb2VzIG5vdCByZXF1aXJlIHNoaXBwaW5nXG4gICAgKCghcmVxdWlyZXNTaGlwcGluZyB8fCAhYmlsbGluZ0FkZHJlc3NUb2dnbGUuY2hlY2tlZCkgJiZcbiAgICAgICFiaWxsaW5nQWRkcmVzcy5yZXBvcnRWYWxpZGl0eSgpKSB8fFxuICAgIChhZGRpdGlvbmFsSW5mbyAmJlxuICAgICAgYWRkaXRpb25hbEluZm8gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQgJiZcbiAgICAgICFhZGRpdGlvbmFsSW5mby5yZXBvcnRWYWxpZGl0eSgpKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmxldCBwbGFjaW5nT3JkZXIgPSBmYWxzZTtcbmNvbnN0IHN0YXJ0T3JkZXJGbG93ID0gKHBsYWNlT3JkZXJCdXR0b246IEhUTUxFbGVtZW50KSA9PiB7XG4gIHBsYWNpbmdPcmRlciA9IHRydWU7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRIYW5kbGVyKTtcblxuICBjb25zdCBidXR0b25UZXh0ID0gcGxhY2VPcmRlckJ1dHRvbi5pbm5lckhUTUw7XG4gIGNvbnN0IGxvYWRpbmdUZXh0ID0gcGxhY2VPcmRlckJ1dHRvbi5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0xPQURJTkdfVEVYVCk7XG4gIHBsYWNlT3JkZXJCdXR0b24uaW5uZXJIVE1MID0gbG9hZGluZ1RleHRcbiAgICA/IGxvYWRpbmdUZXh0XG4gICAgOiBDSEVDS09VVF9QTEFDRV9PUkRFUl9MT0FESU5HX1RFWFRfREVGQVVMVDtcblxuICBjb25zdCBmaW5pc2hPcmRlckZsb3cgPSAoaXNSZWRpcmVjdGluZzogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gICAgLy8gd2Ugb25seSBzZXQgYHBsYWNpbmdPcmRlcmAgdG8gZmFsc2UgaWYgd2UncmUgbm90IHJlZGlyZWN0aW5nIHRvIHRoZVxuICAgIC8vIGNvbmZpcm1hdGlvbiBwYWdlLiB0aGlzIGlzIHNvIHRoYXQgd2hpbGUgd2FpdGluZyBmb3IgdGhlIGNvbmZpcm1hdGlvblxuICAgIC8vIHBhZ2UgdG8gbG9hZCwgdGhlIHVzZXIgY2FuJ3QgYXR0ZW1wdCB0byBzdWJtaXQgdGhlIG9yZGVyIGFnYWluXG4gICAgaWYgKCFpc1JlZGlyZWN0aW5nKSB7XG4gICAgICBwbGFjaW5nT3JkZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGJlZm9yZVVubG9hZEhhbmRsZXIpO1xuICAgIHBsYWNlT3JkZXJCdXR0b24uaW5uZXJIVE1MID0gYnV0dG9uVGV4dFxuICAgICAgPyBidXR0b25UZXh0XG4gICAgICA6IENIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTl9URVhUX0RFRkFVTFQ7XG4gIH07XG5cbiAgcmV0dXJuIGZpbmlzaE9yZGVyRmxvdztcbn07XG5cbmNvbnN0IGhhbmRsZVBsYWNlT3JkZXIgPSAoXG4gIGV2ZW50OiBFdmVudCxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgc3RyaXBlU3RvcmU6IFN0cmlwZVN0b3JlXG4pID0+IHtcbiAgLy8gV2FudCB0byBza2lwIHBsYWNpbmcgb3JkZXIgaWYgaW4gZGVzaWduL3ByZXZpZXcgbW9kZSwgb3IgYW4gb3JkZXIgcGxhY2UgaXMgaW4gcHJvZ3Jlc3NcbiAgaWYgKFxuICAgIHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHxcbiAgICB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSB8fFxuICAgIHBsYWNpbmdPcmRlclxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7Y3VycmVudFRhcmdldH0gPSBldmVudDtcblxuICBpZiAoIShjdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjaGVja291dEZvcm1Db250YWluZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUixcbiAgICBjdXJyZW50VGFyZ2V0XG4gICk7XG4gIGlmICghKGNoZWNrb3V0Rm9ybUNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZXJyb3JTdGF0ZSA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRVJST1JfU1RBVEUsXG4gICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyXG4gICk7XG4gIGNvbnN0IGN1c3RvbWVySW5mbyA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQ1VTVE9NRVJfSU5GT19XUkFQUEVSLFxuICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lclxuICApO1xuICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1NISVBQSU5HX0FERFJFU1NfV1JBUFBFUixcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgY29uc3Qgc2hpcHBpbmdJbmZvID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX1dSQVBQRVIsXG4gICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyXG4gICk7XG4gIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfV1JBUFBFUixcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgY29uc3QgYmlsbGluZ0FkZHJlc3NUb2dnbGUgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19UT0dHTEVfQ0hFQ0tCT1gsXG4gICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyXG4gICk7XG4gIGNvbnN0IHBsYWNlT3JkZXJCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTixcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgY29uc3QgYWRkaXRpb25hbEluZm8gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0FERElUSU9OQUxfSU5GTyxcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcblxuICBpZiAoXG4gICAgIShlcnJvclN0YXRlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHx8XG4gICAgIShjdXN0b21lckluZm8gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHx8XG4gICAgIShzaGlwcGluZ0FkZHJlc3MgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHx8XG4gICAgIShzaGlwcGluZ0luZm8gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHx8XG4gICAgIShiaWxsaW5nQWRkcmVzcyBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkgfHxcbiAgICAhKGJpbGxpbmdBZGRyZXNzVG9nZ2xlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkgfHxcbiAgICAhKHBsYWNlT3JkZXJCdXR0b24gaW5zdGFuY2VvZiBFbGVtZW50KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvclN0YXRlLnF1ZXJ5U2VsZWN0b3IoXG4gICAgQ0FSVF9DSEVDS09VVF9FUlJPUl9NRVNTQUdFX1NFTEVDVE9SXG4gICk7XG5cbiAgLy8gSWYgdGhlIGVycm9yIG1lc3NhZ2UgaGFzIHRoaXMgYXR0cmlidXRlLCB3ZSB3YW50IHRvIGJsb2NrIHRoZSBvcmRlciBmcm9tXG4gIC8vIGJlaW5nIHN1Ym1pdHRlZCBhcyB0aGUgdXNlciBpcyBiZWluZyBmb3JjZWQgdG8gcmVmcmVzaCB0aGUgY2hlY2tvdXQgcGFnZS5cbiAgaWYgKGVycm9yTWVzc2FnZSAmJiBlcnJvck1lc3NhZ2UuaGFzQXR0cmlidXRlKE5FRURTX1JFRlJFU0gpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaGFzQWRkaXRpb25hbEluZm8gPVxuICAgIGFkZGl0aW9uYWxJbmZvICYmIGFkZGl0aW9uYWxJbmZvIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3QgZmluaXNoT3JkZXJGbG93ID0gc3RhcnRPcmRlckZsb3cocGxhY2VPcmRlckJ1dHRvbik7XG5cbiAgZXJyb3JTdGF0ZS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG5cbiAgZmV0Y2hPcmRlclN0YXR1c0ZsYWdzKGFwb2xsb0NsaWVudCkudGhlbihcbiAgICAoe3JlcXVpcmVzU2hpcHBpbmcsIGlzRnJlZU9yZGVyfSkgPT4ge1xuICAgICAgY29uc3QgaXNGb3JtVmFsaWQgPSBjaGVja0Zvcm1WYWxpZGl0eSh7XG4gICAgICAgIGN1c3RvbWVySW5mbyxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICBzaGlwcGluZ0luZm8sXG4gICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICBiaWxsaW5nQWRkcmVzc1RvZ2dsZSxcbiAgICAgICAgYWRkaXRpb25hbEluZm8sXG4gICAgICAgIHJlcXVpcmVzU2hpcHBpbmcsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFpc0Zvcm1WYWxpZCkge1xuICAgICAgICBmaW5pc2hPcmRlckZsb3coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBmaW5hbCBzeW5jIHdpdGggc2VydmVyLCB0byBlbnN1cmUgdmFsaWRpdHlcbiAgICAgIGNvbnN0IGN1c3RvbWVySW5mb0Zvcm1EYXRhID0gZm9ybVRvT2JqZWN0KGN1c3RvbWVySW5mbyk7XG4gICAgICBjb25zdCBlbWFpbCA9IFN0cmluZyhjdXN0b21lckluZm9Gb3JtRGF0YS5lbWFpbCkudHJpbSgpO1xuICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzSW5mbyA9IHtcbiAgICAgICAgdHlwZTogJ3NoaXBwaW5nJyxcbiAgICAgICAgLi4uZm9ybVRvT2JqZWN0KHNoaXBwaW5nQWRkcmVzcywgdHJ1ZSksXG4gICAgICB9IGFzIGNvbnN0O1xuICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3NJbmZvID0ge1xuICAgICAgICB0eXBlOiAnYmlsbGluZycsXG4gICAgICAgIC4uLmZvcm1Ub09iamVjdChcbiAgICAgICAgICAhYmlsbGluZ0FkZHJlc3NUb2dnbGUuY2hlY2tlZCB8fCAhcmVxdWlyZXNTaGlwcGluZ1xuICAgICAgICAgICAgPyBiaWxsaW5nQWRkcmVzc1xuICAgICAgICAgICAgOiBzaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApLFxuICAgICAgfSBhcyBjb25zdDtcbiAgICAgIGNvbnN0IHN0cmlwZUJpbGxpbmdBZGRyZXNzSW5mbyA9IHtcbiAgICAgICAgYmlsbGluZ19kZXRhaWxzOiB7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICduYW1lJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICd7IHJlYWRvbmx5IHR5cGU6IFwiYmlsbGluZ1wiOyB9Jy5cbiAgICAgICAgICBuYW1lOiBiaWxsaW5nQWRkcmVzc0luZm8ubmFtZSxcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2FkZHJlc3NfbGluZTEnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ3sgcmVhZG9ubHkgdHlwZTogXCJiaWxsaW5nXCI7IH0nLlxuICAgICAgICAgICAgbGluZTE6IGJpbGxpbmdBZGRyZXNzSW5mby5hZGRyZXNzX2xpbmUxLFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdhZGRyZXNzX2xpbmUyJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICd7IHJlYWRvbmx5IHR5cGU6IFwiYmlsbGluZ1wiOyB9Jy5cbiAgICAgICAgICAgIGxpbmUyOiBiaWxsaW5nQWRkcmVzc0luZm8uYWRkcmVzc19saW5lMixcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnYWRkcmVzc19jaXR5JyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICd7IHJlYWRvbmx5IHR5cGU6IFwiYmlsbGluZ1wiOyB9Jy5cbiAgICAgICAgICAgIGNpdHk6IGJpbGxpbmdBZGRyZXNzSW5mby5hZGRyZXNzX2NpdHksXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2FkZHJlc3Nfc3RhdGUnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ3sgcmVhZG9ubHkgdHlwZTogXCJiaWxsaW5nXCI7IH0nLlxuICAgICAgICAgICAgc3RhdGU6IGJpbGxpbmdBZGRyZXNzSW5mby5hZGRyZXNzX3N0YXRlLFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdhZGRyZXNzX2NvdW50cnknIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ3sgcmVhZG9ubHkgdHlwZTogXCJiaWxsaW5nXCI7IH0nLlxuICAgICAgICAgICAgY291bnRyeTogYmlsbGluZ0FkZHJlc3NJbmZvLmFkZHJlc3NfY291bnRyeSxcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnYWRkcmVzc196aXAnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ3sgcmVhZG9ubHkgdHlwZTogXCJiaWxsaW5nXCI7IH0nLlxuICAgICAgICAgICAgcG9zdGFsX2NvZGU6IGJpbGxpbmdBZGRyZXNzSW5mby5hZGRyZXNzX3ppcCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSBhcyBjb25zdDtcblxuICAgICAgbGV0IHNoaXBwaW5nTWV0aG9kSWQgPSAnJztcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMTUgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBpbmRleCBleHByZXNzaW9uIGlzIG5vdCBvZiB0eXBlICdudW1iZXInLlxuICAgICAgaWYgKHJlcXVpcmVzU2hpcHBpbmcgJiYgc2hpcHBpbmdJbmZvLmVsZW1lbnRzWydzaGlwcGluZy1tZXRob2QtY2hvaWNlJ10pIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhbiBJRTExLXNhZmUgd2F5IG9mIGp1c3QgZG9pbmcgc2hpcHBpbmdJbmZvLmVsZW1lbnRzWydzaGlwcGluZy1tZXRob2QtY2hvaWNlJ10udmFsdWVcbiAgICAgICAgY29uc3Qgc2hpcHBpbmdNZXRob2RDaG9pY2UgPSBzaGlwcGluZ0luZm8ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAnaW5wdXRbbmFtZT1cInNoaXBwaW5nLW1ldGhvZC1jaG9pY2VcIl06Y2hlY2tlZCdcbiAgICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBiZSBmYWxzZXksIGJ1dCBGbG93XG4gICAgICAgIGlmIChzaGlwcGluZ01ldGhvZENob2ljZSkge1xuICAgICAgICAgIHNoaXBwaW5nTWV0aG9kSWQgPSBzaGlwcGluZ01ldGhvZENob2ljZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXN0b21EYXRhID0gaGFzQWRkaXRpb25hbEluZm9cbiAgICAgICAgPyBjdXN0b21EYXRhRm9ybVRvQXJyYXkoYWRkaXRpb25hbEluZm8pXG4gICAgICAgIDogW107XG5cbiAgICAgIGNvbnN0IHN5bmNDaGVja291dEZvcm0gPSBQcm9taXNlLmFsbChbXG4gICAgICAgIGNyZWF0ZU9yZGVySWRlbnRpdHlNdXRhdGlvbihhcG9sbG9DbGllbnQsIGVtYWlsKSxcbiAgICAgICAgY3JlYXRlT3JkZXJBZGRyZXNzTXV0YXRpb24oYXBvbGxvQ2xpZW50LCBiaWxsaW5nQWRkcmVzc0luZm8pLFxuICAgICAgICByZXF1aXJlc1NoaXBwaW5nXG4gICAgICAgICAgPyBjcmVhdGVPcmRlckFkZHJlc3NNdXRhdGlvbihhcG9sbG9DbGllbnQsIHNoaXBwaW5nQWRkcmVzc0luZm8pXG4gICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgICAgcmVxdWlyZXNTaGlwcGluZ1xuICAgICAgICAgID8gY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uKGFwb2xsb0NsaWVudCwgc2hpcHBpbmdNZXRob2RJZClcbiAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgICBoYXNBZGRpdGlvbmFsSW5mb1xuICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ2FueVtdJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnW10nLlxuICAgICAgICAgICAgY3JlYXRlQ3VzdG9tRGF0YU11dGF0aW9uKGFwb2xsb0NsaWVudCwgY3VzdG9tRGF0YSlcbiAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgXSk7XG5cbiAgICAgIHN5bmNDaGVja291dEZvcm1cbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChpc0ZyZWVPcmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghc3RyaXBlU3RvcmUuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlN0cmlwZSBoYXMgbm90IGJlZW4gc2V0IHVwIGZvciB0aGlzIHByb2plY3Qg4oCTIEdvIHRvIHRoZSBwcm9qZWN0J3MgRWNvbW1lcmNlIFBheW1lbnQgc2V0dGluZ3MgaW4gdGhlIERlc2lnbmVyIHRvIGxpbmsgU3RyaXBlLlwiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgc3RyaXBlID0gc3RyaXBlU3RvcmUuZ2V0U3RyaXBlSW5zdGFuY2UoKTtcbiAgICAgICAgICBjb25zdCBjaGVja291dEZvcm1JbnN0YW5jZSA9IHBhcnNlSW50KFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZyB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdzdHJpbmcnLlxuICAgICAgICAgICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyLmdldEF0dHJpYnV0ZShTVFJJUEVfRUxFTUVOVF9JTlNUQU5DRSksXG4gICAgICAgICAgICAxMFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY2FyZCA9IHN0cmlwZVN0b3JlLmdldEVsZW1lbnQoXG4gICAgICAgICAgICAnY2FyZE51bWJlcicsXG4gICAgICAgICAgICBjaGVja291dEZvcm1JbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHN0cmlwZS5jcmVhdGVQYXltZW50TWV0aG9kKFxuICAgICAgICAgICAgJ2NhcmQnLFxuICAgICAgICAgICAgY2FyZCxcbiAgICAgICAgICAgIHN0cmlwZUJpbGxpbmdBZGRyZXNzSW5mb1xuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBBcmd1bWVudCBvZiB0eXBlICcoZGF0YTogYW55KSA9PiBQcm9taXNlPEZldGNoUmVzdWx0PGFueT4+IHwgUHJvbWlzZTx2b2lkPicgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJyh2YWx1ZTogYW55KSA9PiBGZXRjaFJlc3VsdDxhbnk+IHwgUHJvbWlzZUxpa2U8RmV0Y2hSZXN1bHQ8YW55Pj4nLlxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmICghZGF0YSB8fCBpc0ZyZWVPcmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZGF0YS5lcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVN0cmlwZVBheW1lbnRNZXRob2RNdXRhdGlvbihcbiAgICAgICAgICAgIGFwb2xsb0NsaWVudCxcbiAgICAgICAgICAgIGRhdGEucGF5bWVudE1ldGhvZC5pZFxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlQXR0ZW1wdFN1Ym1pdE9yZGVyUmVxdWVzdChhcG9sbG9DbGllbnQsIHtcbiAgICAgICAgICAgIGNoZWNrb3V0VHlwZTogJ25vcm1hbCcsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgZGVidWcubG9nKGRhdGEpO1xuICAgICAgICAgIGNvbnN0IG9yZGVyID0gZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZShkYXRhKTtcbiAgICAgICAgICBpZiAob3JkZXJSZXF1aXJlc0FkZGl0aW9uYWxBY3Rpb24ob3JkZXIuc3RhdHVzKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBlID0gc3RyaXBlU3RvcmUuZ2V0U3RyaXBlSW5zdGFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHN0cmlwZVxuICAgICAgICAgICAgICAgIC5yZXRyaWV2ZVBheW1lbnRJbnRlbnQob3JkZXIuY2xpZW50U2VjcmV0KVxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ3JldHJpZXZlUmVzdWx0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICAgICAgICAgIC50aGVuKChyZXRyaWV2ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZW50ID1cbiAgICAgICAgICAgICAgICAgICAgKHJldHJpZXZlUmVzdWx0ICYmIHJldHJpZXZlUmVzdWx0LnBheW1lbnRJbnRlbnQpIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uUHJvbWlzZSA9XG4gICAgICAgICAgICAgICAgICAgIGludGVudC5jb25maXJtYXRpb25fbWV0aG9kID09PSAnYXV0b21hdGljJ1xuICAgICAgICAgICAgICAgICAgICAgID8gc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudChvcmRlci5jbGllbnRTZWNyZXQpXG4gICAgICAgICAgICAgICAgICAgICAgOiBzdHJpcGUuaGFuZGxlQ2FyZEFjdGlvbihvcmRlci5jbGllbnRTZWNyZXQpO1xuXG4gICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdyZXN1bHQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uUHJvbWlzZS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QoYXBvbGxvQ2xpZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tvdXRUeXBlOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICBwYXltZW50SW50ZW50SWQ6IHJlc3VsdC5wYXltZW50SW50ZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXNwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluaXNoZWRPcmRlciA9XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRPcmRlckRhdGFGcm9tR3JhcGhRTFJlc3BvbnNlKHJlc3ApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkT3JkZXIub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaE9yZGVyRmxvdyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VG9PcmRlckNvbmZpcm1hdGlvbihmaW5pc2hlZE9yZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvcmRlci5vaykge1xuICAgICAgICAgICAgZmluaXNoT3JkZXJGbG93KHRydWUpO1xuICAgICAgICAgICAgcmVkaXJlY3RUb09yZGVyQ29uZmlybWF0aW9uKG9yZGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgZmluaXNoT3JkZXJGbG93KCk7XG4gICAgICAgICAgZGVidWcuZXJyb3IoZXJyKTtcbiAgICAgICAgICBlcnJvclN0YXRlLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgICAgICAgdXBkYXRlRXJyb3JNZXNzYWdlKGVycm9yU3RhdGUsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMTQgLSBHZW5lcmljIHR5cGUgJ0Fwb2xsb0NsaWVudDxUQ2FjaGVTaGFwZT4nIHJlcXVpcmVzIDEgdHlwZSBhcmd1bWVudChzKS5cbmNvbnN0IGhhbmRsZUFwcGx5RGlzY291bnQgPSAoZXZlbnQ6IEV2ZW50LCBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudCkgPT4ge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IHN1Ym1pdFxuICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsgLy8gZG8gbm90IHRyaWdnZXIgc3VibWlzc2lvbiBvZiBhbnkgb3RoZXIgZm9ybXMgKHdlIGhhdmUgZm9ybXMgaW4gZm9ybXMgOigpKVxuXG4gIGNvbnN0IHtjdXJyZW50VGFyZ2V0fSA9IGV2ZW50O1xuICBpZiAoIShjdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBpbnB1dEVsID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9ESVNDT1VOVF9JTlBVVCxcbiAgICBjdXJyZW50VGFyZ2V0XG4gICk7XG4gIGNvbnN0IGNoZWNrb3V0Rm9ybUNvbnRhaW5lciA9XG4gICAgZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUixcbiAgICAgIGN1cnJlbnRUYXJnZXRcbiAgICApIHx8XG4gICAgZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICAgIE5PREVfVFlQRV9DT01NRVJDRV9QQVlQQUxfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIsXG4gICAgICBjdXJyZW50VGFyZ2V0XG4gICAgKTtcbiAgaWYgKCFjaGVja291dEZvcm1Db250YWluZXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZXJyb3JTdGF0ZUVsID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9FUlJPUl9TVEFURSxcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcblxuICBpZiAoXG4gICAgIShcbiAgICAgIGlucHV0RWwgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGVycm9yU3RhdGVFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkaXNjb3VudENvZGUgPSBpbnB1dEVsLnZhbHVlLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICBhcHBseURpc2NvdW50KGFwb2xsb0NsaWVudCwge2Rpc2NvdW50Q29kZX0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaW5wdXRFbC52YWx1ZSA9ICcnO1xuICAgICAgZXJyb3JTdGF0ZUVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0cmlnZ2VyUmVuZGVyKG51bGwpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gc2hvd0Vycm9yTWVzc2FnZUZvckVycm9yKGVycm9yLCBjaGVja291dEZvcm1Db250YWluZXIpKTtcbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMTQgLSBHZW5lcmljIHR5cGUgJ0Fwb2xsb0NsaWVudDxUQ2FjaGVTaGFwZT4nIHJlcXVpcmVzIDEgdHlwZSBhcmd1bWVudChzKS5cbmNvbnN0IGhhbmRsZVVwZGF0ZUN1c3RvbWVySW5mbyA9IChldmVudDogRXZlbnQsIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50KSA9PiB7XG4gIGNvbnN0IHtjdXJyZW50VGFyZ2V0fSA9IGV2ZW50O1xuXG4gIGlmICghKGN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0gY3VycmVudFRhcmdldC52YWx1ZS50cmltKCk7XG4gIGNvbnN0IGVtYWlsID0gdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycgPyBudWxsIDogdmFsdWU7XG5cbiAgY3JlYXRlT3JkZXJJZGVudGl0eU11dGF0aW9uKGFwb2xsb0NsaWVudCwgZW1haWwpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdHJpZ2dlclJlbmRlcihudWxsKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0cmlnZ2VyUmVuZGVyKGVycik7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVVcGRhdGVBZGRyZXNzID0gZGVib3VuY2UoKGV2ZW50LCBhcG9sbG9DbGllbnQpID0+IHtcbiAgY29uc3Qge2N1cnJlbnRUYXJnZXR9ID0gZXZlbnQ7XG5cbiAgaWYgKCEoY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0eXBlID1cbiAgICBjdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJfTk9ERV9UWVBFKSA9PT1cbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSXG4gICAgICA/ICdzaGlwcGluZydcbiAgICAgIDogJ2JpbGxpbmcnO1xuICBjb25zdCBhZGRyZXNzSW5mbyA9IHtcbiAgICB0eXBlLFxuICAgIC4uLmZvcm1Ub09iamVjdChjdXJyZW50VGFyZ2V0LCB0cnVlKSxcbiAgfSBhcyBjb25zdDtcblxuICBjcmVhdGVPcmRlckFkZHJlc3NNdXRhdGlvbihhcG9sbG9DbGllbnQsIGFkZHJlc3NJbmZvKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHRyaWdnZXJSZW5kZXIobnVsbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdHJpZ2dlclJlbmRlcihlcnIpO1xuICAgIH0pO1xufSwgNTAwKTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnY3VycmVudFRhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGhhbmRsZVRvZ2dsZUJpbGxpbmdBZGRyZXNzID0gKHtjdXJyZW50VGFyZ2V0fSkgPT4ge1xuICBjb25zdCBjaGVja291dEZvcm1Db250YWluZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUixcbiAgICBjdXJyZW50VGFyZ2V0XG4gICk7XG4gIGlmICghY2hlY2tvdXRGb3JtQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYmlsbGluZ0FkZHJlc3NXcmFwcGVyID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfV1JBUFBFUixcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgaWYgKCFiaWxsaW5nQWRkcmVzc1dyYXBwZXIgfHwgIShjdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY3VycmVudFRhcmdldC5jaGVja2VkKSB7XG4gICAgYmlsbGluZ0FkZHJlc3NXcmFwcGVyLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgfSBlbHNlIHtcbiAgICBiaWxsaW5nQWRkcmVzc1dyYXBwZXIuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlQ2hvb3NlU2hpcHBpbmdNZXRob2QgPSAoXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ2N1cnJlbnRUYXJnZXQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIHtjdXJyZW50VGFyZ2V0fSxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PlxuKSA9PiB7XG4gIGlmICghKGN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNyZWF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbihhcG9sbG9DbGllbnQsIGN1cnJlbnRUYXJnZXQuaWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdHJpZ2dlclJlbmRlcihudWxsKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0cmlnZ2VyUmVuZGVyKGVycik7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVTdWJtaXRGb3JtSW5zaWRlQ2hlY2tvdXRDb250YWluZXIgPSAoXG4gIGV2ZW50OiBFdmVudCB8IEtleWJvYXJkRXZlbnQsXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD5cbikgPT4ge1xuICBpZiAoZXZlbnQudHlwZSA9PT0gJ3N1Ym1pdCcpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaWYgKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAna2V5Q29kZScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQgfCBLZXlib2FyZEV2ZW50Jy5cbiAgICAoZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC5rZXlDb2RlICE9PSAxMykgfHxcbiAgICAhKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoXG4gICAgZXZlbnQudGFyZ2V0ID09PVxuICAgIGZpbmRFbGVtZW50QnlOb2RlVHlwZShOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRElTQ09VTlRfSU5QVVQpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrb3V0Rm9ybUNvbnRhaW5lciA9IGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSLFxuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgKTtcbiAgaWYgKCEoY2hlY2tvdXRGb3JtQ29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjdXN0b21lckluZm8gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0NVU1RPTUVSX0lORk9fV1JBUFBFUixcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19BRERSRVNTX1dSQVBQRVIsXG4gICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyXG4gICk7XG4gIGNvbnN0IHNoaXBwaW5nSW5mbyA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19XUkFQUEVSLFxuICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lclxuICApO1xuICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1dSQVBQRVIsXG4gICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyXG4gICk7XG4gIGNvbnN0IGJpbGxpbmdBZGRyZXNzVG9nZ2xlID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfVE9HR0xFX0NIRUNLQk9YLFxuICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lclxuICApO1xuICBjb25zdCBhZGRpdGlvbmFsSW5mbyA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQURESVRJT05BTF9JTkZPLFxuICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lclxuICApO1xuXG4gIGlmIChcbiAgICAhKGN1c3RvbWVySW5mbyBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkgfHxcbiAgICAhKHNoaXBwaW5nQWRkcmVzcyBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkgfHxcbiAgICAhKHNoaXBwaW5nSW5mbyBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkgfHxcbiAgICAhKGJpbGxpbmdBZGRyZXNzIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB8fFxuICAgICEoYmlsbGluZ0FkZHJlc3NUb2dnbGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBoYXNBZGRpdGlvbmFsSW5mbyA9XG4gICAgYWRkaXRpb25hbEluZm8gJiYgYWRkaXRpb25hbEluZm8gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQ7XG5cbiAgZmV0Y2hPcmRlclN0YXR1c0ZsYWdzKGFwb2xsb0NsaWVudCkudGhlbigoe3JlcXVpcmVzU2hpcHBpbmd9KSA9PiB7XG4gICAgY2hlY2tGb3JtVmFsaWRpdHkoe1xuICAgICAgY3VzdG9tZXJJbmZvLFxuICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgc2hpcHBpbmdJbmZvLFxuICAgICAgYmlsbGluZ0FkZHJlc3MsXG4gICAgICBiaWxsaW5nQWRkcmVzc1RvZ2dsZSxcbiAgICAgIGFkZGl0aW9uYWxJbmZvOiBoYXNBZGRpdGlvbmFsSW5mbyA/IGFkZGl0aW9uYWxJbmZvIDogbnVsbCxcbiAgICAgIHJlcXVpcmVzU2hpcHBpbmcsXG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gKGhhbmRsZXJQcm94eTogRXZlbnRIYW5kbGVyUHJveHlXaXRoQXBvbGxvQ2xpZW50KSA9PiB7XG4gIGhhbmRsZXJQcm94eS5vbihSRU5ERVJfVFJFRV9FVkVOVCwgQm9vbGVhbiwgaGFuZGxlUmVuZGVyQ2hlY2tvdXQpO1xuICBoYW5kbGVyUHJveHkub24oJ2NsaWNrJywgaXNQbGFjZU9yZGVyQnV0dG9uRXZlbnQsIGhhbmRsZVBsYWNlT3JkZXIpO1xuICBoYW5kbGVyUHJveHkub24oXG4gICAgJ2tleWRvd24nLFxuICAgIGlzUGxhY2VPcmRlckJ1dHRvbkV2ZW50LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgKGV2ZW50LCBhcG9sbG9DbGllbnQsIFN0cmlwZVN0b3JlKSA9PiB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ3doaWNoJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdFdmVudCcuXG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDMyKSB7XG4gICAgICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nIG9uIHNwYWNlYmFyIGtleSBwcmVzc1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICd3aGljaCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQnLlxuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSAxMykge1xuICAgICAgICAvLyBlbnRlciBrZXkgcHJlc3NcbiAgICAgICAgcmV0dXJuIGhhbmRsZVBsYWNlT3JkZXIoZXZlbnQsIGFwb2xsb0NsaWVudCwgU3RyaXBlU3RvcmUpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgaGFuZGxlclByb3h5Lm9uKFxuICAgICdrZXl1cCcsXG4gICAgaXNQbGFjZU9yZGVyQnV0dG9uRXZlbnQsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgICAoZXZlbnQsIGFwb2xsb0NsaWVudCwgU3RyaXBlU3RvcmUpID0+IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnd2hpY2gnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0V2ZW50Jy5cbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgICAgLy8gc3BhY2ViYXIga2V5IHByZXNzXG4gICAgICAgIHJldHVybiBoYW5kbGVQbGFjZU9yZGVyKGV2ZW50LCBhcG9sbG9DbGllbnQsIFN0cmlwZVN0b3JlKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGhhbmRsZXJQcm94eS5vbignc3VibWl0JywgaXNBcHBseURpc2NvdW50Rm9ybUV2ZW50LCBoYW5kbGVBcHBseURpc2NvdW50KTtcblxuICAvLyB3ZSB1c2UgYmx1ciBldmVudHMgb24gdGhlIHRleHQgaW5wdXRzLCBhbmQgY2hhbmdlIGV2ZW50IG9uIHRoZSBjb3VudHJ5IHNlbGVjdFxuICAvLyBzbyB0aGF0IHdlIHVwZGF0ZSBmYXN0ZXIgKGJsdXIgb24gYSBzZWxlY3QgZWxlbWVudCByZXF1aXJlcyBnb2luZyBpbnRvIGFub3RoZXIgZmllbGQpXG4gIGhhbmRsZXJQcm94eS5vbihcbiAgICAnY2hhbmdlJyxcbiAgICBpc0lucHV0SW5zaWRlQ3VzdG9tZXJJbmZvRXZlbnQsXG4gICAgaGFuZGxlVXBkYXRlQ3VzdG9tZXJJbmZvXG4gICk7XG4gIGhhbmRsZXJQcm94eS5vbihcbiAgICAnY2hhbmdlJyxcbiAgICBpc0lucHV0SW5zaWRlQWRkcmVzc1dyYXBwZXJFdmVudCxcbiAgICBoYW5kbGVVcGRhdGVBZGRyZXNzXG4gICk7XG4gIGhhbmRsZXJQcm94eS5vbihcbiAgICAnY2hhbmdlJyxcbiAgICBpc0JpbGxpbmdBZGRyZXNzVG9nZ2xlRXZlbnQsXG4gICAgaGFuZGxlVG9nZ2xlQmlsbGluZ0FkZHJlc3NcbiAgKTtcbiAgaGFuZGxlclByb3h5Lm9uKFxuICAgICdjaGFuZ2UnLFxuICAgIGlzSW5wdXRJbnNpZGVTaGlwcGluZ01ldGhvZEV2ZW50LFxuICAgIGhhbmRsZUNob29zZVNoaXBwaW5nTWV0aG9kXG4gICk7XG4gIGhhbmRsZXJQcm94eS5vbihcbiAgICAnc3VibWl0JyxcbiAgICBpc0Zvcm1JbnNpZGVDaGVja291dENvbnRhaW5lckV2ZW50LFxuICAgIGhhbmRsZVN1Ym1pdEZvcm1JbnNpZGVDaGVja291dENvbnRhaW5lclxuICApO1xuICAvLyB3ZSBoYXZlIHRvIGFkZCBhIGtleXVwIGV2ZW50IGZvciB0aGUgZW50ZXIga2V5IG9uIGZvcm1zIHRvIHJ1biB0aGUgdmFsaWRpdHkgY2hlY2tcbiAgLy8gYXMgZm9ybXMgd2l0aCBtdWx0aXBsZSBpbnB1dHMgYnV0IG5vIHN1Ym1pdCBpbnB1dCBkb24ndCBmaXJlIHRoZSBzdWJtaXQgZXZlbnRcbiAgLy8gaG93ZXZlciB3ZSBkbyBzdGlsbCBuZWVkIHRoYXQgYWJvdmUgc3VibWl0IGNoZWNrLCBhcyB0aGUgZW1haWwgZm9ybSBvbmx5IGhhcyBvbmVcbiAgLy8gaW5wdXQsIGFuZCBhIGJyb3dzZXIgd2lsbCBmaXJlIHRoZSBzdWJtaXQgZXZlbnQgaWYgdGhlIGZvcm0gaGFzIGp1c3Qgb25lIGlucHV0XG4gIC8vIGV2ZW4gaWYgaXQgaGFzIG5vIHN1Ym1pdCBpbnB1dFxuICBoYW5kbGVyUHJveHkub24oXG4gICAgJ2tleXVwJyxcbiAgICBpc0lucHV0SW5zaWRlQ2hlY2tvdXRGb3JtRXZlbnQsXG4gICAgaGFuZGxlU3VibWl0Rm9ybUluc2lkZUNoZWNrb3V0Q29udGFpbmVyXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7cmVnaXN0ZXJ9O1xuIl0sIm5hbWVzIjpbInJlZ2lzdGVyIiwiaXNJbnB1dEluc2lkZUN1c3RvbWVySW5mb0V2ZW50IiwidGFyZ2V0IiwiY2hlY2tvdXRGb3JtQ29udGFpbmVyIiwiZmluZEVsZW1lbnRCeU5vZGVUeXBlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSIiwiY3VzdG9tZXJJbmZvV3JhcHBlciIsImZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQ1VTVE9NRVJfSU5GT19XUkFQUEVSIiwiRWxlbWVudCIsInRhZ05hbWUiLCJpc0lucHV0SW5zaWRlQWRkcmVzc1dyYXBwZXJFdmVudCIsInNoaXBwaW5nQWRkcmVzc1dyYXBwZXIiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSIiwiYmlsbGluZ0FkZHJlc3NXcmFwcGVyIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19XUkFQUEVSIiwiaXNJbnB1dEluc2lkZVNoaXBwaW5nTWV0aG9kRXZlbnQiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfUEFZUEFMX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSIiwic2hpcHBpbmdNZXRob2RXcmFwcGVyIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1NISVBQSU5HX01FVEhPRFNfV1JBUFBFUiIsImlzQmlsbGluZ0FkZHJlc3NUb2dnbGVFdmVudCIsImdldEF0dHJpYnV0ZSIsIkRBVEFfQVRUUl9OT0RFX1RZUEUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1RPR0dMRV9DSEVDS0JPWCIsImlzUGxhY2VPcmRlckJ1dHRvbkV2ZW50IiwicGxhY2VPcmRlckJ1dHRvbiIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9QTEFDRV9PUkRFUl9CVVRUT04iLCJpc0FwcGx5RGlzY291bnRGb3JtRXZlbnQiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRElTQ09VTlRfRk9STSIsImlzRm9ybUluc2lkZUNoZWNrb3V0Q29udGFpbmVyRXZlbnQiLCJjaGVja291dEZvcm0iLCJIVE1MRm9ybUVsZW1lbnQiLCJpc0lucHV0SW5zaWRlQ2hlY2tvdXRGb3JtRXZlbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiaGFuZGxlUmVuZGVyQ2hlY2tvdXQiLCJldmVudCIsImFwb2xsb0NsaWVudCIsInN0cmlwZVN0b3JlIiwid2luZG93IiwiV2ViZmxvdyIsImVudiIsIkN1c3RvbUV2ZW50IiwidHlwZSIsIlJFTkRFUl9UUkVFX0VWRU5UIiwiZXJyb3JzIiwiZGV0YWlsIiwiZXJyb3IiLCJwdXNoIiwiZm9jdXNlZEVsZSIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsInByZXZGb2N1c2VkSW5wdXQiLCJpZCIsImNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMiLCJmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlIiwicmVuZGVyQ2hlY2tvdXRGb3JtQ29udGFpbmVycyIsImNoZWNrRm9ybVZhbGlkaXR5IiwiY3VzdG9tZXJJbmZvIiwic2hpcHBpbmdBZGRyZXNzIiwic2hpcHBpbmdJbmZvIiwiYmlsbGluZ0FkZHJlc3MiLCJiaWxsaW5nQWRkcmVzc1RvZ2dsZSIsImFkZGl0aW9uYWxJbmZvIiwicmVxdWlyZXNTaGlwcGluZyIsInByb3RvdHlwZSIsInJlcG9ydFZhbGlkaXR5IiwiY2hlY2tlZCIsInBsYWNpbmdPcmRlciIsInN0YXJ0T3JkZXJGbG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJlZm9yZVVubG9hZEhhbmRsZXIiLCJidXR0b25UZXh0IiwiaW5uZXJIVE1MIiwibG9hZGluZ1RleHQiLCJEQVRBX0FUVFJfTE9BRElOR19URVhUIiwiQ0hFQ0tPVVRfUExBQ0VfT1JERVJfTE9BRElOR19URVhUX0RFRkFVTFQiLCJmaW5pc2hPcmRlckZsb3ciLCJpc1JlZGlyZWN0aW5nIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkNIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTl9URVhUX0RFRkFVTFQiLCJoYW5kbGVQbGFjZU9yZGVyIiwiY3VycmVudFRhcmdldCIsImVycm9yU3RhdGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRVJST1JfU1RBVEUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQURESVRJT05BTF9JTkZPIiwiSFRNTEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJxdWVyeVNlbGVjdG9yIiwiQ0FSVF9DSEVDS09VVF9FUlJPUl9NRVNTQUdFX1NFTEVDVE9SIiwiaGFzQXR0cmlidXRlIiwiTkVFRFNfUkVGUkVTSCIsImhhc0FkZGl0aW9uYWxJbmZvIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImZldGNoT3JkZXJTdGF0dXNGbGFncyIsInRoZW4iLCJpc0ZyZWVPcmRlciIsImlzRm9ybVZhbGlkIiwiY3VzdG9tZXJJbmZvRm9ybURhdGEiLCJmb3JtVG9PYmplY3QiLCJlbWFpbCIsIlN0cmluZyIsInRyaW0iLCJzaGlwcGluZ0FkZHJlc3NJbmZvIiwiYmlsbGluZ0FkZHJlc3NJbmZvIiwic3RyaXBlQmlsbGluZ0FkZHJlc3NJbmZvIiwiYmlsbGluZ19kZXRhaWxzIiwibmFtZSIsImFkZHJlc3MiLCJsaW5lMSIsImFkZHJlc3NfbGluZTEiLCJsaW5lMiIsImFkZHJlc3NfbGluZTIiLCJjaXR5IiwiYWRkcmVzc19jaXR5Iiwic3RhdGUiLCJhZGRyZXNzX3N0YXRlIiwiY291bnRyeSIsImFkZHJlc3NfY291bnRyeSIsInBvc3RhbF9jb2RlIiwiYWRkcmVzc196aXAiLCJzaGlwcGluZ01ldGhvZElkIiwiZWxlbWVudHMiLCJzaGlwcGluZ01ldGhvZENob2ljZSIsInZhbHVlIiwiY3VzdG9tRGF0YSIsImN1c3RvbURhdGFGb3JtVG9BcnJheSIsInN5bmNDaGVja291dEZvcm0iLCJQcm9taXNlIiwiYWxsIiwiY3JlYXRlT3JkZXJJZGVudGl0eU11dGF0aW9uIiwiY3JlYXRlT3JkZXJBZGRyZXNzTXV0YXRpb24iLCJyZXNvbHZlIiwiY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uIiwiY3JlYXRlQ3VzdG9tRGF0YU11dGF0aW9uIiwiaXNJbml0aWFsaXplZCIsInJlamVjdCIsIkVycm9yIiwic3RyaXBlIiwiZ2V0U3RyaXBlSW5zdGFuY2UiLCJjaGVja291dEZvcm1JbnN0YW5jZSIsInBhcnNlSW50IiwiU1RSSVBFX0VMRU1FTlRfSU5TVEFOQ0UiLCJjYXJkIiwiZ2V0RWxlbWVudCIsImNyZWF0ZVBheW1lbnRNZXRob2QiLCJkYXRhIiwiY3JlYXRlU3RyaXBlUGF5bWVudE1ldGhvZE11dGF0aW9uIiwicGF5bWVudE1ldGhvZCIsImNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QiLCJjaGVja291dFR5cGUiLCJkZWJ1ZyIsImxvZyIsIm9yZGVyIiwiZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZSIsIm9yZGVyUmVxdWlyZXNBZGRpdGlvbmFsQWN0aW9uIiwic3RhdHVzIiwicmV0cmlldmVQYXltZW50SW50ZW50IiwiY2xpZW50U2VjcmV0IiwicmV0cmlldmVSZXN1bHQiLCJpbnRlbnQiLCJwYXltZW50SW50ZW50IiwiYWN0aW9uUHJvbWlzZSIsImNvbmZpcm1hdGlvbl9tZXRob2QiLCJjb25maXJtQ2FyZFBheW1lbnQiLCJoYW5kbGVDYXJkQWN0aW9uIiwicmVzdWx0IiwicGF5bWVudEludGVudElkIiwicmVzcCIsImZpbmlzaGVkT3JkZXIiLCJvayIsInJlZGlyZWN0VG9PcmRlckNvbmZpcm1hdGlvbiIsImNhdGNoIiwiZXJyIiwicmVtb3ZlUHJvcGVydHkiLCJ1cGRhdGVFcnJvck1lc3NhZ2UiLCJoYW5kbGVBcHBseURpc2NvdW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJpbnB1dEVsIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0RJU0NPVU5UX0lOUFVUIiwiZXJyb3JTdGF0ZUVsIiwiZGlzY291bnRDb2RlIiwidG9VcHBlckNhc2UiLCJhcHBseURpc2NvdW50IiwiZGlzcGxheSIsInRyaWdnZXJSZW5kZXIiLCJzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IiLCJoYW5kbGVVcGRhdGVDdXN0b21lckluZm8iLCJoYW5kbGVVcGRhdGVBZGRyZXNzIiwiZGVib3VuY2UiLCJhZGRyZXNzSW5mbyIsImhhbmRsZVRvZ2dsZUJpbGxpbmdBZGRyZXNzIiwiaGFuZGxlQ2hvb3NlU2hpcHBpbmdNZXRob2QiLCJoYW5kbGVTdWJtaXRGb3JtSW5zaWRlQ2hlY2tvdXRDb250YWluZXIiLCJrZXlDb2RlIiwiaGFuZGxlclByb3h5Iiwib24iLCJCb29sZWFuIiwiU3RyaXBlU3RvcmUiLCJ3aGljaCJdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEOzs7Ozs7Ozs7OztJQWs0QnJELE9BQTBCO2VBQTFCOztJQXpFYUEsUUFBUTtlQUFSQTs7O2lFQXh6QlE7MkJBc0JkOytCQVVBOytCQWdCQTs4REFDVzs7Ozs7O0FBSWxCLHFGQUFxRjtBQUNyRixNQUFNQyxpQ0FBaUMsQ0FBQyxFQUFDQyxNQUFNLEVBQUM7SUFDOUMsK0RBQStEO0lBQy9ELE1BQU1DLHdCQUF3QkMsSUFBQUEsb0NBQXFCLEVB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

}),
94797: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    applyDiscountMutation: function() {
        return applyDiscountMutation;
    },
    attemptSubmitOrderMutation: function() {
        return attemptSubmitOrderMutation;
    },
    estimateOrderTaxesMutation: function() {
        return estimateOrderTaxesMutation;
    },
    recalcOrderEstimationsMutation: function() {
        return recalcOrderEstimationsMutation;
    },
    requestPayPalOrderMutation: function() {
        return requestPayPalOrderMutation;
    },
    syncPayPalOrderInfo: function() {
        return syncPayPalOrderInfo;
    },
    updateCustomData: function() {
        return updateCustomData;
    },
    updateObfuscatedOrderAddressMutation: function() {
        return updateObfuscatedOrderAddressMutation;
    },
    updateOrderAddressMutation: function() {
        return updateOrderAddressMutation;
    },
    updateOrderIdentityMutation: function() {
        return updateOrderIdentityMutation;
    },
    updateOrderShippingMethodMutation: function() {
        return updateOrderShippingMethodMutation;
    },
    updateOrderStripePaymentMethodMutation: function() {
        return updateOrderStripePaymentMethodMutation;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const updateOrderIdentityMutation = (0, _graphqltag.default)`
  mutation CheckoutUpdateOrderIdentity($email: String) {
    ecommerceUpdateIdentity(email: $email) {
      ok
    }
  }
`;
const updateOrderAddressMutation = (0, _graphqltag.default)`
  mutation CheckoutUpdateOrderAddress(
    $type: String!
    $name: String
    $address_line1: String
    $address_line2: String
    $address_city: String
    $address_state: String
    $address_country: String
    $address_zip: String
  ) {
    ecommerceUpdateAddress(
      type: $type
      addressee: $name
      line1: $address_line1
      line2: $address_line2
      city: $address_city
      state: $address_state
      country: $address_country
      postalCode: $address_zip
    ) {
      ok
    }
  }
`;
const updateObfuscatedOrderAddressMutation = (0, _graphqltag.default)`
  mutation CheckoutUpdateObfuscatedOrderAddress(
    $type: String!
    $name: String
    $address_line1: String
    $address_line2: String
    $address_city: String
    $address_state: String
    $address_country: String
    $address_zip: String
  ) {
    ecommerceUpdateObfuscatedAddress(
      type: $type
      addressee: $name
      line1: $address_line1
      line2: $address_line2
      city: $address_city
      state: $address_state
      country: $address_country
      postalCode: $address_zip
    ) {
      ok
    }
  }
`;
const updateOrderShippingMethodMutation = (0, _graphqltag.default)`
  mutation CheckoutUpdateShippingMethod($id: String) {
    ecommerceUpdateShippingMethod(methodId: $id) {
      ok
    }
  }
`;
const updateOrderStripePaymentMethodMutation = (0, _graphqltag.default)`
  mutation CheckoutUpdateStripePaymentMethod($paymentMethod: String!) {
    ecommerceStoreStripePaymentMethod(paymentMethod: $paymentMethod) {
      ok
    }
  }
`;
const updateCustomData = (0, _graphqltag.default)`
  mutation CheckoutUpdateCustomData(
    $customData: [mutation_commerce_update_custom_data]!
  ) {
    ecommerceUpdateCustomData(customData: $customData) {
      ok
    }
  }
`;
const estimateOrderTaxesMutation = (0, _graphqltag.default)`
  mutation CheckoutEstimateOrderTaxes {
    ecommerceEstimateTaxes {
      ok
    }
  }
`;
const recalcOrderEstimationsMutation = (0, _graphqltag.default)`
  mutation CheckoutRecalcOrderEstimations {
    ecommerceRecalcEstimations {
      ok
    }
  }
`;
const requestPayPalOrderMutation = (0, _graphqltag.default)`
  mutation CheckoutRequestPayPalOrder {
    ecommercePaypalOrderRequest {
      orderId
    }
  }
`;
const syncPayPalOrderInfo = (0, _graphqltag.default)`
  mutation CheckoutSyncPayPalInfo {
    ecommerceSyncPaypalOrderInfoToWF {
      ok
    }
  }
`;
const attemptSubmitOrderMutation = (0, _graphqltag.default)`
  mutation CheckoutAttemptSubmitOrder(
    $checkoutType: mutation_commerce_checkout_type
    $paymentIntentId: String
  ) {
    ecommerceAttemptSubmitOrder(
      checkoutType: $checkoutType
      paymentIntentId: $paymentIntentId
    ) {
      orderId
      token
      ok
      customerPaid {
        decimalValue
        unit
      }
      purchasedItems {
        id
        name
        count
        price {
          decimalValue
        }
      }
      status
      clientSecret
      nextAction
    }
  }
`;
const applyDiscountMutation = (0, _graphqltag.default)`
  mutation CheckoutApplyDiscount($discountCode: String!) {
    ecommerceApplyDiscount(discountCode: $discountCode) {
      ok
    }
  }
`;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrb3V0TXV0YXRpb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlT3JkZXJJZGVudGl0eU11dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBDaGVja291dFVwZGF0ZU9yZGVySWRlbnRpdHkoJGVtYWlsOiBTdHJpbmcpIHtcbiAgICBlY29tbWVyY2VVcGRhdGVJZGVudGl0eShlbWFpbDogJGVtYWlsKSB7XG4gICAgICBva1xuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9yZGVyQWRkcmVzc011dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBDaGVja291dFVwZGF0ZU9yZGVyQWRkcmVzcyhcbiAgICAkdHlwZTogU3RyaW5nIVxuICAgICRuYW1lOiBTdHJpbmdcbiAgICAkYWRkcmVzc19saW5lMTogU3RyaW5nXG4gICAgJGFkZHJlc3NfbGluZTI6IFN0cmluZ1xuICAgICRhZGRyZXNzX2NpdHk6IFN0cmluZ1xuICAgICRhZGRyZXNzX3N0YXRlOiBTdHJpbmdcbiAgICAkYWRkcmVzc19jb3VudHJ5OiBTdHJpbmdcbiAgICAkYWRkcmVzc196aXA6IFN0cmluZ1xuICApIHtcbiAgICBlY29tbWVyY2VVcGRhdGVBZGRyZXNzKFxuICAgICAgdHlwZTogJHR5cGVcbiAgICAgIGFkZHJlc3NlZTogJG5hbWVcbiAgICAgIGxpbmUxOiAkYWRkcmVzc19saW5lMVxuICAgICAgbGluZTI6ICRhZGRyZXNzX2xpbmUyXG4gICAgICBjaXR5OiAkYWRkcmVzc19jaXR5XG4gICAgICBzdGF0ZTogJGFkZHJlc3Nfc3RhdGVcbiAgICAgIGNvdW50cnk6ICRhZGRyZXNzX2NvdW50cnlcbiAgICAgIHBvc3RhbENvZGU6ICRhZGRyZXNzX3ppcFxuICAgICkge1xuICAgICAgb2tcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVPYmZ1c2NhdGVkT3JkZXJBZGRyZXNzTXV0YXRpb24gPSBncWxgXG4gIG11dGF0aW9uIENoZWNrb3V0VXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzcyhcbiAgICAkdHlwZTogU3RyaW5nIVxuICAgICRuYW1lOiBTdHJpbmdcbiAgICAkYWRkcmVzc19saW5lMTogU3RyaW5nXG4gICAgJGFkZHJlc3NfbGluZTI6IFN0cmluZ1xuICAgICRhZGRyZXNzX2NpdHk6IFN0cmluZ1xuICAgICRhZGRyZXNzX3N0YXRlOiBTdHJpbmdcbiAgICAkYWRkcmVzc19jb3VudHJ5OiBTdHJpbmdcbiAgICAkYWRkcmVzc196aXA6IFN0cmluZ1xuICApIHtcbiAgICBlY29tbWVyY2VVcGRhdGVPYmZ1c2NhdGVkQWRkcmVzcyhcbiAgICAgIHR5cGU6ICR0eXBlXG4gICAgICBhZGRyZXNzZWU6ICRuYW1lXG4gICAgICBsaW5lMTogJGFkZHJlc3NfbGluZTFcbiAgICAgIGxpbmUyOiAkYWRkcmVzc19saW5lMlxuICAgICAgY2l0eTogJGFkZHJlc3NfY2l0eVxuICAgICAgc3RhdGU6ICRhZGRyZXNzX3N0YXRlXG4gICAgICBjb3VudHJ5OiAkYWRkcmVzc19jb3VudHJ5XG4gICAgICBwb3N0YWxDb2RlOiAkYWRkcmVzc196aXBcbiAgICApIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBDaGVja291dFVwZGF0ZVNoaXBwaW5nTWV0aG9kKCRpZDogU3RyaW5nKSB7XG4gICAgZWNvbW1lcmNlVXBkYXRlU2hpcHBpbmdNZXRob2QobWV0aG9kSWQ6ICRpZCkge1xuICAgICAgb2tcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVPcmRlclN0cmlwZVBheW1lbnRNZXRob2RNdXRhdGlvbiA9IGdxbGBcbiAgbXV0YXRpb24gQ2hlY2tvdXRVcGRhdGVTdHJpcGVQYXltZW50TWV0aG9kKCRwYXltZW50TWV0aG9kOiBTdHJpbmchKSB7XG4gICAgZWNvbW1lcmNlU3RvcmVTdHJpcGVQYXltZW50TWV0aG9kKHBheW1lbnRNZXRob2Q6ICRwYXltZW50TWV0aG9kKSB7XG4gICAgICBva1xuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUN1c3RvbURhdGEgPSBncWxgXG4gIG11dGF0aW9uIENoZWNrb3V0VXBkYXRlQ3VzdG9tRGF0YShcbiAgICAkY3VzdG9tRGF0YTogW211dGF0aW9uX2NvbW1lcmNlX3VwZGF0ZV9jdXN0b21fZGF0YV0hXG4gICkge1xuICAgIGVjb21tZXJjZVVwZGF0ZUN1c3RvbURhdGEoY3VzdG9tRGF0YTogJGN1c3RvbURhdGEpIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgZXN0aW1hdGVPcmRlclRheGVzTXV0YXRpb24gPSBncWxgXG4gIG11dGF0aW9uIENoZWNrb3V0RXN0aW1hdGVPcmRlclRheGVzIHtcbiAgICBlY29tbWVyY2VFc3RpbWF0ZVRheGVzIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgcmVjYWxjT3JkZXJFc3RpbWF0aW9uc011dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBDaGVja291dFJlY2FsY09yZGVyRXN0aW1hdGlvbnMge1xuICAgIGVjb21tZXJjZVJlY2FsY0VzdGltYXRpb25zIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgcmVxdWVzdFBheVBhbE9yZGVyTXV0YXRpb24gPSBncWxgXG4gIG11dGF0aW9uIENoZWNrb3V0UmVxdWVzdFBheVBhbE9yZGVyIHtcbiAgICBlY29tbWVyY2VQYXlwYWxPcmRlclJlcXVlc3Qge1xuICAgICAgb3JkZXJJZFxuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IHN5bmNQYXlQYWxPcmRlckluZm8gPSBncWxgXG4gIG11dGF0aW9uIENoZWNrb3V0U3luY1BheVBhbEluZm8ge1xuICAgIGVjb21tZXJjZVN5bmNQYXlwYWxPcmRlckluZm9Ub1dGIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgYXR0ZW1wdFN1Ym1pdE9yZGVyTXV0YXRpb24gPSBncWxgXG4gIG11dGF0aW9uIENoZWNrb3V0QXR0ZW1wdFN1Ym1pdE9yZGVyKFxuICAgICRjaGVja291dFR5cGU6IG11dGF0aW9uX2NvbW1lcmNlX2NoZWNrb3V0X3R5cGVcbiAgICAkcGF5bWVudEludGVudElkOiBTdHJpbmdcbiAgKSB7XG4gICAgZWNvbW1lcmNlQXR0ZW1wdFN1Ym1pdE9yZGVyKFxuICAgICAgY2hlY2tvdXRUeXBlOiAkY2hlY2tvdXRUeXBlXG4gICAgICBwYXltZW50SW50ZW50SWQ6ICRwYXltZW50SW50ZW50SWRcbiAgICApIHtcbiAgICAgIG9yZGVySWRcbiAgICAgIHRva2VuXG4gICAgICBva1xuICAgICAgY3VzdG9tZXJQYWlkIHtcbiAgICAgICAgZGVjaW1hbFZhbHVlXG4gICAgICAgIHVuaXRcbiAgICAgIH1cbiAgICAgIHB1cmNoYXNlZEl0ZW1zIHtcbiAgICAgICAgaWRcbiAgICAgICAgbmFtZVxuICAgICAgICBjb3VudFxuICAgICAgICBwcmljZSB7XG4gICAgICAgICAgZGVjaW1hbFZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YXR1c1xuICAgICAgY2xpZW50U2VjcmV0XG4gICAgICBuZXh0QWN0aW9uXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgYXBwbHlEaXNjb3VudE11dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBDaGVja291dEFwcGx5RGlzY291bnQoJGRpc2NvdW50Q29kZTogU3RyaW5nISkge1xuICAgIGVjb21tZXJjZUFwcGx5RGlzY291bnQoZGlzY291bnRDb2RlOiAkZGlzY291bnRDb2RlKSB7XG4gICAgICBva1xuICAgIH1cbiAgfVxuYDtcbiJdLCJuYW1lcyI6WyJhcHBseURpc2NvdW50TXV0YXRpb24iLCJhdHRlbXB0U3VibWl0T3JkZXJNdXRhdGlvbiIsImVzdGltYXRlT3JkZXJUYXhlc011dGF0aW9uIiwicmVjYWxjT3JkZXJFc3RpbWF0aW9uc011dGF0aW9uIiwicmVxdWVzdFBheVBhbE9yZGVyTXV0YXRpb24iLCJzeW5jUGF5UGFsT3JkZXJJbmZvIiwidXBkYXRlQ3VzdG9tRGF0YSIsInVwZGF0ZU9iZnVzY2F0ZWRPcmRlckFkZHJlc3NNdXRhdGlvbiIsInVwZGF0ZU9yZGVyQWRkcmVzc011dGF0aW9uIiwidXBkYXRlT3JkZXJJZGVudGl0eU11dGF0aW9uIiwidXBkYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uIiwidXBkYXRlT3JkZXJTdHJpcGVQYXltZW50TWV0aG9kTXV0YXRpb24iLCJncWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBdUphQSxxQkFBcUI7ZUFBckJBOztJQS9CQUMsMEJBQTBCO2VBQTFCQTs7SUFoQ0FDLDBCQUEwQjtlQUExQkE7O0lBUUFDLDhCQUE4QjtlQUE5QkE7O0lBUUFDLDBCQUEwQjtlQUExQkE7O0lBUUFDLG1CQUFtQjtlQUFuQkE7O0lBbENBQyxnQkFBZ0I7ZUFBaEJBOztJQTFDQUMsb0NBQW9DO2VBQXBDQTs7SUExQkFDLDBCQUEwQjtlQUExQkE7O0lBUkFDLDJCQUEyQjtlQUEzQkE7O0lBNERBQyxpQ0FBaUM7ZUFBakNBOztJQVFBQyxzQ0FBc0M7ZUFBdENBOzs7bUVBdEVHOzs7Ozs7QUFFVCxNQUFNRiw4QkFBOEJHLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7O0FBTS9DLENBQUM7QUFFTSxNQUFNSiw2QkFBNkJJLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0I5QyxDQUFDO0FBRU0sTUFBTUwsdUNBQXVDSyxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCeEQsQ0FBQztBQUVNLE1BQU1GLG9DQUFvQ0UsSUFBQUEsbUJBQUcsQ0FBQSxDQUFDOzs7Ozs7QUFNckQsQ0FBQztBQUVNLE1BQU1ELHlDQUF5Q0MsSUFBQUEsbUJBQUcsQ0FBQSxDQUFDOzs7Ozs7QUFNMUQsQ0FBQztBQUVNLE1BQU1OLG1CQUFtQk0sSUFBQUEsbUJBQUcsQ0FBQSxDQUFDOzs7Ozs7OztBQVFwQyxDQUFDO0FBRU0sTUFBTVYsNkJBQTZCVSxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7OztBQU05QyxDQUFDO0FBRU0sTUFBTVQsaUNBQWlDUyxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7OztBQU1sRCxDQUFDO0FBRU0sTUFBTVIsNkJBQTZCUSxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7OztBQU05QyxDQUFDO0FBRU0sTUFBTVAsc0JBQXNCTyxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7OztBQU12QyxDQUFDO0FBRU0sTUFBTVgsNkJBQTZCVyxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNkI5QyxDQUFDO0FBRU0sTUFBTVosd0JBQXdCWSxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7OztBQU16QyxDQUFDIn0=

}),
17696: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window, document, HTMLInputElement */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    applyDiscount: function() {
        return applyDiscount;
    },
    beforeUnloadHandler: function() {
        return beforeUnloadHandler;
    },
    createAttemptSubmitOrderRequest: function() {
        return createAttemptSubmitOrderRequest;
    },
    createCustomDataMutation: function() {
        return createCustomDataMutation;
    },
    createOrderAddressMutation: function() {
        return createOrderAddressMutation;
    },
    createOrderIdentityMutation: function() {
        return createOrderIdentityMutation;
    },
    createOrderShippingMethodMutation: function() {
        return createOrderShippingMethodMutation;
    },
    createRecalcOrderEstimationsMutation: function() {
        return createRecalcOrderEstimationsMutation;
    },
    createStripePaymentMethodMutation: function() {
        return createStripePaymentMethodMutation;
    },
    createUpdateObfuscatedOrderAddressMutation: function() {
        return createUpdateObfuscatedOrderAddressMutation;
    },
    getOrderDataFromGraphQLResponse: function() {
        return getOrderDataFromGraphQLResponse;
    },
    initializeStripeElements: function() {
        return initializeStripeElements;
    },
    orderRequiresAdditionalAction: function() {
        return orderRequiresAdditionalAction;
    },
    redirectToOrderConfirmation: function() {
        return redirectToOrderConfirmation;
    },
    renderCheckoutFormContainers: function() {
        return renderCheckoutFormContainers;
    },
    showErrorMessageForError: function() {
        return showErrorMessageForError;
    },
    updateErrorMessage: function() {
        return updateErrorMessage;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
const _commerceUtils = __webpack_require__(54556);
const _StyleMapObserver = /*#__PURE__*/ _interop_require_default(__webpack_require__(69147));
const _constants = __webpack_require__(10873);
const _rendering = __webpack_require__(91898);
const _webPaymentsEvents = __webpack_require__(94492);
const _checkoutMutations = __webpack_require__(94797);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const syncStylesToStripeElement = (stripeElement)=>(appliedStyles)=>{
        stripeElement.update({
            style: _StyleMapObserver.default.appliedStylesToStripeElementStyles(appliedStyles)
        });
    };
const initializeStripeElements = (store)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview') || !store.isInitialized()) {
        return;
    }
    const checkoutFormContainers = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER);
    const cartWrappers = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_WRAPPER);
    const allStripeElements = [
        ...checkoutFormContainers,
        ...cartWrappers
    ];
    allStripeElements.forEach((element, index)=>{
        store.createElementsInstance(index);
        element.setAttribute(_constants.STRIPE_ELEMENT_INSTANCE, String(index));
    });
    const stripeElements = document.querySelectorAll(`[${_constants.STRIPE_ELEMENT_TYPE}]`);
    Array.from(stripeElements).forEach((element)=>{
        const type = element.getAttribute(_constants.STRIPE_ELEMENT_TYPE);
        if (!type) {
            throw new Error('Stripe element missing type string');
        }
        const checkoutFormContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER, element);
        if (!checkoutFormContainer) {
            return;
        }
        const index = parseInt(// @ts-expect-error - TS2345 - Argument of type 'string | null' is not assignable to parameter of type 'string'.
        checkoutFormContainer.getAttribute(_constants.STRIPE_ELEMENT_INSTANCE), 10);
        const el = store.createElement(type, index, {
            style: (0, _commerceUtils.safeParseJson)(element.getAttribute(_constants.STRIPE_ELEMENT_STYLE) || '{}'),
            classes: {
                focus: '-wfp-focus'
            }
        });
        el.mount(element);
        // eslint-disable-next-line unused-imports/no-unused-vars, unused-imports/no-unused-vars
        const styleMapObserver = new _StyleMapObserver.default(element, {
            onChange: syncStylesToStripeElement(el)
        });
    });
};
const errorCodeToCheckoutErrorType = (code, msg)=>{
    switch(code){
        case 'OrderTotalRange':
            if (msg && msg.match(/too small/i)) {
                return 'minimum';
            } else {
                return 'info';
            }
        case 'OrderExtrasChanged':
            return 'extras';
        case 'PriceChanged':
            return 'pricing';
        case 'StripeRejected':
            return 'billing';
        case 'NeedShippingAddress':
        case 'InvalidShippingAddress':
        case 'NeedShippingMethod':
            return 'shipping';
        case 'NeedPaymentMethod':
        case 'StripeFailure':
            return 'payment';
        case 'ItemNotFound':
            return 'product';
        // 'InvalidDiscount' has been renamed to 'DiscountInvalid', but it needs
        // to be listed here to support sites that haven't been published since this change.
        case 'InvalidDiscount':
        case 'DiscountInvalid':
        case 'DiscountDoesNotExist':
            {
                return 'invalid-discount';
            }
        case 'DiscountExpired':
            {
                return 'expired-discount';
            }
        case 'DiscountUsageReached':
            {
                return 'usage-reached-discount';
            }
        case 'DiscountRequirementsNotMet':
            {
                return 'requirements-not-met';
            }
        default:
            return 'info';
    }
};
const getErrorType = (error)=>{
    if (error.graphQLErrors && error.graphQLErrors.length > 0) {
        return errorCodeToCheckoutErrorType(error.graphQLErrors[0].extensions?.code, error.graphQLErrors[0].message);
    }
    if (error.code) {
        return errorCodeToCheckoutErrorType(error.code, error.message);
    }
    return 'info';
};
const updateErrorMessage = (element, error)=>{
    const errorText = element.querySelector(_constants.CART_CHECKOUT_ERROR_MESSAGE_SELECTOR);
    if (!errorText) {
        return;
    }
    // Handle Stripe.js client-side errors. We use Stripe.js's error message
    // as this error typically indicates that the user forgot to enter part of
    // their CC, or entered invalid data. The more specific the error, the more
    // helpful it will be for the user.
    if (error.type && error.type === 'validation_error') {
        errorText.textContent = error.message;
        return;
    }
    const errorType = getErrorType(error);
    // Get the default error message incase the node does not have the error attribute yet.
    const errorData = // @ts-expect-error Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{...}'
    _constants.CHECKOUT_ERRORS[errorType.toUpperCase().replace(/\W/g, '_')] || {};
    const defaultErrorMessage = errorData.copy;
    const errorMessage = errorText.getAttribute((0, _constants.getCheckoutErrorMessageForType)(errorType)) || defaultErrorMessage;
    errorText.textContent = errorMessage;
    if (errorData.requiresRefresh) {
        errorText.setAttribute(_constants.NEEDS_REFRESH, 'true');
    } else {
        errorText.removeAttribute(_constants.NEEDS_REFRESH);
    }
    if (errorType === 'shipping') {
        updateRequiredFields(error);
    }
};
const elementNameByGraphQLError = {
    MISSING_STATE: 'address_state'
};
const updateRequiredFields = (error)=>{
    if (!error.graphQLErrors || error.graphQLErrors.length === 0) {
        return;
    }
    const invalidShippingAddressError = error.graphQLErrors.find(// @ts-expect-error - TS7006 - Parameter 'gqlError' implicitly has an 'any' type.
    (gqlError)=>gqlError.code === 'InvalidShippingAddress');
    if (!invalidShippingAddressError) {
        return;
    }
    // @ts-expect-error - TS7006 - Parameter 'problem' implicitly has an 'any' type.
    invalidShippingAddressError.problems.forEach((problem)=>{
        const { type } = problem;
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ readonly MISSING_STATE: "address_state"; }'.
        const elementName = elementNameByGraphQLError[type];
        if (!elementName) {
            return;
        }
        const element = document.getElementsByName(elementName)[0];
        if (!(element instanceof HTMLInputElement)) {
            return;
        }
        element.required = true;
        // IE11 doesn't support the reportValidity API
        if (typeof element.reportValidity === 'function') {
            element.reportValidity();
        }
    });
};
const showErrorMessageForError = (err, scope)=>{
    const errorState = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_ERROR_STATE, scope);
    if (errorState) {
        errorState.style.removeProperty('display');
        updateErrorMessage(errorState, err);
    }
};
const beforeUnloadHandler = (e)=>{
    e.preventDefault();
    e.returnValue = '';
};
const createOrderIdentityMutation = (apolloClient, email)=>apolloClient.mutate({
        mutation: _checkoutMutations.updateOrderIdentityMutation,
        variables: {
            email
        }
    });
const createOrderAddressMutation = (apolloClient, addressInfo)=>apolloClient.mutate({
        mutation: _checkoutMutations.updateOrderAddressMutation,
        variables: addressInfo
    });
const createOrderShippingMethodMutation = (apolloClient, id)=>apolloClient.mutate({
        mutation: _checkoutMutations.updateOrderShippingMethodMutation,
        variables: {
            id
        }
    });
const createCustomDataMutation = (apolloClient, customData)=>apolloClient.mutate({
        mutation: _checkoutMutations.updateCustomData,
        variables: {
            customData
        }
    });
const createStripePaymentMethodMutation = (apolloClient, id)=>apolloClient.mutate({
        mutation: _checkoutMutations.updateOrderStripePaymentMethodMutation,
        variables: {
            paymentMethod: id
        }
    });
const createRecalcOrderEstimationsMutation = (apolloClient)=>apolloClient.mutate({
        mutation: _checkoutMutations.recalcOrderEstimationsMutation,
        errorPolicy: 'ignore'
    });
const createUpdateObfuscatedOrderAddressMutation = (apolloClient, addressInfo)=>apolloClient.mutate({
        mutation: _checkoutMutations.updateObfuscatedOrderAddressMutation,
        variables: addressInfo
    });
const renderCheckout = (checkout, data, prevFocusedInput)=>{
    (0, _rendering.renderTree)(checkout, data);
    const shippingMethodsList = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_LIST, checkout);
    const shippingMethodsEmpty = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_EMPTY_STATE, checkout);
    const shippingAddressWrapper = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER, checkout);
    const billingAddressWrapper = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER, checkout);
    const billingAddressToggle = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX, checkout);
    const paymentInfoWrapper = checkout.querySelector('.w-commerce-commercecheckoutpaymentinfowrapper');
    if (!(shippingMethodsList instanceof Element) || !(shippingAddressWrapper instanceof Element) || !(billingAddressWrapper instanceof Element) || !(billingAddressToggle instanceof HTMLInputElement) || !(paymentInfoWrapper instanceof Element)) {
        return;
    }
    if (data.data && data.data.database && data.data.database.commerceOrder) {
        const { data: { database: { commerceOrder: { availableShippingMethods, statusFlags: { requiresShipping, isFreeOrder, shippingAddressRequiresPostalCode, billingAddressRequiresPostalCode, hasSubscription } } } } } = data;
        const shippingZipField = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_ZIP_FIELD, shippingAddressWrapper);
        if (shippingZipField instanceof HTMLInputElement) {
            shippingZipField.required = shippingAddressRequiresPostalCode;
        }
        const billingZipField = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_ZIP_FIELD, billingAddressWrapper);
        if (billingZipField instanceof HTMLInputElement) {
            billingZipField.required = billingAddressRequiresPostalCode;
        }
        const paypalElement = document.querySelector(`[${_constants.PAYPAL_ELEMENT_INSTANCE}]`);
        const paypalButton = checkout.querySelector(`[${_constants.PAYPAL_BUTTON_ELEMENT_INSTANCE}]`);
        if (paypalElement && paypalButton) {
            if (isFreeOrder || hasSubscription) {
                // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                (0, _commerceUtils.hideElement)(paypalButton);
            } else {
                // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                (0, _commerceUtils.showElement)(paypalButton);
            }
        }
        // Edge case: need to make sure if billing address is hidden because of default "same as shipping" checked, but
        // toggle itself is hidden because doesn't require shipping, the billing address is still visible
        if (!requiresShipping && billingAddressToggle.checked && billingAddressToggle.parentElement && billingAddressToggle.parentElement.classList.contains('w-condition-invisible')) {
            (0, _commerceUtils.showElement)(billingAddressWrapper);
        }
        if (!availableShippingMethods || availableShippingMethods.length < 1) {
            (0, _commerceUtils.hideElement)(shippingMethodsList);
            // TODO: remove this ugliness when we've properly constrained & restructured the checkout form
            // It is possible to remove the empty state so we can't return early, but don't want to crash here
            if (shippingMethodsEmpty instanceof Element) {
                (0, _commerceUtils.showElement)(shippingMethodsEmpty);
            }
        } else {
            // TODO remove after migration
            if (shippingMethodsEmpty instanceof Element) {
                (0, _commerceUtils.hideElement)(shippingMethodsEmpty);
            }
            (0, _commerceUtils.showElement)(shippingMethodsList);
        }
        if (isFreeOrder) {
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            (0, _commerceUtils.hideElement)(paymentInfoWrapper);
        } else if (!isFreeOrder && // @ts-expect-error - TS2339 - Property 'style' does not exist on type 'Element'.
        paymentInfoWrapper.style.getPropertyValue('display') === 'none') {
            // was previously hidden
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            (0, _commerceUtils.showElement)(paymentInfoWrapper);
        }
    } else {
        (0, _commerceUtils.hideElement)(shippingMethodsList);
        // TODO remove after migration
        if (shippingMethodsEmpty instanceof Element) {
            (0, _commerceUtils.showElement)(shippingMethodsEmpty);
        }
        // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
        (0, _commerceUtils.showElement)(paymentInfoWrapper);
    }
    if (data.errors.length === 0 && prevFocusedInput) {
        let prevFocusedInputEle = document.getElementById(prevFocusedInput);
        if (!prevFocusedInputEle) {
            prevFocusedInputEle = document.querySelector(`[data-wf-bindings="${prevFocusedInput}"]`);
        }
        if (prevFocusedInputEle) {
            prevFocusedInputEle.focus();
        }
    }
};
const runRenderOnCheckoutElement = (checkoutFormContainer, data, errors, stripeStore, prevFocusedInput)=>{
    renderCheckout(checkoutFormContainer, {
        ...data,
        errors: errors.concat(data.errors).filter(Boolean)
    }, prevFocusedInput);
    if (stripeStore) {
        (0, _webPaymentsEvents.updateWebPaymentsButton)(checkoutFormContainer, data, stripeStore);
    }
};
const renderCheckoutFormContainers = (checkoutFormContainers, errors, apolloClient, stripeStore, prevFocusedInput)=>{
    if (checkoutFormContainers.length === 0) {
        return;
    }
    checkoutFormContainers.forEach((checkoutFormContainer)=>{
        const queryOptions = {
            query: (0, _graphqltag.default)`
        ${checkoutFormContainer.getAttribute(_constants.CHECKOUT_QUERY)}
      `,
            fetchPolicy: 'network-only',
            // errorPolicy is set to `all` so that we continue to get the cart data when an error occurs
            // this is important in cases like when the address entered doesn't have a shipping zone, as that returns
            // a graphQL error, but we still want to render what the customer has entered
            errorPolicy: 'all'
        };
        apolloClient.query(queryOptions).then((data)=>{
            if (data.data && data.data.database && data.data.database.commerceOrder && data.data.database.commerceOrder.availableShippingMethods) {
                const { data: { database: { commerceOrder: { availableShippingMethods, statusFlags: { requiresShipping } } } } } = data;
                const selectedMethod = availableShippingMethods.find(// @ts-expect-error - TS7006 - Parameter 'method' implicitly has an 'any' type.
                (method)=>method.selected === true);
                if (!selectedMethod && requiresShipping) {
                    const id = availableShippingMethods[0] ? availableShippingMethods[0].id : null;
                    return createOrderShippingMethodMutation(apolloClient, id).then(()=>{
                        return createRecalcOrderEstimationsMutation(apolloClient);
                    }).then(()=>{
                        return apolloClient.query(queryOptions);
                    }).then((newData)=>{
                        runRenderOnCheckoutElement(checkoutFormContainer, newData, errors, stripeStore, prevFocusedInput);
                    });
                }
            }
            if (data.data && data.data.database && data.data.database.commerceOrder && data.data.database.commerceOrder.statusFlags && data.data.database.commerceOrder.statusFlags.shouldRecalc) {
                return createRecalcOrderEstimationsMutation(apolloClient).then(()=>{
                    return apolloClient.query(queryOptions);
                }).then((newData)=>{
                    runRenderOnCheckoutElement(checkoutFormContainer, newData, errors, stripeStore, prevFocusedInput);
                });
            } else {
                runRenderOnCheckoutElement(checkoutFormContainer, data, errors, stripeStore, prevFocusedInput);
            }
        }).catch((err)=>{
            errors.push(err);
            renderCheckout(checkoutFormContainer, {
                errors
            }, prevFocusedInput);
        });
    });
};
const createAttemptSubmitOrderRequest = (apolloClient, variables)=>{
    return apolloClient.mutate({
        mutation: _checkoutMutations.attemptSubmitOrderMutation,
        variables
    });
};
const getOrderDataFromGraphQLResponse = (data)=>{
    return data && data.data && data.data.ecommerceAttemptSubmitOrder;
};
const orderRequiresAdditionalAction = (status)=>status === _constants.REQUIRES_ACTION;
const redirectToOrderConfirmation = (order, isPayPal = false)=>{
    const redirectUrl = `/order-confirmation?orderId=${order.orderId}&token=${order.token}`;
    if (isPayPal) {
        const message = {
            isWebflow: true,
            type: 'success',
            detail: redirectUrl
        };
        window.parent.postMessage(JSON.stringify(message), window.location.origin);
    } else {
        window.location.href = redirectUrl;
    }
};
const applyDiscount = (apolloClient, variables)=>{
    return apolloClient.mutate({
        mutation: _checkoutMutations.applyDiscountMutation,
        variables
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrb3V0VXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyB3aW5kb3csIGRvY3VtZW50LCBIVE1MSW5wdXRFbGVtZW50ICovXG5pbXBvcnQge0Fwb2xsb0NsaWVudCwgTm9ybWFsaXplZENhY2hlT2JqZWN0fSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJztcbmltcG9ydCB7XG4gIHNhZmVQYXJzZUpzb24sXG4gIGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUsXG4gIGZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUsXG4gIGZpbmRFbGVtZW50QnlOb2RlVHlwZSxcbiAgc2hvd0VsZW1lbnQsXG4gIGhpZGVFbGVtZW50LFxufSBmcm9tICcuL2NvbW1lcmNlVXRpbHMnO1xuaW1wb3J0IFN0eWxlTWFwT2JzZXJ2ZXIsIHtBcHBsaWVkU3R5bGVzTWFwfSBmcm9tICcuLi9TdHlsZU1hcE9ic2VydmVyJztcbmltcG9ydCB7U3RyaXBlU3RvcmV9IGZyb20gJy4vc3RyaXBlU3RvcmUnO1xuaW1wb3J0IHtcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0VSUk9SX1NUQVRFLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVIsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX0xJU1QsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX0VNUFRZX1NUQVRFLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19aSVBfRklFTEQsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfV1JBUFBFUixcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19UT0dHTEVfQ0hFQ0tCT1gsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfWklQX0ZJRUxELFxuICBDSEVDS09VVF9FUlJPUlMsXG4gIENIRUNLT1VUX1FVRVJZLFxuICBTVFJJUEVfRUxFTUVOVF9JTlNUQU5DRSxcbiAgU1RSSVBFX0VMRU1FTlRfVFlQRSxcbiAgU1RSSVBFX0VMRU1FTlRfU1RZTEUsXG4gIGdldENoZWNrb3V0RXJyb3JNZXNzYWdlRm9yVHlwZSxcbiAgUkVRVUlSRVNfQUNUSU9OLFxuICBORUVEU19SRUZSRVNILFxuICBDQVJUX0NIRUNLT1VUX0VSUk9SX01FU1NBR0VfU0VMRUNUT1IsXG4gIFBBWVBBTF9FTEVNRU5UX0lOU1RBTkNFLFxuICBQQVlQQUxfQlVUVE9OX0VMRU1FTlRfSU5TVEFOQ0UsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5pbXBvcnQge3JlbmRlclRyZWV9IGZyb20gJy4vcmVuZGVyaW5nJztcbmltcG9ydCB7dXBkYXRlV2ViUGF5bWVudHNCdXR0b259IGZyb20gJy4vd2ViUGF5bWVudHNFdmVudHMnO1xuaW1wb3J0IHtcbiAgdXBkYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uLFxuICByZWNhbGNPcmRlckVzdGltYXRpb25zTXV0YXRpb24sXG4gIGF0dGVtcHRTdWJtaXRPcmRlck11dGF0aW9uLFxuICB1cGRhdGVPcmRlcklkZW50aXR5TXV0YXRpb24sXG4gIHVwZGF0ZU9yZGVyQWRkcmVzc011dGF0aW9uLFxuICB1cGRhdGVDdXN0b21EYXRhLFxuICB1cGRhdGVPcmRlclN0cmlwZVBheW1lbnRNZXRob2RNdXRhdGlvbixcbiAgdXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzc011dGF0aW9uLFxuICBhcHBseURpc2NvdW50TXV0YXRpb24sXG59IGZyb20gJy4vY2hlY2tvdXRNdXRhdGlvbnMnO1xuXG5pbnRlcmZhY2UgQmVmb3JlVW5sb2FkRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIHJldHVyblZhbHVlOiBhbnk7XG59XG5cbmNvbnN0IHN5bmNTdHlsZXNUb1N0cmlwZUVsZW1lbnQgPVxuICAoc3RyaXBlRWxlbWVudDogYW55KSA9PiAoYXBwbGllZFN0eWxlczogdW5kZWZpbmVkIHwgQXBwbGllZFN0eWxlc01hcCkgPT4ge1xuICAgIHN0cmlwZUVsZW1lbnQudXBkYXRlKHtcbiAgICAgIHN0eWxlOiBTdHlsZU1hcE9ic2VydmVyLmFwcGxpZWRTdHlsZXNUb1N0cmlwZUVsZW1lbnRTdHlsZXMoYXBwbGllZFN0eWxlcyksXG4gICAgfSk7XG4gIH07XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplU3RyaXBlRWxlbWVudHMgPSAoc3RvcmU6IFN0cmlwZVN0b3JlKSA9PiB7XG4gIGlmIChcbiAgICB3aW5kb3cuV2ViZmxvdy5lbnYoJ2Rlc2lnbicpIHx8XG4gICAgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykgfHxcbiAgICAhc3RvcmUuaXNJbml0aWFsaXplZCgpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMgPSBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUlxuICApO1xuICBjb25zdCBjYXJ0V3JhcHBlcnMgPSBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVJcbiAgKTtcblxuICBjb25zdCBhbGxTdHJpcGVFbGVtZW50cyA9IFsuLi5jaGVja291dEZvcm1Db250YWluZXJzLCAuLi5jYXJ0V3JhcHBlcnNdO1xuXG4gIGFsbFN0cmlwZUVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgc3RvcmUuY3JlYXRlRWxlbWVudHNJbnN0YW5jZShpbmRleCk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoU1RSSVBFX0VMRU1FTlRfSU5TVEFOQ0UsIFN0cmluZyhpbmRleCkpO1xuICB9KTtcblxuICBjb25zdCBzdHJpcGVFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske1NUUklQRV9FTEVNRU5UX1RZUEV9XWApO1xuXG4gIEFycmF5LmZyb20oc3RyaXBlRWxlbWVudHMpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB0eXBlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoU1RSSVBFX0VMRU1FTlRfVFlQRSk7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmlwZSBlbGVtZW50IG1pc3NpbmcgdHlwZSBzdHJpbmcnKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja291dEZvcm1Db250YWluZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSLFxuICAgICAgZWxlbWVudFxuICAgICk7XG4gICAgaWYgKCFjaGVja291dEZvcm1Db250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZyB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdzdHJpbmcnLlxuICAgICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyLmdldEF0dHJpYnV0ZShTVFJJUEVfRUxFTUVOVF9JTlNUQU5DRSksXG4gICAgICAxMFxuICAgICk7XG5cbiAgICBjb25zdCBlbCA9IHN0b3JlLmNyZWF0ZUVsZW1lbnQodHlwZSwgaW5kZXgsIHtcbiAgICAgIHN0eWxlOiBzYWZlUGFyc2VKc29uKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFNUUklQRV9FTEVNRU5UX1NUWUxFKSB8fCAne30nKSxcbiAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgZm9jdXM6ICctd2ZwLWZvY3VzJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgZWwubW91bnQoZWxlbWVudCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVudXNlZC1pbXBvcnRzL25vLXVudXNlZC12YXJzLCB1bnVzZWQtaW1wb3J0cy9uby11bnVzZWQtdmFyc1xuICAgIGNvbnN0IHN0eWxlTWFwT2JzZXJ2ZXIgPSBuZXcgU3R5bGVNYXBPYnNlcnZlcihlbGVtZW50LCB7XG4gICAgICBvbkNoYW5nZTogc3luY1N0eWxlc1RvU3RyaXBlRWxlbWVudChlbCksXG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgZXJyb3JDb2RlVG9DaGVja291dEVycm9yVHlwZSA9IChjb2RlPzogc3RyaW5nLCBtc2c/OiBzdHJpbmcpID0+IHtcbiAgc3dpdGNoIChjb2RlKSB7XG4gICAgY2FzZSAnT3JkZXJUb3RhbFJhbmdlJzpcbiAgICAgIGlmIChtc2cgJiYgbXNnLm1hdGNoKC90b28gc21hbGwvaSkpIHtcbiAgICAgICAgcmV0dXJuICdtaW5pbXVtJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnaW5mbyc7XG4gICAgICB9XG4gICAgY2FzZSAnT3JkZXJFeHRyYXNDaGFuZ2VkJzpcbiAgICAgIHJldHVybiAnZXh0cmFzJztcbiAgICBjYXNlICdQcmljZUNoYW5nZWQnOlxuICAgICAgcmV0dXJuICdwcmljaW5nJztcbiAgICBjYXNlICdTdHJpcGVSZWplY3RlZCc6XG4gICAgICByZXR1cm4gJ2JpbGxpbmcnO1xuICAgIGNhc2UgJ05lZWRTaGlwcGluZ0FkZHJlc3MnOlxuICAgIGNhc2UgJ0ludmFsaWRTaGlwcGluZ0FkZHJlc3MnOlxuICAgIGNhc2UgJ05lZWRTaGlwcGluZ01ldGhvZCc6XG4gICAgICByZXR1cm4gJ3NoaXBwaW5nJztcbiAgICBjYXNlICdOZWVkUGF5bWVudE1ldGhvZCc6XG4gICAgY2FzZSAnU3RyaXBlRmFpbHVyZSc6XG4gICAgICByZXR1cm4gJ3BheW1lbnQnO1xuICAgIGNhc2UgJ0l0ZW1Ob3RGb3VuZCc6XG4gICAgICByZXR1cm4gJ3Byb2R1Y3QnO1xuICAgIC8vICdJbnZhbGlkRGlzY291bnQnIGhhcyBiZWVuIHJlbmFtZWQgdG8gJ0Rpc2NvdW50SW52YWxpZCcsIGJ1dCBpdCBuZWVkc1xuICAgIC8vIHRvIGJlIGxpc3RlZCBoZXJlIHRvIHN1cHBvcnQgc2l0ZXMgdGhhdCBoYXZlbid0IGJlZW4gcHVibGlzaGVkIHNpbmNlIHRoaXMgY2hhbmdlLlxuICAgIGNhc2UgJ0ludmFsaWREaXNjb3VudCc6XG4gICAgY2FzZSAnRGlzY291bnRJbnZhbGlkJzpcbiAgICBjYXNlICdEaXNjb3VudERvZXNOb3RFeGlzdCc6IHtcbiAgICAgIHJldHVybiAnaW52YWxpZC1kaXNjb3VudCc7XG4gICAgfVxuICAgIGNhc2UgJ0Rpc2NvdW50RXhwaXJlZCc6IHtcbiAgICAgIHJldHVybiAnZXhwaXJlZC1kaXNjb3VudCc7XG4gICAgfVxuICAgIGNhc2UgJ0Rpc2NvdW50VXNhZ2VSZWFjaGVkJzoge1xuICAgICAgcmV0dXJuICd1c2FnZS1yZWFjaGVkLWRpc2NvdW50JztcbiAgICB9XG4gICAgY2FzZSAnRGlzY291bnRSZXF1aXJlbWVudHNOb3RNZXQnOiB7XG4gICAgICByZXR1cm4gJ3JlcXVpcmVtZW50cy1ub3QtbWV0JztcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnaW5mbyc7XG4gIH1cbn07XG5cbmNvbnN0IGdldEVycm9yVHlwZSA9IChlcnJvcjogUmVjb3JkPGFueSwgYW55PikgPT4ge1xuICBpZiAoZXJyb3IuZ3JhcGhRTEVycm9ycyAmJiBlcnJvci5ncmFwaFFMRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gZXJyb3JDb2RlVG9DaGVja291dEVycm9yVHlwZShcbiAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnNbMF0uZXh0ZW5zaW9ucz8uY29kZSxcbiAgICAgIGVycm9yLmdyYXBoUUxFcnJvcnNbMF0ubWVzc2FnZVxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IuY29kZSkge1xuICAgIHJldHVybiBlcnJvckNvZGVUb0NoZWNrb3V0RXJyb3JUeXBlKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuICdpbmZvJztcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVFcnJvck1lc3NhZ2UgPSAoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGVycm9yOiBSZWNvcmQ8YW55LCBhbnk+XG4pID0+IHtcbiAgY29uc3QgZXJyb3JUZXh0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKENBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUik7XG4gIGlmICghZXJyb3JUZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSGFuZGxlIFN0cmlwZS5qcyBjbGllbnQtc2lkZSBlcnJvcnMuIFdlIHVzZSBTdHJpcGUuanMncyBlcnJvciBtZXNzYWdlXG4gIC8vIGFzIHRoaXMgZXJyb3IgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHRoZSB1c2VyIGZvcmdvdCB0byBlbnRlciBwYXJ0IG9mXG4gIC8vIHRoZWlyIENDLCBvciBlbnRlcmVkIGludmFsaWQgZGF0YS4gVGhlIG1vcmUgc3BlY2lmaWMgdGhlIGVycm9yLCB0aGUgbW9yZVxuICAvLyBoZWxwZnVsIGl0IHdpbGwgYmUgZm9yIHRoZSB1c2VyLlxuICBpZiAoZXJyb3IudHlwZSAmJiBlcnJvci50eXBlID09PSAndmFsaWRhdGlvbl9lcnJvcicpIHtcbiAgICBlcnJvclRleHQudGV4dENvbnRlbnQgPSBlcnJvci5tZXNzYWdlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGVycm9yVHlwZSA9IGdldEVycm9yVHlwZShlcnJvcik7XG5cbiAgLy8gR2V0IHRoZSBkZWZhdWx0IGVycm9yIG1lc3NhZ2UgaW5jYXNlIHRoZSBub2RlIGRvZXMgbm90IGhhdmUgdGhlIGVycm9yIGF0dHJpYnV0ZSB5ZXQuXG4gIGNvbnN0IGVycm9yRGF0YSA9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICd7Li4ufSdcbiAgICBDSEVDS09VVF9FUlJPUlNbZXJyb3JUeXBlLnRvVXBwZXJDYXNlKCkucmVwbGFjZSgvXFxXL2csICdfJyldIHx8IHt9O1xuICBjb25zdCBkZWZhdWx0RXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmNvcHk7XG5cbiAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICBlcnJvclRleHQuZ2V0QXR0cmlidXRlKGdldENoZWNrb3V0RXJyb3JNZXNzYWdlRm9yVHlwZShlcnJvclR5cGUpKSB8fFxuICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U7XG5cbiAgZXJyb3JUZXh0LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuXG4gIGlmIChlcnJvckRhdGEucmVxdWlyZXNSZWZyZXNoKSB7XG4gICAgZXJyb3JUZXh0LnNldEF0dHJpYnV0ZShORUVEU19SRUZSRVNILCAndHJ1ZScpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yVGV4dC5yZW1vdmVBdHRyaWJ1dGUoTkVFRFNfUkVGUkVTSCk7XG4gIH1cblxuICBpZiAoZXJyb3JUeXBlID09PSAnc2hpcHBpbmcnKSB7XG4gICAgdXBkYXRlUmVxdWlyZWRGaWVsZHMoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBlbGVtZW50TmFtZUJ5R3JhcGhRTEVycm9yID0ge1xuICBNSVNTSU5HX1NUQVRFOiAnYWRkcmVzc19zdGF0ZScsXG59IGFzIGNvbnN0O1xuXG5jb25zdCB1cGRhdGVSZXF1aXJlZEZpZWxkcyA9IChlcnJvcjogYW55KSA9PiB7XG4gIGlmICghZXJyb3IuZ3JhcGhRTEVycm9ycyB8fCBlcnJvci5ncmFwaFFMRXJyb3JzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGludmFsaWRTaGlwcGluZ0FkZHJlc3NFcnJvciA9IGVycm9yLmdyYXBoUUxFcnJvcnMuZmluZChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdncWxFcnJvcicgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAoZ3FsRXJyb3IpID0+IGdxbEVycm9yLmNvZGUgPT09ICdJbnZhbGlkU2hpcHBpbmdBZGRyZXNzJ1xuICApO1xuXG4gIGlmICghaW52YWxpZFNoaXBwaW5nQWRkcmVzc0Vycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAncHJvYmxlbScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgaW52YWxpZFNoaXBwaW5nQWRkcmVzc0Vycm9yLnByb2JsZW1zLmZvckVhY2goKHByb2JsZW0pID0+IHtcbiAgICBjb25zdCB7dHlwZX0gPSBwcm9ibGVtO1xuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnYW55JyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ3sgcmVhZG9ubHkgTUlTU0lOR19TVEFURTogXCJhZGRyZXNzX3N0YXRlXCI7IH0nLlxuICAgIGNvbnN0IGVsZW1lbnROYW1lID0gZWxlbWVudE5hbWVCeUdyYXBoUUxFcnJvclt0eXBlXTtcblxuICAgIGlmICghZWxlbWVudE5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoZWxlbWVudE5hbWUpWzBdO1xuXG4gICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxlbWVudC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgcmVwb3J0VmFsaWRpdHkgQVBJXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50LnJlcG9ydFZhbGlkaXR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBlbGVtZW50LnJlcG9ydFZhbGlkaXR5KCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IgPSAoXG4gIGVycjogRXJyb3IsXG4gIHNjb3BlPzogRWxlbWVudCB8IERvY3VtZW50XG4pID0+IHtcbiAgY29uc3QgZXJyb3JTdGF0ZSA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRVJST1JfU1RBVEUsXG4gICAgc2NvcGVcbiAgKTtcbiAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICBlcnJvclN0YXRlLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgdXBkYXRlRXJyb3JNZXNzYWdlKGVycm9yU3RhdGUsIGVycik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBiZWZvcmVVbmxvYWRIYW5kbGVyID0gKGU6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgZS5yZXR1cm5WYWx1ZSA9ICcnO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVySWRlbnRpdHlNdXRhdGlvbiA9IChcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgZW1haWw6IHN0cmluZyB8IG51bGxcbikgPT5cbiAgYXBvbGxvQ2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IHVwZGF0ZU9yZGVySWRlbnRpdHlNdXRhdGlvbixcbiAgICB2YXJpYWJsZXM6IHtlbWFpbH0sXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlT3JkZXJBZGRyZXNzTXV0YXRpb24gPSAoXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4sXG4gIGFkZHJlc3NJbmZvOiBSZWNvcmQ8YW55LCBhbnk+XG4pID0+XG4gIGFwb2xsb0NsaWVudC5tdXRhdGUoe1xuICAgIG11dGF0aW9uOiB1cGRhdGVPcmRlckFkZHJlc3NNdXRhdGlvbixcbiAgICB2YXJpYWJsZXM6IGFkZHJlc3NJbmZvLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbiA9IChcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgaWQ6IHN0cmluZyB8IG51bGxcbikgPT5cbiAgYXBvbGxvQ2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IHVwZGF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbixcbiAgICB2YXJpYWJsZXM6IHtpZH0sXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tRGF0YU11dGF0aW9uID0gKFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBjdXN0b21EYXRhOiBbXVxuKSA9PlxuICBhcG9sbG9DbGllbnQubXV0YXRlKHtcbiAgICBtdXRhdGlvbjogdXBkYXRlQ3VzdG9tRGF0YSxcbiAgICB2YXJpYWJsZXM6IHtjdXN0b21EYXRhfSxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdHJpcGVQYXltZW50TWV0aG9kTXV0YXRpb24gPSAoXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4sXG4gIGlkOiBzdHJpbmdcbikgPT5cbiAgYXBvbGxvQ2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IHVwZGF0ZU9yZGVyU3RyaXBlUGF5bWVudE1ldGhvZE11dGF0aW9uLFxuICAgIHZhcmlhYmxlczoge1xuICAgICAgcGF5bWVudE1ldGhvZDogaWQsXG4gICAgfSxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZWNhbGNPcmRlckVzdGltYXRpb25zTXV0YXRpb24gPSAoXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD5cbikgPT5cbiAgYXBvbGxvQ2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IHJlY2FsY09yZGVyRXN0aW1hdGlvbnNNdXRhdGlvbixcbiAgICBlcnJvclBvbGljeTogJ2lnbm9yZScsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzc011dGF0aW9uID0gKFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBhZGRyZXNzSW5mbzogUmVjb3JkPGFueSwgYW55PlxuKSA9PlxuICBhcG9sbG9DbGllbnQubXV0YXRlKHtcbiAgICBtdXRhdGlvbjogdXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzc011dGF0aW9uLFxuICAgIHZhcmlhYmxlczogYWRkcmVzc0luZm8sXG4gIH0pO1xuXG5jb25zdCByZW5kZXJDaGVja291dCA9IChcbiAgY2hlY2tvdXQ6IEVsZW1lbnQsXG4gIGRhdGE6IFJlY29yZDxhbnksIGFueT4sXG4gIHByZXZGb2N1c2VkSW5wdXQ6IHN0cmluZyB8IG51bGxcbikgPT4ge1xuICByZW5kZXJUcmVlKGNoZWNrb3V0LCBkYXRhKTtcblxuICBjb25zdCBzaGlwcGluZ01ldGhvZHNMaXN0ID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX0xJU1QsXG4gICAgY2hlY2tvdXRcbiAgKTtcbiAgY29uc3Qgc2hpcHBpbmdNZXRob2RzRW1wdHkgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1NISVBQSU5HX01FVEhPRFNfRU1QVFlfU1RBVEUsXG4gICAgY2hlY2tvdXRcbiAgKTtcbiAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzV3JhcHBlciA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSLFxuICAgIGNoZWNrb3V0XG4gICk7XG4gIGNvbnN0IGJpbGxpbmdBZGRyZXNzV3JhcHBlciA9IGZpbmRFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1dSQVBQRVIsXG4gICAgY2hlY2tvdXRcbiAgKTtcbiAgY29uc3QgYmlsbGluZ0FkZHJlc3NUb2dnbGUgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19UT0dHTEVfQ0hFQ0tCT1gsXG4gICAgY2hlY2tvdXRcbiAgKTtcbiAgY29uc3QgcGF5bWVudEluZm9XcmFwcGVyID0gY2hlY2tvdXQucXVlcnlTZWxlY3RvcihcbiAgICAnLnctY29tbWVyY2UtY29tbWVyY2VjaGVja291dHBheW1lbnRpbmZvd3JhcHBlcidcbiAgKTtcbiAgaWYgKFxuICAgICEoc2hpcHBpbmdNZXRob2RzTGlzdCBpbnN0YW5jZW9mIEVsZW1lbnQpIHx8XG4gICAgIShzaGlwcGluZ0FkZHJlc3NXcmFwcGVyIGluc3RhbmNlb2YgRWxlbWVudCkgfHxcbiAgICAhKGJpbGxpbmdBZGRyZXNzV3JhcHBlciBpbnN0YW5jZW9mIEVsZW1lbnQpIHx8XG4gICAgIShiaWxsaW5nQWRkcmVzc1RvZ2dsZSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHx8XG4gICAgIShwYXltZW50SW5mb1dyYXBwZXIgaW5zdGFuY2VvZiBFbGVtZW50KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5kYXRhYmFzZSAmJiBkYXRhLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlcikge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZGF0YWJhc2U6IHtcbiAgICAgICAgICBjb21tZXJjZU9yZGVyOiB7XG4gICAgICAgICAgICBhdmFpbGFibGVTaGlwcGluZ01ldGhvZHMsXG4gICAgICAgICAgICBzdGF0dXNGbGFnczoge1xuICAgICAgICAgICAgICByZXF1aXJlc1NoaXBwaW5nLFxuICAgICAgICAgICAgICBpc0ZyZWVPcmRlcixcbiAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZXNQb3N0YWxDb2RlLFxuICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVzUG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgaGFzU3Vic2NyaXB0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9ID0gZGF0YTtcblxuICAgIGNvbnN0IHNoaXBwaW5nWmlwRmllbGQgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19aSVBfRklFTEQsXG4gICAgICBzaGlwcGluZ0FkZHJlc3NXcmFwcGVyXG4gICAgKTtcbiAgICBpZiAoc2hpcHBpbmdaaXBGaWVsZCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgIHNoaXBwaW5nWmlwRmllbGQucmVxdWlyZWQgPSBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlc1Bvc3RhbENvZGU7XG4gICAgfVxuXG4gICAgY29uc3QgYmlsbGluZ1ppcEZpZWxkID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19aSVBfRklFTEQsXG4gICAgICBiaWxsaW5nQWRkcmVzc1dyYXBwZXJcbiAgICApO1xuICAgIGlmIChiaWxsaW5nWmlwRmllbGQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICBiaWxsaW5nWmlwRmllbGQucmVxdWlyZWQgPSBiaWxsaW5nQWRkcmVzc1JlcXVpcmVzUG9zdGFsQ29kZTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXlwYWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbJHtQQVlQQUxfRUxFTUVOVF9JTlNUQU5DRX1dYFxuICAgICk7XG4gICAgY29uc3QgcGF5cGFsQnV0dG9uID0gY2hlY2tvdXQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbJHtQQVlQQUxfQlVUVE9OX0VMRU1FTlRfSU5TVEFOQ0V9XWBcbiAgICApO1xuICAgIGlmIChwYXlwYWxFbGVtZW50ICYmIHBheXBhbEJ1dHRvbikge1xuICAgICAgaWYgKGlzRnJlZU9yZGVyIHx8IGhhc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICAgICAgaGlkZUVsZW1lbnQocGF5cGFsQnV0dG9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgICBzaG93RWxlbWVudChwYXlwYWxCdXR0b24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVkZ2UgY2FzZTogbmVlZCB0byBtYWtlIHN1cmUgaWYgYmlsbGluZyBhZGRyZXNzIGlzIGhpZGRlbiBiZWNhdXNlIG9mIGRlZmF1bHQgXCJzYW1lIGFzIHNoaXBwaW5nXCIgY2hlY2tlZCwgYnV0XG4gICAgLy8gdG9nZ2xlIGl0c2VsZiBpcyBoaWRkZW4gYmVjYXVzZSBkb2Vzbid0IHJlcXVpcmUgc2hpcHBpbmcsIHRoZSBiaWxsaW5nIGFkZHJlc3MgaXMgc3RpbGwgdmlzaWJsZVxuICAgIGlmIChcbiAgICAgICFyZXF1aXJlc1NoaXBwaW5nICYmXG4gICAgICBiaWxsaW5nQWRkcmVzc1RvZ2dsZS5jaGVja2VkICYmXG4gICAgICBiaWxsaW5nQWRkcmVzc1RvZ2dsZS5wYXJlbnRFbGVtZW50ICYmXG4gICAgICBiaWxsaW5nQWRkcmVzc1RvZ2dsZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcbiAgICAgICAgJ3ctY29uZGl0aW9uLWludmlzaWJsZSdcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHNob3dFbGVtZW50KGJpbGxpbmdBZGRyZXNzV3JhcHBlcik7XG4gICAgfVxuICAgIGlmICghYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzIHx8IGF2YWlsYWJsZVNoaXBwaW5nTWV0aG9kcy5sZW5ndGggPCAxKSB7XG4gICAgICBoaWRlRWxlbWVudChzaGlwcGluZ01ldGhvZHNMaXN0KTtcbiAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIHVnbGluZXNzIHdoZW4gd2UndmUgcHJvcGVybHkgY29uc3RyYWluZWQgJiByZXN0cnVjdHVyZWQgdGhlIGNoZWNrb3V0IGZvcm1cbiAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIHJlbW92ZSB0aGUgZW1wdHkgc3RhdGUgc28gd2UgY2FuJ3QgcmV0dXJuIGVhcmx5LCBidXQgZG9uJ3Qgd2FudCB0byBjcmFzaCBoZXJlXG4gICAgICBpZiAoc2hpcHBpbmdNZXRob2RzRW1wdHkgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIHNob3dFbGVtZW50KHNoaXBwaW5nTWV0aG9kc0VtcHR5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyByZW1vdmUgYWZ0ZXIgbWlncmF0aW9uXG4gICAgICBpZiAoc2hpcHBpbmdNZXRob2RzRW1wdHkgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIGhpZGVFbGVtZW50KHNoaXBwaW5nTWV0aG9kc0VtcHR5KTtcbiAgICAgIH1cbiAgICAgIHNob3dFbGVtZW50KHNoaXBwaW5nTWV0aG9kc0xpc3QpO1xuICAgIH1cblxuICAgIGlmIChpc0ZyZWVPcmRlcikge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCcuXG4gICAgICBoaWRlRWxlbWVudChwYXltZW50SW5mb1dyYXBwZXIpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAhaXNGcmVlT3JkZXIgJiZcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnc3R5bGUnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0VsZW1lbnQnLlxuICAgICAgcGF5bWVudEluZm9XcmFwcGVyLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnXG4gICAgKSB7XG4gICAgICAvLyB3YXMgcHJldmlvdXNseSBoaWRkZW5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgc2hvd0VsZW1lbnQocGF5bWVudEluZm9XcmFwcGVyKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaGlkZUVsZW1lbnQoc2hpcHBpbmdNZXRob2RzTGlzdCk7XG4gICAgLy8gVE9ETyByZW1vdmUgYWZ0ZXIgbWlncmF0aW9uXG4gICAgaWYgKHNoaXBwaW5nTWV0aG9kc0VtcHR5IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgc2hvd0VsZW1lbnQoc2hpcHBpbmdNZXRob2RzRW1wdHkpO1xuICAgIH1cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICBzaG93RWxlbWVudChwYXltZW50SW5mb1dyYXBwZXIpO1xuICB9XG5cbiAgaWYgKGRhdGEuZXJyb3JzLmxlbmd0aCA9PT0gMCAmJiBwcmV2Rm9jdXNlZElucHV0KSB7XG4gICAgbGV0IHByZXZGb2N1c2VkSW5wdXRFbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2Rm9jdXNlZElucHV0KTtcbiAgICBpZiAoIXByZXZGb2N1c2VkSW5wdXRFbGUpIHtcbiAgICAgIHByZXZGb2N1c2VkSW5wdXRFbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgW2RhdGEtd2YtYmluZGluZ3M9XCIke3ByZXZGb2N1c2VkSW5wdXR9XCJdYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHByZXZGb2N1c2VkSW5wdXRFbGUpIHtcbiAgICAgIHByZXZGb2N1c2VkSW5wdXRFbGUuZm9jdXMoKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHJ1blJlbmRlck9uQ2hlY2tvdXRFbGVtZW50ID0gKFxuICBjaGVja291dEZvcm1Db250YWluZXI6IEVsZW1lbnQsXG4gIGRhdGE6IFJlY29yZDxhbnksIGFueT4sXG4gIGVycm9yczogQXJyYXk8YW55PixcbiAgc3RyaXBlU3RvcmU6IFN0cmlwZVN0b3JlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgcHJldkZvY3VzZWRJbnB1dDogc3RyaW5nIHwgbnVsbFxuKSA9PiB7XG4gIHJlbmRlckNoZWNrb3V0KFxuICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lcixcbiAgICB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgZXJyb3JzOiBlcnJvcnMuY29uY2F0KGRhdGEuZXJyb3JzKS5maWx0ZXIoQm9vbGVhbiksXG4gICAgfSxcbiAgICBwcmV2Rm9jdXNlZElucHV0XG4gICk7XG5cbiAgaWYgKHN0cmlwZVN0b3JlKSB7XG4gICAgdXBkYXRlV2ViUGF5bWVudHNCdXR0b24oY2hlY2tvdXRGb3JtQ29udGFpbmVyLCBkYXRhLCBzdHJpcGVTdG9yZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJDaGVja291dEZvcm1Db250YWluZXJzID0gKFxuICBjaGVja291dEZvcm1Db250YWluZXJzOiBBcnJheTxIVE1MRWxlbWVudD4sXG4gIGVycm9yczogQXJyYXk8YW55PixcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgc3RyaXBlU3RvcmU6IFN0cmlwZVN0b3JlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgcHJldkZvY3VzZWRJbnB1dDogc3RyaW5nIHwgbnVsbFxuKSA9PiB7XG4gIGlmIChjaGVja291dEZvcm1Db250YWluZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMuZm9yRWFjaCgoY2hlY2tvdXRGb3JtQ29udGFpbmVyKSA9PiB7XG4gICAgY29uc3QgcXVlcnlPcHRpb25zID0ge1xuICAgICAgcXVlcnk6IGdxbGBcbiAgICAgICAgJHtjaGVja291dEZvcm1Db250YWluZXIuZ2V0QXR0cmlidXRlKENIRUNLT1VUX1FVRVJZKX1cbiAgICAgIGAsXG4gICAgICBmZXRjaFBvbGljeTogJ25ldHdvcmstb25seScsXG4gICAgICAvLyBlcnJvclBvbGljeSBpcyBzZXQgdG8gYGFsbGAgc28gdGhhdCB3ZSBjb250aW51ZSB0byBnZXQgdGhlIGNhcnQgZGF0YSB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgLy8gdGhpcyBpcyBpbXBvcnRhbnQgaW4gY2FzZXMgbGlrZSB3aGVuIHRoZSBhZGRyZXNzIGVudGVyZWQgZG9lc24ndCBoYXZlIGEgc2hpcHBpbmcgem9uZSwgYXMgdGhhdCByZXR1cm5zXG4gICAgICAvLyBhIGdyYXBoUUwgZXJyb3IsIGJ1dCB3ZSBzdGlsbCB3YW50IHRvIHJlbmRlciB3aGF0IHRoZSBjdXN0b21lciBoYXMgZW50ZXJlZFxuICAgICAgZXJyb3JQb2xpY3k6ICdhbGwnLFxuICAgIH0gYXMgY29uc3Q7XG4gICAgYXBvbGxvQ2xpZW50XG4gICAgICAucXVlcnkocXVlcnlPcHRpb25zKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRhdGEuZGF0YSAmJlxuICAgICAgICAgIGRhdGEuZGF0YS5kYXRhYmFzZSAmJlxuICAgICAgICAgIGRhdGEuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyICYmXG4gICAgICAgICAgZGF0YS5kYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIuYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZGF0YWJhc2U6IHtcbiAgICAgICAgICAgICAgICBjb21tZXJjZU9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICBhdmFpbGFibGVTaGlwcGluZ01ldGhvZHMsXG4gICAgICAgICAgICAgICAgICBzdGF0dXNGbGFnczoge3JlcXVpcmVzU2hpcHBpbmd9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0gPSBkYXRhO1xuXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRNZXRob2QgPSBhdmFpbGFibGVTaGlwcGluZ01ldGhvZHMuZmluZChcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ21ldGhvZCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgICAgICAgIChtZXRob2QpID0+IG1ldGhvZC5zZWxlY3RlZCA9PT0gdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFzZWxlY3RlZE1ldGhvZCAmJiByZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGF2YWlsYWJsZVNoaXBwaW5nTWV0aG9kc1swXVxuICAgICAgICAgICAgICA/IGF2YWlsYWJsZVNoaXBwaW5nTWV0aG9kc1swXS5pZFxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uKGFwb2xsb0NsaWVudCwgaWQpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjYWxjT3JkZXJFc3RpbWF0aW9uc011dGF0aW9uKGFwb2xsb0NsaWVudCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBvbGxvQ2xpZW50LnF1ZXJ5KHF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgLnRoZW4oKG5ld0RhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBydW5SZW5kZXJPbkNoZWNrb3V0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgIG5ld0RhdGEsXG4gICAgICAgICAgICAgICAgICBlcnJvcnMsXG4gICAgICAgICAgICAgICAgICBzdHJpcGVTdG9yZSxcbiAgICAgICAgICAgICAgICAgIHByZXZGb2N1c2VkSW5wdXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRhdGEuZGF0YSAmJlxuICAgICAgICAgIGRhdGEuZGF0YS5kYXRhYmFzZSAmJlxuICAgICAgICAgIGRhdGEuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyICYmXG4gICAgICAgICAgZGF0YS5kYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIuc3RhdHVzRmxhZ3MgJiZcbiAgICAgICAgICBkYXRhLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlci5zdGF0dXNGbGFncy5zaG91bGRSZWNhbGNcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY2FsY09yZGVyRXN0aW1hdGlvbnNNdXRhdGlvbihhcG9sbG9DbGllbnQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBhcG9sbG9DbGllbnQucXVlcnkocXVlcnlPcHRpb25zKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC50aGVuKChuZXdEYXRhKSA9PiB7XG4gICAgICAgICAgICAgIHJ1blJlbmRlck9uQ2hlY2tvdXRFbGVtZW50KFxuICAgICAgICAgICAgICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBuZXdEYXRhLFxuICAgICAgICAgICAgICAgIGVycm9ycyxcbiAgICAgICAgICAgICAgICBzdHJpcGVTdG9yZSxcbiAgICAgICAgICAgICAgICBwcmV2Rm9jdXNlZElucHV0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBydW5SZW5kZXJPbkNoZWNrb3V0RWxlbWVudChcbiAgICAgICAgICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lcixcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBlcnJvcnMsXG4gICAgICAgICAgICBzdHJpcGVTdG9yZSxcbiAgICAgICAgICAgIHByZXZGb2N1c2VkSW5wdXRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgcmVuZGVyQ2hlY2tvdXQoY2hlY2tvdXRGb3JtQ29udGFpbmVyLCB7ZXJyb3JzfSwgcHJldkZvY3VzZWRJbnB1dCk7XG4gICAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQXR0ZW1wdFN1Ym1pdE9yZGVyUmVxdWVzdCA9IChcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgdmFyaWFibGVzOiB7XG4gICAgY2hlY2tvdXRUeXBlOiBzdHJpbmc7XG4gICAgcGF5bWVudEludGVudElkPzogc3RyaW5nO1xuICB9XG4pID0+IHtcbiAgcmV0dXJuIGFwb2xsb0NsaWVudC5tdXRhdGUoe1xuICAgIG11dGF0aW9uOiBhdHRlbXB0U3VibWl0T3JkZXJNdXRhdGlvbixcbiAgICB2YXJpYWJsZXMsXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9yZGVyRGF0YUZyb21HcmFwaFFMUmVzcG9uc2UgPSAoZGF0YTogUmVjb3JkPGFueSwgYW55PikgPT4ge1xuICByZXR1cm4gZGF0YSAmJiBkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmVjb21tZXJjZUF0dGVtcHRTdWJtaXRPcmRlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBvcmRlclJlcXVpcmVzQWRkaXRpb25hbEFjdGlvbiA9IChzdGF0dXM6IHN0cmluZykgPT5cbiAgc3RhdHVzID09PSBSRVFVSVJFU19BQ1RJT047XG5cbmV4cG9ydCBjb25zdCByZWRpcmVjdFRvT3JkZXJDb25maXJtYXRpb24gPSAoXG4gIG9yZGVyOiBSZWNvcmQ8YW55LCBhbnk+LFxuICBpc1BheVBhbDogYm9vbGVhbiA9IGZhbHNlXG4pID0+IHtcbiAgY29uc3QgcmVkaXJlY3RVcmwgPSBgL29yZGVyLWNvbmZpcm1hdGlvbj9vcmRlcklkPSR7b3JkZXIub3JkZXJJZH0mdG9rZW49JHtvcmRlci50b2tlbn1gO1xuICBpZiAoaXNQYXlQYWwpIHtcbiAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgaXNXZWJmbG93OiB0cnVlLFxuICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgZGV0YWlsOiByZWRpcmVjdFVybCxcbiAgICB9IGFzIGNvbnN0O1xuICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVkaXJlY3RVcmw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseURpc2NvdW50ID0gKFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICB2YXJpYWJsZXM6IHtcbiAgICBkaXNjb3VudENvZGU6IHN0cmluZztcbiAgfVxuKSA9PiB7XG4gIHJldHVybiBhcG9sbG9DbGllbnQubXV0YXRlKHtcbiAgICBtdXRhdGlvbjogYXBwbHlEaXNjb3VudE11dGF0aW9uLFxuICAgIHZhcmlhYmxlcyxcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbImFwcGx5RGlzY291bnQiLCJiZWZvcmVVbmxvYWRIYW5kbGVyIiwiY3JlYXRlQXR0ZW1wdFN1Ym1pdE9yZGVyUmVxdWVzdCIsImNyZWF0ZUN1c3RvbURhdGFNdXRhdGlvbiIsImNyZWF0ZU9yZGVyQWRkcmVzc011dGF0aW9uIiwiY3JlYXRlT3JkZXJJZGVudGl0eU11dGF0aW9uIiwiY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uIiwiY3JlYXRlUmVjYWxjT3JkZXJFc3RpbWF0aW9uc011dGF0aW9uIiwiY3JlYXRlU3RyaXBlUGF5bWVudE1ldGhvZE11dGF0aW9uIiwiY3JlYXRlVXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzc011dGF0aW9uIiwiZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZSIsImluaXRpYWxpemVTdHJpcGVFbGVtZW50cyIsIm9yZGVyUmVxdWlyZXNBZGRpdGlvbmFsQWN0aW9uIiwicmVkaXJlY3RUb09yZGVyQ29uZmlybWF0aW9uIiwicmVuZGVyQ2hlY2tvdXRGb3JtQ29udGFpbmVycyIsInNob3dFcnJvck1lc3NhZ2VGb3JFcnJvciIsInVwZGF0ZUVycm9yTWVzc2FnZSIsInN5bmNTdHlsZXNUb1N0cmlwZUVsZW1lbnQiLCJzdHJpcGVFbGVtZW50IiwiYXBwbGllZFN0eWxlcyIsInVwZGF0ZSIsInN0eWxlIiwiU3R5bGVNYXBPYnNlcnZlciIsImFwcGxpZWRTdHlsZXNUb1N0cmlwZUVsZW1lbnRTdHlsZXMiLCJzdG9yZSIsIndpbmRvdyIsIldlYmZsb3ciLCJlbnYiLCJpc0luaXRpYWxpemVkIiwiY2hlY2tvdXRGb3JtQ29udGFpbmVycyIsImZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIiLCJjYXJ0V3JhcHBlcnMiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9XUkFQUEVSIiwiYWxsU3RyaXBlRWxlbWVudHMiLCJmb3JFYWNoIiwiZWxlbWVudCIsImluZGV4IiwiY3JlYXRlRWxlbWVudHNJbnN0YW5jZSIsInNldEF0dHJpYnV0ZSIsIlNUUklQRV9FTEVNRU5UX0lOU1RBTkNFIiwiU3RyaW5nIiwic3RyaXBlRWxlbWVudHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJTVFJJUEVfRUxFTUVOVF9UWVBFIiwiQXJyYXkiLCJmcm9tIiwidHlwZSIsImdldEF0dHJpYnV0ZSIsIkVycm9yIiwiY2hlY2tvdXRGb3JtQ29udGFpbmVyIiwiZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZSIsInBhcnNlSW50IiwiZWwiLCJjcmVhdGVFbGVtZW50Iiwic2FmZVBhcnNlSnNvbiIsIlNUUklQRV9FTEVNRU5UX1NUWUxFIiwiY2xhc3NlcyIsImZvY3VzIiwibW91bnQiLCJzdHlsZU1hcE9ic2VydmVyIiwib25DaGFuZ2UiLCJlcnJvckNvZGVUb0NoZWNrb3V0RXJyb3JUeXBlIiwiY29kZSIsIm1zZyIsIm1hdGNoIiwiZ2V0RXJyb3JUeXBlIiwiZXJyb3IiLCJncmFwaFFMRXJyb3JzIiwibGVuZ3RoIiwiZXh0ZW5zaW9ucyIsIm1lc3NhZ2UiLCJlcnJvclRleHQiLCJxdWVyeVNlbGVjdG9yIiwiQ0FSVF9DSEVDS09VVF9FUlJPUl9NRVNTQUdFX1NFTEVDVE9SIiwidGV4dENvbnRlbnQiLCJlcnJvclR5cGUiLCJlcnJvckRhdGEiLCJDSEVDS09VVF9FUlJPUlMiLCJ0b1VwcGVyQ2FzZSIsInJlcGxhY2UiLCJkZWZhdWx0RXJyb3JNZXNzYWdlIiwiY29weSIsImVycm9yTWVzc2FnZSIsImdldENoZWNrb3V0RXJyb3JNZXNzYWdlRm9yVHlwZSIsInJlcXVpcmVzUmVmcmVzaCIsIk5FRURTX1JFRlJFU0giLCJyZW1vdmVBdHRyaWJ1dGUiLCJ1cGRhdGVSZXF1aXJlZEZpZWxkcyIsImVsZW1lbnROYW1lQnlHcmFwaFFMRXJyb3IiLCJNSVNTSU5HX1NUQVRFIiwiaW52YWxpZFNoaXBwaW5nQWRkcmVzc0Vycm9yIiwiZmluZCIsImdxbEVycm9yIiwicHJvYmxlbXMiLCJwcm9ibGVtIiwiZWxlbWVudE5hbWUiLCJnZXRFbGVtZW50c0J5TmFtZSIsIkhUTUxJbnB1dEVsZW1lbnQiLCJyZXF1aXJlZCIsInJlcG9ydFZhbGlkaXR5IiwiZXJyIiwic2NvcGUiLCJlcnJvclN0YXRlIiwiZmluZEVsZW1lbnRCeU5vZGVUeXBlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0VSUk9SX1NUQVRFIiwicmVtb3ZlUHJvcGVydHkiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImFwb2xsb0NsaWVudCIsImVtYWlsIiwibXV0YXRlIiwibXV0YXRpb24iLCJ1cGRhdGVPcmRlcklkZW50aXR5TXV0YXRpb24iLCJ2YXJpYWJsZXMiLCJhZGRyZXNzSW5mbyIsInVwZGF0ZU9yZGVyQWRkcmVzc011dGF0aW9uIiwiaWQiLCJ1cGRhdGVPcmRlclNoaXBwaW5nTWV0aG9kTXV0YXRpb24iLCJjdXN0b21EYXRhIiwidXBkYXRlQ3VzdG9tRGF0YSIsInVwZGF0ZU9yZGVyU3RyaXBlUGF5bWVudE1ldGhvZE11dGF0aW9uIiwicGF5bWVudE1ldGhvZCIsInJlY2FsY09yZGVyRXN0aW1hdGlvbnNNdXRhdGlvbiIsImVycm9yUG9saWN5IiwidXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzc011dGF0aW9uIiwicmVuZGVyQ2hlY2tvdXQiLCJjaGVja291dCIsImRhdGEiLCJwcmV2Rm9jdXNlZElucHV0IiwicmVuZGVyVHJlZSIsInNoaXBwaW5nTWV0aG9kc0xpc3QiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19MSVNUIiwic2hpcHBpbmdNZXRob2RzRW1wdHkiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19FTVBUWV9TVEFURSIsInNoaXBwaW5nQWRkcmVzc1dyYXBwZXIiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19XUkFQUEVSIiwiYmlsbGluZ0FkZHJlc3NXcmFwcGVyIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19XUkFQUEVSIiwiYmlsbGluZ0FkZHJlc3NUb2dnbGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1RPR0dMRV9DSEVDS0JPWCIsInBheW1lbnRJbmZvV3JhcHBlciIsIkVsZW1lbnQiLCJkYXRhYmFzZSIsImNvbW1lcmNlT3JkZXIiLCJhdmFpbGFibGVTaGlwcGluZ01ldGhvZHMiLCJzdGF0dXNGbGFncyIsInJlcXVpcmVzU2hpcHBpbmciLCJpc0ZyZWVPcmRlciIsInNoaXBwaW5nQWRkcmVzc1JlcXVpcmVzUG9zdGFsQ29kZSIsImJpbGxpbmdBZGRyZXNzUmVxdWlyZXNQb3N0YWxDb2RlIiwiaGFzU3Vic2NyaXB0aW9uIiwic2hpcHBpbmdaaXBGaWVsZCIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19BRERSRVNTX1pJUF9GSUVMRCIsImJpbGxpbmdaaXBGaWVsZCIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfWklQX0ZJRUxEIiwicGF5cGFsRWxlbWVudCIsIlBBWVBBTF9FTEVNRU5UX0lOU1RBTkNFIiwicGF5cGFsQnV0dG9uIiwiUEFZUEFMX0JVVFRPTl9FTEVNRU5UX0lOU1RBTkNFIiwiaGlkZUVsZW1lbnQiLCJzaG93RWxlbWVudCIsImNoZWNrZWQiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZXJyb3JzIiwicHJldkZvY3VzZWRJbnB1dEVsZSIsImdldEVsZW1lbnRCeUlkIiwicnVuUmVuZGVyT25DaGVja291dEVsZW1lbnQiLCJzdHJpcGVTdG9yZSIsImNvbmNhdCIsImZpbHRlciIsIkJvb2xlYW4iLCJ1cGRhdGVXZWJQYXltZW50c0J1dHRvbiIsInF1ZXJ5T3B0aW9ucyIsInF1ZXJ5IiwiZ3FsIiwiQ0hFQ0tPVVRfUVVFUlkiLCJmZXRjaFBvbGljeSIsInRoZW4iLCJzZWxlY3RlZE1ldGhvZCIsIm1ldGhvZCIsInNlbGVjdGVkIiwibmV3RGF0YSIsInNob3VsZFJlY2FsYyIsImNhdGNoIiwicHVzaCIsImF0dGVtcHRTdWJtaXRPcmRlck11dGF0aW9uIiwiZWNvbW1lcmNlQXR0ZW1wdFN1Ym1pdE9yZGVyIiwic3RhdHVzIiwiUkVRVUlSRVNfQUNUSU9OIiwib3JkZXIiLCJpc1BheVBhbCIsInJlZGlyZWN0VXJsIiwib3JkZXJJZCIsInRva2VuIiwiaXNXZWJmbG93IiwiZGV0YWlsIiwicGFyZW50IiwicG9zdE1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwibG9jYXRpb24iLCJvcmlnaW4iLCJocmVmIiwiYXBwbHlEaXNjb3VudE11dGF0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQSw4Q0FBOEM7Ozs7Ozs7Ozs7O0lBMHBCakNBLGFBQWE7ZUFBYkE7O0lBbFlBQyxtQkFBbUI7ZUFBbkJBOztJQTZWQUMsK0JBQStCO2VBQS9CQTs7SUE3VEFDLHdCQUF3QjtlQUF4QkE7O0lBbEJBQywwQkFBMEI7ZUFBMUJBOztJQVRBQywyQkFBMkI7ZUFBM0JBOztJQWtCQUMsaUNBQWlDO2VBQWpDQTs7SUE2QkFDLG9DQUFvQztlQUFwQ0E7O0lBWEFDLGlDQUFpQztlQUFqQ0E7O0lBbUJBQywwQ0FBMEM7ZUFBMUNBOztJQThTQUMsK0JBQStCO2VBQS9CQTs7SUFya0JBQyx3QkFBd0I7ZUFBeEJBOztJQXlrQkFDLDZCQUE2QjtlQUE3QkE7O0lBR0FDLDJCQUEyQjtlQUEzQkE7O0lBL0hBQyw0QkFBNEI7ZUFBNUJBOztJQWhRQUMsd0JBQXdCO2VBQXhCQTs7SUF2RkFDLGtCQUFrQjtlQUFsQkE7OzttRUFqTEc7K0JBUVQ7eUVBQzBDOzJCQXdCMUM7MkJBQ2tCO21DQUNhO21DQVcvQjs7Ozs7O0FBTVAsTUFBTUMsNEJBQ0osQ0FBQ0MsZ0JBQXVCLENBQUNDO1FBQ3ZCRCxjQUFjRSxNQUFNLENBQUM7WUFDbkJDLE9BQU9DLHlCQUFnQixDQUFDQyxrQ0FBa0MsQ0FBQ0o7UUFDN0Q7SUFDRjtBQUVLLE1BQU1SLDJCQUEyQixDQUFDYTtJQUN2QyxJQUNFQyxPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUNuQkYsT0FBT0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FDbkIsQ0FBQ0gsTUFBTUksYUFBYSxJQUNwQjtRQUNBO0lBQ0Y7SUFFQSxNQUFNQyx5QkFBeUJDLElBQUFBLHdDQUF5QixFQUN0REMscURBQTBDO0lBRTVDLE1BQU1DLGVBQWVGLElBQUFBLHdDQUF5QixFQUM1Q0csMENBQStCO0lBR2pDLE1BQU1DLG9CQUFvQjtXQUFJTDtXQUEyQkc7S0FBYTtJQUV0RUUsa0JBQWtCQyxPQUFPLENBQUMsQ0FBQ0MsU0FBU0M7UUFDbENiLE1BQU1jLHNCQUFzQixDQUFDRDtRQUM3QkQsUUFBUUcsWUFBWSxDQUFDQyxrQ0FBdUIsRUFBRUMsT0FBT0o7SUFDdkQ7SUFFQSxNQUFNSyxpQkFBaUJDLFNBQVNDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFQyw4QkFBbUIsQ0FBQyxDQUFDLENBQUM7SUFFM0VDLE1BQU1DLElBQUksQ0FBQ0wsZ0JBQWdCUCxPQUFPLENBQUMsQ0FBQ0M7UUFDbEMsTUFBTVksT0FBT1osUUFBUWEsWUFBWSxDQUFDSiw4QkFBbUI7UUFDckQsSUFBSSxDQUFDRyxNQUFNO1lBQ1QsTUFBTSxJQUFJRSxNQUFNO1FBQ2xCO1FBRUEsTUFBTUMsd0JBQXdCQyxJQUFBQSwyQ0FBNEIsRUFDeERyQixxREFBMEMsRUFDMUNLO1FBRUYsSUFBSSxDQUFDZSx1QkFBdUI7WUFDMUI7UUFDRjtRQUVBLE1BQU1kLFFBQVFnQixTQUNaLGdIQUFnSDtRQUNoSEYsc0JBQXNCRixZQUFZLENBQUNULGtDQUF1QixHQUMxRDtRQUdGLE1BQU1jLEtBQUs5QixNQUFNK0IsYUFBYSxDQUFDUCxNQUFNWCxPQUFPO1lBQzFDaEIsT0FBT21DLElBQUFBLDRCQUFhLEVBQUNwQixRQUFRYSxZQUFZLENBQUNRLCtCQUFvQixLQUFLO1lBQ25FQyxTQUFTO2dCQUNQQyxPQUFPO1lBQ1Q7UUFDRjtRQUNBTCxHQUFHTSxLQUFLLENBQUN4QjtRQUNULHdGQUF3RjtRQUN4RixNQUFNeUIsbUJBQW1CLElBQUl2Qyx5QkFBZ0IsQ0FBQ2MsU0FBUztZQUNyRDBCLFVBQVU3QywwQkFBMEJxQztRQUN0QztJQUNGO0FBQ0Y7QUFFQSxNQUFNUywrQkFBK0IsQ0FBQ0MsTUFBZUM7SUFDbkQsT0FBUUQ7UUFDTixLQUFLO1lBQ0gsSUFBSUMsT0FBT0EsSUFBSUMsS0FBSyxDQUFDLGVBQWU7Z0JBQ2xDLE9BQU87WUFDVCxPQUFPO2dCQUNMLE9BQU87WUFDVDtRQUNGLEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1FBQ0wsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULHdFQUF3RTtRQUN4RSxvRkFBb0Y7UUFDcEYsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQXdCO2dCQUMzQixPQUFPO1lBQ1Q7UUFDQSxLQUFLO1lBQW1CO2dCQUN0QixPQUFPO1lBQ1Q7UUFDQSxLQUFLO1lBQXdCO2dCQUMzQixPQUFPO1lBQ1Q7UUFDQSxLQUFLO1lBQThCO2dCQUNqQyxPQUFPO1lBQ1Q7UUFDQTtZQUNFLE9BQU87SUFDWDtBQUNGO0FBRUEsTUFBTUMsZUFBZSxDQUFDQztJQUNwQixJQUFJQSxNQUFNQyxhQUFhLElBQUlELE1BQU1DLGFBQWEsQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7UUFDekQsT0FBT1AsNkJBQ0xLLE1BQU1DLGFBQWEsQ0FBQyxFQUFFLENBQUNFLFVBQVUsRUFBRVAsTUFDbkNJLE1BQU1DLGFBQWEsQ0FBQyxFQUFFLENBQUNHLE9BQU87SUFFbEM7SUFFQSxJQUFJSixNQUFNSixJQUFJLEVBQUU7UUFDZCxPQUFPRCw2QkFBNkJLLE1BQU1KLElBQUksRUFBRUksTUFBTUksT0FBTztJQUMvRDtJQUVBLE9BQU87QUFDVDtBQUVPLE1BQU14RCxxQkFBcUIsQ0FDaENvQixTQUNBZ0M7SUFFQSxNQUFNSyxZQUFZckMsUUFBUXNDLGFBQWEsQ0FBQ0MsK0NBQW9DO0lBQzVFLElBQUksQ0FBQ0YsV0FBVztRQUNkO0lBQ0Y7SUFFQSx3RUFBd0U7SUFDeEUsMEVBQTBFO0lBQzFFLDJFQUEyRTtJQUMzRSxtQ0FBbUM7SUFDbkMsSUFBSUwsTUFBTXBCLElBQUksSUFBSW9CLE1BQU1wQixJQUFJLEtBQUssb0JBQW9CO1FBQ25EeUIsVUFBVUcsV0FBVyxHQUFHUixNQUFNSSxPQUFPO1FBQ3JDO0lBQ0Y7SUFFQSxNQUFNSyxZQUFZVixhQUFhQztJQUUvQix1RkFBdUY7SUFDdkYsTUFBTVUsWUFDSixnSUFBZ0k7SUFDaElDLDBCQUFlLENBQUNGLFVBQVVHLFdBQVcsR0FBR0MsT0FBTyxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUM7SUFDbkUsTUFBTUMsc0JBQXNCSixVQUFVSyxJQUFJO0lBRTFDLE1BQU1DLGVBQ0pYLFVBQVV4QixZQUFZLENBQUNvQyxJQUFBQSx5Q0FBOEIsRUFBQ1IsZUFDdERLO0lBRUZULFVBQVVHLFdBQVcsR0FBR1E7SUFFeEIsSUFBSU4sVUFBVVEsZUFBZSxFQUFFO1FBQzdCYixVQUFVbEMsWUFBWSxDQUFDZ0Qsd0JBQWEsRUFBRTtJQUN4QyxPQUFPO1FBQ0xkLFVBQVVlLGVBQWUsQ0FBQ0Qsd0JBQWE7SUFDekM7SUFFQSxJQUFJVixjQUFjLFlBQVk7UUFDNUJZLHFCQUFxQnJCO0lBQ3ZCO0FBQ0Y7QUFFQSxNQUFNc0IsNEJBQTRCO0lBQ2hDQyxlQUFlO0FBQ2pCO0FBRUEsTUFBTUYsdUJBQXVCLENBQUNyQjtJQUM1QixJQUFJLENBQUNBLE1BQU1DLGFBQWEsSUFBSUQsTUFBTUMsYUFBYSxDQUFDQyxNQUFNLEtBQUssR0FBRztRQUM1RDtJQUNGO0lBRUEsTUFBTXNCLDhCQUE4QnhCLE1BQU1DLGFBQWEsQ0FBQ3dCLElBQUksQ0FDMUQsaUZBQWlGO0lBQ2pGLENBQUNDLFdBQWFBLFNBQVM5QixJQUFJLEtBQUs7SUFHbEMsSUFBSSxDQUFDNEIsNkJBQTZCO1FBQ2hDO0lBQ0Y7SUFFQSxnRkFBZ0Y7SUFDaEZBLDRCQUE0QkcsUUFBUSxDQUFDNUQsT0FBTyxDQUFDLENBQUM2RDtRQUM1QyxNQUFNLEVBQUNoRCxJQUFJLEVBQUMsR0FBR2dEO1FBRWYsZ0xBQWdMO1FBQ2hMLE1BQU1DLGNBQWNQLHlCQUF5QixDQUFDMUMsS0FBSztRQUVuRCxJQUFJLENBQUNpRCxhQUFhO1lBQ2hCO1FBQ0Y7UUFFQSxNQUFNN0QsVUFBVU8sU0FBU3VELGlCQUFpQixDQUFDRCxZQUFZLENBQUMsRUFBRTtRQUUxRCxJQUFJLENBQUU3RCxDQUFBQSxtQkFBbUIrRCxnQkFBZSxHQUFJO1lBQzFDO1FBQ0Y7UUFFQS9ELFFBQVFnRSxRQUFRLEdBQUc7UUFFbkIsOENBQThDO1FBQzlDLElBQUksT0FBT2hFLFFBQVFpRSxjQUFjLEtBQUssWUFBWTtZQUNoRGpFLFFBQVFpRSxjQUFjO1FBQ3hCO0lBQ0Y7QUFDRjtBQUVPLE1BQU10RiwyQkFBMkIsQ0FDdEN1RixLQUNBQztJQUVBLE1BQU1DLGFBQWFDLElBQUFBLG9DQUFxQixFQUN0Q0Msa0RBQXVDLEVBQ3ZDSDtJQUVGLElBQUlDLFlBQVk7UUFDZEEsV0FBV25GLEtBQUssQ0FBQ3NGLGNBQWMsQ0FBQztRQUNoQzNGLG1CQUFtQndGLFlBQVlGO0lBQ2pDO0FBQ0Y7QUFFTyxNQUFNckcsc0JBQXNCLENBQUMyRztJQUNsQ0EsRUFBRUMsY0FBYztJQUNoQkQsRUFBRUUsV0FBVyxHQUFHO0FBQ2xCO0FBRU8sTUFBTXpHLDhCQUE4QixDQUN6QzBHLGNBQ0FDLFFBRUFELGFBQWFFLE1BQU0sQ0FBQztRQUNsQkMsVUFBVUMsOENBQTJCO1FBQ3JDQyxXQUFXO1lBQUNKO1FBQUs7SUFDbkI7QUFFSyxNQUFNNUcsNkJBQTZCLENBQ3hDMkcsY0FDQU0sY0FFQU4sYUFBYUUsTUFBTSxDQUFDO1FBQ2xCQyxVQUFVSSw2Q0FBMEI7UUFDcENGLFdBQVdDO0lBQ2I7QUFFSyxNQUFNL0csb0NBQW9DLENBQy9DeUcsY0FDQVEsS0FFQVIsYUFBYUUsTUFBTSxDQUFDO1FBQ2xCQyxVQUFVTSxvREFBaUM7UUFDM0NKLFdBQVc7WUFBQ0c7UUFBRTtJQUNoQjtBQUVLLE1BQU1wSCwyQkFBMkIsQ0FDdEM0RyxjQUNBVSxhQUVBVixhQUFhRSxNQUFNLENBQUM7UUFDbEJDLFVBQVVRLG1DQUFnQjtRQUMxQk4sV0FBVztZQUFDSztRQUFVO0lBQ3hCO0FBRUssTUFBTWpILG9DQUFvQyxDQUMvQ3VHLGNBQ0FRLEtBRUFSLGFBQWFFLE1BQU0sQ0FBQztRQUNsQkMsVUFBVVMseURBQXNDO1FBQ2hEUCxXQUFXO1lBQ1RRLGVBQWVMO1FBQ2pCO0lBQ0Y7QUFFSyxNQUFNaEgsdUNBQXVDLENBQ2xEd0csZUFFQUEsYUFBYUUsTUFBTSxDQUFDO1FBQ2xCQyxVQUFVVyxpREFBOEI7UUFDeENDLGFBQWE7SUFDZjtBQUVLLE1BQU1ySCw2Q0FBNkMsQ0FDeERzRyxjQUNBTSxjQUVBTixhQUFhRSxNQUFNLENBQUM7UUFDbEJDLFVBQVVhLHVEQUFvQztRQUM5Q1gsV0FBV0M7SUFDYjtBQUVGLE1BQU1XLGlCQUFpQixDQUNyQkMsVUFDQUMsTUFDQUM7SUFFQUMsSUFBQUEscUJBQVUsRUFBQ0gsVUFBVUM7SUFFckIsTUFBTUcsc0JBQXNCNUIsSUFBQUEsb0NBQXFCLEVBQy9DNkIsNERBQWlELEVBQ2pETDtJQUVGLE1BQU1NLHVCQUF1QjlCLElBQUFBLG9DQUFxQixFQUNoRCtCLG1FQUF3RCxFQUN4RFA7SUFFRixNQUFNUSx5QkFBeUJoQyxJQUFBQSxvQ0FBcUIsRUFDbERpQywrREFBb0QsRUFDcERUO0lBRUYsTUFBTVUsd0JBQXdCbEMsSUFBQUEsb0NBQXFCLEVBQ2pEbUMsOERBQW1ELEVBQ25EWDtJQUVGLE1BQU1ZLHVCQUF1QnBDLElBQUFBLG9DQUFxQixFQUNoRHFDLHNFQUEyRCxFQUMzRGI7SUFFRixNQUFNYyxxQkFBcUJkLFNBQVN2RCxhQUFhLENBQy9DO0lBRUYsSUFDRSxDQUFFMkQsQ0FBQUEsK0JBQStCVyxPQUFNLEtBQ3ZDLENBQUVQLENBQUFBLGtDQUFrQ08sT0FBTSxLQUMxQyxDQUFFTCxDQUFBQSxpQ0FBaUNLLE9BQU0sS0FDekMsQ0FBRUgsQ0FBQUEsZ0NBQWdDMUMsZ0JBQWUsS0FDakQsQ0FBRTRDLENBQUFBLDhCQUE4QkMsT0FBTSxHQUN0QztRQUNBO0lBQ0Y7SUFFQSxJQUFJZCxLQUFLQSxJQUFJLElBQUlBLEtBQUtBLElBQUksQ0FBQ2UsUUFBUSxJQUFJZixLQUFLQSxJQUFJLENBQUNlLFFBQVEsQ0FBQ0MsYUFBYSxFQUFFO1FBQ3ZFLE1BQU0sRUFDSmhCLE1BQU0sRUFDSmUsVUFBVSxFQUNSQyxlQUFlLEVBQ2JDLHdCQUF3QixFQUN4QkMsYUFBYSxFQUNYQyxnQkFBZ0IsRUFDaEJDLFdBQVcsRUFDWEMsaUNBQWlDLEVBQ2pDQyxnQ0FBZ0MsRUFDaENDLGVBQWUsRUFDaEIsRUFDRixFQUNGLEVBQ0YsRUFDRixHQUFHdkI7UUFFSixNQUFNd0IsbUJBQW1CakQsSUFBQUEsb0NBQXFCLEVBQzVDa0QsaUVBQXNELEVBQ3REbEI7UUFFRixJQUFJaUIsNEJBQTRCdkQsa0JBQWtCO1lBQ2hEdUQsaUJBQWlCdEQsUUFBUSxHQUFHbUQ7UUFDOUI7UUFFQSxNQUFNSyxrQkFBa0JuRCxJQUFBQSxvQ0FBcUIsRUFDM0NvRCxnRUFBcUQsRUFDckRsQjtRQUVGLElBQUlpQiwyQkFBMkJ6RCxrQkFBa0I7WUFDL0N5RCxnQkFBZ0J4RCxRQUFRLEdBQUdvRDtRQUM3QjtRQUVBLE1BQU1NLGdCQUFnQm5ILFNBQVMrQixhQUFhLENBQzFDLENBQUMsQ0FBQyxFQUFFcUYsa0NBQXVCLENBQUMsQ0FBQyxDQUFDO1FBRWhDLE1BQU1DLGVBQWUvQixTQUFTdkQsYUFBYSxDQUN6QyxDQUFDLENBQUMsRUFBRXVGLHlDQUE4QixDQUFDLENBQUMsQ0FBQztRQUV2QyxJQUFJSCxpQkFBaUJFLGNBQWM7WUFDakMsSUFBSVYsZUFBZUcsaUJBQWlCO2dCQUNsQywrR0FBK0c7Z0JBQy9HUyxJQUFBQSwwQkFBVyxFQUFDRjtZQUNkLE9BQU87Z0JBQ0wsK0dBQStHO2dCQUMvR0csSUFBQUEsMEJBQVcsRUFBQ0g7WUFDZDtRQUNGO1FBRUEsK0dBQStHO1FBQy9HLGlHQUFpRztRQUNqRyxJQUNFLENBQUNYLG9CQUNEUixxQkFBcUJ1QixPQUFPLElBQzVCdkIscUJBQXFCd0IsYUFBYSxJQUNsQ3hCLHFCQUFxQndCLGFBQWEsQ0FBQ0MsU0FBUyxDQUFDQyxRQUFRLENBQ25ELDBCQUVGO1lBQ0FKLElBQUFBLDBCQUFXLEVBQUN4QjtRQUNkO1FBQ0EsSUFBSSxDQUFDUSw0QkFBNEJBLHlCQUF5QjdFLE1BQU0sR0FBRyxHQUFHO1lBQ3BFNEYsSUFBQUEsMEJBQVcsRUFBQzdCO1lBQ1osOEZBQThGO1lBQzlGLGtHQUFrRztZQUNsRyxJQUFJRSxnQ0FBZ0NTLFNBQVM7Z0JBQzNDbUIsSUFBQUEsMEJBQVcsRUFBQzVCO1lBQ2Q7UUFDRixPQUFPO1lBQ0wsOEJBQThCO1lBQzlCLElBQUlBLGdDQUFnQ1MsU0FBUztnQkFDM0NrQixJQUFBQSwwQkFBVyxFQUFDM0I7WUFDZDtZQUNBNEIsSUFBQUEsMEJBQVcsRUFBQzlCO1FBQ2Q7UUFFQSxJQUFJaUIsYUFBYTtZQUNmLCtHQUErRztZQUMvR1ksSUFBQUEsMEJBQVcsRUFBQ25CO1FBQ2QsT0FBTyxJQUNMLENBQUNPLGVBQ0QsaUZBQWlGO1FBQ2pGUCxtQkFBbUIxSCxLQUFLLENBQUNtSixnQkFBZ0IsQ0FBQyxlQUFlLFFBQ3pEO1lBQ0Esd0JBQXdCO1lBQ3hCLCtHQUErRztZQUMvR0wsSUFBQUEsMEJBQVcsRUFBQ3BCO1FBQ2Q7SUFDRixPQUFPO1FBQ0xtQixJQUFBQSwwQkFBVyxFQUFDN0I7UUFDWiw4QkFBOEI7UUFDOUIsSUFBSUUsZ0NBQWdDUyxTQUFTO1lBQzNDbUIsSUFBQUEsMEJBQVcsRUFBQzVCO1FBQ2Q7UUFDQSwrR0FBK0c7UUFDL0c0QixJQUFBQSwwQkFBVyxFQUFDcEI7SUFDZDtJQUVBLElBQUliLEtBQUt1QyxNQUFNLENBQUNuRyxNQUFNLEtBQUssS0FBSzZELGtCQUFrQjtRQUNoRCxJQUFJdUMsc0JBQXNCL0gsU0FBU2dJLGNBQWMsQ0FBQ3hDO1FBQ2xELElBQUksQ0FBQ3VDLHFCQUFxQjtZQUN4QkEsc0JBQXNCL0gsU0FBUytCLGFBQWEsQ0FDMUMsQ0FBQyxtQkFBbUIsRUFBRXlELGlCQUFpQixFQUFFLENBQUM7UUFFOUM7UUFDQSxJQUFJdUMscUJBQXFCO1lBQ3ZCQSxvQkFBb0IvRyxLQUFLO1FBQzNCO0lBQ0Y7QUFDRjtBQUVBLE1BQU1pSCw2QkFBNkIsQ0FDakN6SCx1QkFDQStFLE1BQ0F1QyxRQUNBSSxhQUNBMUM7SUFFQUgsZUFDRTdFLHVCQUNBO1FBQ0UsR0FBRytFLElBQUk7UUFDUHVDLFFBQVFBLE9BQU9LLE1BQU0sQ0FBQzVDLEtBQUt1QyxNQUFNLEVBQUVNLE1BQU0sQ0FBQ0M7SUFDNUMsR0FDQTdDO0lBR0YsSUFBSTBDLGFBQWE7UUFDZkksSUFBQUEsMENBQXVCLEVBQUM5SCx1QkFBdUIrRSxNQUFNMkM7SUFDdkQ7QUFDRjtBQUVPLE1BQU0vSiwrQkFBK0IsQ0FDMUNlLHdCQUNBNEksUUFDQTFELGNBQ0E4RCxhQUNBMUM7SUFFQSxJQUFJdEcsdUJBQXVCeUMsTUFBTSxLQUFLLEdBQUc7UUFDdkM7SUFDRjtJQUVBekMsdUJBQXVCTSxPQUFPLENBQUMsQ0FBQ2dCO1FBQzlCLE1BQU0rSCxlQUFlO1lBQ25CQyxPQUFPQyxJQUFBQSxtQkFBRyxDQUFBLENBQUM7UUFDVCxFQUFFakksc0JBQXNCRixZQUFZLENBQUNvSSx5QkFBYyxFQUFFO01BQ3ZELENBQUM7WUFDREMsYUFBYTtZQUNiLDRGQUE0RjtZQUM1Rix5R0FBeUc7WUFDekcsNkVBQTZFO1lBQzdFeEQsYUFBYTtRQUNmO1FBQ0FmLGFBQ0dvRSxLQUFLLENBQUNELGNBQ05LLElBQUksQ0FBQyxDQUFDckQ7WUFDTCxJQUNFQSxLQUFLQSxJQUFJLElBQ1RBLEtBQUtBLElBQUksQ0FBQ2UsUUFBUSxJQUNsQmYsS0FBS0EsSUFBSSxDQUFDZSxRQUFRLENBQUNDLGFBQWEsSUFDaENoQixLQUFLQSxJQUFJLENBQUNlLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDQyx3QkFBd0IsRUFDekQ7Z0JBQ0EsTUFBTSxFQUNKakIsTUFBTSxFQUNKZSxVQUFVLEVBQ1JDLGVBQWUsRUFDYkMsd0JBQXdCLEVBQ3hCQyxhQUFhLEVBQUNDLGdCQUFnQixFQUFDLEVBQ2hDLEVBQ0YsRUFDRixFQUNGLEdBQUduQjtnQkFFSixNQUFNc0QsaUJBQWlCckMseUJBQXlCdEQsSUFBSSxDQUNsRCwrRUFBK0U7Z0JBQy9FLENBQUM0RixTQUFXQSxPQUFPQyxRQUFRLEtBQUs7Z0JBRWxDLElBQUksQ0FBQ0Ysa0JBQWtCbkMsa0JBQWtCO29CQUN2QyxNQUFNOUIsS0FBSzRCLHdCQUF3QixDQUFDLEVBQUUsR0FDbENBLHdCQUF3QixDQUFDLEVBQUUsQ0FBQzVCLEVBQUUsR0FDOUI7b0JBQ0osT0FBT2pILGtDQUFrQ3lHLGNBQWNRLElBQ3BEZ0UsSUFBSSxDQUFDO3dCQUNKLE9BQU9oTCxxQ0FBcUN3RztvQkFDOUMsR0FDQ3dFLElBQUksQ0FBQzt3QkFDSixPQUFPeEUsYUFBYW9FLEtBQUssQ0FBQ0Q7b0JBQzVCLEdBRUNLLElBQUksQ0FBQyxDQUFDSTt3QkFDTGYsMkJBQ0V6SCx1QkFDQXdJLFNBQ0FsQixRQUNBSSxhQUNBMUM7b0JBRUo7Z0JBQ0o7WUFDRjtZQUNBLElBQ0VELEtBQUtBLElBQUksSUFDVEEsS0FBS0EsSUFBSSxDQUFDZSxRQUFRLElBQ2xCZixLQUFLQSxJQUFJLENBQUNlLFFBQVEsQ0FBQ0MsYUFBYSxJQUNoQ2hCLEtBQUtBLElBQUksQ0FBQ2UsUUFBUSxDQUFDQyxhQUFhLENBQUNFLFdBQVcsSUFDNUNsQixLQUFLQSxJQUFJLENBQUNlLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDRSxXQUFXLENBQUN3QyxZQUFZLEVBQ3pEO2dCQUNBLE9BQU9yTCxxQ0FBcUN3RyxjQUN6Q3dFLElBQUksQ0FBQztvQkFDSixPQUFPeEUsYUFBYW9FLEtBQUssQ0FBQ0Q7Z0JBQzVCLEdBRUNLLElBQUksQ0FBQyxDQUFDSTtvQkFDTGYsMkJBQ0V6SCx1QkFDQXdJLFNBQ0FsQixRQUNBSSxhQUNBMUM7Z0JBRUo7WUFDSixPQUFPO2dCQUNMeUMsMkJBQ0V6SCx1QkFDQStFLE1BQ0F1QyxRQUNBSSxhQUNBMUM7WUFFSjtRQUNGLEdBQ0MwRCxLQUFLLENBQUMsQ0FBQ3ZGO1lBQ05tRSxPQUFPcUIsSUFBSSxDQUFDeEY7WUFDWjBCLGVBQWU3RSx1QkFBdUI7Z0JBQUNzSDtZQUFNLEdBQUd0QztRQUNsRDtJQUNKO0FBQ0Y7QUFFTyxNQUFNakksa0NBQWtDLENBQzdDNkcsY0FDQUs7SUFLQSxPQUFPTCxhQUFhRSxNQUFNLENBQUM7UUFDekJDLFVBQVU2RSw2Q0FBMEI7UUFDcEMzRTtJQUNGO0FBQ0Y7QUFFTyxNQUFNMUcsa0NBQWtDLENBQUN3SDtJQUM5QyxPQUFPQSxRQUFRQSxLQUFLQSxJQUFJLElBQUlBLEtBQUtBLElBQUksQ0FBQzhELDJCQUEyQjtBQUNuRTtBQUVPLE1BQU1wTCxnQ0FBZ0MsQ0FBQ3FMLFNBQzVDQSxXQUFXQywwQkFBZTtBQUVyQixNQUFNckwsOEJBQThCLENBQ3pDc0wsT0FDQUMsV0FBb0IsS0FBSztJQUV6QixNQUFNQyxjQUFjLENBQUMsNEJBQTRCLEVBQUVGLE1BQU1HLE9BQU8sQ0FBQyxPQUFPLEVBQUVILE1BQU1JLEtBQUssQ0FBQyxDQUFDO0lBQ3ZGLElBQUlILFVBQVU7UUFDWixNQUFNNUgsVUFBVTtZQUNkZ0ksV0FBVztZQUNYeEosTUFBTTtZQUNOeUosUUFBUUo7UUFDVjtRQUNBNUssT0FBT2lMLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDQyxLQUFLQyxTQUFTLENBQUNySSxVQUFVL0MsT0FBT3FMLFFBQVEsQ0FBQ0MsTUFBTTtJQUMzRSxPQUFPO1FBQ0x0TCxPQUFPcUwsUUFBUSxDQUFDRSxJQUFJLEdBQUdYO0lBQ3pCO0FBQ0Y7QUFFTyxNQUFNck0sZ0JBQWdCLENBQzNCK0csY0FDQUs7SUFJQSxPQUFPTCxhQUFhRSxNQUFNLENBQUM7UUFDekJDLFVBQVUrRix3Q0FBcUI7UUFDL0I3RjtJQUNGO0FBQ0YifQ==

}),
54556: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals document, window, CustomEvent */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    addLoadingCallback: function() {
        return addLoadingCallback;
    },
    customDataFormToArray: function() {
        return customDataFormToArray;
    },
    executeLoadingCallbacks: function() {
        return executeLoadingCallbacks;
    },
    fetchOrderStatusFlags: function() {
        return fetchOrderStatusFlags;
    },
    findAllElementsByNodeType: function() {
        return findAllElementsByNodeType;
    },
    findClosestElementByClassName: function() {
        return findClosestElementByClassName;
    },
    findClosestElementByNodeType: function() {
        return findClosestElementByNodeType;
    },
    findClosestElementWithAttribute: function() {
        return findClosestElementWithAttribute;
    },
    findElementByNodeType: function() {
        return findElementByNodeType;
    },
    formToObject: function() {
        return formToObject;
    },
    hasSubscription: function() {
        return hasSubscription;
    },
    hideElement: function() {
        return hideElement;
    },
    isFreeOrder: function() {
        return isFreeOrder;
    },
    isProductionLikeEnv: function() {
        return isProductionLikeEnv;
    },
    isProtocolHttps: function() {
        return isProtocolHttps;
    },
    safeParseJson: function() {
        return safeParseJson;
    },
    setElementLoading: function() {
        return setElementLoading;
    },
    showElement: function() {
        return showElement;
    },
    trackOrder: function() {
        return trackOrder;
    },
    triggerRender: function() {
        return triggerRender;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
const _constants = __webpack_require__(10873);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const safeParseJson = (jsonString)=>{
    let json = null;
    try {
        if (jsonString != null) {
            json = JSON.parse(decodeURIComponent(jsonString));
        }
    } catch (e) {
        if (!(e instanceof SyntaxError && e.message.match(/\bJSON\b/i))) {
            throw e;
        }
    } finally{
        return json;
    }
};
const findElementByNodeType = (type, scope = document)=>{
    // @ts-expect-error - TS2322 - Type 'Element | null' is not assignable to type 'HTMLElement | null | undefined'.
    return scope.querySelector(`[${_constants.DATA_ATTR_NODE_TYPE}="${type}"]`);
};
const findAllElementsByNodeType = (type, scope = document)=>{
    return Array.from(scope.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${type}"]`));
};
const findClosestElementByNodeType = (nodeType, element)=>{
    let target = element;
    while(target){
        if (target instanceof Element && target.getAttribute(_constants.DATA_ATTR_NODE_TYPE) === nodeType) {
            return target;
        } else {
            // @ts-expect-error - TS2322 - Type 'HTMLElement | null' is not assignable to type 'EventTarget'.
            target = target instanceof Element ? target.parentElement : null;
        }
    }
    return target;
};
const findClosestElementWithAttribute = (dataAttribute, element)=>{
    let target = element;
    while(target){
        if (target instanceof Element && target.hasAttribute(dataAttribute)) {
            return target;
        } else {
            // @ts-expect-error - TS2322 - Type 'HTMLElement | null' is not assignable to type 'EventTarget'.
            target = target instanceof Element ? target.parentElement : null;
        }
    }
    return target;
};
const findClosestElementByClassName = (className, element)=>{
    let target = element;
    while(target){
        if (target instanceof Element && target.classList.contains(className)) {
            return target;
        } else {
            // @ts-expect-error - TS2322 - Type 'HTMLElement | null' is not assignable to type 'EventTarget'.
            target = target instanceof Element ? target.parentElement : null;
        }
    }
    return target;
};
const triggerRender = (error, isInitial = false)=>{
    const renderEvent = new CustomEvent(_constants.RENDER_TREE_EVENT, {
        detail: {
            error,
            isInitial
        }
    });
    window.dispatchEvent(renderEvent);
};
const isProductionLikeEnv = ()=> true || 0;
const isProtocolHttps = ()=>!isProductionLikeEnv() || window.location.protocol === 'https:';
const formToObject = (form, toString)=>{
    const values = {};
    // @ts-expect-error - TS2345 - Argument of type '(element: ElementWithValue) => void' is not assignable to parameter of type '(value: Element, index: number, array: Element[]) => void'.
    Array.from(form.elements).forEach((element)=>{
        const name = element.getAttribute('name');
        if (name && name !== '') {
            const value = toString ? String(element.value).trim() : element.value;
            values[name] = value == null || value === '' ? null : value;
        }
    });
    return values;
};
const customDataFormToArray = (form)=>{
    // @ts-expect-error - TS7034 - Variable 'customData' implicitly has type 'any[]' in some locations where its type cannot be determined.
    const customData = [];
    if (!form || !(form instanceof HTMLFormElement)) {
        // @ts-expect-error - TS7005 - Variable 'customData' implicitly has an 'any[]' type.
        return customData;
    }
    Array.from(form.elements).forEach(// @ts-expect-error - TS2345 - Argument of type '(element: HTMLElement | HTMLInputElement | HTMLTextAreaElement) => void' is not assignable to parameter of type '(value: Element, index: number, array: Element[]) => void'.
    (element)=>{
        const name = element.getAttribute('name');
        if (element instanceof HTMLTextAreaElement && element.value) {
            customData.push({
                name: name ? name : 'Textarea',
                textArea: element.value
            });
        } else if (element instanceof HTMLInputElement) {
            if (element.type === 'checkbox') {
                customData.push({
                    name: name ? name : 'Checkbox',
                    checkbox: element.checked
                });
            } else if (element.value) {
                customData.push({
                    name: name ? name : 'Text Input',
                    textInput: element.value
                });
            }
        }
    });
    // @ts-expect-error - TS7005 - Variable 'customData' implicitly has an 'any[]' type.
    return customData;
};
const setElementLoading = (el)=>{
    // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
    const tr = window.Webflow.tram(el);
    tr.set({
        opacity: 0.2
    });
    tr.add('opacity 500ms ease-in-out');
    const animate = ()=>{
        tr.start({
            opacity: 0.2
        }).then({
            opacity: 0.4
        }).then(animate);
    };
    animate();
    return ()=>tr.destroy();
};
const loadingCallbacks = [];
const addLoadingCallback = (cb)=>{
    loadingCallbacks.push(cb);
};
const executeLoadingCallbacks = ()=>{
    let finishLoading;
    while((finishLoading = loadingCallbacks.shift()) !== undefined){
        finishLoading();
    }
};
const isFreeOrder = (response)=>response && response.data && response.data.database && response.data.database.commerceOrder && response.data.database.commerceOrder.statusFlags && response.data.database.commerceOrder.statusFlags.isFreeOrder === true;
const hasSubscription = (response)=>response && response.data && response.data.database && response.data.database.commerceOrder && response.data.database.commerceOrder.statusFlags && response.data.database.commerceOrder.statusFlags.hasSubscription === true;
const showElement = (element)=>element.style.removeProperty('display');
const hideElement = (element)=>element.style.setProperty('display', 'none');
// the @client directive ensures we only fetch this from the local cache so that we don't wait on network
// we can only use this safely inside a rendered cart/checkout/confirmation container
// as to render that view, a query had to be made which *always* includes the flags listed below.
// if you are adding new flags to this, please ensure that the flags are *always* included
// for all types of commerce elements in `packages/systems/dynamo/utils/DynamoQuery/DynamoQuery.js`
const orderStatusFlagsQuery = (0, _graphqltag.default)`
  query FetchCartInfo {
    database @client {
      id
      commerceOrder {
        id
        statusFlags {
          requiresShipping
          isFreeOrder
          hasSubscription
        }
      }
    }
  }
`;
const fetchOrderStatusFlags = (apolloClient)=>apolloClient.query({
        query: orderStatusFlagsQuery
    }).then((data)=>{
        return data && data.data && data.data.database && data.data.database.commerceOrder && data.data.database.commerceOrder.statusFlags;
    });
const acceptedOrderDataQuery = (0, _graphqltag.default)`
  query FetchAcceptedOrderData(
    $finalizedOrder: commerce_order_finalized_order_args
  ) {
    database {
      id
      commerceOrder(finalizedOrder: $finalizedOrder) {
        id
        total {
          decimalValue
          unit
        }
        userItems {
          id
          count
          product {
            id
            f_name_
          }
          sku {
            id
          }
          price {
            decimalValue
          }
        }
      }
    }
  }
`;
const fetchAcceptedOrderData = (apolloClient, finalizedOrder)=>apolloClient.query({
        query: acceptedOrderDataQuery,
        variables: {
            finalizedOrder
        }
    }).then((data)=>data?.data?.database?.commerceOrder);
const trackOrder = (apolloClient, finalizedOrder)=>{
    // early return if both facebook and google don't exist on the page
    // we don't need to fetch this data if we're not doing any analytics
    if (typeof fbq === 'undefined' && typeof gtag === 'undefined') {
        return;
    }
    // check to see if this order was tracked already, and if it was, return early
    let trackedOrders = {};
    try {
        const storedTrackedOrders = window.localStorage.getItem('wf-seen-orders');
        if (storedTrackedOrders) {
            trackedOrders = JSON.parse(storedTrackedOrders);
        }
    } catch (err) {
        return;
    }
    if (trackedOrders[finalizedOrder.orderId]) {
        return;
    }
    // we have to fetch the accepted order data, instead of relying on the pending order data
    // that's fetched on the order confirmation page, because we only get the purchased items
    // data if the user has an Order Items element on the page. while i would presume that most
    // people would keep that element on the page, it's not a guarantee, so we need to separately
    // fetch it here to ensure that we always send the analytics, regardless of how the user has
    // customized their order confirmation page.
    fetchAcceptedOrderData(apolloClient, finalizedOrder).then((order)=>{
        if (!order) {
            return;
        }
        const { decimalValue, unit } = order.total;
        if (typeof fbq !== 'undefined' && typeof fbq === 'function') {
            fbq('track', 'Purchase', {
                value: decimalValue,
                currency: unit,
                // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
                content_ids: (order.userItems || []).map((item)=>item.sku.id),
                content_type: 'product',
                // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
                contents: (order.userItems || []).map((item)=>({
                        id: item.sku.id,
                        quantity: item.count,
                        item_price: item.price.decimalValue
                    }))
            });
        }
        if (typeof gtag !== 'undefined' && typeof gtag === 'function') {
            gtag('event', 'purchase', {
                transaction_id: order.id,
                value: decimalValue,
                currency: unit,
                // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
                items: (order.userItems || []).map((item)=>({
                        id: item.sku.id,
                        name: item.product.f_name_,
                        quantity: item.count,
                        price: item.price.decimalValue
                    }))
            });
        }
        trackedOrders[finalizedOrder.orderId] = true;
        try {
            window.localStorage.setItem('wf-seen-orders', JSON.stringify(trackedOrders));
        } catch (err) {
            return;
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lcmNlVXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBkb2N1bWVudCwgd2luZG93LCBDdXN0b21FdmVudCAqL1xuaW1wb3J0IHtBcG9sbG9DbGllbnQsIE5vcm1hbGl6ZWRDYWNoZU9iamVjdH0gZnJvbSAnQGFwb2xsby9jbGllbnQnO1xuaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7XG5pbXBvcnQge1xuICBEQVRBX0FUVFJfTk9ERV9UWVBFLFxuICBSRU5ERVJfVFJFRV9FVkVOVCxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29uc3RhbnRzJztcblxuLy8gZmJxIGlzIEZhY2Vib29rIHBpeGVsIGxpYnJhcnkgbG9hZGVkIG9uIHBhZ2UgbG9hZFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuZGVjbGFyZSB2YXIgZmJxOiBhbnk7XG5cbi8vIGd0YWcgaXMgR29vZ2xlIEFuYWx5dGljcyBsaWJyYXJ5IGxvYWRlZCBvbiBwYWdlIGxvYWRcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbmRlY2xhcmUgdmFyIGd0YWc6IGFueTtcblxuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZUpzb24gPSAoanNvblN0cmluZz86IHN0cmluZyB8IG51bGwpID0+IHtcbiAgbGV0IGpzb24gPSBudWxsO1xuICB0cnkge1xuICAgIGlmIChqc29uU3RyaW5nICE9IG51bGwpIHtcbiAgICAgIGpzb24gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChqc29uU3RyaW5nKSk7XG4gICAgfVxuICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IgJiYgZS5tZXNzYWdlLm1hdGNoKC9cXGJKU09OXFxiL2kpKSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUgPSAoXG4gIHR5cGU6IHN0cmluZyxcbiAgc2NvcGU6IEVsZW1lbnQgfCBEb2N1bWVudCA9IGRvY3VtZW50XG4pOiBIVE1MRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gIHJldHVybiBzY29wZS5xdWVyeVNlbGVjdG9yKGBbJHtEQVRBX0FUVFJfTk9ERV9UWVBFfT1cIiR7dHlwZX1cIl1gKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlID0gKFxuICB0eXBlOiBzdHJpbmcsXG4gIHNjb3BlOiBFbGVtZW50IHwgRG9jdW1lbnQgPSBkb2N1bWVudFxuKTogQXJyYXk8SFRNTEVsZW1lbnQ+ID0+IHtcbiAgcmV0dXJuIEFycmF5LmZyb20oXG4gICAgc2NvcGUucXVlcnlTZWxlY3RvckFsbChgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke3R5cGV9XCJdYClcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlID0gKFxuICBub2RlVHlwZTogc3RyaW5nLFxuICBlbGVtZW50OiBFdmVudFRhcmdldFxuKSA9PiB7XG4gIGxldCB0YXJnZXQgPSBlbGVtZW50O1xuXG4gIHdoaWxlICh0YXJnZXQpIHtcbiAgICBpZiAoXG4gICAgICB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmXG4gICAgICB0YXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9OT0RFX1RZUEUpID09PSBub2RlVHlwZVxuICAgICkge1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnRXZlbnRUYXJnZXQnLlxuICAgICAgdGFyZ2V0ID0gdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCA/IHRhcmdldC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbmRDbG9zZXN0RWxlbWVudFdpdGhBdHRyaWJ1dGUgPSAoXG4gIGRhdGFBdHRyaWJ1dGU6IHN0cmluZyxcbiAgZWxlbWVudDogRXZlbnRUYXJnZXRcbikgPT4ge1xuICBsZXQgdGFyZ2V0ID0gZWxlbWVudDtcblxuICB3aGlsZSAodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZShkYXRhQXR0cmlidXRlKSkge1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnRXZlbnRUYXJnZXQnLlxuICAgICAgdGFyZ2V0ID0gdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCA/IHRhcmdldC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbmRDbG9zZXN0RWxlbWVudEJ5Q2xhc3NOYW1lID0gKFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgZWxlbWVudDogRXZlbnRUYXJnZXRcbikgPT4ge1xuICBsZXQgdGFyZ2V0ID0gZWxlbWVudDtcblxuICB3aGlsZSAodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdFdmVudFRhcmdldCcuXG4gICAgICB0YXJnZXQgPSB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ID8gdGFyZ2V0LnBhcmVudEVsZW1lbnQgOiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5leHBvcnQgY29uc3QgdHJpZ2dlclJlbmRlciA9IChcbiAgZXJyb3I/OiBBcnJheTxSZWNvcmQ8YW55LCBhbnk+PiB8IG51bGwsXG4gIGlzSW5pdGlhbDogYm9vbGVhbiA9IGZhbHNlXG4pID0+IHtcbiAgY29uc3QgcmVuZGVyRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoUkVOREVSX1RSRUVfRVZFTlQsIHtcbiAgICBkZXRhaWw6IHtcbiAgICAgIGVycm9yLFxuICAgICAgaXNJbml0aWFsLFxuICAgIH0sXG4gIH0pO1xuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChyZW5kZXJFdmVudCk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNQcm9kdWN0aW9uTGlrZUVudiA9ICgpID0+XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgfHxcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdhY2NlcHRhbmNlJyB8fFxuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3NhaSc7XG5cbmV4cG9ydCBjb25zdCBpc1Byb3RvY29sSHR0cHMgPSAoKSA9PlxuICAhaXNQcm9kdWN0aW9uTGlrZUVudigpIHx8IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG5cbi8vIGJlY2F1c2UgbWljcm9zb2Z0IGVkZ2UgZG9lc24ndCBzdXBwb3J0IEZvcm1EYXRhLnByb3RvdHlwZS5nZXQsIHdlIGFyZSBpbXBsZW1lbnRpbmcgb3VyIG93blxuLy8gcGFydGlhbCB2ZXJzaW9uIG9mIGl0LCBmb3Igb3VyIHNwZWNpZmljIHB1cnBvc2VzLiB0aGlzIGZ1bmN0aW9uIGZvbGxvd3MgRm9ybURhdGEncyBzcGVjLCBhbmQgd2lsbFxuLy8gb25seSByZXR1cm4gdmFsdWVzIGZyb20gZWxlbWVudHMgaW4gYSBmb3JtIHdpdGggYSBgbmFtZWAgc2V0LiB1bmxpa2UgRm9ybURhdGEgcmV0dXJuaW5nIGl0cyBvd25cbi8vIE1hcC1saWtlIG9iamVjdCwgd2UganVzdCByZXR1cm4gYSBQT0pPLiBiZWNhdXNlIHRoYXQncyBhbGwgd2UgbmVlZC4gdGhhbmsgeW91IGVkZ2UgZm9yIHRoaXMgam91cm5leSA6KVxuLy8gYHRvU3RyaW5nYCBpcyB1c2VkIGZvciBvdXIgYWRkcmVzcyBkYXRhIGdlbmVyYXRpb24sIGFzIHdlIHdhbnQgdGhlIHZhbHVlcyB0byBiZSB0cmltbWVkIHN0cmluZ3NcbmludGVyZmFjZSBFbGVtZW50V2l0aFZhbHVlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICB2YWx1ZT86IHVua25vd247XG59XG5cbmV4cG9ydCBjb25zdCBmb3JtVG9PYmplY3QgPSAoXG4gIGZvcm06IEhUTUxGb3JtRWxlbWVudCxcbiAgdG9TdHJpbmc/OiBib29sZWFuXG4pOiBSZWNvcmQ8YW55LCBhbnk+ID0+IHtcbiAgY29uc3QgdmFsdWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICcoZWxlbWVudDogRWxlbWVudFdpdGhWYWx1ZSkgPT4gdm9pZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJyh2YWx1ZTogRWxlbWVudCwgaW5kZXg6IG51bWJlciwgYXJyYXk6IEVsZW1lbnRbXSkgPT4gdm9pZCcuXG4gIEFycmF5LmZyb20oZm9ybS5lbGVtZW50cykuZm9yRWFjaCgoZWxlbWVudDogRWxlbWVudFdpdGhWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIGlmIChuYW1lICYmIG5hbWUgIT09ICcnKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRvU3RyaW5nID8gU3RyaW5nKGVsZW1lbnQudmFsdWUpLnRyaW0oKSA6IGVsZW1lbnQudmFsdWU7XG4gICAgICB2YWx1ZXNbbmFtZV0gPSB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJyA/IG51bGwgOiB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdmFsdWVzO1xufTtcblxuZXhwb3J0IGNvbnN0IGN1c3RvbURhdGFGb3JtVG9BcnJheSA9IChmb3JtPzogSFRNTEVsZW1lbnQgfCBudWxsKSA9PiB7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzQgLSBWYXJpYWJsZSAnY3VzdG9tRGF0YScgaW1wbGljaXRseSBoYXMgdHlwZSAnYW55W10nIGluIHNvbWUgbG9jYXRpb25zIHdoZXJlIGl0cyB0eXBlIGNhbm5vdCBiZSBkZXRlcm1pbmVkLlxuICBjb25zdCBjdXN0b21EYXRhID0gW107XG4gIGlmICghZm9ybSB8fCAhKGZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNSAtIFZhcmlhYmxlICdjdXN0b21EYXRhJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55W10nIHR5cGUuXG4gICAgcmV0dXJuIGN1c3RvbURhdGE7XG4gIH1cblxuICBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpLmZvckVhY2goXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJyhlbGVtZW50OiBIVE1MRWxlbWVudCB8IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSA9PiB2b2lkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnKHZhbHVlOiBFbGVtZW50LCBpbmRleDogbnVtYmVyLCBhcnJheTogRWxlbWVudFtdKSA9PiB2b2lkJy5cbiAgICAoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQgJiYgZWxlbWVudC52YWx1ZSkge1xuICAgICAgICBjdXN0b21EYXRhLnB1c2goe1xuICAgICAgICAgIG5hbWU6IG5hbWUgPyBuYW1lIDogJ1RleHRhcmVhJyxcbiAgICAgICAgICB0ZXh0QXJlYTogZWxlbWVudC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICBjdXN0b21EYXRhLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogbmFtZSA/IG5hbWUgOiAnQ2hlY2tib3gnLFxuICAgICAgICAgICAgY2hlY2tib3g6IGVsZW1lbnQuY2hlY2tlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbHVlKSB7XG4gICAgICAgICAgY3VzdG9tRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPyBuYW1lIDogJ1RleHQgSW5wdXQnLFxuICAgICAgICAgICAgdGV4dElucHV0OiBlbGVtZW50LnZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDUgLSBWYXJpYWJsZSAnY3VzdG9tRGF0YScgaW1wbGljaXRseSBoYXMgYW4gJ2FueVtdJyB0eXBlLlxuICByZXR1cm4gY3VzdG9tRGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRFbGVtZW50TG9hZGluZyA9IChlbDogRWxlbWVudCkgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ1dlYmZsb3cnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgY29uc3QgdHIgPSB3aW5kb3cuV2ViZmxvdy50cmFtKGVsKTtcblxuICB0ci5zZXQoe29wYWNpdHk6IDAuMn0pO1xuICB0ci5hZGQoJ29wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQnKTtcblxuICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgIHRyLnN0YXJ0KHtvcGFjaXR5OiAwLjJ9KS50aGVuKHtvcGFjaXR5OiAwLjR9KS50aGVuKGFuaW1hdGUpO1xuICB9O1xuICBhbmltYXRlKCk7XG5cbiAgcmV0dXJuICgpID0+IHRyLmRlc3Ryb3koKTtcbn07XG5cbmNvbnN0IGxvYWRpbmdDYWxsYmFja3M6IEFycmF5PGFueSB8ICgoKSA9PiB2b2lkKT4gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFkZExvYWRpbmdDYWxsYmFjayA9IChjYjogKCkgPT4gdm9pZCkgPT4ge1xuICBsb2FkaW5nQ2FsbGJhY2tzLnB1c2goY2IpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4ZWN1dGVMb2FkaW5nQ2FsbGJhY2tzID0gKCkgPT4ge1xuICBsZXQgZmluaXNoTG9hZGluZztcbiAgd2hpbGUgKChmaW5pc2hMb2FkaW5nID0gbG9hZGluZ0NhbGxiYWNrcy5zaGlmdCgpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZmluaXNoTG9hZGluZygpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaXNGcmVlT3JkZXIgPSAocmVzcG9uc2U6IGFueSkgPT5cbiAgcmVzcG9uc2UgJiZcbiAgcmVzcG9uc2UuZGF0YSAmJlxuICByZXNwb25zZS5kYXRhLmRhdGFiYXNlICYmXG4gIHJlc3BvbnNlLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlciAmJlxuICByZXNwb25zZS5kYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIuc3RhdHVzRmxhZ3MgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLnN0YXR1c0ZsYWdzLmlzRnJlZU9yZGVyID09PSB0cnVlO1xuXG5leHBvcnQgY29uc3QgaGFzU3Vic2NyaXB0aW9uID0gKHJlc3BvbnNlOiBhbnkpID0+XG4gIHJlc3BvbnNlICYmXG4gIHJlc3BvbnNlLmRhdGEgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZSAmJlxuICByZXNwb25zZS5kYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLnN0YXR1c0ZsYWdzICYmXG4gIHJlc3BvbnNlLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlci5zdGF0dXNGbGFncy5oYXNTdWJzY3JpcHRpb24gPT09IHRydWU7XG5cbmV4cG9ydCBjb25zdCBzaG93RWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT5cbiAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuZXhwb3J0IGNvbnN0IGhpZGVFbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PlxuICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcblxuLy8gdGhlIEBjbGllbnQgZGlyZWN0aXZlIGVuc3VyZXMgd2Ugb25seSBmZXRjaCB0aGlzIGZyb20gdGhlIGxvY2FsIGNhY2hlIHNvIHRoYXQgd2UgZG9uJ3Qgd2FpdCBvbiBuZXR3b3JrXG4vLyB3ZSBjYW4gb25seSB1c2UgdGhpcyBzYWZlbHkgaW5zaWRlIGEgcmVuZGVyZWQgY2FydC9jaGVja291dC9jb25maXJtYXRpb24gY29udGFpbmVyXG4vLyBhcyB0byByZW5kZXIgdGhhdCB2aWV3LCBhIHF1ZXJ5IGhhZCB0byBiZSBtYWRlIHdoaWNoICphbHdheXMqIGluY2x1ZGVzIHRoZSBmbGFncyBsaXN0ZWQgYmVsb3cuXG4vLyBpZiB5b3UgYXJlIGFkZGluZyBuZXcgZmxhZ3MgdG8gdGhpcywgcGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBmbGFncyBhcmUgKmFsd2F5cyogaW5jbHVkZWRcbi8vIGZvciBhbGwgdHlwZXMgb2YgY29tbWVyY2UgZWxlbWVudHMgaW4gYHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL0R5bmFtb1F1ZXJ5L0R5bmFtb1F1ZXJ5LmpzYFxuY29uc3Qgb3JkZXJTdGF0dXNGbGFnc1F1ZXJ5ID0gZ3FsYFxuICBxdWVyeSBGZXRjaENhcnRJbmZvIHtcbiAgICBkYXRhYmFzZSBAY2xpZW50IHtcbiAgICAgIGlkXG4gICAgICBjb21tZXJjZU9yZGVyIHtcbiAgICAgICAgaWRcbiAgICAgICAgc3RhdHVzRmxhZ3Mge1xuICAgICAgICAgIHJlcXVpcmVzU2hpcHBpbmdcbiAgICAgICAgICBpc0ZyZWVPcmRlclxuICAgICAgICAgIGhhc1N1YnNjcmlwdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5gO1xudHlwZSBPcmRlclN0YXR1c0ZsYWdzID0ge1xuICByZXF1aXJlc1NoaXBwaW5nOiBib29sZWFuO1xuICBpc0ZyZWVPcmRlcjogYm9vbGVhbjtcbiAgaGFzU3Vic2NyaXB0aW9uOiBib29sZWFuO1xufTtcbmV4cG9ydCBjb25zdCBmZXRjaE9yZGVyU3RhdHVzRmxhZ3MgPSAoXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD5cbik6IFByb21pc2U8T3JkZXJTdGF0dXNGbGFncz4gPT5cbiAgYXBvbGxvQ2xpZW50XG4gICAgLnF1ZXJ5KHtcbiAgICAgIHF1ZXJ5OiBvcmRlclN0YXR1c0ZsYWdzUXVlcnksXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZGF0YSAmJlxuICAgICAgICBkYXRhLmRhdGEgJiZcbiAgICAgICAgZGF0YS5kYXRhLmRhdGFiYXNlICYmXG4gICAgICAgIGRhdGEuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyICYmXG4gICAgICAgIGRhdGEuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLnN0YXR1c0ZsYWdzXG4gICAgICApO1xuICAgIH0pO1xuXG5jb25zdCBhY2NlcHRlZE9yZGVyRGF0YVF1ZXJ5ID0gZ3FsYFxuICBxdWVyeSBGZXRjaEFjY2VwdGVkT3JkZXJEYXRhKFxuICAgICRmaW5hbGl6ZWRPcmRlcjogY29tbWVyY2Vfb3JkZXJfZmluYWxpemVkX29yZGVyX2FyZ3NcbiAgKSB7XG4gICAgZGF0YWJhc2Uge1xuICAgICAgaWRcbiAgICAgIGNvbW1lcmNlT3JkZXIoZmluYWxpemVkT3JkZXI6ICRmaW5hbGl6ZWRPcmRlcikge1xuICAgICAgICBpZFxuICAgICAgICB0b3RhbCB7XG4gICAgICAgICAgZGVjaW1hbFZhbHVlXG4gICAgICAgICAgdW5pdFxuICAgICAgICB9XG4gICAgICAgIHVzZXJJdGVtcyB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBjb3VudFxuICAgICAgICAgIHByb2R1Y3Qge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIGZfbmFtZV9cbiAgICAgICAgICB9XG4gICAgICAgICAgc2t1IHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgfVxuICAgICAgICAgIHByaWNlIHtcbiAgICAgICAgICAgIGRlY2ltYWxWYWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuY29uc3QgZmV0Y2hBY2NlcHRlZE9yZGVyRGF0YSA9IChcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgZmluYWxpemVkT3JkZXI6IHtcbiAgICBvcmRlcklkOiBzdHJpbmc7XG4gICAgdG9rZW46IHN0cmluZztcbiAgfVxuKTogUHJvbWlzZTxhbnk+ID0+XG4gIGFwb2xsb0NsaWVudFxuICAgIC5xdWVyeSh7XG4gICAgICBxdWVyeTogYWNjZXB0ZWRPcmRlckRhdGFRdWVyeSxcbiAgICAgIHZhcmlhYmxlczoge2ZpbmFsaXplZE9yZGVyfSxcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiBkYXRhPy5kYXRhPy5kYXRhYmFzZT8uY29tbWVyY2VPcmRlcik7XG5cbmV4cG9ydCBjb25zdCB0cmFja09yZGVyID0gKFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBmaW5hbGl6ZWRPcmRlcjoge1xuICAgIG9yZGVySWQ6IHN0cmluZztcbiAgICB0b2tlbjogc3RyaW5nO1xuICB9XG4pID0+IHtcbiAgLy8gZWFybHkgcmV0dXJuIGlmIGJvdGggZmFjZWJvb2sgYW5kIGdvb2dsZSBkb24ndCBleGlzdCBvbiB0aGUgcGFnZVxuICAvLyB3ZSBkb24ndCBuZWVkIHRvIGZldGNoIHRoaXMgZGF0YSBpZiB3ZSdyZSBub3QgZG9pbmcgYW55IGFuYWx5dGljc1xuICBpZiAodHlwZW9mIGZicSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGd0YWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gY2hlY2sgdG8gc2VlIGlmIHRoaXMgb3JkZXIgd2FzIHRyYWNrZWQgYWxyZWFkeSwgYW5kIGlmIGl0IHdhcywgcmV0dXJuIGVhcmx5XG4gIGxldCB0cmFja2VkT3JkZXJzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkVHJhY2tlZE9yZGVycyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2Ytc2Vlbi1vcmRlcnMnKTtcbiAgICBpZiAoc3RvcmVkVHJhY2tlZE9yZGVycykge1xuICAgICAgdHJhY2tlZE9yZGVycyA9IEpTT04ucGFyc2Uoc3RvcmVkVHJhY2tlZE9yZGVycyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0cmFja2VkT3JkZXJzW2ZpbmFsaXplZE9yZGVyLm9yZGVySWRdKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gd2UgaGF2ZSB0byBmZXRjaCB0aGUgYWNjZXB0ZWQgb3JkZXIgZGF0YSwgaW5zdGVhZCBvZiByZWx5aW5nIG9uIHRoZSBwZW5kaW5nIG9yZGVyIGRhdGFcbiAgLy8gdGhhdCdzIGZldGNoZWQgb24gdGhlIG9yZGVyIGNvbmZpcm1hdGlvbiBwYWdlLCBiZWNhdXNlIHdlIG9ubHkgZ2V0IHRoZSBwdXJjaGFzZWQgaXRlbXNcbiAgLy8gZGF0YSBpZiB0aGUgdXNlciBoYXMgYW4gT3JkZXIgSXRlbXMgZWxlbWVudCBvbiB0aGUgcGFnZS4gd2hpbGUgaSB3b3VsZCBwcmVzdW1lIHRoYXQgbW9zdFxuICAvLyBwZW9wbGUgd291bGQga2VlcCB0aGF0IGVsZW1lbnQgb24gdGhlIHBhZ2UsIGl0J3Mgbm90IGEgZ3VhcmFudGVlLCBzbyB3ZSBuZWVkIHRvIHNlcGFyYXRlbHlcbiAgLy8gZmV0Y2ggaXQgaGVyZSB0byBlbnN1cmUgdGhhdCB3ZSBhbHdheXMgc2VuZCB0aGUgYW5hbHl0aWNzLCByZWdhcmRsZXNzIG9mIGhvdyB0aGUgdXNlciBoYXNcbiAgLy8gY3VzdG9taXplZCB0aGVpciBvcmRlciBjb25maXJtYXRpb24gcGFnZS5cbiAgZmV0Y2hBY2NlcHRlZE9yZGVyRGF0YShhcG9sbG9DbGllbnQsIGZpbmFsaXplZE9yZGVyKS50aGVuKChvcmRlcikgPT4ge1xuICAgIGlmICghb3JkZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7ZGVjaW1hbFZhbHVlLCB1bml0fSA9IG9yZGVyLnRvdGFsO1xuXG4gICAgaWYgKHR5cGVvZiBmYnEgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBmYnEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZicSgndHJhY2snLCAnUHVyY2hhc2UnLCB7XG4gICAgICAgIHZhbHVlOiBkZWNpbWFsVmFsdWUsXG4gICAgICAgIGN1cnJlbmN5OiB1bml0LFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdpdGVtJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICBjb250ZW50X2lkczogKG9yZGVyLnVzZXJJdGVtcyB8fCBbXSkubWFwKChpdGVtKSA9PiBpdGVtLnNrdS5pZCksXG4gICAgICAgIGNvbnRlbnRfdHlwZTogJ3Byb2R1Y3QnLFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdpdGVtJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICBjb250ZW50czogKG9yZGVyLnVzZXJJdGVtcyB8fCBbXSkubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgIGlkOiBpdGVtLnNrdS5pZCxcbiAgICAgICAgICBxdWFudGl0eTogaXRlbS5jb3VudCxcbiAgICAgICAgICBpdGVtX3ByaWNlOiBpdGVtLnByaWNlLmRlY2ltYWxWYWx1ZSxcbiAgICAgICAgfSkpLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ3RhZyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGd0YWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGd0YWcoJ2V2ZW50JywgJ3B1cmNoYXNlJywge1xuICAgICAgICB0cmFuc2FjdGlvbl9pZDogb3JkZXIuaWQsXG4gICAgICAgIHZhbHVlOiBkZWNpbWFsVmFsdWUsXG4gICAgICAgIGN1cnJlbmN5OiB1bml0LFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdpdGVtJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICBpdGVtczogKG9yZGVyLnVzZXJJdGVtcyB8fCBbXSkubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgIGlkOiBpdGVtLnNrdS5pZCxcbiAgICAgICAgICBuYW1lOiBpdGVtLnByb2R1Y3QuZl9uYW1lXyxcbiAgICAgICAgICBxdWFudGl0eTogaXRlbS5jb3VudCxcbiAgICAgICAgICBwcmljZTogaXRlbS5wcmljZS5kZWNpbWFsVmFsdWUsXG4gICAgICAgIH0pKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYWNrZWRPcmRlcnNbZmluYWxpemVkT3JkZXIub3JkZXJJZF0gPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICd3Zi1zZWVuLW9yZGVycycsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHRyYWNrZWRPcmRlcnMpXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsiYWRkTG9hZGluZ0NhbGxiYWNrIiwiY3VzdG9tRGF0YUZvcm1Ub0FycmF5IiwiZXhlY3V0ZUxvYWRpbmdDYWxsYmFja3MiLCJmZXRjaE9yZGVyU3RhdHVzRmxhZ3MiLCJmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlIiwiZmluZENsb3Nlc3RFbGVtZW50QnlDbGFzc05hbWUiLCJmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlIiwiZmluZENsb3Nlc3RFbGVtZW50V2l0aEF0dHJpYnV0ZSIsImZpbmRFbGVtZW50QnlOb2RlVHlwZSIsImZvcm1Ub09iamVjdCIsImhhc1N1YnNjcmlwdGlvbiIsImhpZGVFbGVtZW50IiwiaXNGcmVlT3JkZXIiLCJpc1Byb2R1Y3Rpb25MaWtlRW52IiwiaXNQcm90b2NvbEh0dHBzIiwic2FmZVBhcnNlSnNvbiIsInNldEVsZW1lbnRMb2FkaW5nIiwic2hvd0VsZW1lbnQiLCJ0cmFja09yZGVyIiwidHJpZ2dlclJlbmRlciIsImpzb25TdHJpbmciLCJqc29uIiwiSlNPTiIsInBhcnNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZSIsIlN5bnRheEVycm9yIiwibWVzc2FnZSIsIm1hdGNoIiwidHlwZSIsInNjb3BlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiREFUQV9BVFRSX05PREVfVFlQRSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlVHlwZSIsImVsZW1lbnQiLCJ0YXJnZXQiLCJFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwicGFyZW50RWxlbWVudCIsImRhdGFBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImVycm9yIiwiaXNJbml0aWFsIiwicmVuZGVyRXZlbnQiLCJDdXN0b21FdmVudCIsIlJFTkRFUl9UUkVFX0VWRU5UIiwiZGV0YWlsIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJmb3JtIiwidG9TdHJpbmciLCJ2YWx1ZXMiLCJlbGVtZW50cyIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJTdHJpbmciLCJ0cmltIiwiY3VzdG9tRGF0YSIsIkhUTUxGb3JtRWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJwdXNoIiwidGV4dEFyZWEiLCJIVE1MSW5wdXRFbGVtZW50IiwiY2hlY2tib3giLCJjaGVja2VkIiwidGV4dElucHV0IiwiZWwiLCJ0ciIsIldlYmZsb3ciLCJ0cmFtIiwic2V0Iiwib3BhY2l0eSIsImFkZCIsImFuaW1hdGUiLCJzdGFydCIsInRoZW4iLCJkZXN0cm95IiwibG9hZGluZ0NhbGxiYWNrcyIsImNiIiwiZmluaXNoTG9hZGluZyIsInNoaWZ0IiwidW5kZWZpbmVkIiwicmVzcG9uc2UiLCJkYXRhIiwiZGF0YWJhc2UiLCJjb21tZXJjZU9yZGVyIiwic3RhdHVzRmxhZ3MiLCJzdHlsZSIsInJlbW92ZVByb3BlcnR5Iiwic2V0UHJvcGVydHkiLCJvcmRlclN0YXR1c0ZsYWdzUXVlcnkiLCJncWwiLCJhcG9sbG9DbGllbnQiLCJxdWVyeSIsImFjY2VwdGVkT3JkZXJEYXRhUXVlcnkiLCJmZXRjaEFjY2VwdGVkT3JkZXJEYXRhIiwiZmluYWxpemVkT3JkZXIiLCJ2YXJpYWJsZXMiLCJmYnEiLCJndGFnIiwidHJhY2tlZE9yZGVycyIsInN0b3JlZFRyYWNrZWRPcmRlcnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXJyIiwib3JkZXJJZCIsIm9yZGVyIiwiZGVjaW1hbFZhbHVlIiwidW5pdCIsInRvdGFsIiwiY3VycmVuY3kiLCJjb250ZW50X2lkcyIsInVzZXJJdGVtcyIsIm1hcCIsIml0ZW0iLCJza3UiLCJpZCIsImNvbnRlbnRfdHlwZSIsImNvbnRlbnRzIiwicXVhbnRpdHkiLCJjb3VudCIsIml0ZW1fcHJpY2UiLCJwcmljZSIsInRyYW5zYWN0aW9uX2lkIiwiaXRlbXMiLCJwcm9kdWN0IiwiZl9uYW1lXyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJBQUFBLHlDQUF5Qzs7Ozs7Ozs7Ozs7SUE2TTVCQSxrQkFBa0I7ZUFBbEJBOztJQXREQUMscUJBQXFCO2VBQXJCQTs7SUEwREFDLHVCQUF1QjtlQUF2QkE7O0lBcURBQyxxQkFBcUI7ZUFBckJBOztJQS9OQUMseUJBQXlCO2VBQXpCQTs7SUFnREFDLDZCQUE2QjtlQUE3QkE7O0lBdkNBQyw0QkFBNEI7ZUFBNUJBOztJQXFCQUMsK0JBQStCO2VBQS9CQTs7SUF0Q0FDLHFCQUFxQjtlQUFyQkE7O0lBd0dBQyxZQUFZO2VBQVpBOztJQXlGQUMsZUFBZTtlQUFmQTs7SUFVQUMsV0FBVztlQUFYQTs7SUFsQkFDLFdBQVc7ZUFBWEE7O0lBbEdBQyxtQkFBbUI7ZUFBbkJBOztJQUtBQyxlQUFlO2VBQWZBOztJQTNHQUMsYUFBYTtlQUFiQTs7SUE0S0FDLGlCQUFpQjtlQUFqQkE7O0lBNENBQyxXQUFXO2VBQVhBOztJQTRGQUMsVUFBVTtlQUFWQTs7SUEzTkFDLGFBQWE7ZUFBYkE7OzttRUF2R0c7MkJBSVQ7Ozs7OztBQVVBLE1BQU1KLGdCQUFnQixDQUFDSztJQUM1QixJQUFJQyxPQUFPO0lBQ1gsSUFBSTtRQUNGLElBQUlELGNBQWMsTUFBTTtZQUN0QkMsT0FBT0MsS0FBS0MsS0FBSyxDQUFDQyxtQkFBbUJKO1FB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

}),
14155: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "PillGroups", ({
    enumerable: true,
    get: function() {
        return PillGroups;
    }
}));
const _constants = __webpack_require__(10873);
const KEY_CODES = Object.freeze({
    RETURN: 13,
    SPACE: 32,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40
});
class PillGroups {
    form;
    pillGroups;
    onSelect;
    static hasPillGroups(form) {
        return form.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_PILL_GROUP}"]`).length > 0;
    }
    constructor(form, onSelect){
        this.form = form;
        this.pillGroups = {};
        this.onSelect = onSelect;
    }
    init() {
        const groupNodes = this.form.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_PILL_GROUP}"]`);
        for (const group of groupNodes){
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            const pillGroup = new PillGroup(group, this.onSelect, this);
            pillGroup.init();
            this.pillGroups[pillGroup.optionSetId] = pillGroup;
        }
    }
    setSelectedPillsForSkuValues(skuValues) {
        for (const optionSetId of Object.keys(skuValues)){
            const optionId = skuValues[optionSetId];
            const pillGroup = this.pillGroups[optionSetId];
            if (pillGroup) {
                const pill = pillGroup.findPillById(String(optionId));
                pillGroup.updatePillsWithNewSelected(pill);
            }
        }
    }
}
class PillGroup {
    node;
    optionSetId;
    onSelect;
    pills;
    groups;
    constructor(node, onSelect, groups){
        this.node = node;
        this.optionSetId = String(node.getAttribute(_constants.DATA_ATTR_COMMERCE_OPTION_SET_ID));
        this.onSelect = onSelect;
        this.pills = [];
        this.groups = groups;
    }
    get firstEnabledPill() {
        // find returns the first one it finds, and the pills are in order
        return this.pills.find((pill)=>pill.disabled === false);
    }
    // hacky fake option set compat
    get value() {
        const possiblePill = this.pills.find((pill)=>pill.checked === true);
        return possiblePill ? possiblePill.value : '';
    }
    // hacky fake option set compat
    get options() {
        return this.pills;
    }
    // hacky fake option set compat
    // eslint-disable-next-line accessor-pairs
    set selectedIndex(index) {
        const pill = this.pills[index] || null;
        // @ts-expect-error - TS2345 - Argument of type 'Pill | null' is not assignable to parameter of type 'Pill'.
        this.emitSelected(pill);
    }
    // hacky fake option set compat
    // we only want to support the one DOM attribute, which we have on this group, just not
    // directly exposed, as we don't directly expose the DOM element for the group
    getAttribute(attr) {
        if (attr === _constants.DATA_ATTR_COMMERCE_OPTION_SET_ID) {
            return this.optionSetId;
        } else {
            throw new Error(`PillGroup: Attempted to fetch unsupported attribute ${attr}`);
        }
    }
    init() {
        const pills = this.node.querySelectorAll(`[${_constants.DATA_ATTR_NODE_TYPE}="${_constants.NODE_TYPE_COMMERCE_ADD_TO_CART_PILL}"]`);
        this.pills = Array.from(pills).map((pillNode)=>{
            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
            const pill = new Pill(pillNode, this);
            pill.init();
            return pill;
        });
        // if this group has any enabled pills, we set the first one's tab index so it can be focused
        if (this.firstEnabledPill) {
            this.firstEnabledPill.tabIndex = 0;
        }
        // @zach: store reference to this group on the node so we can access it later
        // we shouldn't be doing this but it's a lot easier than creating some global store
        // i tried the global store method first but the problem is our instance IDs are just the product IDs
        // so if you have two ATCs for the same product, they'd overwrite each other, and only one option list would work
        // so just storing it on the DOM element, and then grabbing it when updating all the option sets is a lot easier :)
        // @ts-expect-error - TS2339 - Property '_wfPillGroup' does not exist on type 'HTMLElement'.
        this.node._wfPillGroup = this;
    }
    findPillById(optionId) {
        return this.pills.find((pill)=>pill.optionId === optionId);
    }
    updatePillsWithNewSelected(selectedPill) {
        // we unselect all of the pills in the pill group
        for (const pill of this.pills){
            pill.tabIndex = -1;
            pill.checked = false;
        }
        if (selectedPill instanceof Pill) {
            // if passed a pill, we give it the proper tab index, and set the aria checked
            selectedPill.tabIndex = 0;
            selectedPill.checked = true;
        } else {
            // if not passed a pill, we're deselecting any option in this group
            // so we call set the tabIndex to the first enabled pill,
            // so tab focus goes back to the first pill on the next enter
            if (this.firstEnabledPill) {
                this.firstEnabledPill.tabIndex = 0;
            }
        }
    }
    emitSelected(selectedPill) {
        this.onSelect({
            optionId: selectedPill.optionId,
            optionSetId: this.optionSetId,
            groups: Object.values(this.groups.pillGroups)
        });
    }
    traverseAndEmitSelected(currentPill, direction) {
        const currentIndex = this.pills.indexOf(currentPill);
        let found = false;
        let idx = currentIndex;
        let nextIndex;
        while(!found){
            if (direction === 'previous') {
                nextIndex = idx - 1;
                // if we reached the start of the list, go to the end
                if (nextIndex < 0) {
                    nextIndex = this.pills.length - 1;
                }
            } else if (direction === 'next') {
                nextIndex = idx + 1;
                // if we reached the end of the list, go to the start
                if (nextIndex === this.pills.length) {
                    nextIndex = 0;
                }
            } else {
                throw new Error(`Unknown pill traversal direction "${direction}", use "previous" or "next"`);
            }
            // if we're back at the pill we started with, we went through the entire list
            // and didn't find any other enabled pills, so we keep this one selected
            if (nextIndex === currentIndex) {
                break;
            }
            const pill = this.pills[nextIndex];
            // @ts-expect-error - TS18048 - 'pill' is possibly 'undefined'.
            if (!pill.disabled) {
                // if the next pill is enabled, we emit it as selected, focus it now that we know what pill should be
                // and finally, break the loop
                // @ts-expect-error - TS2345 - Argument of type 'Pill | undefined' is not assignable to parameter of type 'Pill'.
                this.emitSelected(pill);
                // @ts-expect-error - TS18048 - 'pill' is possibly 'undefined'.
                pill.focus();
                found = true;
            } else {
                // otherwise, we increment our loop index, so we can start the loop again
                // and check the next pill
                idx = nextIndex;
            }
        }
    }
}
class Pill {
    node;
    optionId;
    group;
    constructor(node, group){
        this.node = node;
        this.optionId = String(this.node.getAttribute('data-option-id'));
        this.group = group;
    }
    init() {
        this.tabIndex = -1;
        this.checked = false;
        this.node.addEventListener('keydown', this.handleKeyDown);
        this.node.addEventListener('click', this.handleClick);
    }
    get tabIndex() {
        return this.node.tabIndex;
    }
    set tabIndex(index) {
        this.node.tabIndex = index;
    }
    get value() {
        return this.optionId;
    }
    get checked() {
        return this.node.getAttribute('aria-checked') === 'true';
    }
    set checked(checked) {
        this.node.setAttribute('aria-checked', String(checked));
        if (checked) {
            this.node.classList.add('w--ecommerce-pill-selected');
        } else {
            this.node.classList.remove('w--ecommerce-pill-selected');
        }
    }
    get disabled() {
        return this.node.getAttribute('aria-disabled') === 'true';
    }
    set disabled(disabled) {
        this.node.setAttribute('aria-disabled', String(disabled));
        if (disabled) {
            // if we pragmatically disable a pill, we want to make sure it's not checked
            // and that it can't be focused by the browser
            this.node.classList.add('w--ecommerce-pill-disabled');
            this.checked = false;
            this.tabIndex = -1;
        } else {
            this.node.classList.remove('w--ecommerce-pill-disabled');
        }
    }
    get enabled() {
        return !this.disabled;
    }
    set enabled(enabled) {
        this.disabled = !enabled;
    }
    focus() {
        this.node.focus();
    }
    handleKeyDown = (ev)=>{
        let eventHandled = false;
        // we don't want to handle events when holding down alt or cmd
        // as these are navigation shortcuts that we don't want to break
        if (ev.altKey || ev.metaKey) {
            return;
        }
        switch(ev.keyCode){
            // return and space should act like a click on the pill, selecting/deselecting as needed
            case KEY_CODES.RETURN:
            case KEY_CODES.SPACE:
                this.handleClick();
                eventHandled = true;
                break;
            // up and left go to the previous pill in the group
            case KEY_CODES.UP:
            case KEY_CODES.LEFT:
                this.group.traverseAndEmitSelected(this, 'previous');
                eventHandled = true;
                break;
            // down and right go to the next pill in the group
            case KEY_CODES.DOWN:
            case KEY_CODES.RIGHT:
                this.group.traverseAndEmitSelected(this, 'next');
                eventHandled = true;
                break;
            default:
                break;
        }
        // we only want to stop keyboard events for the keys we're trying to intercept
        if (eventHandled) {
            ev.stopPropagation();
            ev.preventDefault();
        }
    };
    handleClick = ()=>{
        if (this.disabled || this.checked) {
            return;
        }
        this.focus();
        this.group.emitSelected(this);
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERBVEFfQVRUUl9OT0RFX1RZUEUsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9QSUxMX0dST1VQLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfUElMTCxcbiAgREFUQV9BVFRSX0NPTU1FUkNFX09QVElPTl9TRVRfSUQsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5cbmNvbnN0IEtFWV9DT0RFUyA9IE9iamVjdC5mcmVlemUoe1xuICBSRVRVUk46IDEzLFxuICBTUEFDRTogMzIsXG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIFJJR0hUOiAzOSxcbiAgRE9XTjogNDAsXG59KTtcblxudHlwZSBPblNlbGVjdCA9IChhcmcxOiB7XG4gIG9wdGlvbklkOiBzdHJpbmc7XG4gIG9wdGlvblNldElkOiBzdHJpbmc7XG4gIGdyb3VwczogYW55OyAvLyBAVE9ETyAtIHRyeSBhbmQgZml4IHRoaXMgdHlwZSwgT2JqZWN0LnZhbHVlcyBub3QgcGxheWluZyBuaWNlIHdpdGggY2xhc3Nlcztcbn0pID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBQaWxsR3JvdXBzIHtcbiAgZm9ybTogSFRNTEVsZW1lbnQ7XG4gIHBpbGxHcm91cHM6IHtcbiAgICBbb3B0aW9uU2V0SWQ6IHN0cmluZ106IFBpbGxHcm91cDtcbiAgfTtcbiAgb25TZWxlY3Q6IE9uU2VsZWN0O1xuXG4gIHN0YXRpYyBoYXNQaWxsR3JvdXBzKGZvcm06IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGZvcm0ucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgYFske0RBVEFfQVRUUl9OT0RFX1RZUEV9PVwiJHtOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfUElMTF9HUk9VUH1cIl1gXG4gICAgICApLmxlbmd0aCA+IDBcbiAgICApO1xuICB9XG5cbiAgY29uc3RydWN0b3IoZm9ybTogSFRNTEVsZW1lbnQsIG9uU2VsZWN0OiBPblNlbGVjdCkge1xuICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgdGhpcy5waWxsR3JvdXBzID0ge307XG4gICAgdGhpcy5vblNlbGVjdCA9IG9uU2VsZWN0O1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBncm91cE5vZGVzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke05PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9QSUxMX0dST1VQfVwiXWBcbiAgICApO1xuICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgZ3JvdXBOb2Rlcykge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCcuXG4gICAgICBjb25zdCBwaWxsR3JvdXAgPSBuZXcgUGlsbEdyb3VwKGdyb3VwLCB0aGlzLm9uU2VsZWN0LCB0aGlzKTtcbiAgICAgIHBpbGxHcm91cC5pbml0KCk7XG4gICAgICB0aGlzLnBpbGxHcm91cHNbcGlsbEdyb3VwLm9wdGlvblNldElkXSA9IHBpbGxHcm91cDtcbiAgICB9XG4gIH1cblxuICBzZXRTZWxlY3RlZFBpbGxzRm9yU2t1VmFsdWVzKHNrdVZhbHVlczoge1tvcHRpb25TZXRJZDogc3RyaW5nXTogc3RyaW5nfSkge1xuICAgIGZvciAoY29uc3Qgb3B0aW9uU2V0SWQgb2YgT2JqZWN0LmtleXMoc2t1VmFsdWVzKSkge1xuICAgICAgY29uc3Qgb3B0aW9uSWQgPSBza3VWYWx1ZXNbb3B0aW9uU2V0SWRdO1xuICAgICAgY29uc3QgcGlsbEdyb3VwID0gdGhpcy5waWxsR3JvdXBzW29wdGlvblNldElkXTtcbiAgICAgIGlmIChwaWxsR3JvdXApIHtcbiAgICAgICAgY29uc3QgcGlsbCA9IHBpbGxHcm91cC5maW5kUGlsbEJ5SWQoU3RyaW5nKG9wdGlvbklkKSk7XG4gICAgICAgIHBpbGxHcm91cC51cGRhdGVQaWxsc1dpdGhOZXdTZWxlY3RlZChwaWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUGlsbEdyb3VwIHtcbiAgbm9kZTogSFRNTEVsZW1lbnQ7XG4gIG9wdGlvblNldElkOiBzdHJpbmc7XG4gIG9uU2VsZWN0OiBPblNlbGVjdDtcbiAgcGlsbHM6IEFycmF5PFBpbGw+O1xuICBncm91cHM6IFBpbGxHcm91cHM7XG5cbiAgY29uc3RydWN0b3Iobm9kZTogSFRNTEVsZW1lbnQsIG9uU2VsZWN0OiBPblNlbGVjdCwgZ3JvdXBzOiBQaWxsR3JvdXBzKSB7XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB0aGlzLm9wdGlvblNldElkID0gU3RyaW5nKFxuICAgICAgbm9kZS5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSX0NPTU1FUkNFX09QVElPTl9TRVRfSUQpXG4gICAgKTtcbiAgICB0aGlzLm9uU2VsZWN0ID0gb25TZWxlY3Q7XG4gICAgdGhpcy5waWxscyA9IFtdO1xuICAgIHRoaXMuZ3JvdXBzID0gZ3JvdXBzO1xuICB9XG5cbiAgZ2V0IGZpcnN0RW5hYmxlZFBpbGwoKSB7XG4gICAgLy8gZmluZCByZXR1cm5zIHRoZSBmaXJzdCBvbmUgaXQgZmluZHMsIGFuZCB0aGUgcGlsbHMgYXJlIGluIG9yZGVyXG4gICAgcmV0dXJuIHRoaXMucGlsbHMuZmluZCgocGlsbCkgPT4gcGlsbC5kaXNhYmxlZCA9PT0gZmFsc2UpO1xuICB9XG5cbiAgLy8gaGFja3kgZmFrZSBvcHRpb24gc2V0IGNvbXBhdFxuICBnZXQgdmFsdWUoKSB7XG4gICAgY29uc3QgcG9zc2libGVQaWxsID0gdGhpcy5waWxscy5maW5kKChwaWxsKSA9PiBwaWxsLmNoZWNrZWQgPT09IHRydWUpO1xuICAgIHJldHVybiBwb3NzaWJsZVBpbGwgPyBwb3NzaWJsZVBpbGwudmFsdWUgOiAnJztcbiAgfVxuXG4gIC8vIGhhY2t5IGZha2Ugb3B0aW9uIHNldCBjb21wYXRcbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucGlsbHM7XG4gIH1cblxuICAvLyBoYWNreSBmYWtlIG9wdGlvbiBzZXQgY29tcGF0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBhY2Nlc3Nvci1wYWlyc1xuICBzZXQgc2VsZWN0ZWRJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgcGlsbCA9IHRoaXMucGlsbHNbaW5kZXhdIHx8IG51bGw7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ1BpbGwgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnUGlsbCcuXG4gICAgdGhpcy5lbWl0U2VsZWN0ZWQocGlsbCk7XG4gIH1cblxuICAvLyBoYWNreSBmYWtlIG9wdGlvbiBzZXQgY29tcGF0XG4gIC8vIHdlIG9ubHkgd2FudCB0byBzdXBwb3J0IHRoZSBvbmUgRE9NIGF0dHJpYnV0ZSwgd2hpY2ggd2UgaGF2ZSBvbiB0aGlzIGdyb3VwLCBqdXN0IG5vdFxuICAvLyBkaXJlY3RseSBleHBvc2VkLCBhcyB3ZSBkb24ndCBkaXJlY3RseSBleHBvc2UgdGhlIERPTSBlbGVtZW50IGZvciB0aGUgZ3JvdXBcbiAgZ2V0QXR0cmlidXRlKGF0dHI6IHN0cmluZykge1xuICAgIGlmIChhdHRyID09PSBEQVRBX0FUVFJfQ09NTUVSQ0VfT1BUSU9OX1NFVF9JRCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9uU2V0SWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFBpbGxHcm91cDogQXR0ZW1wdGVkIHRvIGZldGNoIHVuc3VwcG9ydGVkIGF0dHJpYnV0ZSAke2F0dHJ9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBpbml0KCkge1xuICAgIGNvbnN0IHBpbGxzID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgWyR7REFUQV9BVFRSX05PREVfVFlQRX09XCIke05PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9QSUxMfVwiXWBcbiAgICApO1xuICAgIHRoaXMucGlsbHMgPSBBcnJheS5mcm9tKHBpbGxzKS5tYXAoKHBpbGxOb2RlKSA9PiB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICAgIGNvbnN0IHBpbGwgPSBuZXcgUGlsbChwaWxsTm9kZSwgdGhpcyk7XG4gICAgICBwaWxsLmluaXQoKTtcbiAgICAgIHJldHVybiBwaWxsO1xuICAgIH0pO1xuICAgIC8vIGlmIHRoaXMgZ3JvdXAgaGFzIGFueSBlbmFibGVkIHBpbGxzLCB3ZSBzZXQgdGhlIGZpcnN0IG9uZSdzIHRhYiBpbmRleCBzbyBpdCBjYW4gYmUgZm9jdXNlZFxuICAgIGlmICh0aGlzLmZpcnN0RW5hYmxlZFBpbGwpIHtcbiAgICAgIHRoaXMuZmlyc3RFbmFibGVkUGlsbC50YWJJbmRleCA9IDA7XG4gICAgfVxuICAgIC8vIEB6YWNoOiBzdG9yZSByZWZlcmVuY2UgdG8gdGhpcyBncm91cCBvbiB0aGUgbm9kZSBzbyB3ZSBjYW4gYWNjZXNzIGl0IGxhdGVyXG4gICAgLy8gd2Ugc2hvdWxkbid0IGJlIGRvaW5nIHRoaXMgYnV0IGl0J3MgYSBsb3QgZWFzaWVyIHRoYW4gY3JlYXRpbmcgc29tZSBnbG9iYWwgc3RvcmVcbiAgICAvLyBpIHRyaWVkIHRoZSBnbG9iYWwgc3RvcmUgbWV0aG9kIGZpcnN0IGJ1dCB0aGUgcHJvYmxlbSBpcyBvdXIgaW5zdGFuY2UgSURzIGFyZSBqdXN0IHRoZSBwcm9kdWN0IElEc1xuICAgIC8vIHNvIGlmIHlvdSBoYXZlIHR3byBBVENzIGZvciB0aGUgc2FtZSBwcm9kdWN0LCB0aGV5J2Qgb3ZlcndyaXRlIGVhY2ggb3RoZXIsIGFuZCBvbmx5IG9uZSBvcHRpb24gbGlzdCB3b3VsZCB3b3JrXG4gICAgLy8gc28ganVzdCBzdG9yaW5nIGl0IG9uIHRoZSBET00gZWxlbWVudCwgYW5kIHRoZW4gZ3JhYmJpbmcgaXQgd2hlbiB1cGRhdGluZyBhbGwgdGhlIG9wdGlvbiBzZXRzIGlzIGEgbG90IGVhc2llciA6KVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnX3dmUGlsbEdyb3VwJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdIVE1MRWxlbWVudCcuXG4gICAgdGhpcy5ub2RlLl93ZlBpbGxHcm91cCA9IHRoaXM7XG4gIH1cblxuICBmaW5kUGlsbEJ5SWQob3B0aW9uSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnBpbGxzLmZpbmQoKHBpbGwpID0+IHBpbGwub3B0aW9uSWQgPT09IG9wdGlvbklkKTtcbiAgfVxuXG4gIHVwZGF0ZVBpbGxzV2l0aE5ld1NlbGVjdGVkKHNlbGVjdGVkUGlsbD86IFBpbGwgfCBudWxsKSB7XG4gICAgLy8gd2UgdW5zZWxlY3QgYWxsIG9mIHRoZSBwaWxscyBpbiB0aGUgcGlsbCBncm91cFxuICAgIGZvciAoY29uc3QgcGlsbCBvZiB0aGlzLnBpbGxzKSB7XG4gICAgICBwaWxsLnRhYkluZGV4ID0gLTE7XG4gICAgICBwaWxsLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0ZWRQaWxsIGluc3RhbmNlb2YgUGlsbCkge1xuICAgICAgLy8gaWYgcGFzc2VkIGEgcGlsbCwgd2UgZ2l2ZSBpdCB0aGUgcHJvcGVyIHRhYiBpbmRleCwgYW5kIHNldCB0aGUgYXJpYSBjaGVja2VkXG4gICAgICBzZWxlY3RlZFBpbGwudGFiSW5kZXggPSAwO1xuICAgICAgc2VsZWN0ZWRQaWxsLmNoZWNrZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBub3QgcGFzc2VkIGEgcGlsbCwgd2UncmUgZGVzZWxlY3RpbmcgYW55IG9wdGlvbiBpbiB0aGlzIGdyb3VwXG4gICAgICAvLyBzbyB3ZSBjYWxsIHNldCB0aGUgdGFiSW5kZXggdG8gdGhlIGZpcnN0IGVuYWJsZWQgcGlsbCxcbiAgICAgIC8vIHNvIHRhYiBmb2N1cyBnb2VzIGJhY2sgdG8gdGhlIGZpcnN0IHBpbGwgb24gdGhlIG5leHQgZW50ZXJcbiAgICAgIGlmICh0aGlzLmZpcnN0RW5hYmxlZFBpbGwpIHtcbiAgICAgICAgdGhpcy5maXJzdEVuYWJsZWRQaWxsLnRhYkluZGV4ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbWl0U2VsZWN0ZWQoc2VsZWN0ZWRQaWxsOiBQaWxsKSB7XG4gICAgdGhpcy5vblNlbGVjdCh7XG4gICAgICBvcHRpb25JZDogc2VsZWN0ZWRQaWxsLm9wdGlvbklkLFxuICAgICAgb3B0aW9uU2V0SWQ6IHRoaXMub3B0aW9uU2V0SWQsXG4gICAgICBncm91cHM6IE9iamVjdC52YWx1ZXModGhpcy5ncm91cHMucGlsbEdyb3VwcyksXG4gICAgfSk7XG4gIH1cblxuICB0cmF2ZXJzZUFuZEVtaXRTZWxlY3RlZChjdXJyZW50UGlsbDogUGlsbCwgZGlyZWN0aW9uOiAncHJldmlvdXMnIHwgJ25leHQnKSB7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5waWxscy5pbmRleE9mKGN1cnJlbnRQaWxsKTtcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICBsZXQgaWR4ID0gY3VycmVudEluZGV4O1xuICAgIGxldCBuZXh0SW5kZXg7XG5cbiAgICB3aGlsZSAoIWZvdW5kKSB7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldmlvdXMnKSB7XG4gICAgICAgIG5leHRJbmRleCA9IGlkeCAtIDE7XG4gICAgICAgIC8vIGlmIHdlIHJlYWNoZWQgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LCBnbyB0byB0aGUgZW5kXG4gICAgICAgIGlmIChuZXh0SW5kZXggPCAwKSB7XG4gICAgICAgICAgbmV4dEluZGV4ID0gdGhpcy5waWxscy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgIG5leHRJbmRleCA9IGlkeCArIDE7XG4gICAgICAgIC8vIGlmIHdlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbGlzdCwgZ28gdG8gdGhlIHN0YXJ0XG4gICAgICAgIGlmIChuZXh0SW5kZXggPT09IHRoaXMucGlsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgbmV4dEluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBVbmtub3duIHBpbGwgdHJhdmVyc2FsIGRpcmVjdGlvbiBcIiR7ZGlyZWN0aW9ufVwiLCB1c2UgXCJwcmV2aW91c1wiIG9yIFwibmV4dFwiYFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB3ZSdyZSBiYWNrIGF0IHRoZSBwaWxsIHdlIHN0YXJ0ZWQgd2l0aCwgd2Ugd2VudCB0aHJvdWdoIHRoZSBlbnRpcmUgbGlzdFxuICAgICAgLy8gYW5kIGRpZG4ndCBmaW5kIGFueSBvdGhlciBlbmFibGVkIHBpbGxzLCBzbyB3ZSBrZWVwIHRoaXMgb25lIHNlbGVjdGVkXG4gICAgICBpZiAobmV4dEluZGV4ID09PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBpbGwgPSB0aGlzLnBpbGxzW25leHRJbmRleF07XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdwaWxsJyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICAgIGlmICghcGlsbC5kaXNhYmxlZCkge1xuICAgICAgICAvLyBpZiB0aGUgbmV4dCBwaWxsIGlzIGVuYWJsZWQsIHdlIGVtaXQgaXQgYXMgc2VsZWN0ZWQsIGZvY3VzIGl0IG5vdyB0aGF0IHdlIGtub3cgd2hhdCBwaWxsIHNob3VsZCBiZVxuICAgICAgICAvLyBhbmQgZmluYWxseSwgYnJlYWsgdGhlIGxvb3BcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ1BpbGwgfCB1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdQaWxsJy5cbiAgICAgICAgdGhpcy5lbWl0U2VsZWN0ZWQocGlsbCk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ3BpbGwnIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgICAgICBwaWxsLmZvY3VzKCk7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG90aGVyd2lzZSwgd2UgaW5jcmVtZW50IG91ciBsb29wIGluZGV4LCBzbyB3ZSBjYW4gc3RhcnQgdGhlIGxvb3AgYWdhaW5cbiAgICAgICAgLy8gYW5kIGNoZWNrIHRoZSBuZXh0IHBpbGxcbiAgICAgICAgaWR4ID0gbmV4dEluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBQaWxsIHtcbiAgbm9kZTogSFRNTEVsZW1lbnQ7XG4gIG9wdGlvbklkOiBzdHJpbmc7XG4gIGdyb3VwOiBQaWxsR3JvdXA7XG5cbiAgY29uc3RydWN0b3Iobm9kZTogSFRNTEVsZW1lbnQsIGdyb3VwOiBQaWxsR3JvdXApIHtcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIHRoaXMub3B0aW9uSWQgPSBTdHJpbmcodGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb24taWQnKSk7XG4gICAgdGhpcy5ncm91cCA9IGdyb3VwO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XG4gICAgdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG4gIH1cblxuICBnZXQgdGFiSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZS50YWJJbmRleDtcbiAgfVxuXG4gIHNldCB0YWJJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy5ub2RlLnRhYkluZGV4ID0gaW5kZXg7XG4gIH1cblxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uSWQ7XG4gIH1cblxuICBnZXQgY2hlY2tlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJykgPT09ICd0cnVlJztcbiAgfVxuXG4gIHNldCBjaGVja2VkKGNoZWNrZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCBTdHJpbmcoY2hlY2tlZCkpO1xuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZCgndy0tZWNvbW1lcmNlLXBpbGwtc2VsZWN0ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ctLWVjb21tZXJjZS1waWxsLXNlbGVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGRpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJykgPT09ICd0cnVlJztcbiAgfVxuXG4gIHNldCBkaXNhYmxlZChkaXNhYmxlZDogYm9vbGVhbikge1xuICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCBTdHJpbmcoZGlzYWJsZWQpKTtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIC8vIGlmIHdlIHByYWdtYXRpY2FsbHkgZGlzYWJsZSBhIHBpbGwsIHdlIHdhbnQgdG8gbWFrZSBzdXJlIGl0J3Mgbm90IGNoZWNrZWRcbiAgICAgIC8vIGFuZCB0aGF0IGl0IGNhbid0IGJlIGZvY3VzZWQgYnkgdGhlIGJyb3dzZXJcbiAgICAgIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKCd3LS1lY29tbWVyY2UtcGlsbC1kaXNhYmxlZCcpO1xuICAgICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG4gICAgICB0aGlzLnRhYkluZGV4ID0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubm9kZS5jbGFzc0xpc3QucmVtb3ZlKCd3LS1lY29tbWVyY2UtcGlsbC1kaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBlbmFibGVkKCkge1xuICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZDtcbiAgfVxuXG4gIHNldCBlbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmRpc2FibGVkID0gIWVuYWJsZWQ7XG4gIH1cblxuICBmb2N1cygpIHtcbiAgICB0aGlzLm5vZGUuZm9jdXMoKTtcbiAgfVxuXG4gIGhhbmRsZUtleURvd24gPSAoZXY6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBsZXQgZXZlbnRIYW5kbGVkID0gZmFsc2U7XG5cbiAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGhhbmRsZSBldmVudHMgd2hlbiBob2xkaW5nIGRvd24gYWx0IG9yIGNtZFxuICAgIC8vIGFzIHRoZXNlIGFyZSBuYXZpZ2F0aW9uIHNob3J0Y3V0cyB0aGF0IHdlIGRvbid0IHdhbnQgdG8gYnJlYWtcbiAgICBpZiAoZXYuYWx0S2V5IHx8IGV2Lm1ldGFLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV2LmtleUNvZGUpIHtcbiAgICAgIC8vIHJldHVybiBhbmQgc3BhY2Ugc2hvdWxkIGFjdCBsaWtlIGEgY2xpY2sgb24gdGhlIHBpbGwsIHNlbGVjdGluZy9kZXNlbGVjdGluZyBhcyBuZWVkZWRcbiAgICAgIGNhc2UgS0VZX0NPREVTLlJFVFVSTjpcbiAgICAgIGNhc2UgS0VZX0NPREVTLlNQQUNFOlxuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrKCk7XG4gICAgICAgIGV2ZW50SGFuZGxlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gdXAgYW5kIGxlZnQgZ28gdG8gdGhlIHByZXZpb3VzIHBpbGwgaW4gdGhlIGdyb3VwXG4gICAgICBjYXNlIEtFWV9DT0RFUy5VUDpcbiAgICAgIGNhc2UgS0VZX0NPREVTLkxFRlQ6XG4gICAgICAgIHRoaXMuZ3JvdXAudHJhdmVyc2VBbmRFbWl0U2VsZWN0ZWQodGhpcywgJ3ByZXZpb3VzJyk7XG4gICAgICAgIGV2ZW50SGFuZGxlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gZG93biBhbmQgcmlnaHQgZ28gdG8gdGhlIG5leHQgcGlsbCBpbiB0aGUgZ3JvdXBcbiAgICAgIGNhc2UgS0VZX0NPREVTLkRPV046XG4gICAgICBjYXNlIEtFWV9DT0RFUy5SSUdIVDpcbiAgICAgICAgdGhpcy5ncm91cC50cmF2ZXJzZUFuZEVtaXRTZWxlY3RlZCh0aGlzLCAnbmV4dCcpO1xuICAgICAgICBldmVudEhhbmRsZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIHdlIG9ubHkgd2FudCB0byBzdG9wIGtleWJvYXJkIGV2ZW50cyBmb3IgdGhlIGtleXMgd2UncmUgdHJ5aW5nIHRvIGludGVyY2VwdFxuICAgIGlmIChldmVudEhhbmRsZWQpIHtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5jaGVja2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5mb2N1cygpO1xuICAgIHRoaXMuZ3JvdXAuZW1pdFNlbGVjdGVkKHRoaXMpO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbIlBpbGxHcm91cHMiLCJLRVlfQ09ERVMiLCJPYmplY3QiLCJmcmVlemUiLCJSRVRVUk4iLCJTUEFDRSIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsImZvcm0iLCJwaWxsR3JvdXBzIiwib25TZWxlY3QiLCJoYXNQaWxsR3JvdXBzIiwicXVlcnlTZWxlY3RvckFsbCIsIkRBVEFfQVRUUl9OT0RFX1RZUEUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfUElMTF9HUk9VUCIsImxlbmd0aCIsImNvbnN0cnVjdG9yIiwiaW5pdCIsImdyb3VwTm9kZXMiLCJncm91cCIsInBpbGxHcm91cCIsIlBpbGxHcm91cCIsIm9wdGlvblNldElkIiwic2V0U2VsZWN0ZWRQaWxsc0ZvclNrdVZhbHVlcyIsInNrdVZhbHVlcyIsImtleXMiLCJvcHRpb25JZCIsInBpbGwiLCJmaW5kUGlsbEJ5SWQiLCJTdHJpbmciLCJ1cGRhdGVQaWxsc1dpdGhOZXdTZWxlY3RlZCIsIm5vZGUiLCJwaWxscyIsImdyb3VwcyIsImdldEF0dHJpYnV0ZSIsIkRBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lEIiwiZmlyc3RFbmFibGVkUGlsbCIsImZpbmQiLCJkaXNhYmxlZCIsInZhbHVlIiwicG9zc2libGVQaWxsIiwiY2hlY2tlZCIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwiaW5kZXgiLCJlbWl0U2VsZWN0ZWQiLCJhdHRyIiwiRXJyb3IiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfUElMTCIsIkFycmF5IiwiZnJvbSIsIm1hcCIsInBpbGxOb2RlIiwiUGlsbCIsInRhYkluZGV4IiwiX3dmUGlsbEdyb3VwIiwic2VsZWN0ZWRQaWxsIiwidmFsdWVzIiwidHJhdmVyc2VBbmRFbWl0U2VsZWN0ZWQiLCJjdXJyZW50UGlsbCIsImRpcmVjdGlvbiIsImN1cnJlbnRJbmRleCIsImluZGV4T2YiLCJmb3VuZCIsImlkeCIsIm5leHRJbmRleCIsImZvY3VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUtleURvd24iLCJoYW5kbGVDbGljayIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImVuYWJsZWQiLCJldiIsImV2ZW50SGFuZGxlZCIsImFsdEtleSIsIm1ldGFLZXkiLCJrZXlDb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7K0JBc0JhQTs7O2VBQUFBOzs7MkJBakJOO0FBRVAsTUFBTUMsWUFBWUMsT0FBT0MsTUFBTSxDQUFDO0lBQzlCQyxRQUFRO0lBQ1JDLE9BQU87SUFDUEMsTUFBTTtJQUNOQyxJQUFJO0lBQ0pDLE9BQU87SUFDUEMsTUFBTTtBQUNSO0FBUU8sTUFBTVQ7SUFDWFUsS0FBa0I7SUFDbEJDLFdBRUU7SUFDRkMsU0FBbUI7SUFFbkIsT0FBT0MsY0FBY0gsSUFBaUIsRUFBRTtRQUN0QyxPQUNFQSxLQUFLSSxnQkFBZ0IsQ0FDbkIsQ0FBQyxDQUFDLEVBQUVDLDhCQUFtQixDQUFDLEVBQUUsRUFBRUMsb0RBQXlDLENBQUMsRUFBRSxDQUFDLEVBQ3pFQyxNQUFNLEdBQUc7SUFFZjtJQUVBQyxZQUFZUixJQUFpQixFQUFFRSxRQUFrQixDQUFFO1FBQ2pELElBQUksQ0FBQ0YsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUM7UUFDbkIsSUFBSSxDQUFDQyxRQUFRLEdBQUdBO0lBQ2xCO0lBRUFPLE9BQU87UUFDTCxNQUFNQyxhQUFhLElBQUksQ0FBQ1YsSUFBSSxDQUFDSSxnQkFBZ0IsQ0FDM0MsQ0FBQyxDQUFDLEVBQUVDLDhCQUFtQixDQUFDLEVBQUUsRUFBRUMsb0RBQXlDLENBQUMsRUFBRSxDQUFDO1FBRTNFLEtBQUssTUFBTUssU0FBU0QsV0FBWTtZQUM5QiwrR0FBK0c7WUFDL0csTUFBTUUsWUFBWSxJQUFJQyxVQUFVRixPQUFPLElBQUksQ0FBQ1QsUUFBUSxFQUFFLElBQUk7WUFDMURVLFVBQVVILElBQUk7WUFDZCxJQUFJLENBQUNSLFVBQVUs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

}),
85986: (function (__unused_webpack_module, exports) {
"use strict";
// Added a Flow type here since
// our bundle builder when stripping Flow types
// uses a newer version of flow-parser (0.203)
// which requires a variable declaration to have
// a type
// eslint-disable-next-line no-var

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "default", ({
    enumerable: true,
    get: function() {
        return _default;
    }
}));
const _default = {
    log: (...args)=>{
        if (false) {}
    },
    error: (...args)=>{
        if (false) {}
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYnVnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFkZGVkIGEgRmxvdyB0eXBlIGhlcmUgc2luY2Vcbi8vIG91ciBidW5kbGUgYnVpbGRlciB3aGVuIHN0cmlwcGluZyBGbG93IHR5cGVzXG4vLyB1c2VzIGEgbmV3ZXIgdmVyc2lvbiBvZiBmbG93LXBhcnNlciAoMC4yMDMpXG4vLyB3aGljaCByZXF1aXJlcyBhIHZhcmlhYmxlIGRlY2xhcmF0aW9uIHRvIGhhdmVcbi8vIGEgdHlwZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuZGVjbGFyZSB2YXIgcHJvY2VzczogYW55O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxvZzogKC4uLmFyZ3M6IEFycmF5PHVua25vd24+KSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgICB9XG4gIH0sXG4gIGVycm9yOiAoLi4uYXJnczogQXJyYXk8dW5rbm93bj4pID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICAgIH1cbiAgfSxcbn07XG4iXSwibmFtZXMiOlsibG9nIiwiYXJncyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbnNvbGUiLCJlcnJvciJdLCJtYXBwaW5ncyI6IkFBQUEsK0JBQStCO0FBQy9CLCtDQUErQztBQUMvQyw4Q0FBOEM7QUFDOUMsZ0RBQWdEO0FBQ2hELFNBQVM7QUFDVCxrQ0FBa0M7Ozs7OytCQUdsQzs7O2VBQUE7OztNQUFBLFdBQWU7SUFDYkEsS0FBSyxDQUFDLEdBQUdDO1FBQ1AsSUFBSUMsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssZUFBZTtZQUMxQ0MsUUFBUUwsR0FBRyxJQUFJQztRQUNqQjtJQUNGO0lBQ0FLLE9BQU8sQ0FBQyxHQUFHTDtRQUNULElBQUlDLFFBQVFDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLGVBQWU7WUFDMUNDLFFBQVFMLEdBQUcsSUFBSUM7UUFDakI7SUFDRjtBQUNGIn0=

}),
48873: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "default", ({
    enumerable: true,
    get: function() {
        return EventHandlerProxyWithApolloClient;
    }
}));
// @ts-expect-error - TS7023 - 'enumeratePrototypeProps' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions.
const enumeratePrototypeProps = (obj, propNames = [])=>{
    if (obj == null) {
        return propNames;
    }
    return propNames.concat(enumeratePrototypeProps(Object.getPrototypeOf(obj)))// @ts-expect-error - TS2769 - No overload matches this call.
    .concat(Object.keys(obj));
};
const createEventProxy = (event, currentTarget)=>{
    // @ts-expect-error - TS2347 - Untyped function calls may not accept type arguments.
    const propertyDefinitions = enumeratePrototypeProps(event)// @ts-expect-error - TS7006 - Parameter 'propName' implicitly has an 'any' type.
    .filter((propName)=>propName !== 'currentTarget')// @ts-expect-error - TS7006 - Parameter 'proxies' implicitly has an 'any' type. | TS7006 - Parameter 'propName' implicitly has an 'any' type.
    .reduce((proxies, propName)=>{
        proxies[propName] = // @ts-expect-error Object.keys is "unsound", always infers `string` as output
        typeof event[propName] === 'function' ? // @ts-expect-error Object.keys is "unsound", always infers `string` as output
        {
            value: (...args)=>event[propName](...args)
        } : // @ts-expect-error Object.keys is "unsound", always infers `string` as output
        {
            get: ()=>event[propName]
        };
        return proxies;
    }, {});
    const retargetedEvent = Object.create(event, {
        // set currentTarget to the matched node:
        currentTarget: {
            value: currentTarget
        },
        ...propertyDefinitions
    });
    return retargetedEvent;
};
class EventHandlerProxyWithApolloClient {
    apolloClient;
    stripeStore;
    eventHandlers;
    constructor(apolloClient, stripeStore){
        this.eventHandlers = {};
        this.apolloClient = apolloClient;
        this.stripeStore = stripeStore;
    }
    on = (eventName, eventMatcher, handler)=>{
        const existingHandlers = this.eventHandlers[eventName] instanceof Array ? this.eventHandlers[eventName] : [];
        this.eventHandlers[eventName] = [
            ...existingHandlers,
            this.createHandlerProxy(eventName, eventMatcher, handler)
        ];
        return this;
    };
    createHandlerProxy = (eventName, eventMatcher, handler)=>(event)=>{
            const match = eventMatcher(event);
            const eventProxy = match instanceof Element ? createEventProxy(event, match) : event;
            if (match) {
                handler(eventProxy, this.apolloClient, this.stripeStore);
            }
        };
    attachHandlers = (target)=>{
        Object.keys(this.eventHandlers).forEach((eventName)=>{
            const handlerProxies = this.eventHandlers[eventName];
            // @ts-expect-error - TS18048 - 'handlerProxies' is possibly 'undefined'.
            handlerProxies.forEach((handlerProxy)=>target.addEventListener(eventName, handlerProxy, true));
        });
        return this;
    };
    removeHandlers = (target)=>{
        Object.keys(this.eventHandlers).forEach((eventName)=>{
            const handlerProxies = this.eventHandlers[eventName];
            // @ts-expect-error - TS18048 - 'handlerProxies' is possibly 'undefined'.
            handlerProxies.forEach((handlerProxy)=>target.removeEventListener(eventName, handlerProxy, true));
        });
        return this;
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fwb2xsb0NsaWVudCwgTm9ybWFsaXplZENhY2hlT2JqZWN0fSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5pbXBvcnQge1N0cmlwZVN0b3JlfSBmcm9tICcuL3N0cmlwZVN0b3JlJztcbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcldpdGhBcG9sbG9BbmRTdHJpcGUgPSAoXG4gIGFyZzE6IEV2ZW50LFxuICBhcmcyOiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgYXJnMzogU3RyaXBlU3RvcmVcbikgPT4gdm9pZDtcbnR5cGUgRXZlbnRIYW5kbGVyUHJveHkgPSAoYXJnMTogRXZlbnQpID0+IHZvaWQ7XG50eXBlIEV2ZW50TWF0Y2hlciA9IChhcmcxOiBFdmVudCkgPT4gYm9vbGVhbiB8IEVsZW1lbnQ7XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMjMgLSAnZW51bWVyYXRlUHJvdG90eXBlUHJvcHMnIGltcGxpY2l0bHkgaGFzIHJldHVybiB0eXBlICdhbnknIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhIHJldHVybiB0eXBlIGFubm90YXRpb24gYW5kIGlzIHJlZmVyZW5jZWQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbiBvbmUgb2YgaXRzIHJldHVybiBleHByZXNzaW9ucy5cbmNvbnN0IGVudW1lcmF0ZVByb3RvdHlwZVByb3BzID0gKFxuICBvYmo6IG51bGwgfCBFdmVudCB8IHR5cGVvZiBPYmplY3QucHJvdG90eXBlLFxuICBwcm9wTmFtZXMgPSBbXVxuKSA9PiB7XG4gIGlmIChvYmogPT0gbnVsbCkge1xuICAgIHJldHVybiBwcm9wTmFtZXM7XG4gIH1cbiAgcmV0dXJuIChcbiAgICBwcm9wTmFtZXNcbiAgICAgIC5jb25jYXQoZW51bWVyYXRlUHJvdG90eXBlUHJvcHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpKVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjc2OSAtIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgICAgLmNvbmNhdChPYmplY3Qua2V5cyhvYmopKVxuICApO1xufTtcblxuY29uc3QgY3JlYXRlRXZlbnRQcm94eSA9IChldmVudDogRXZlbnQsIGN1cnJlbnRUYXJnZXQ6IEVsZW1lbnQpID0+IHtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NyAtIFVudHlwZWQgZnVuY3Rpb24gY2FsbHMgbWF5IG5vdCBhY2NlcHQgdHlwZSBhcmd1bWVudHMuXG4gIGNvbnN0IHByb3BlcnR5RGVmaW5pdGlvbnMgPSBlbnVtZXJhdGVQcm90b3R5cGVQcm9wcyhldmVudClcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdwcm9wTmFtZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAuZmlsdGVyKChwcm9wTmFtZSkgPT4gcHJvcE5hbWUgIT09ICdjdXJyZW50VGFyZ2V0JylcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdwcm94aWVzJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLiB8IFRTNzAwNiAtIFBhcmFtZXRlciAncHJvcE5hbWUnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PigocHJveGllcywgcHJvcE5hbWUpID0+IHtcbiAgICAgIHByb3hpZXNbcHJvcE5hbWVdID1cbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBPYmplY3Qua2V5cyBpcyBcInVuc291bmRcIiwgYWx3YXlzIGluZmVycyBgc3RyaW5nYCBhcyBvdXRwdXRcbiAgICAgICAgdHlwZW9mIGV2ZW50W3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gLy8gUHJveHkgYWxsIHRoZSBldmVudCBtZXRob2RzIHNvIHRoZXkgd2lsbCBhY3Qgb24gdGhlIG9yaWdpbmFsIGV2ZW50OlxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBPYmplY3Qua2V5cyBpcyBcInVuc291bmRcIiwgYWx3YXlzIGluZmVycyBgc3RyaW5nYCBhcyBvdXRwdXRcbiAgICAgICAgICAgIHt2YWx1ZTogKC4uLmFyZ3MpID0+IGV2ZW50W3Byb3BOYW1lXSguLi5hcmdzKX1cbiAgICAgICAgICA6IC8vIFByb3h5IHN0YXRpYyBwcm9wcy9nZXR0ZXJzIGJlY2F1c2UgaW52b2tpbmcgdGhlbSBkaXJlY3RseSBtYXkgcmVzdWx0IGluIFwiSWxsZWdhbCBpbnZva2F0aW9uXCIgZXJyb3IuXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE9iamVjdC5rZXlzIGlzIFwidW5zb3VuZFwiLCBhbHdheXMgaW5mZXJzIGBzdHJpbmdgIGFzIG91dHB1dFxuICAgICAgICAgICAge2dldDogKCkgPT4gZXZlbnRbcHJvcE5hbWVdfTtcbiAgICAgIHJldHVybiBwcm94aWVzO1xuICAgIH0sIHt9KTtcblxuICBjb25zdCByZXRhcmdldGVkRXZlbnQgPSBPYmplY3QuY3JlYXRlKGV2ZW50LCB7XG4gICAgLy8gc2V0IGN1cnJlbnRUYXJnZXQgdG8gdGhlIG1hdGNoZWQgbm9kZTpcbiAgICBjdXJyZW50VGFyZ2V0OiB7dmFsdWU6IGN1cnJlbnRUYXJnZXR9LFxuXG4gICAgLi4ucHJvcGVydHlEZWZpbml0aW9ucyxcbiAgfSk7XG4gIHJldHVybiByZXRhcmdldGVkRXZlbnQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQge1xuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+O1xuICBzdHJpcGVTdG9yZTogU3RyaXBlU3RvcmU7XG4gIGV2ZW50SGFuZGxlcnM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBBcnJheTxFdmVudEhhbmRsZXJQcm94eT47XG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PixcbiAgICBzdHJpcGVTdG9yZTogU3RyaXBlU3RvcmVcbiAgKSB7XG4gICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge307XG4gICAgdGhpcy5hcG9sbG9DbGllbnQgPSBhcG9sbG9DbGllbnQ7XG4gICAgdGhpcy5zdHJpcGVTdG9yZSA9IHN0cmlwZVN0b3JlO1xuICB9XG5cbiAgb24gPSAoXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXG4gICAgZXZlbnRNYXRjaGVyOiBFdmVudE1hdGNoZXIsXG4gICAgaGFuZGxlcjogRXZlbnRIYW5kbGVyV2l0aEFwb2xsb0FuZFN0cmlwZVxuICApID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0hhbmRsZXJzOiBBcnJheTxFdmVudEhhbmRsZXJQcm94eT4gPVxuICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICA/IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdXG4gICAgICAgIDogW107XG4gICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBbXG4gICAgICAuLi5leGlzdGluZ0hhbmRsZXJzLFxuICAgICAgdGhpcy5jcmVhdGVIYW5kbGVyUHJveHkoZXZlbnROYW1lLCBldmVudE1hdGNoZXIsIGhhbmRsZXIpLFxuICAgIF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgY3JlYXRlSGFuZGxlclByb3h5ID1cbiAgICAoXG4gICAgICBldmVudE5hbWU6IHN0cmluZyxcbiAgICAgIGV2ZW50TWF0Y2hlcjogRXZlbnRNYXRjaGVyLFxuICAgICAgaGFuZGxlcjogRXZlbnRIYW5kbGVyV2l0aEFwb2xsb0FuZFN0cmlwZVxuICAgICk6IEV2ZW50SGFuZGxlclByb3h5ID0+XG4gICAgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSBldmVudE1hdGNoZXIoZXZlbnQpO1xuICAgICAgY29uc3QgZXZlbnRQcm94eSA9XG4gICAgICAgIG1hdGNoIGluc3RhbmNlb2YgRWxlbWVudCA/IGNyZWF0ZUV2ZW50UHJveHkoZXZlbnQsIG1hdGNoKSA6IGV2ZW50O1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGhhbmRsZXIoZXZlbnRQcm94eSwgdGhpcy5hcG9sbG9DbGllbnQsIHRoaXMuc3RyaXBlU3RvcmUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgYXR0YWNoSGFuZGxlcnMgPSAodGFyZ2V0OiBFbGVtZW50KSA9PiB7XG4gICAgT2JqZWN0LmtleXModGhpcy5ldmVudEhhbmRsZXJzKS5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZXJQcm94aWVzID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV07XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdoYW5kbGVyUHJveGllcycgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gICAgICBoYW5kbGVyUHJveGllcy5mb3JFYWNoKChoYW5kbGVyUHJveHkpID0+XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlclByb3h5LCB0cnVlKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZW1vdmVIYW5kbGVycyA9ICh0YXJnZXQ6IEVsZW1lbnQpID0+IHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLmV2ZW50SGFuZGxlcnMpLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlclByb3hpZXMgPSB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ2hhbmRsZXJQcm94aWVzJyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICAgIGhhbmRsZXJQcm94aWVzLmZvckVhY2goKGhhbmRsZXJQcm94eSkgPT5cbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyUHJveHksIHRydWUpXG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbIkV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCIsImVudW1lcmF0ZVByb3RvdHlwZVByb3BzIiwib2JqIiwicHJvcE5hbWVzIiwiY29uY2F0IiwiT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJrZXlzIiwiY3JlYXRlRXZlbnRQcm94eSIsImV2ZW50IiwiY3VycmVudFRhcmdldCIsInByb3BlcnR5RGVmaW5pdGlvbnMiLCJmaWx0ZXIiLCJwcm9wTmFtZSIsInJlZHVjZSIsInByb3hpZXMiLCJ2YWx1ZSIsImFyZ3MiLCJnZXQiLCJyZXRhcmdldGVkRXZlbnQiLCJjcmVhdGUiLCJhcG9sbG9DbGllbnQiLCJzdHJpcGVTdG9yZSIsImV2ZW50SGFuZGxlcnMiLCJjb25zdHJ1Y3RvciIsIm9uIiwiZXZlbnROYW1lIiwiZXZlbnRNYXRjaGVyIiwiaGFuZGxlciIsImV4aXN0aW5nSGFuZGxlcnMiLCJBcnJheSIsImNyZWF0ZUhhbmRsZXJQcm94eSIsIm1hdGNoIiwiZXZlbnRQcm94eSIsIkVsZW1lbnQiLCJhdHRhY2hIYW5kbGVycyIsInRhcmdldCIsImZvckVhY2giLCJoYW5kbGVyUHJveGllcyIsImhhbmRsZXJQcm94eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVIYW5kbGVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7Ozs7K0JBc0RBOzs7ZUFBcUJBOzs7QUE1Q3JCLHNOQUFzTjtBQUN0TixNQUFNQywwQkFBMEIsQ0FDOUJDLEtBQ0FDLFlBQVksRUFBRTtJQUVkLElBQUlELE9BQU8sTUFBTTtRQUNmLE9BQU9DO0lBQ1Q7SUFDQSxPQUNFQSxVQUNHQyxNQUFNLENBQUNILHdCQUF3QkksT0FBT0MsY0FBYyxDQUFDSixNQUN0RCw2REFBNkQ7S0FDNURFLE1BQU0sQ0FBQ0MsT0FBT0UsSUFBSSxDQUFDTDtBQUUxQjtBQUVBLE1BQU1NLG1CQUFtQixDQUFDQyxPQUFjQztJQUN0QyxvRkFBb0Y7SUFDcEYsTUFBTUMsc0JBQXNCVix3QkFBd0JRLE1BQ2xELGlGQUFpRjtLQUNoRkcsTUFBTSxDQUFDLENBQUNDLFdBQWFBLGFBQWEsZ0JBQ25DLDhJQUE4STtLQUM3SUMsTUFBTSxDQUFzQixDQUFDQyxTQUFTRjtRQUNyQ0UsT0FBTyxDQUFDRixTQUFTLEdBQ2YsOEVBQThFO1FBQzlFLE9BQU9KLEtBQUssQ0FBQ0ksU0FBUyxLQUFLLGFBRXZCLDhFQUE4RTtRQUM5RTtZQUFDRyxPQUFPLENBQUMsR0FBR0MsT0FBU1IsS0FBSyxDQUFDSSxTQUFTLElBQUlJO1FBQUssSUFFN0MsOEVBQThFO1FBQzlFO1lBQUNDLEtBQUssSUFBTVQsS0FBSyxDQUFDSSxTQUFTO1FBQUE7UUFDakMsT0FBT0U7SUFDVCxHQUFHLENBQUM7SUFFTixNQUFNSSxrQkFBa0JkLE9BQU9lLE1BQU0sQ0FBQ1gsT0FBTztRQUMzQyx5Q0FBeUM7UUFDekNDLGVBQWU7WUFBQ00sT0FBT047UUFBYTtRQUVwQyxHQUFHQyxtQkFBbUI7SUFDeEI7SUFDQSxPQUFPUTtBQUNUO0FBRWUsTUFBTW5CO0lBQ25CcUIsYUFBa0Q7SUFDbERDLFlBQXlCO0lBQ3pCQyxjQUVFO0lBRUZDLFlBQ0VILFlBQWlELEVBQ2pEQyxXQUF3QixDQUN4QjtRQUNBLElBQUksQ0FBQ0MsYUFBYSxHQUFHLENBQUM7UUFDdEIsSUFBSSxDQUFDRixZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtJQUNyQjtJQUVBRyxLQUFLLENBQ0hDLFdBQ0FDLGNBQ0FDO1FBRUEsTUFBTUMsbUJBQ0osSUFBSSxDQUFDTixhQUFhLENBQUNHLFVBQVUsWUFBWUksUUFDckMsSUFBSSxDQUFDUCxhQUFhLENBQUNHLFVBQVUsR0FDN0IsRUFBRTtRQUNSLElBQUksQ0FBQ0gsYUFBYSxDQUFDRyxVQUFVLEdBQUc7ZUFDM0JHO1lBQ0gsSUFBSSxDQUFDRSxrQkFBa0IsQ0FBQ0wsV0FBV0MsY0FBY0M7U0FDbEQ7UUFDRCxPQUFPLElBQUk7SUFDYixFQUFFO0lBRUZHLHFCQUNFLENBQ0VMLFdBQ0FDLGNBQ0FDLFVBRUYsQ0FBQ25CO1lBQ0MsTUFBTXVCLFFBQVFMLGFBQWFsQjtZQUMzQixNQUFNd0IsYUFDSkQsaUJBQWlCRSxVQUFVMUIsaUJBQWlCQyxPQUFPdUIsU0FBU3ZCO1lBQzlELElBQUl1QixPQUFPO2dCQUNUSixRQUFRSyxZQUFZLElBQUksQ0FBQ1osWUFBWSxFQUFFLElBQUksQ0FBQ0MsV0FBVztZQUN6RDtRQUNGLEVBQUU7SUFFSmEsaUJBQWlCLENBQUNDO1FBQ2hCL0IsT0FBT0UsSUFBSSxDQUFDLElBQUksQ0FBQ2dCLGFBQWEsRUFBRWMsT0FBTyxDQUFDLENBQUNYO1lBQ3ZDLE1BQU1ZLGlCQUFpQixJQUFJLENBQUNmLGFBQWEsQ0FBQ0csVUFBVTtZQUNwRCx5RUFBeUU7WUFDekVZLGVBQWVELE9BQU8sQ0FBQyxDQUFDRSxlQUN0QkgsT0FBT0ksZ0JBQWdCLENBQUNkLFdBQVdhLGNBQWM7UUFFckQ7UUFDQSxPQUFPLElBQUk7SUFDYixFQUFFO0lBRUZFLGlCQUFpQixDQUFDTDtRQUNoQi9CLE9BQU9FLElBQUksQ0FBQyxJQUFJLENBQUNnQixhQUFhLEVBQUVjLE9BQU8sQ0FBQyxDQUFDWDtZQUN2QyxNQUFNWSxpQkFBaUIsSUFBSSxDQUFDZixhQUFhLENBQUNHLFVBQVU7WUFDcEQseUVBQXlFO1lBQ3pFWSxlQUFlRCxPQUFPLENBQUMsQ0FBQ0UsZUFDdEJILE9BQU9NLG1CQUFtQixDQUFDaEIsV0FBV2EsY0FBYztRQUV4RDtRQUNBLE9BQU8sSUFBSTtJQUNiLEVBQUU7QUFDSiJ9

}),
2330: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window, document */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    design: function() {
        return design;
    },
    destroy: function() {
        return destroy;
    },
    init: function() {
        return init;
    },
    preview: function() {
        return preview;
    }
});
__webpack_require__(84037);
__webpack_require__(68259);
__webpack_require__(60033);
__webpack_require__(9246);
__webpack_require__(67321);
__webpack_require__(52897);
__webpack_require__(233);
__webpack_require__(49754);
__webpack_require__(30971);
__webpack_require__(62374);
__webpack_require__(55152);
__webpack_require__(35273);
__webpack_require__(30172);
__webpack_require__(65723);
__webpack_require__(48258);
__webpack_require__(89433);
const _apolloClient = __webpack_require__(25195);
const _eventHandlerProxyWithApolloClient = /*#__PURE__*/ _interop_require_default(__webpack_require__(48873));
const _addToCartEvents = /*#__PURE__*/ _interop_require_default(__webpack_require__(84303));
const _cartEvents = /*#__PURE__*/ _interop_require_default(__webpack_require__(82150));
const _checkoutEvents = /*#__PURE__*/ _interop_require_default(__webpack_require__(82333));
const _orderConfirmationEvents = /*#__PURE__*/ _interop_require_default(__webpack_require__(45870));
const _webPaymentsEvents = /*#__PURE__*/ _interop_require_default(__webpack_require__(94492));
const _stripeStore = __webpack_require__(5841);
const _commerceUtils = __webpack_require__(54556);
__webpack_require__(67304);
__webpack_require__(14362);
const _checkoutUtils = __webpack_require__(17696);
const _paypalEvents = /*#__PURE__*/ _interop_require_wildcard(__webpack_require__(86365));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const GQL_QUERY_PATH = '/.wf_graphql/apollo';
// @ts-expect-error - TS7034 - Variable 'handlerProxy' implicitly has type 'any' in some locations where its type cannot be determined.
let handlerProxy;
// @ts-expect-error - TS7034 - Variable 'apolloClient' implicitly has type 'any' in some locations where its type cannot be determined.
let apolloClient;
let stripeStore;
function attachHandlers() {
    // @ts-expect-error - TS7005 - Variable 'handlerProxy' implicitly has an 'any' type.
    handlerProxy && handlerProxy.attachHandlers(window);
}
function detachHandlers() {
    // @ts-expect-error - TS7005 - Variable 'handlerProxy' implicitly has an 'any' type.
    handlerProxy && handlerProxy.removeHandlers(window);
}
// Can be called from published sites or the Designer engine
// Published sites: call point is defined in /models/site.js
// Designer: call point is in CommerceProxyEngine
function init({ siteId }) {
    const designerOrPreview = window.Webflow.env('design') || window.Webflow.env('preview');
    apolloClient = (0, _apolloClient.createApolloClient)({
        path: designerOrPreview ? `/api/v2/sites/${siteId}/apollo` : GQL_QUERY_PATH,
        retryConfig: {
            maxAttempts: 5
        },
        useCsrf: true,
        // Disable batching with reverse proxy. Solves an edge case in E-commerce
        // where legacy and new queries are mixed in the same batch.
        disableBatching: !designerOrPreview
    });
    stripeStore = new _stripeStore.StripeStore(document);
    handlerProxy = new _eventHandlerProxyWithApolloClient.default(apolloClient, stripeStore);
    _addToCartEvents.default.register(handlerProxy);
    _cartEvents.default.register(handlerProxy);
    _checkoutEvents.default.register(handlerProxy);
    _orderConfirmationEvents.default.register(handlerProxy);
    _webPaymentsEvents.default.register(handlerProxy);
    _paypalEvents.default.register(handlerProxy);
    (0, _checkoutUtils.initializeStripeElements)(stripeStore);
    detachHandlers();
    attachHandlers();
    (0, _commerceUtils.triggerRender)(null, true);
    // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
    if (!window.Webflow.env()) {
        // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
        window.Webflow.load((0, _paypalEvents.renderPaypalButtons)(apolloClient));
    }
}
// `preview` should always be called after `init`
function preview() {
    detachHandlers();
    attachHandlers();
    (0, _commerceUtils.triggerRender)(null, true);
}
// `design` should always be called after `init`
function design() {
    detachHandlers();
    // When variant option is changed, we need to reset the Apollo cache in oder to
    // render the right data for the selected variant (main-images, more-images, etc)
    // @ts-expect-error - TS7005 - Variable 'apolloClient' implicitly has an 'any' type.
    if (apolloClient && apolloClient.store) {
        apolloClient.resetStore();
    }
}
function destroy() {
    detachHandlers();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgd2luZG93LCBkb2N1bWVudCAqL1xuaW1wb3J0ICdjdXN0b20tZXZlbnQtcG9seWZpbGwnO1xuXG4vLyBTeW1ib2wgaXMgdXNlZCBpbiB2YXJpb3VzIGNhY2hpbmcvbWVtb2l6YXRpb24gaW1wbGVtZW50YXRpb25zXG5pbXBvcnQgJ2NvcmUtanMvZmVhdHVyZXMvc3ltYm9sJztcblxuLy8gQXQgYSBtaW5pbXVtLCB3ZSBuZWVkIGBBcnJheS5mcm9tYCBhbmQgYEFycmF5LmZpbmRgIHN1cHBvcnQgaW4gSUUxMVxuaW1wb3J0ICdjb3JlLWpzL2ZlYXR1cmVzL2FycmF5JztcblxuLy8gV2UgbmVlZCBTdHJpbmcucHJvdG90eXBlLnJlcGVhdCBmb3IgY3VycmVuY3kgZm9ybWF0dGluZyAoYWRkaW5nIGV4dHJhIGRpZ2l0cylcbmltcG9ydCAnY29yZS1qcy9mZWF0dXJlcy9zdHJpbmcvcmVwZWF0JztcblxuLy8gT2JqZWN0LmVudHJpZXMgZG9lcyBub3QgZXhpc3QgaW4gSUUxMSwgYW5kIGl0J3MgaW4gdGhlIER5bmFtbyBoYXBweSBwYXRoXG5pbXBvcnQgJ2NvcmUtanMvZmVhdHVyZXMvb2JqZWN0L2VudHJpZXMnO1xuXG4vLyBOb2RlTGlzdHMgZG8gbm90IGhhdmUgYSBuYXRpdmUgZm9yRWFjaCBldmVuIHRob3VnaCB0aGV5IGltcGxlbWVudCBJdGVyYWJsZVxuaW1wb3J0ICdjb3JlLWpzL2ZlYXR1cmVzL2RvbS1jb2xsZWN0aW9ucy9mb3ItZWFjaCc7XG5cbi8vIElFMTEgZG9lcyBub3Qgc3VwcG9ydCBOdW1iZXIuaXNOYU4sIHdoaWNoIGlzIGluIHRoZSBEeW5hbW8gaGFwcHkgcGF0aC5cbi8vIFdlJ3JlIG9wdGluZyBmb3IgaW1wb3J0aW5nIHRoZSB3aG9sZSBOdW1iZXIgcG9seWZpbGwgaGVyZSBzaW5jZSB0aGUgb3RoZXJcbi8vIE51bWJlciBwcm90b3R5cGUgbWV0aG9kcyBtYXkgZXhpc3QgaW4gYSBsZXNzZXIgdXNlZCBwYXRoIG9yIGluIHRoZSBmdXR1cmUuXG5pbXBvcnQgJ2NvcmUtanMvZmVhdHVyZXMvbnVtYmVyJztcblxuaW1wb3J0IHtjcmVhdGVBcG9sbG9DbGllbnR9IGZyb20gJ0BwYWNrYWdlcy91dGlsaXRpZXMvYXBvbGxvQ2xpZW50JztcbmltcG9ydCBFdmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQgZnJvbSAnLi9ldmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQnO1xuaW1wb3J0IEFkZFRvQ2FydEV2ZW50cyBmcm9tICcuL2FkZFRvQ2FydEV2ZW50cyc7XG5pbXBvcnQgQ2FydEV2ZW50cyBmcm9tICcuL2NhcnRFdmVudHMnO1xuaW1wb3J0IENoZWNrb3V0RXZlbnRzIGZyb20gJy4vY2hlY2tvdXRFdmVudHMnO1xuaW1wb3J0IE9yZGVyQ29uZmlybWF0aW9uRXZlbnRzIGZyb20gJy4vb3JkZXJDb25maXJtYXRpb25FdmVudHMnO1xuaW1wb3J0IFdlYlBheW1lbnRzRXZlbnRzIGZyb20gJy4vd2ViUGF5bWVudHNFdmVudHMnO1xuaW1wb3J0IHtTdHJpcGVTdG9yZX0gZnJvbSAnLi9zdHJpcGVTdG9yZSc7XG5pbXBvcnQge3RyaWdnZXJSZW5kZXJ9IGZyb20gJy4vY29tbWVyY2VVdGlscyc7XG5pbXBvcnQgJ3Byb21pc2UtcG9seWZpbGwvc3JjL3BvbHlmaWxsJztcbmltcG9ydCAndW5mZXRjaC9wb2x5ZmlsbCc7XG5pbXBvcnQge2luaXRpYWxpemVTdHJpcGVFbGVtZW50c30gZnJvbSAnLi9jaGVja291dFV0aWxzJztcbmltcG9ydCBQYXlQYWxFdmVudHMsIHtyZW5kZXJQYXlwYWxCdXR0b25zfSBmcm9tICcuL3BheXBhbEV2ZW50cyc7XG5cbmNvbnN0IEdRTF9RVUVSWV9QQVRIID0gJy8ud2ZfZ3JhcGhxbC9hcG9sbG8nO1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDM0IC0gVmFyaWFibGUgJ2hhbmRsZXJQcm94eScgaW1wbGljaXRseSBoYXMgdHlwZSAnYW55JyBpbiBzb21lIGxvY2F0aW9ucyB3aGVyZSBpdHMgdHlwZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbmxldCBoYW5kbGVyUHJveHk7XG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDM0IC0gVmFyaWFibGUgJ2Fwb2xsb0NsaWVudCcgaW1wbGljaXRseSBoYXMgdHlwZSAnYW55JyBpbiBzb21lIGxvY2F0aW9ucyB3aGVyZSBpdHMgdHlwZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbmxldCBhcG9sbG9DbGllbnQ7XG5sZXQgc3RyaXBlU3RvcmU7XG5cbmZ1bmN0aW9uIGF0dGFjaEhhbmRsZXJzKCkge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA1IC0gVmFyaWFibGUgJ2hhbmRsZXJQcm94eScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgaGFuZGxlclByb3h5ICYmIGhhbmRsZXJQcm94eS5hdHRhY2hIYW5kbGVycyh3aW5kb3cpO1xufVxuXG5mdW5jdGlvbiBkZXRhY2hIYW5kbGVycygpIHtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNSAtIFZhcmlhYmxlICdoYW5kbGVyUHJveHknIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIGhhbmRsZXJQcm94eSAmJiBoYW5kbGVyUHJveHkucmVtb3ZlSGFuZGxlcnMod2luZG93KTtcbn1cblxuLy8gQ2FuIGJlIGNhbGxlZCBmcm9tIHB1Ymxpc2hlZCBzaXRlcyBvciB0aGUgRGVzaWduZXIgZW5naW5lXG4vLyBQdWJsaXNoZWQgc2l0ZXM6IGNhbGwgcG9pbnQgaXMgZGVmaW5lZCBpbiAvbW9kZWxzL3NpdGUuanNcbi8vIERlc2lnbmVyOiBjYWxsIHBvaW50IGlzIGluIENvbW1lcmNlUHJveHlFbmdpbmVcbmZ1bmN0aW9uIGluaXQoe3NpdGVJZH06IHtzaXRlSWQ6IHN0cmluZ30pIHtcbiAgY29uc3QgZGVzaWduZXJPclByZXZpZXcgPVxuICAgIHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHwgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3Jyk7XG5cbiAgYXBvbGxvQ2xpZW50ID0gY3JlYXRlQXBvbGxvQ2xpZW50KHtcbiAgICBwYXRoOiBkZXNpZ25lck9yUHJldmlldyA/IGAvYXBpL3YyL3NpdGVzLyR7c2l0ZUlkfS9hcG9sbG9gIDogR1FMX1FVRVJZX1BBVEgsXG4gICAgcmV0cnlDb25maWc6IHtcbiAgICAgIG1heEF0dGVtcHRzOiA1LFxuICAgIH0sXG4gICAgdXNlQ3NyZjogdHJ1ZSxcbiAgICAvLyBEaXNhYmxlIGJhdGNoaW5nIHdpdGggcmV2ZXJzZSBwcm94eS4gU29sdmVzIGFuIGVkZ2UgY2FzZSBpbiBFLWNvbW1lcmNlXG4gICAgLy8gd2hlcmUgbGVnYWN5IGFuZCBuZXcgcXVlcmllcyBhcmUgbWl4ZWQgaW4gdGhlIHNhbWUgYmF0Y2guXG4gICAgZGlzYWJsZUJhdGNoaW5nOiAhZGVzaWduZXJPclByZXZpZXcsXG4gIH0pO1xuICBzdHJpcGVTdG9yZSA9IG5ldyBTdHJpcGVTdG9yZShkb2N1bWVudCk7XG4gIGhhbmRsZXJQcm94eSA9IG5ldyBFdmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQoXG4gICAgYXBvbGxvQ2xpZW50LFxuICAgIHN0cmlwZVN0b3JlXG4gICk7XG5cbiAgQWRkVG9DYXJ0RXZlbnRzLnJlZ2lzdGVyKGhhbmRsZXJQcm94eSk7XG4gIENhcnRFdmVudHMucmVnaXN0ZXIoaGFuZGxlclByb3h5KTtcbiAgQ2hlY2tvdXRFdmVudHMucmVnaXN0ZXIoaGFuZGxlclByb3h5KTtcbiAgT3JkZXJDb25maXJtYXRpb25FdmVudHMucmVnaXN0ZXIoaGFuZGxlclByb3h5KTtcbiAgV2ViUGF5bWVudHNFdmVudHMucmVnaXN0ZXIoaGFuZGxlclByb3h5KTtcbiAgUGF5UGFsRXZlbnRzLnJlZ2lzdGVyKGhhbmRsZXJQcm94eSk7XG5cbiAgaW5pdGlhbGl6ZVN0cmlwZUVsZW1lbnRzKHN0cmlwZVN0b3JlKTtcblxuICBkZXRhY2hIYW5kbGVycygpO1xuICBhdHRhY2hIYW5kbGVycygpO1xuXG4gIHRyaWdnZXJSZW5kZXIobnVsbCwgdHJ1ZSk7XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdXZWJmbG93JyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcycuXG4gIGlmICghd2luZG93LldlYmZsb3cuZW52KCkpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ1dlYmZsb3cnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICB3aW5kb3cuV2ViZmxvdy5sb2FkKHJlbmRlclBheXBhbEJ1dHRvbnMoYXBvbGxvQ2xpZW50KSk7XG4gIH1cbn1cblxuLy8gYHByZXZpZXdgIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkIGFmdGVyIGBpbml0YFxuZnVuY3Rpb24gcHJldmlldygpIHtcbiAgZGV0YWNoSGFuZGxlcnMoKTtcbiAgYXR0YWNoSGFuZGxlcnMoKTtcbiAgdHJpZ2dlclJlbmRlcihudWxsLCB0cnVlKTtcbn1cblxuLy8gYGRlc2lnbmAgc2hvdWxkIGFsd2F5cyBiZSBjYWxsZWQgYWZ0ZXIgYGluaXRgXG5mdW5jdGlvbiBkZXNpZ24oKSB7XG4gIGRldGFjaEhhbmRsZXJzKCk7XG4gIC8vIFdoZW4gdmFyaWFudCBvcHRpb24gaXMgY2hhbmdlZCwgd2UgbmVlZCB0byByZXNldCB0aGUgQXBvbGxvIGNhY2hlIGluIG9kZXIgdG9cbiAgLy8gcmVuZGVyIHRoZSByaWdodCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgdmFyaWFudCAobWFpbi1pbWFnZXMsIG1vcmUtaW1hZ2VzLCBldGMpXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDUgLSBWYXJpYWJsZSAnYXBvbGxvQ2xpZW50JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICBpZiAoYXBvbGxvQ2xpZW50ICYmIGFwb2xsb0NsaWVudC5zdG9yZSkge1xuICAgIGFwb2xsb0NsaWVudC5yZXNldFN0b3JlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgZGV0YWNoSGFuZGxlcnMoKTtcbn1cblxuZXhwb3J0IHtkZXNpZ24sIGRlc3Ryb3ksIGluaXQsIHByZXZpZXd9O1xuIl0sIm5hbWVzIjpbImRlc2lnbiIsImRlc3Ryb3kiLCJpbml0IiwicHJldmlldyIsIkdRTF9RVUVSWV9QQVRIIiwiaGFuZGxlclByb3h5IiwiYXBvbGxvQ2xpZW50Iiwic3RyaXBlU3RvcmUiLCJhdHRhY2hIYW5kbGVycyIsIndpbmRvdyIsImRldGFjaEhhbmRsZXJzIiwicmVtb3ZlSGFuZGxlcnMiLCJzaXRlSWQiLCJkZXNpZ25lck9yUHJldmlldyIsIldlYmZsb3ciLCJlbnYiLCJjcmVhdGVBcG9sbG9DbGllbnQiLCJwYXRoIiwicmV0cnlDb25maWciLCJtYXhBdHRlbXB0cyIsInVzZUNzcmYiLCJkaXNhYmxlQmF0Y2hpbmciLCJTdHJpcGVTdG9yZSIsImRvY3VtZW50IiwiRXZlbnRIYW5kbGVyUHJveHlXaXRoQXBvbGxvQ2xpZW50IiwiQWRkVG9DYXJ0RXZlbnRzIiwicmVnaXN0ZXIiLCJDYXJ0RXZlbnRzIiwiQ2hlY2tvdXRFdmVudHMiLCJPcmRlckNvbmZpcm1hdGlvbkV2ZW50cyIsIldlYlBheW1lbnRzRXZlbnRzIiwiUGF5UGFsRXZlbnRzIiwiaW5pdGlhbGl6ZVN0cmlwZUVsZW1lbnRzIiwidHJpZ2dlclJlbmRlciIsImxvYWQiLCJyZW5kZXJQYXlwYWxCdXR0b25zIiwic3RvcmUiLCJyZXNldFN0b3JlIl0sIm1hcHBpbmdzIjoiQUFBQSw0QkFBNEI7Ozs7Ozs7Ozs7O0lBeUhwQkEsTUFBTTtlQUFOQTs7SUFBUUMsT0FBTztlQUFQQTs7SUFBU0MsSUFBSTtlQUFKQTs7SUFBTUMsT0FBTztlQUFQQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBeEh4Qjs4QkFzQjBCOzBGQUNhO3dFQUNsQjttRUFDTDt1RUFDSTtnRkFDUzswRUFDTjs2QkFDSjsrQkFDRTtRQUNyQjtRQUNBOytCQUNnQztzRUFDUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFaEQsTUFBTUMsaUJBQWlCO0FBRXZCLHVJQUF1STtBQUN2SSxJQUFJQztBQUNKLHVJQUF1STtBQUN2SSxJQUFJQztBQUNKLElBQUlDO0FBRUosU0FBU0M7SUFDUCxvRkFBb0Y7SUFDcEZILGdCQUFnQkEsYUFBYUcsY0FBYyxDQUFDQztBQUM5QztBQUVBLFNBQVNDO0lBQ1Asb0ZBQW9GO0lBQ3BGTCxnQkFBZ0JBLGFBQWFNLGNBQWMsQ0FBQ0Y7QUFDOUM7QUFFQSw0REFBNEQ7QUFDNUQsNERBQTREO0FBQzVELGlEQUFpRDtBQUNqRCxTQUFTUCxLQUFLLEVBQUNVLE1BQU0sRUFBbUI7SUFDdEMsTUFBTUMsb0JBQ0pKLE9BQU9LLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGFBQWFOLE9BQU9LLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0lBRXJEVCxlQUFlVSxJQUFBQSxnQ0FBa0IsRUFBQztRQUNoQ0MsTUFBTUosb0JBQW9CLENBQUMsY0FBYyxFQUFFRCxPQUFPLE9BQU8sQ0FBQyxHQUFHUjtRQUM3RGMsYUFBYTtZQUNYQyxhQUFhO1FBQ2Y7UUFDQUMsU0FBUztRQUNULHlFQUF5RTtRQUN6RSw0REFBNEQ7UUFDNURDLGlCQUFpQixDQUFDUjtJQUNwQjtJQUNBTixjQUFjLElBQUllLHdCQUFXLENBQUNDO0lBQzlCbEIsZUFBZSxJQUFJbUIsMENBQWlDLENBQ2xEbEIsY0FDQUM7SUFHRmtCLHdCQUFlLENBQUNDLFFBQVEsQ0FBQ3JCO0lBQ3pCc0IsbUJBQVUsQ0FBQ0QsUUFBUSxDQUFDckI7SUFDcEJ1Qix1QkFBYyxDQUFDRixRQUFRLENBQUNyQjtJQUN4QndCLGdDQUF1QixDQUFDSCxRQUFRLENBQUNyQjtJQUNqQ3lCLDBCQUFpQixDQUFDSixRQUFRLENBQUNyQjtJQUMzQjBCLHFCQUFZLENBQUNMLFFBQVEsQ0FBQ3JCO0lBRXRCMkIsSUFBQUEsdUNBQXdCLEVBQUN6QjtJQUV6Qkc7SUFDQUY7SUFFQXlCLElBQUFBLDRCQUFhLEVBQUMsTUFBTTtJQUVwQixzR0FBc0c7SUFDdEcsSUFBSSxDQUFDeEIsT0FBT0ssT0FBTyxDQUFDQyxHQUFHLElBQUk7UUFDekIsc0dBQXNHO1FBQ3RHTixPQUFPSyxPQUFPLENBQUNvQixJQUFJLENBQUNDLElBQUFBLGlDQUFtQixFQUFDN0I7SUFDMUM7QUFDRjtBQUVBLGlEQUFpRDtBQUNqRCxTQUFTSDtJQUNQTztJQUNBRjtJQUNBeUIsSUFBQUEsNEJBQWEsRUFBQyxNQUFNO0FBQ3RCO0FBRUEsZ0RBQWdEO0FBQ2hELFNBQVNqQztJQUNQVTtJQUNBLCtFQUErRTtJQUMvRSxpRkFBaUY7SUFDakYsb0ZBQW9GO0lBQ3BGLElBQUlKLGdCQUFnQkEsYUFBYThCLEtBQUssRUFBRTtRQUN0QzlCLGFBQWErQixVQUFVO0lBQ3pCO0FBQ0Y7QUFFQSxTQUFTcEM7SUFDUFM7QUFDRiJ9

}),
45870: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window, CustomEvent */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    register: function() {
        return register;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
const _qs = /*#__PURE__*/ _interop_require_default(__webpack_require__(26882));
const _commerceUtils = __webpack_require__(54556);
const _rendering = __webpack_require__(91898);
const _constants = __webpack_require__(10873);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const renderOrderConfirmation = (orderConfirmation, data)=>{
    (0, _rendering.renderTree)(orderConfirmation, data);
};
const handleRenderOrderConfirmation = (event, apolloClient)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    if (!(event instanceof CustomEvent && event.type === _constants.RENDER_TREE_EVENT)) {
        return;
    }
    const errors = [];
    const { detail } = event;
    if (detail != null && detail.error) {
        errors.push(detail.error);
    }
    const orderConfirmationContainer = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_ORDER_CONFIRMATION_WRAPPER);
    if (!orderConfirmationContainer) {
        return;
    }
    const { orderId, token } = _qs.default.parse(window.location.search.substring(1));
    if (!orderId || !token) {
        return;
    }
    const finalizedOrder = {
        orderId,
        token
    };
    // runs the analytics (facebook and google pixel)
    // we don't block on it, since this isn't needed for any rendering
    // so it if fails, it can just fail silently
    (0, _commerceUtils.trackOrder)(apolloClient, finalizedOrder);
    const allOrderConfirmationContainers = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_ORDER_CONFIRMATION_WRAPPER);
    apolloClient.query({
        query: (0, _graphqltag.default)`
        ${orderConfirmationContainer.getAttribute(_constants.ORDER_QUERY)}
      `,
        variables: {
            finalizedOrder
        },
        fetchPolicy: 'network-only',
        // errorPolicy is set to `all` so that we continue to get the cart data when an error occurs
        // this is important in cases like when the address entered doesn't have a shipping zone, as that returns
        // a graphQL error, but we still want to render what the customer has entered
        errorPolicy: 'all'
    }).then((data)=>{
        allOrderConfirmationContainers.forEach((orderConfirmationContainerNode)=>{
            renderOrderConfirmation(orderConfirmationContainerNode, {
                ...data,
                errors: errors.concat(data.errors).filter(Boolean)
            });
        });
    }).catch((err)=>{
        errors.push(err);
        allOrderConfirmationContainers.forEach((orderConfirmationContainerNode)=>{
            renderOrderConfirmation(orderConfirmationContainerNode, {
                errors
            });
        });
    });
};
const register = (handlerProxy)=>{
    handlerProxy.on(_constants.RENDER_TREE_EVENT, Boolean, handleRenderOrderConfirmation);
};
const _default = {
    register
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyQ29uZmlybWF0aW9uRXZlbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgd2luZG93LCBDdXN0b21FdmVudCAqL1xuaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7XG5pbXBvcnQgcXMgZnJvbSAncXMnO1xuaW1wb3J0IEV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCBmcm9tICcuL2V2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCc7XG5pbXBvcnQge1xuICBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUsXG4gIGZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUsXG4gIHRyYWNrT3JkZXIsXG59IGZyb20gJy4vY29tbWVyY2VVdGlscyc7XG5pbXBvcnQge3JlbmRlclRyZWV9IGZyb20gJy4vcmVuZGVyaW5nJztcbmltcG9ydCB7XG4gIE5PREVfVFlQRV9DT01NRVJDRV9PUkRFUl9DT05GSVJNQVRJT05fV1JBUFBFUixcbiAgUkVOREVSX1RSRUVfRVZFTlQsXG4gIE9SREVSX1FVRVJZLFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9jb21tZXJjZS9jb25zdGFudHMnO1xuaW1wb3J0IHtBcG9sbG9DbGllbnQsIE5vcm1hbGl6ZWRDYWNoZU9iamVjdH0gZnJvbSAnQGFwb2xsby9jbGllbnQnO1xuXG5jb25zdCByZW5kZXJPcmRlckNvbmZpcm1hdGlvbiA9IChcbiAgb3JkZXJDb25maXJtYXRpb246IEVsZW1lbnQsXG4gIGRhdGE6IFJlY29yZDxhbnksIGFueT5cbikgPT4ge1xuICByZW5kZXJUcmVlKG9yZGVyQ29uZmlybWF0aW9uLCBkYXRhKTtcbn07XG5cbmNvbnN0IGhhbmRsZVJlbmRlck9yZGVyQ29uZmlybWF0aW9uID0gKFxuICBldmVudDogRXZlbnQgfCBDdXN0b21FdmVudCxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PlxuKSA9PiB7XG4gIGlmICh3aW5kb3cuV2ViZmxvdy5lbnYoJ2Rlc2lnbicpIHx8IHdpbmRvdy5XZWJmbG93LmVudigncHJldmlldycpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghKGV2ZW50IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gUkVOREVSX1RSRUVfRVZFTlQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZXJyb3JzOiBBcnJheTxhbnk+ID0gW107XG4gIGNvbnN0IHtkZXRhaWx9ID0gZXZlbnQ7XG4gIGlmIChkZXRhaWwgIT0gbnVsbCAmJiBkZXRhaWwuZXJyb3IpIHtcbiAgICBlcnJvcnMucHVzaChkZXRhaWwuZXJyb3IpO1xuICB9XG5cbiAgY29uc3Qgb3JkZXJDb25maXJtYXRpb25Db250YWluZXIgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX09SREVSX0NPTkZJUk1BVElPTl9XUkFQUEVSXG4gICk7XG4gIGlmICghb3JkZXJDb25maXJtYXRpb25Db250YWluZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7XG4gICAgb3JkZXJJZCxcbiAgICB0b2tlbixcbiAgfToge1xuICAgIG9yZGVySWQ/OiBzdHJpbmc7XG4gICAgdG9rZW4/OiBzdHJpbmc7XG4gIH0gPSBxcy5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSk7XG4gIGlmICghb3JkZXJJZCB8fCAhdG9rZW4pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBmaW5hbGl6ZWRPcmRlciA9IHtvcmRlcklkLCB0b2tlbn0gYXMgY29uc3Q7XG5cbiAgLy8gcnVucyB0aGUgYW5hbHl0aWNzIChmYWNlYm9vayBhbmQgZ29vZ2xlIHBpeGVsKVxuICAvLyB3ZSBkb24ndCBibG9jayBvbiBpdCwgc2luY2UgdGhpcyBpc24ndCBuZWVkZWQgZm9yIGFueSByZW5kZXJpbmdcbiAgLy8gc28gaXQgaWYgZmFpbHMsIGl0IGNhbiBqdXN0IGZhaWwgc2lsZW50bHlcbiAgdHJhY2tPcmRlcihhcG9sbG9DbGllbnQsIGZpbmFsaXplZE9yZGVyKTtcblxuICBjb25zdCBhbGxPcmRlckNvbmZpcm1hdGlvbkNvbnRhaW5lcnMgPSBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9PUkRFUl9DT05GSVJNQVRJT05fV1JBUFBFUlxuICApO1xuXG4gIGFwb2xsb0NsaWVudFxuICAgIC5xdWVyeSh7XG4gICAgICBxdWVyeTogZ3FsYFxuICAgICAgICAke29yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVyLmdldEF0dHJpYnV0ZShPUkRFUl9RVUVSWSl9XG4gICAgICBgLFxuICAgICAgdmFyaWFibGVzOiB7ZmluYWxpemVkT3JkZXJ9LFxuICAgICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknLFxuICAgICAgLy8gZXJyb3JQb2xpY3kgaXMgc2V0IHRvIGBhbGxgIHNvIHRoYXQgd2UgY29udGludWUgdG8gZ2V0IHRoZSBjYXJ0IGRhdGEgd2hlbiBhbiBlcnJvciBvY2N1cnNcbiAgICAgIC8vIHRoaXMgaXMgaW1wb3J0YW50IGluIGNhc2VzIGxpa2Ugd2hlbiB0aGUgYWRkcmVzcyBlbnRlcmVkIGRvZXNuJ3QgaGF2ZSBhIHNoaXBwaW5nIHpvbmUsIGFzIHRoYXQgcmV0dXJuc1xuICAgICAgLy8gYSBncmFwaFFMIGVycm9yLCBidXQgd2Ugc3RpbGwgd2FudCB0byByZW5kZXIgd2hhdCB0aGUgY3VzdG9tZXIgaGFzIGVudGVyZWRcbiAgICAgIGVycm9yUG9saWN5OiAnYWxsJyxcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBhbGxPcmRlckNvbmZpcm1hdGlvbkNvbnRhaW5lcnMuZm9yRWFjaChcbiAgICAgICAgKG9yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVyTm9kZSkgPT4ge1xuICAgICAgICAgIHJlbmRlck9yZGVyQ29uZmlybWF0aW9uKG9yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVyTm9kZSwge1xuICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzLmNvbmNhdChkYXRhLmVycm9ycykuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICBhbGxPcmRlckNvbmZpcm1hdGlvbkNvbnRhaW5lcnMuZm9yRWFjaChcbiAgICAgICAgKG9yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVyTm9kZSkgPT4ge1xuICAgICAgICAgIHJlbmRlck9yZGVyQ29uZmlybWF0aW9uKG9yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVyTm9kZSwge2Vycm9yc30pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gKGhhbmRsZXJQcm94eTogRXZlbnRIYW5kbGVyUHJveHlXaXRoQXBvbGxvQ2xpZW50KSA9PiB7XG4gIGhhbmRsZXJQcm94eS5vbihSRU5ERVJfVFJFRV9FVkVOVCwgQm9vbGVhbiwgaGFuZGxlUmVuZGVyT3JkZXJDb25maXJtYXRpb24pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge3JlZ2lzdGVyfTtcbiJdLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlbmRlck9yZGVyQ29uZmlybWF0aW9uIiwib3JkZXJDb25maXJtYXRpb24iLCJkYXRhIiwicmVuZGVyVHJlZSIsImhhbmRsZVJlbmRlck9yZGVyQ29uZmlybWF0aW9uIiwiZXZlbnQiLCJhcG9sbG9DbGllbnQiLCJ3aW5kb3ciLCJXZWJmbG93IiwiZW52IiwiQ3VzdG9tRXZlbnQiLCJ0eXBlIiwiUkVOREVSX1RSRUVfRVZFTlQiLCJlcnJvcnMiLCJkZXRhaWwiLCJlcnJvciIsInB1c2giLCJvcmRlckNvbmZpcm1hdGlvbkNvbnRhaW5lciIsImZpbmRFbGVtZW50QnlOb2RlVHlwZSIsIk5PREVfVFlQRV9DT01NRVJDRV9PUkRFUl9DT05GSVJNQVRJT05fV1JBUFBFUiIsIm9yZGVySWQiLCJ0b2tlbiIsInFzIiwicGFyc2UiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsImZpbmFsaXplZE9yZGVyIiwidHJhY2tPcmRlciIsImFsbE9yZGVyQ29uZmlybWF0aW9uQ29udGFpbmVycyIsImZpbmRBbGxFbGVtZW50c0J5Tm9kZVR5cGUiLCJxdWVyeSIsImdxbCIsImdldEF0dHJpYnV0ZSIsIk9SREVSX1FVRVJZIiwidmFyaWFibGVzIiwiZmV0Y2hQb2xpY3kiLCJlcnJvclBvbGljeSIsInRoZW4iLCJmb3JFYWNoIiwib3JkZXJDb25maXJtYXRpb25Db250YWluZXJOb2RlIiwiY29uY2F0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNhdGNoIiwiZXJyIiwiaGFuZGxlclByb3h5Iiwib24iXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQjs7Ozs7Ozs7Ozs7SUEwRy9CLE9BQTBCO2VBQTFCOztJQUphQSxRQUFRO2VBQVJBOzs7bUVBckdHOzJEQUNEOytCQU1SOzJCQUNrQjsyQkFLbEI7Ozs7OztBQUdQLE1BQU1DLDBCQUEwQixDQUM5QkMsbUJBQ0FDO0lBRUFDLElBQUFBLHFCQUFVLEVBQUNGLG1CQUFtQkM7QUFDaEM7QUFFQSxNQUFNRSxnQ0FBZ0MsQ0FDcENDLE9BQ0FDO0lBRUEsSUFBSUMsT0FBT0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYUYsT0FBT0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsWUFBWTtRQUNqRTtJQUNGO0lBQ0EsSUFBSSxDQUFFSixDQUFBQSxpQkFBaUJLLGVBQWVMLE1BQU1NLElBQUksS0FBS0MsNEJBQWlCLEFBQUQsR0FBSTtRQUN2RTtJQUNGO0lBRUEsTUFBTUMsU0FBcUIsRUFBRTtJQUM3QixNQUFNLEVBQUNDLE1BQU0sRUFBQyxHQUFHVDtJQUNqQixJQUFJUyxVQUFVLFFBQVFBLE9BQU9DLEtBQUssRUFBRTtRQUNsQ0YsT0FBT0csSUFBSSxDQUFDRixPQUFPQyxLQUFLO0lBQzFCO0lBRUEsTUFBTUUsNkJBQTZCQyxJQUFBQSxvQ0FBcUIsRUFDdERDLHdEQUE2QztJQUUvQyxJQUFJLENBQUNGLDRCQUE0QjtRQUMvQjtJQUNGO0lBRUEsTUFBTSxFQUNKRyxPQUFPLEVBQ1BDLEtBQUssRUFDTixHQUdHQyxXQUFFLENBQUNDLEtBQUssQ0FBQ2hCLE9BQU9pQixRQUFRLENBQUNDLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDO0lBQzlDLElBQUksQ0FBQ04sV0FBVyxDQUFDQyxPQUFPO1FBQ3RCO0lBQ0Y7SUFFQSxNQUFNTSxpQkFBaUI7UUFBQ1A7UUFBU0M7SUFBSztJQUV0QyxpREFBaUQ7SUFDakQsa0VBQWtFO0lBQ2xFLDRDQUE0QztJQUM1Q08sSUFBQUEseUJBQVUsRUFBQ3RCLGNBQWNxQjtJQUV6QixNQUFNRSxpQ0FBaUNDLElBQUFBLHdDQUF5QixFQUM5RFgsd0RBQTZDO0lBRy9DYixhQUNHeUIsS0FBSyxDQUFDO1FBQ0xBLE9BQU9DLElBQUFBLG1CQUFHLENBQUEsQ0FBQztRQUNULEVBQUVmLDJCQUEyQmdCLFlBQVksQ0FBQ0Msc0JBQVcsRUFBRTtNQUN6RCxDQUFDO1FBQ0RDLFdBQVc7WUFBQ1I7UUFBYztRQUMxQlMsYUFBYTtRQUNiLDRGQUE0RjtRQUM1Rix5R0FBeUc7UUFDekcsNkVBQTZFO1FBQzdFQyxhQUFhO0lBQ2YsR0FDQ0MsSUFBSSxDQUFDLENBQUNwQztRQUNMMkIsK0JBQStCVSxPQUFPLENBQ3BDLENBQUNDO1lBQ0N4Qyx3QkFBd0J3QyxnQ0FBZ0M7Z0JBQ3RELEdBQUd0QyxJQUFJO2dCQUNQVyxRQUFRQSxPQUFPNEIsTUFBTSxDQUFDdkMsS0FBS1csTUFBTSxFQUFFNkIsTUFBTSxDQUFDQztZQUM1QztRQUNGO0lBRUosR0FDQ0MsS0FBSyxDQUFDLENBQUNDO1FBQ05oQyxPQUFPRyxJQUFJLENBQUM2QjtRQUNaaEIsK0JBQStCVSxPQUFPLENBQ3BDLENBQUNDO1lBQ0N4Qyx3QkFBd0J3QyxnQ0FBZ0M7Z0JBQUMzQjtZQUFNO1FBQ2pFO0lBRUo7QUFDSjtBQUVPLE1BQU1kLFdBQVcsQ0FBQytDO0lBQ3ZCQSxhQUFhQyxFQUFFLENBQUNuQyw0QkFBaUIsRUFBRStCLFNBQVN2QztBQUM5QztNQUVBLFdBQWU7SUFBQ0w7QUFBUSJ9

}),
86365: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* global window, document, Element, CustomEvent, HTMLElement, HTMLFormElement */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    renderPaypalButtons: function() {
        return renderPaypalButtons;
    }
});
const _commerceUtils = __webpack_require__(54556);
const _checkoutUtils = __webpack_require__(17696);
const _cartUtils = __webpack_require__(69773);
const _debug = /*#__PURE__*/ _interop_require_default(__webpack_require__(85986));
const _checkoutMutations = __webpack_require__(94797);
const _constants = __webpack_require__(10873);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isPlaceOrderButtonEvent = ({ target })=>{
    const placeOrderButton = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON, target);
    if (placeOrderButton && target instanceof Element) {
        return target;
    } else {
        return false;
    }
};
let hasSyncedWithPaypal = false;
const handleRenderPayPalCheckout = (event, apolloClient)=>{
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    if (!(event instanceof CustomEvent && event.type === _constants.RENDER_TREE_EVENT)) {
        return;
    }
    const checkoutFormContainers = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER);
    if (!checkoutFormContainers || checkoutFormContainers.length === 0) {
        return;
    }
    const errors = [];
    const { detail } = event;
    if (detail != null && detail.error) {
        errors.push(detail.error);
    }
    const focusedEle = window.document.activeElement;
    const checkoutForm = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER, // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'EventTarget'.
    focusedEle);
    let prevFocusedInput = null;
    // Only trigger for focused elements in a checkout form
    if (focusedEle instanceof HTMLInputElement && checkoutForm) {
        prevFocusedInput = focusedEle.id;
        if (!prevFocusedInput) {
            prevFocusedInput = focusedEle.getAttribute('data-wf-bindings');
        }
        // Move from empty string to null
        prevFocusedInput = prevFocusedInput ? null : prevFocusedInput;
    }
    const syncWithPayPalIfNeeded = !hasSyncedWithPaypal ? apolloClient.mutate({
        mutation: _checkoutMutations.syncPayPalOrderInfo
    }) : Promise.resolve();
    syncWithPayPalIfNeeded.then(()=>{
        hasSyncedWithPaypal = true;
        (0, _checkoutUtils.renderCheckoutFormContainers)(checkoutFormContainers, errors, apolloClient, undefined, prevFocusedInput);
    });
};
let placingOrder = false;
const startOrderFlow = (placeOrderButton)=>{
    placingOrder = true;
    window.addEventListener('beforeunload', _checkoutUtils.beforeUnloadHandler);
    const buttonText = placeOrderButton.innerHTML;
    const loadingText = placeOrderButton.getAttribute(_constants.DATA_ATTR_LOADING_TEXT);
    placeOrderButton.innerHTML = loadingText ? loadingText : _constants.CHECKOUT_PLACE_ORDER_LOADING_TEXT_DEFAULT;
    const finishOrderFlow = (isRedirecting = false)=>{
        // we only set `placingOrder` to false if we're not redirecting to the
        // confirmation page. this is so that while waiting for the confirmation
        // page to load, the user can't attempt to submit the order again
        if (!isRedirecting) {
            placingOrder = false;
        }
        window.removeEventListener('beforeunload', _checkoutUtils.beforeUnloadHandler);
        placeOrderButton.innerHTML = buttonText ? buttonText : _constants.CHECKOUT_PLACE_ORDER_BUTTON_TEXT_DEFAULT;
    };
    return finishOrderFlow;
};
const checkFormValidity = ({ shippingInfo, additionalInfo, requiresShipping })=>{
    if (!HTMLFormElement.prototype.reportValidity) {
        return true;
    }
    if (requiresShipping && !shippingInfo.reportValidity() || additionalInfo && additionalInfo instanceof HTMLFormElement && !additionalInfo.reportValidity()) {
        return false;
    }
    return true;
};
// @ts-expect-error - TS2314 - Generic type 'ApolloClient<TCacheShape>' requires 1 type argument(s).
const handlePlaceOrder = (event, apolloClient)=>{
    // Want to skip placing order if in design/preview mode, or an order place is in progress
    if (window.Webflow.env('design') || window.Webflow.env('preview') || placingOrder) {
        return;
    }
    const { currentTarget } = event;
    if (!(currentTarget instanceof Element)) {
        return;
    }
    const checkoutFormContainer = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER, currentTarget);
    if (!(checkoutFormContainer instanceof Element)) {
        return;
    }
    const errorState = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_ERROR_STATE, checkoutFormContainer);
    const shippingInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER, checkoutFormContainer);
    const placeOrderButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON, checkoutFormContainer);
    const additionalInfo = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CHECKOUT_ADDITIONAL_INFO, checkoutFormContainer);
    if (!(errorState instanceof HTMLElement) || !(shippingInfo instanceof HTMLFormElement) || !(placeOrderButton instanceof Element)) {
        return;
    }
    const errorMessage = errorState.querySelector(_constants.CART_CHECKOUT_ERROR_MESSAGE_SELECTOR);
    // If the error message has this attribute, we want to block the order from
    // being submitted as the user is being forced to refresh the checkout page.
    if (errorMessage && errorMessage.hasAttribute(_constants.NEEDS_REFRESH)) {
        return;
    }
    const hasAdditionalInfo = additionalInfo && additionalInfo instanceof HTMLElement;
    const finishOrderFlow = startOrderFlow(placeOrderButton);
    errorState.style.setProperty('display', 'none');
    (0, _commerceUtils.fetchOrderStatusFlags)(apolloClient).then(({ requiresShipping })=>{
        const isFormValid = checkFormValidity({
            shippingInfo,
            additionalInfo,
            requiresShipping
        });
        if (!isFormValid) {
            finishOrderFlow();
            return;
        }
        // final sync with server, to ensure validity
        let shippingMethodId = '';
        // @ts-expect-error - TS7015 - Element implicitly has an 'any' type because index expression is not of type 'number'.
        if (requiresShipping && shippingInfo.elements['shipping-method-choice']) {
            // this is an IE11-safe way of just doing shippingInfo.elements['shipping-method-choice'].value
            const shippingMethodChoice = shippingInfo.querySelector('input[name="shipping-method-choice"]:checked');
            // this should never be falsey, but Flow
            if (shippingMethodChoice) {
                shippingMethodId = shippingMethodChoice.value;
            }
        }
        const customData = hasAdditionalInfo ? (0, _commerceUtils.customDataFormToArray)(additionalInfo) : [];
        const syncPayPalCheckoutForm = Promise.all([
            requiresShipping ? (0, _checkoutUtils.createOrderShippingMethodMutation)(apolloClient, shippingMethodId) : Promise.resolve(),
            hasAdditionalInfo ? (0, _checkoutUtils.createCustomDataMutation)(apolloClient, customData) : Promise.resolve()
        ]);
        syncPayPalCheckoutForm.then(()=>{
            return (0, _checkoutUtils.createAttemptSubmitOrderRequest)(apolloClient, {
                checkoutType: 'paypal'
            });
        }).then((data)=>{
            _debug.default.log(data);
            const order = (0, _checkoutUtils.getOrderDataFromGraphQLResponse)(data);
            if (order.ok) {
                finishOrderFlow(true);
                (0, _checkoutUtils.redirectToOrderConfirmation)(order, true);
            }
        }).catch((err)=>{
            finishOrderFlow();
            _debug.default.error(err);
            errorState.style.removeProperty('display');
            (0, _checkoutUtils.updateErrorMessage)(errorState, err);
            if (err.graphQLErrors && err.graphQLErrors[0] && err.graphQLErrors[0].message) {
                const parsedError = (0, _commerceUtils.safeParseJson)(err.graphQLErrors[0].message);
                if (!parsedError) {
                    return;
                }
                if (parsedError.details && parsedError.details[0] && parsedError.details[0].issue === 'INSTRUMENT_DECLINED') {
                    const message = {
                        isWebflow: true,
                        type: 'error',
                        detail: parsedError
                    };
                    window.parent.postMessage(JSON.stringify(message), window.location.origin);
                }
            }
        });
    });
};
// width and height is defined twice, so that on older browsers that
// don't support vw/vh, we get the 100% instead
const iframeStyle = `
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  width: 100vw;
  height: 100vh;
  min-width: 100%;
  min-height: 100%;
  max-width: 100%;
  max-height: 100%;
  z-index: 2147483647;
  border: 0;
  background-color: #ffffff;
`;
const createConfirmationIframe = (actions)=>{
    const documentRoot = document.documentElement;
    // we use this instead of document.body to appease the flow gods
    const documentBody = document.querySelector('body');
    if (!documentRoot || !documentBody) {
        return;
    }
    const iframe = document.createElement('iframe');
    iframe.setAttribute('style', iframeStyle);
    iframe.setAttribute('src', '/paypal-checkout');
    if (!documentBody.parentNode) {
        return;
    }
    documentBody.parentNode.appendChild(iframe);
    const previousRootOverflow = documentRoot.style.overflow;
    documentRoot.style.overflow = 'hidden';
    const previousBodyDisplay = documentBody.style.display;
    documentBody.style.display = 'none';
    const paypalMessageHandler = (event)=>{
        if (event.origin !== window.location.origin) {
            return;
        }
        const data = (0, _commerceUtils.safeParseJson)(String(event.data));
        // we include an `isWebflow` since paypal sends some messages on the page
        // and we want to make sure that we don't accidentally intercept one of their messages
        if (!data || data.isWebflow !== true || !data.type || !data.detail) {
            return;
        }
        if (data.type === 'success') {
            window.removeEventListener('message', paypalMessageHandler);
            window.location.href = data.detail;
        }
        if (data.type === 'error') {
            window.removeEventListener('message', paypalMessageHandler);
            if (previousRootOverflow) {
                documentRoot.style.overflow = previousRootOverflow;
            } else {
                documentRoot.style.overflow = '';
            }
            if (previousBodyDisplay) {
                documentBody.style.display = previousBodyDisplay;
            } else {
                documentBody.style.display = '';
            }
            if (documentBody.parentNode) {
                documentBody.parentNode.removeChild(iframe);
            }
            actions.restart();
        }
    };
    window.addEventListener('message', paypalMessageHandler);
};
const renderPaypalButtons = (apolloClient)=>()=>{
        const paypalElement = document.querySelector(`[${_constants.PAYPAL_ELEMENT_INSTANCE}]`);
        const buttons = Array.from(document.querySelectorAll(`[${_constants.PAYPAL_BUTTON_ELEMENT_INSTANCE}]`));
        if (paypalElement && buttons && buttons.length > 0) {
            buttons.forEach((button)=>{
                const style = (0, _commerceUtils.safeParseJson)(button.getAttribute(_constants.PAYPAL_BUTTON_ELEMENT_INSTANCE));
                // @ts-expect-error - TS2551 - Property 'paypal' does not exist on type 'Window & typeof globalThis'. Did you mean 'Papa'?
                window.paypal.Buttons({
                    style,
                    createOrder () {
                        return apolloClient.mutate({
                            mutation: _checkoutMutations.requestPayPalOrderMutation
                        }).then((data)=>{
                            const { data: { ecommercePaypalOrderRequest: { orderId } } } = data;
                            return orderId;
                        }).catch((err)=>{
                            (0, _checkoutUtils.showErrorMessageForError)(err);
                            if ((0, _cartUtils.isCartOpen)()) {
                                (0, _cartUtils.showErrorMessageForError)(err);
                            }
                            throw err;
                        });
                    },
                    onApprove (data, actions) {
                        createConfirmationIframe(actions);
                    }
                }).render(button);
            });
        }
    };
const register = (handlerProxy)=>{
    handlerProxy.on(_constants.RENDER_TREE_EVENT, Boolean, handleRenderPayPalCheckout);
    handlerProxy.on('click', isPlaceOrderButtonEvent, handlePlaceOrder);
    handlerProxy.on('keydown', isPlaceOrderButtonEvent, (event, apolloClient)=>{
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 32) {
            // prevent scrolling on spacebar key press
            event.preventDefault();
        }
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 13) {
            // enter key press
            return handlePlaceOrder(event, apolloClient);
        }
    });
    handlerProxy.on('keyup', isPlaceOrderButtonEvent, (event, apolloClient)=>{
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 32) {
            // spacebar key press
            return handlePlaceOrder(event, apolloClient);
        }
    });
};
const _default = {
    register
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBheXBhbEV2ZW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgd2luZG93LCBkb2N1bWVudCwgRWxlbWVudCwgQ3VzdG9tRXZlbnQsIEhUTUxFbGVtZW50LCBIVE1MRm9ybUVsZW1lbnQgKi9cblxuaW1wb3J0IEV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCBmcm9tICcuL2V2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCc7XG5pbXBvcnQge1xuICBzYWZlUGFyc2VKc29uLFxuICBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlLFxuICBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlLFxuICBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUsXG4gIGN1c3RvbURhdGFGb3JtVG9BcnJheSxcbiAgZmV0Y2hPcmRlclN0YXR1c0ZsYWdzLFxufSBmcm9tICcuL2NvbW1lcmNlVXRpbHMnO1xuaW1wb3J0IHtcbiAgcmVuZGVyQ2hlY2tvdXRGb3JtQ29udGFpbmVycyxcbiAgYmVmb3JlVW5sb2FkSGFuZGxlcixcbiAgdXBkYXRlRXJyb3JNZXNzYWdlLFxuICByZWRpcmVjdFRvT3JkZXJDb25maXJtYXRpb24sXG4gIGNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QsXG4gIGdldE9yZGVyRGF0YUZyb21HcmFwaFFMUmVzcG9uc2UsXG4gIGNyZWF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbixcbiAgY3JlYXRlQ3VzdG9tRGF0YU11dGF0aW9uLFxuICBzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IgYXMgc2hvd0NoZWNrb3V0RXJyb3JNZXNzYWdlRm9yRXJyb3IsXG59IGZyb20gJy4vY2hlY2tvdXRVdGlscyc7XG5pbXBvcnQge1xuICBpc0NhcnRPcGVuLFxuICBzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IgYXMgc2hvd0NhcnRFcnJvck1lc3NhZ2VGb3JFcnJvcixcbn0gZnJvbSAnLi9jYXJ0VXRpbHMnO1xuaW1wb3J0IGRlYnVnIGZyb20gJy4vZGVidWcnO1xuaW1wb3J0IHtcbiAgc3luY1BheVBhbE9yZGVySW5mbyxcbiAgcmVxdWVzdFBheVBhbE9yZGVyTXV0YXRpb24sXG59IGZyb20gJy4vY2hlY2tvdXRNdXRhdGlvbnMnO1xuaW1wb3J0IHtcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX1BBWVBBTF9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUixcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTixcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX1BBWVBBTF9DSEVDS09VVF9FUlJPUl9TVEFURSxcbiAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1NISVBQSU5HX01FVEhPRFNfV1JBUFBFUixcbiAgREFUQV9BVFRSX0xPQURJTkdfVEVYVCxcbiAgQ0hFQ0tPVVRfUExBQ0VfT1JERVJfTE9BRElOR19URVhUX0RFRkFVTFQsXG4gIENIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTl9URVhUX0RFRkFVTFQsXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9BRERJVElPTkFMX0lORk8sXG4gIENBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUixcbiAgUkVOREVSX1RSRUVfRVZFTlQsXG4gIFBBWVBBTF9FTEVNRU5UX0lOU1RBTkNFLFxuICBQQVlQQUxfQlVUVE9OX0VMRU1FTlRfSU5TVEFOQ0UsXG4gIE5FRURTX1JFRlJFU0gsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5pbXBvcnQge0Fwb2xsb0NsaWVudCwgTm9ybWFsaXplZENhY2hlT2JqZWN0fSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3RhcmdldCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGlzUGxhY2VPcmRlckJ1dHRvbkV2ZW50ID0gKHt0YXJnZXR9KSA9PiB7XG4gIGNvbnN0IHBsYWNlT3JkZXJCdXR0b24gPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9QTEFDRV9PUkRFUl9CVVRUT04sXG4gICAgdGFyZ2V0XG4gICk7XG4gIGlmIChwbGFjZU9yZGVyQnV0dG9uICYmIHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxubGV0IGhhc1N5bmNlZFdpdGhQYXlwYWwgPSBmYWxzZTtcbmNvbnN0IGhhbmRsZVJlbmRlclBheVBhbENoZWNrb3V0ID0gKFxuICBldmVudDogRXZlbnQgfCBDdXN0b21FdmVudCxcbiAgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PlxuKSA9PiB7XG4gIGlmICh3aW5kb3cuV2ViZmxvdy5lbnYoJ2Rlc2lnbicpIHx8IHdpbmRvdy5XZWJmbG93LmVudigncHJldmlldycpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghKGV2ZW50IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gUkVOREVSX1RSRUVfRVZFTlQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMgPSBmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9QQVlQQUxfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVJcbiAgKTtcbiAgaWYgKCFjaGVja291dEZvcm1Db250YWluZXJzIHx8IGNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGVycm9yczogQXJyYXk8YW55PiA9IFtdO1xuICBjb25zdCB7ZGV0YWlsfSA9IGV2ZW50O1xuICBpZiAoZGV0YWlsICE9IG51bGwgJiYgZGV0YWlsLmVycm9yKSB7XG4gICAgZXJyb3JzLnB1c2goZGV0YWlsLmVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGZvY3VzZWRFbGUgPSB3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgY29uc3QgY2hlY2tvdXRGb3JtID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfUEFZUEFMX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0V2ZW50VGFyZ2V0Jy5cbiAgICBmb2N1c2VkRWxlXG4gICk7XG5cbiAgbGV0IHByZXZGb2N1c2VkSW5wdXQgPSBudWxsO1xuICAvLyBPbmx5IHRyaWdnZXIgZm9yIGZvY3VzZWQgZWxlbWVudHMgaW4gYSBjaGVja291dCBmb3JtXG4gIGlmIChmb2N1c2VkRWxlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBjaGVja291dEZvcm0pIHtcbiAgICBwcmV2Rm9jdXNlZElucHV0ID0gZm9jdXNlZEVsZS5pZDtcbiAgICBpZiAoIXByZXZGb2N1c2VkSW5wdXQpIHtcbiAgICAgIHByZXZGb2N1c2VkSW5wdXQgPSBmb2N1c2VkRWxlLmdldEF0dHJpYnV0ZSgnZGF0YS13Zi1iaW5kaW5ncycpO1xuICAgIH1cblxuICAgIC8vIE1vdmUgZnJvbSBlbXB0eSBzdHJpbmcgdG8gbnVsbFxuICAgIHByZXZGb2N1c2VkSW5wdXQgPSBwcmV2Rm9jdXNlZElucHV0ID8gbnVsbCA6IHByZXZGb2N1c2VkSW5wdXQ7XG4gIH1cblxuICBjb25zdCBzeW5jV2l0aFBheVBhbElmTmVlZGVkID0gIWhhc1N5bmNlZFdpdGhQYXlwYWxcbiAgICA/IGFwb2xsb0NsaWVudC5tdXRhdGUoe1xuICAgICAgICBtdXRhdGlvbjogc3luY1BheVBhbE9yZGVySW5mbyxcbiAgICAgIH0pXG4gICAgOiBQcm9taXNlLnJlc29sdmUoKTtcblxuICBzeW5jV2l0aFBheVBhbElmTmVlZGVkLnRoZW4oKCkgPT4ge1xuICAgIGhhc1N5bmNlZFdpdGhQYXlwYWwgPSB0cnVlO1xuXG4gICAgcmVuZGVyQ2hlY2tvdXRGb3JtQ29udGFpbmVycyhcbiAgICAgIGNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMsXG4gICAgICBlcnJvcnMsXG4gICAgICBhcG9sbG9DbGllbnQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBwcmV2Rm9jdXNlZElucHV0XG4gICAgKTtcbiAgfSk7XG59O1xuXG5sZXQgcGxhY2luZ09yZGVyID0gZmFsc2U7XG5jb25zdCBzdGFydE9yZGVyRmxvdyA9IChwbGFjZU9yZGVyQnV0dG9uOiBIVE1MRWxlbWVudCkgPT4ge1xuICBwbGFjaW5nT3JkZXIgPSB0cnVlO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkSGFuZGxlcik7XG5cbiAgY29uc3QgYnV0dG9uVGV4dCA9IHBsYWNlT3JkZXJCdXR0b24uaW5uZXJIVE1MO1xuICBjb25zdCBsb2FkaW5nVGV4dCA9IHBsYWNlT3JkZXJCdXR0b24uZ2V0QXR0cmlidXRlKERBVEFfQVRUUl9MT0FESU5HX1RFWFQpO1xuICBwbGFjZU9yZGVyQnV0dG9uLmlubmVySFRNTCA9IGxvYWRpbmdUZXh0XG4gICAgPyBsb2FkaW5nVGV4dFxuICAgIDogQ0hFQ0tPVVRfUExBQ0VfT1JERVJfTE9BRElOR19URVhUX0RFRkFVTFQ7XG5cbiAgY29uc3QgZmluaXNoT3JkZXJGbG93ID0gKGlzUmVkaXJlY3Rpbmc6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgIC8vIHdlIG9ubHkgc2V0IGBwbGFjaW5nT3JkZXJgIHRvIGZhbHNlIGlmIHdlJ3JlIG5vdCByZWRpcmVjdGluZyB0byB0aGVcbiAgICAvLyBjb25maXJtYXRpb24gcGFnZS4gdGhpcyBpcyBzbyB0aGF0IHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBjb25maXJtYXRpb25cbiAgICAvLyBwYWdlIHRvIGxvYWQsIHRoZSB1c2VyIGNhbid0IGF0dGVtcHQgdG8gc3VibWl0IHRoZSBvcmRlciBhZ2FpblxuICAgIGlmICghaXNSZWRpcmVjdGluZykge1xuICAgICAgcGxhY2luZ09yZGVyID0gZmFsc2U7XG4gICAgfVxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRIYW5kbGVyKTtcbiAgICBwbGFjZU9yZGVyQnV0dG9uLmlubmVySFRNTCA9IGJ1dHRvblRleHRcbiAgICAgID8gYnV0dG9uVGV4dFxuICAgICAgOiBDSEVDS09VVF9QTEFDRV9PUkRFUl9CVVRUT05fVEVYVF9ERUZBVUxUO1xuICB9O1xuXG4gIHJldHVybiBmaW5pc2hPcmRlckZsb3c7XG59O1xuXG5jb25zdCBjaGVja0Zvcm1WYWxpZGl0eSA9ICh7XG4gIHNoaXBwaW5nSW5mbyxcbiAgYWRkaXRpb25hbEluZm8sXG4gIHJlcXVpcmVzU2hpcHBpbmcsXG59OiB7XG4gIHNoaXBwaW5nSW5mbzogSFRNTEZvcm1FbGVtZW50O1xuICBhZGRpdGlvbmFsSW5mbzogSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkO1xuICByZXF1aXJlc1NoaXBwaW5nOiBib29sZWFuO1xufSkgPT4ge1xuICBpZiAoIUhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUucmVwb3J0VmFsaWRpdHkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoXG4gICAgKHJlcXVpcmVzU2hpcHBpbmcgJiYgIXNoaXBwaW5nSW5mby5yZXBvcnRWYWxpZGl0eSgpKSB8fFxuICAgIChhZGRpdGlvbmFsSW5mbyAmJlxuICAgICAgYWRkaXRpb25hbEluZm8gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQgJiZcbiAgICAgICFhZGRpdGlvbmFsSW5mby5yZXBvcnRWYWxpZGl0eSgpKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzE0IC0gR2VuZXJpYyB0eXBlICdBcG9sbG9DbGllbnQ8VENhY2hlU2hhcGU+JyByZXF1aXJlcyAxIHR5cGUgYXJndW1lbnQocykuXG5jb25zdCBoYW5kbGVQbGFjZU9yZGVyID0gKGV2ZW50OiBFdmVudCwgYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQpID0+IHtcbiAgLy8gV2FudCB0byBza2lwIHBsYWNpbmcgb3JkZXIgaWYgaW4gZGVzaWduL3ByZXZpZXcgbW9kZSwgb3IgYW4gb3JkZXIgcGxhY2UgaXMgaW4gcHJvZ3Jlc3NcbiAgaWYgKFxuICAgIHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHxcbiAgICB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSB8fFxuICAgIHBsYWNpbmdPcmRlclxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7Y3VycmVudFRhcmdldH0gPSBldmVudDtcblxuICBpZiAoIShjdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjaGVja291dEZvcm1Db250YWluZXIgPSBmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9QQVlQQUxfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIsXG4gICAgY3VycmVudFRhcmdldFxuICApO1xuICBpZiAoIShjaGVja291dEZvcm1Db250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGVycm9yU3RhdGUgPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX1BBWVBBTF9DSEVDS09VVF9FUlJPUl9TVEFURSxcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgY29uc3Qgc2hpcHBpbmdJbmZvID0gZmluZEVsZW1lbnRCeU5vZGVUeXBlKFxuICAgIE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX1dSQVBQRVIsXG4gICAgY2hlY2tvdXRGb3JtQ29udGFpbmVyXG4gICk7XG4gIGNvbnN0IHBsYWNlT3JkZXJCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTixcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgY29uc3QgYWRkaXRpb25hbEluZm8gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0FERElUSU9OQUxfSU5GTyxcbiAgICBjaGVja291dEZvcm1Db250YWluZXJcbiAgKTtcbiAgaWYgKFxuICAgICEoZXJyb3JTdGF0ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB8fFxuICAgICEoc2hpcHBpbmdJbmZvIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB8fFxuICAgICEocGxhY2VPcmRlckJ1dHRvbiBpbnN0YW5jZW9mIEVsZW1lbnQpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yU3RhdGUucXVlcnlTZWxlY3RvcihcbiAgICBDQVJUX0NIRUNLT1VUX0VSUk9SX01FU1NBR0VfU0VMRUNUT1JcbiAgKTtcblxuICAvLyBJZiB0aGUgZXJyb3IgbWVzc2FnZSBoYXMgdGhpcyBhdHRyaWJ1dGUsIHdlIHdhbnQgdG8gYmxvY2sgdGhlIG9yZGVyIGZyb21cbiAgLy8gYmVpbmcgc3VibWl0dGVkIGFzIHRoZSB1c2VyIGlzIGJlaW5nIGZvcmNlZCB0byByZWZyZXNoIHRoZSBjaGVja291dCBwYWdlLlxuICBpZiAoZXJyb3JNZXNzYWdlICYmIGVycm9yTWVzc2FnZS5oYXNBdHRyaWJ1dGUoTkVFRFNfUkVGUkVTSCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBoYXNBZGRpdGlvbmFsSW5mbyA9XG4gICAgYWRkaXRpb25hbEluZm8gJiYgYWRkaXRpb25hbEluZm8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcblxuICBjb25zdCBmaW5pc2hPcmRlckZsb3cgPSBzdGFydE9yZGVyRmxvdyhwbGFjZU9yZGVyQnV0dG9uKTtcblxuICBlcnJvclN0YXRlLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICBmZXRjaE9yZGVyU3RhdHVzRmxhZ3MoYXBvbGxvQ2xpZW50KS50aGVuKCh7cmVxdWlyZXNTaGlwcGluZ30pID0+IHtcbiAgICBjb25zdCBpc0Zvcm1WYWxpZCA9IGNoZWNrRm9ybVZhbGlkaXR5KHtcbiAgICAgIHNoaXBwaW5nSW5mbyxcbiAgICAgIGFkZGl0aW9uYWxJbmZvLFxuICAgICAgcmVxdWlyZXNTaGlwcGluZyxcbiAgICB9KTtcblxuICAgIGlmICghaXNGb3JtVmFsaWQpIHtcbiAgICAgIGZpbmlzaE9yZGVyRmxvdygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGZpbmFsIHN5bmMgd2l0aCBzZXJ2ZXIsIHRvIGVuc3VyZSB2YWxpZGl0eVxuICAgIGxldCBzaGlwcGluZ01ldGhvZElkID0gJyc7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAxNSAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGluZGV4IGV4cHJlc3Npb24gaXMgbm90IG9mIHR5cGUgJ251bWJlcicuXG4gICAgaWYgKHJlcXVpcmVzU2hpcHBpbmcgJiYgc2hpcHBpbmdJbmZvLmVsZW1lbnRzWydzaGlwcGluZy1tZXRob2QtY2hvaWNlJ10pIHtcbiAgICAgIC8vIHRoaXMgaXMgYW4gSUUxMS1zYWZlIHdheSBvZiBqdXN0IGRvaW5nIHNoaXBwaW5nSW5mby5lbGVtZW50c1snc2hpcHBpbmctbWV0aG9kLWNob2ljZSddLnZhbHVlXG4gICAgICBjb25zdCBzaGlwcGluZ01ldGhvZENob2ljZSA9IHNoaXBwaW5nSW5mby5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnaW5wdXRbbmFtZT1cInNoaXBwaW5nLW1ldGhvZC1jaG9pY2VcIl06Y2hlY2tlZCdcbiAgICAgICkgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGJlIGZhbHNleSwgYnV0IEZsb3dcbiAgICAgIGlmIChzaGlwcGluZ01ldGhvZENob2ljZSkge1xuICAgICAgICBzaGlwcGluZ01ldGhvZElkID0gc2hpcHBpbmdNZXRob2RDaG9pY2UudmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY3VzdG9tRGF0YSA9IGhhc0FkZGl0aW9uYWxJbmZvXG4gICAgICA/IGN1c3RvbURhdGFGb3JtVG9BcnJheShhZGRpdGlvbmFsSW5mbylcbiAgICAgIDogW107XG5cbiAgICBjb25zdCBzeW5jUGF5UGFsQ2hlY2tvdXRGb3JtID0gUHJvbWlzZS5hbGwoW1xuICAgICAgcmVxdWlyZXNTaGlwcGluZ1xuICAgICAgICA/IGNyZWF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbihhcG9sbG9DbGllbnQsIHNoaXBwaW5nTWV0aG9kSWQpXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICBoYXNBZGRpdGlvbmFsSW5mb1xuICAgICAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdhbnlbXScgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ1tdJy5cbiAgICAgICAgICBjcmVhdGVDdXN0b21EYXRhTXV0YXRpb24oYXBvbGxvQ2xpZW50LCBjdXN0b21EYXRhKVxuICAgICAgICA6IFByb21pc2UucmVzb2x2ZSgpLFxuICAgIF0pO1xuXG4gICAgc3luY1BheVBhbENoZWNrb3V0Rm9ybVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlQXR0ZW1wdFN1Ym1pdE9yZGVyUmVxdWVzdChhcG9sbG9DbGllbnQsIHtcbiAgICAgICAgICBjaGVja291dFR5cGU6ICdwYXlwYWwnLFxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBkZWJ1Zy5sb2coZGF0YSk7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZShkYXRhKTtcbiAgICAgICAgaWYgKG9yZGVyLm9rKSB7XG4gICAgICAgICAgZmluaXNoT3JkZXJGbG93KHRydWUpO1xuICAgICAgICAgIHJlZGlyZWN0VG9PcmRlckNvbmZpcm1hdGlvbihvcmRlciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBmaW5pc2hPcmRlckZsb3coKTtcbiAgICAgICAgZGVidWcuZXJyb3IoZXJyKTtcbiAgICAgICAgZXJyb3JTdGF0ZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2UoZXJyb3JTdGF0ZSwgZXJyKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVyci5ncmFwaFFMRXJyb3JzICYmXG4gICAgICAgICAgZXJyLmdyYXBoUUxFcnJvcnNbMF0gJiZcbiAgICAgICAgICBlcnIuZ3JhcGhRTEVycm9yc1swXS5tZXNzYWdlXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZEVycm9yID0gc2FmZVBhcnNlSnNvbihlcnIuZ3JhcGhRTEVycm9yc1swXS5tZXNzYWdlKTtcbiAgICAgICAgICBpZiAoIXBhcnNlZEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGFyc2VkRXJyb3IuZGV0YWlscyAmJlxuICAgICAgICAgICAgcGFyc2VkRXJyb3IuZGV0YWlsc1swXSAmJlxuICAgICAgICAgICAgcGFyc2VkRXJyb3IuZGV0YWlsc1swXS5pc3N1ZSA9PT0gJ0lOU1RSVU1FTlRfREVDTElORUQnXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICBpc1dlYmZsb3c6IHRydWUsXG4gICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgIGRldGFpbDogcGFyc2VkRXJyb3IsXG4gICAgICAgICAgICB9IGFzIGNvbnN0O1xuICAgICAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksXG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSk7XG59O1xuXG4vLyB3aWR0aCBhbmQgaGVpZ2h0IGlzIGRlZmluZWQgdHdpY2UsIHNvIHRoYXQgb24gb2xkZXIgYnJvd3NlcnMgdGhhdFxuLy8gZG9uJ3Qgc3VwcG9ydCB2dy92aCwgd2UgZ2V0IHRoZSAxMDAlIGluc3RlYWRcbmNvbnN0IGlmcmFtZVN0eWxlID0gYFxuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgcmlnaHQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDB2dztcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgbWluLXdpZHRoOiAxMDAlO1xuICBtaW4taGVpZ2h0OiAxMDAlO1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIHotaW5kZXg6IDIxNDc0ODM2NDc7XG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbmA7XG5cbmNvbnN0IGNyZWF0ZUNvbmZpcm1hdGlvbklmcmFtZSA9IChhY3Rpb25zOiBhbnkpID0+IHtcbiAgY29uc3QgZG9jdW1lbnRSb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAvLyB3ZSB1c2UgdGhpcyBpbnN0ZWFkIG9mIGRvY3VtZW50LmJvZHkgdG8gYXBwZWFzZSB0aGUgZmxvdyBnb2RzXG4gIGNvbnN0IGRvY3VtZW50Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgaWYgKCFkb2N1bWVudFJvb3QgfHwgIWRvY3VtZW50Qm9keSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGlmcmFtZVN0eWxlKTtcbiAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgJy9wYXlwYWwtY2hlY2tvdXQnKTtcblxuICBpZiAoIWRvY3VtZW50Qm9keS5wYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZG9jdW1lbnRCb2R5LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgY29uc3QgcHJldmlvdXNSb290T3ZlcmZsb3cgPSBkb2N1bWVudFJvb3Quc3R5bGUub3ZlcmZsb3c7XG4gIGRvY3VtZW50Um9vdC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICBjb25zdCBwcmV2aW91c0JvZHlEaXNwbGF5ID0gZG9jdW1lbnRCb2R5LnN0eWxlLmRpc3BsYXk7XG4gIGRvY3VtZW50Qm9keS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIGNvbnN0IHBheXBhbE1lc3NhZ2VIYW5kbGVyID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IHNhZmVQYXJzZUpzb24oU3RyaW5nKGV2ZW50LmRhdGEpKTtcbiAgICAvLyB3ZSBpbmNsdWRlIGFuIGBpc1dlYmZsb3dgIHNpbmNlIHBheXBhbCBzZW5kcyBzb21lIG1lc3NhZ2VzIG9uIHRoZSBwYWdlXG4gICAgLy8gYW5kIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IGludGVyY2VwdCBvbmUgb2YgdGhlaXIgbWVzc2FnZXNcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5pc1dlYmZsb3cgIT09IHRydWUgfHwgIWRhdGEudHlwZSB8fCAhZGF0YS5kZXRhaWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS50eXBlID09PSAnc3VjY2VzcycpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgcGF5cGFsTWVzc2FnZUhhbmRsZXIpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLmRldGFpbDtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHBheXBhbE1lc3NhZ2VIYW5kbGVyKTtcbiAgICAgIGlmIChwcmV2aW91c1Jvb3RPdmVyZmxvdykge1xuICAgICAgICBkb2N1bWVudFJvb3Quc3R5bGUub3ZlcmZsb3cgPSBwcmV2aW91c1Jvb3RPdmVyZmxvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50Um9vdC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpb3VzQm9keURpc3BsYXkpIHtcbiAgICAgICAgZG9jdW1lbnRCb2R5LnN0eWxlLmRpc3BsYXkgPSBwcmV2aW91c0JvZHlEaXNwbGF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnRCb2R5LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChkb2N1bWVudEJvZHkucGFyZW50Tm9kZSkge1xuICAgICAgICBkb2N1bWVudEJvZHkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgfVxuICAgICAgYWN0aW9ucy5yZXN0YXJ0KCk7XG4gICAgfVxuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgcGF5cGFsTWVzc2FnZUhhbmRsZXIpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlclBheXBhbEJ1dHRvbnMgPVxuICAoYXBvbGxvQ2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0PikgPT4gKCkgPT4ge1xuICAgIGNvbnN0IHBheXBhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYFske1BBWVBBTF9FTEVNRU5UX0lOU1RBTkNFfV1gXG4gICAgKTtcbiAgICBjb25zdCBidXR0b25zID0gQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske1BBWVBBTF9CVVRUT05fRUxFTUVOVF9JTlNUQU5DRX1dYClcbiAgICApO1xuXG4gICAgaWYgKHBheXBhbEVsZW1lbnQgJiYgYnV0dG9ucyAmJiBidXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc2FmZVBhcnNlSnNvbihcbiAgICAgICAgICBidXR0b24uZ2V0QXR0cmlidXRlKFBBWVBBTF9CVVRUT05fRUxFTUVOVF9JTlNUQU5DRSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNTUxIC0gUHJvcGVydHkgJ3BheXBhbCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMnLiBEaWQgeW91IG1lYW4gJ1BhcGEnP1xuICAgICAgICB3aW5kb3cucGF5cGFsXG4gICAgICAgICAgLkJ1dHRvbnMoe1xuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICBjcmVhdGVPcmRlcigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFwb2xsb0NsaWVudFxuICAgICAgICAgICAgICAgIC5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgbXV0YXRpb246IHJlcXVlc3RQYXlQYWxPcmRlck11dGF0aW9uLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIGVjb21tZXJjZVBheXBhbE9yZGVyUmVxdWVzdDoge29yZGVySWR9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXJJZDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzaG93Q2hlY2tvdXRFcnJvck1lc3NhZ2VGb3JFcnJvcihlcnIpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoaXNDYXJ0T3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dDYXJ0RXJyb3JNZXNzYWdlRm9yRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQXBwcm92ZShkYXRhOiBhbnksIGFjdGlvbnM6IGFueSkge1xuICAgICAgICAgICAgICBjcmVhdGVDb25maXJtYXRpb25JZnJhbWUoYWN0aW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnJlbmRlcihidXR0b24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG5jb25zdCByZWdpc3RlciA9IChoYW5kbGVyUHJveHk6IEV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCkgPT4ge1xuICBoYW5kbGVyUHJveHkub24oUkVOREVSX1RSRUVfRVZFTlQsIEJvb2xlYW4sIGhhbmRsZVJlbmRlclBheVBhbENoZWNrb3V0KTtcbiAgaGFuZGxlclByb3h5Lm9uKCdjbGljaycsIGlzUGxhY2VPcmRlckJ1dHRvbkV2ZW50LCBoYW5kbGVQbGFjZU9yZGVyKTtcbiAgaGFuZGxlclByb3h5Lm9uKCdrZXlkb3duJywgaXNQbGFjZU9yZGVyQnV0dG9uRXZlbnQsIChldmVudCwgYXBvbGxvQ2xpZW50KSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICd3aGljaCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQnLlxuICAgIGlmIChldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nIG9uIHNwYWNlYmFyIGtleSBwcmVzc1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICd3aGljaCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQnLlxuICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcbiAgICAgIC8vIGVudGVyIGtleSBwcmVzc1xuICAgICAgcmV0dXJuIGhhbmRsZVBsYWNlT3JkZXIoZXZlbnQsIGFwb2xsb0NsaWVudCk7XG4gICAgfVxuICB9KTtcbiAgaGFuZGxlclByb3h5Lm9uKCdrZXl1cCcsIGlzUGxhY2VPcmRlckJ1dHRvbkV2ZW50LCAoZXZlbnQsIGFwb2xsb0NsaWVudCkgPT4ge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnd2hpY2gnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ0V2ZW50Jy5cbiAgICBpZiAoZXZlbnQud2hpY2ggPT09IDMyKSB7XG4gICAgICAvLyBzcGFjZWJhciBrZXkgcHJlc3NcbiAgICAgIHJldHVybiBoYW5kbGVQbGFjZU9yZGVyKGV2ZW50LCBhcG9sbG9DbGllbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7cmVnaXN0ZXJ9O1xuIl0sIm5hbWVzIjpbInJlbmRlclBheXBhbEJ1dHRvbnMiLCJpc1BsYWNlT3JkZXJCdXR0b25FdmVudCIsInRhcmdldCIsInBsYWNlT3JkZXJCdXR0b24iLCJmaW5kQ2xvc2VzdEVsZW1lbnRCeU5vZGVUeXBlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTiIsIkVsZW1lbnQiLCJoYXNTeW5jZWRXaXRoUGF5cGFsIiwiaGFuZGxlUmVuZGVyUGF5UGFsQ2hlY2tvdXQiLCJldmVudCIsImFwb2xsb0NsaWVudCIsIndpbmRvdyIsIldlYmZsb3ciLCJlbnYiLCJDdXN0b21FdmVudCIsInR5cGUiLCJSRU5ERVJfVFJFRV9FVkVOVCIsImNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMiLCJmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX1BBWVBBTF9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUiIsImxlbmd0aCIsImVycm9ycyIsImRldGFpbCIsImVycm9yIiwicHVzaCIsImZvY3VzZWRFbGUiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJjaGVja291dEZvcm0iLCJwcmV2Rm9jdXNlZElucHV0IiwiSFRNTElucHV0RWxlbWVudCIsImlkIiwiZ2V0QXR0cmlidXRlIiwic3luY1dpdGhQYXlQYWxJZk5lZWRlZCIsIm11dGF0ZSIsIm11dGF0aW9uIiwic3luY1BheVBhbE9yZGVySW5mbyIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInJlbmRlckNoZWNrb3V0Rm9ybUNvbnRhaW5lcnMiLCJ1bmRlZmluZWQiLCJwbGFjaW5nT3JkZXIiLCJzdGFydE9yZGVyRmxvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJiZWZvcmVVbmxvYWRIYW5kbGVyIiwiYnV0dG9uVGV4dCIsImlubmVySFRNTCIsImxvYWRpbmdUZXh0IiwiREFUQV9BVFRSX0xPQURJTkdfVEVYVCIsIkNIRUNLT1VUX1BMQUNFX09SREVSX0xPQURJTkdfVEVYVF9ERUZBVUxUIiwiZmluaXNoT3JkZXJGbG93IiwiaXNSZWRpcmVjdGluZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJDSEVDS09VVF9QTEFDRV9PUkRFUl9CVVRUT05fVEVYVF9ERUZBVUxUIiwiY2hlY2tGb3JtVmFsaWRpdHkiLCJzaGlwcGluZ0luZm8iLCJhZGRpdGlvbmFsSW5mbyIsInJlcXVpcmVzU2hpcHBpbmciLCJIVE1MRm9ybUVsZW1lbnQiLCJwcm90b3R5cGUiLCJyZXBvcnRWYWxpZGl0eSIsImhhbmRsZVBsYWNlT3JkZXIiLCJjdXJyZW50VGFyZ2V0IiwiY2hlY2tvdXRGb3JtQ29udGFpbmVyIiwiZXJyb3JTdGF0ZSIsImZpbmRFbGVtZW50QnlOb2RlVHlwZSIsIk5PREVfVFlQRV9DT01NRVJDRV9QQVlQQUxfQ0hFQ0tPVVRfRVJST1JfU1RBVEUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19XUkFQUEVSIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0FERElUSU9OQUxfSU5GTyIsIkhUTUxFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwicXVlcnlTZWxlY3RvciIsIkNBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiIsImhhc0F0dHJpYnV0ZSIsIk5FRURTX1JFRlJFU0giLCJoYXNBZGRpdGlvbmFsSW5mbyIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJmZXRjaE9yZGVyU3RhdHVzRmxhZ3MiLCJpc0Zvcm1WYWxpZCIsInNoaXBwaW5nTWV0aG9kSWQiLCJlbGVtZW50cyIsInNoaXBwaW5nTWV0aG9kQ2hvaWNlIiwidmFsdWUiLCJjdXN0b21EYXRhIiwiY3VzdG9tRGF0YUZvcm1Ub0FycmF5Iiwic3luY1BheVBhbENoZWNrb3V0Rm9ybSIsImFsbCIsImNyZWF0ZU9yZGVyU2hpcHBpbmdNZXRob2RNdXRhdGlvbiIsImNyZWF0ZUN1c3RvbURhdGFNdXRhdGlvbiIsImNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QiLCJjaGVja291dFR5cGUiLCJkYXRhIiwiZGVidWciLCJsb2ciLCJvcmRlciIsImdldE9yZGVyRGF0YUZyb21HcmFwaFFMUmVzcG9uc2UiLCJvayIsInJlZGlyZWN0VG9PcmRlckNvbmZpcm1hdGlvbiIsImNhdGNoIiwiZXJyIiwicmVtb3ZlUHJvcGVydHkiLCJ1cGRhdGVFcnJvck1lc3NhZ2UiLCJncmFwaFFMRXJyb3JzIiwibWVzc2FnZSIsInBhcnNlZEVycm9yIiwic2FmZVBhcnNlSnNvbiIsImRldGFpbHMiLCJpc3N1ZSIsImlzV2ViZmxvdyIsInBhcmVudCIsInBvc3RNZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvY2F0aW9uIiwib3JpZ2luIiwiaWZyYW1lU3R5bGUiLCJjcmVhdGVDb25maXJtYXRpb25JZnJhbWUiLCJhY3Rpb25zIiwiZG9jdW1lbnRSb290IiwiZG9jdW1lbnRFbGVtZW50IiwiZG9jdW1lbnRCb2R5IiwiaWZyYW1lIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInBhcmVudE5vZGUiLCJhcHBlbmRDaGlsZCIsInByZXZpb3VzUm9vdE92ZXJmbG93Iiwib3ZlcmZsb3ciLCJwcmV2aW91c0JvZHlEaXNwbGF5IiwiZGlzcGxheSIsInBheXBhbE1lc3NhZ2VIYW5kbGVyIiwiU3RyaW5nIiwiaHJlZiIsInJlbW92ZUNoaWxkIiwicmVzdGFydCIsInBheXBhbEVsZW1lbnQiLCJQQVlQQUxfRUxFTUVOVF9JTlNUQU5DRSIsImJ1dHRvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiUEFZUEFMX0JVVFRPTl9FTEVNRU5UX0lOU1RBTkNFIiwiZm9yRWFjaCIsImJ1dHRvbiIsInBheXBhbCIsIkJ1dHRvbnMiLCJjcmVhdGVPcmRlciIsInJlcXVlc3RQYXlQYWxPcmRlck11dGF0aW9uIiwiZWNvbW1lcmNlUGF5cGFsT3JkZXJSZXF1ZXN0Iiwib3JkZXJJZCIsInNob3dDaGVja291dEVycm9yTWVzc2FnZUZvckVycm9yIiwiaXNDYXJ0T3BlbiIsInNob3dDYXJ0RXJyb3JNZXNzYWdlRm9yRXJyb3IiLCJvbkFwcHJvdmUiLCJyZW5kZXIiLCJyZWdpc3RlciIsImhhbmRsZXJQcm94eSIsIm9uIiwiQm9vbGVhbiIsIndoaWNoIiwicHJldmVudERlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBLCtFQUErRTs7Ozs7Ozs7Ozs7SUFzZS9FLE9BQTBCO2VBQTFCOztJQTNFYUEsbUJBQW1CO2VBQW5CQTs7OytCQWpaTjsrQkFXQTsyQkFJQTs4REFDVzttQ0FJWDsyQkFlQTs7Ozs7O0FBR1AscUZBQXFGO0FBQ3JGLE1BQU1DLDBCQUEwQixDQUFDLEVBQUNDLE1BQU0sRUFBQztJQUN2QyxNQUFNQyxtQkFBbUJDLElBQUFBLDJDQUE0QixFQUNuREMseURBQThDLEVBQzlDSDtJQUVGLElBQUlDLG9CQUFvQkQsa0JBQWtCSSxTQUFTO1FBQ2pELE9BQU9KO0lBQ1QsT0FBTztRQUNMLE9BQU87SUFDVDtBQUNGO0FBRUEsSUFBSUssc0JBQXNCO0FBQzFCLE1BQU1DLDZCQUE2QixDQUNqQ0MsT0FDQUM7SUFFQSxJQUFJQyxPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUFhRixPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZO1FBQ2pFO0lBQ0Y7SUFDQSxJQUFJLENBQUVKLENBQUFBLGlCQUFpQkssZUFBZUwsTUFBTU0sSUFBSSxLQUFLQyw0QkFBaUIsQUFBRCxHQUFJO1FBQ3ZFO0lBQ0Y7SUFDQSxNQUFNQyx5QkFBeUJDLElBQUFBLHdDQUF5QixFQUN0REMsNERBQWlEO0lBRW5ELElBQUksQ0FBQ0YsMEJBQTBCQSx1QkFBdUJHLE1BQU0sS0FBSyxHQUFHO1FBQ2xFO0lBQ0Y7SUFDQSxNQUFNQyxTQUFxQixFQUFFO0lBQzdCLE1BQU0sRUFBQ0MsTUFBTSxFQUFDLEdBQUdiO0lBQ2pCLElBQUlhLFVBQVUsUUFBUUEsT0FBT0MsS0FBSyxFQUFFO1FBQ2xDRixPQUFPRyxJQUFJLENBQUNGLE9BQU9DLEtBQUs7SUFDMUI7SUFFQSxNQUFNRSxhQUFhZCxPQUFPZSxRQUFRLENBQUNDLGFBQWE7SUFDaEQsTUFBTUMsZUFBZXhCLElBQUFBLDJDQUE0QixFQUMvQ2UsNERBQWlELEVBQ2pELHNIQUFzSDtJQUN0SE07SUFHRixJQUFJSSxtQkFBbUI7SUFDdkIsdURBQXVEO0lBQ3ZELElBQUlKLHNCQUFzQkssb0JBQW9CRixjQUFjO1FBQzFEQyxtQkFBbUJKLFdBQVdNLEVBQUU7UUFDaEMsSUFBSSxDQUFDRixrQkFBa0I7WUFDckJBLG1CQUFtQkosV0FBV08sWUFBWSxDQUFDO1FBQzdDO1FBRUEsaUNBQWlDO1FBQ2pDSCxtQkFBbUJBLG1CQUFtQixPQUFPQTtJQUMvQztJQUVBLE1BQU1JLHlCQUF5QixDQUFDMUIsc0JBQzVCRyxhQUFhd0IsTUFBTSxDQUFDO1FBQ2xCQyxVQUFVQyxzQ0FBbUI7SUFDL0IsS0FDQUMsUUFBUUMsT0FBTztJQUVuQkwsdUJBQXVCTSxJQUFJLENBQUM7UUFDMUJoQyxzQkFBc0I7UUFFdEJpQyxJQUFBQSwyQ0FBNEIsRUFDMUJ2Qix3QkFDQUksUUFDQVgsY0FDQStCLFdBQ0FaO0lBRUo7QUFDRjtBQUVBLElBQUlhLGVBQWU7QUFDbkIsTUFBTUMsaUJBQWlCLENBQUN4QztJQUN0QnVDLGVBQWU7SUFDZi9CLE9BQU9pQyxnQkFBZ0IsQ0FBQyxnQkFBZ0JDLGtDQUFtQjtJQUUzRCxNQUFNQyxhQUFhM0MsaUJBQWlCNEMsU0FBUztJQUM3QyxNQUFNQyxjQUFjN0MsaUJBQWlCNkIsWUFBWSxDQUFDaUIsaUNBQXNCO0lBQ3hFOUMsaUJBQWlCNEMsU0FBUyxHQUFHQyxjQUN6QkEsY0FDQUUsb0RBQXlDO0lBRTdDLE1BQU1DLGtCQUFrQixDQUFDQyxnQkFBeUIsS0FBSztRQUNyRCxzRUFBc0U7UUFDdEUsd0VBQXdFO1FBQ3hFLGlFQUFpRTtRQUNqRSxJQUFJLENBQUNBLGVBQWU7WUFDbEJWLGVBQWU7UUFDakI7UUFDQS9CLE9BQU8wQyxtQkFBbUIsQ0FBQyxnQkFBZ0JSLGtDQUFtQjtRQUM5RDFDLGlCQUFpQjRDLFNBQVMsR0FBR0QsYUFDekJBLGFBQ0FRLG1EQUF3QztJQUM5QztJQUVBLE9BQU9IO0FBQ1Q7QUFFQSxNQUFNSSxvQkFBb0IsQ0FBQyxFQUN6QkMsWUFBWSxFQUNaQyxjQUFjLEVBQ2RDLGdCQUFnQixFQUtqQjtJQUNDLElBQUksQ0FBQ0MsZ0JBQWdCQyxTQUFTLENBQUNDLGNBQWMsRUFBRTtRQUM3QyxPQUFPO0lBQ1Q7SUFDQSxJQUNFLEFBQUNILG9CQUFvQixDQUFDRixhQUFhSyxjQUFjLE1BQ2hESixrQkFDQ0EsMEJBQTBCRSxtQkFDMUIsQ0FBQ0YsZUFBZUksY0FBYyxJQUNoQztRQUNBLE9BQU87SUFDVDtJQUNBLE9BQU87QUFDVDtBQUVBLG9HQUFvRztBQUNwRyxNQUFNQyxtQkFBbUIsQ0FBQ3JELE9BQWNDO0lBQ3RDLHlGQUF5RjtJQUN6RixJQUNFQyxPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUNuQkYsT0FBT0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FDbkI2QixjQUNBO1FBQ0E7SUFDRjtJQUVBLE1BQU0sRUFBQ3FCLGFBQWEsRUFBQyxHQUFHdEQ7SUFFeEIsSUFBSSxDQUFFc0QsQ0FBQUEseUJBQXlCekQsT0FBTSxHQUFJO1FBQ3ZDO0lBQ0Y7SUFFQSxNQUFNMEQsd0JBQXdCNUQsSUFBQUEsMkNBQTRCLEVBQ3hEZSw0REFBaUQsRUFDakQ0QztJQUVGLElBQUksQ0FBRUMsQ0FBQUEsaUNBQWlDMUQsT0FBTSxHQUFJO1FBQy9DO0lBQ0Y7SUFFQSxNQUFNMkQsYUFBYUMsSUFBQUEsb0NBQXFCLEVBQ3RDQyx5REFBOEMsRUFDOUNIO0lBRUYsTUFBTVIsZUFBZVUsSUFBQUEsb0NBQXFCLEVBQ3hDRSwrREFBb0QsRUFDcERKO0lBRUYsTUFBTTdELG1CQUFtQitELElBQUFBLG9DQUFxQixFQUM1QzdELHlEQUE4QyxFQUM5QzJEO0lBRUYsTUFBTVAsaUJBQWlCUyxJQUFBQSxvQ0FBcUIsRUFDMUNHLHNEQUEyQyxFQUMzQ0w7SUFFRixJQUNFLENBQUVDLENBQUFBLHNCQUFzQkssV0FBVSxLQUNsQyxDQUFFZCxDQUFBQSx3QkFBd0JHLGVBQWMsS0FDeEMsQ0FBRXhELENBQUFBLDRCQUE0QkcsT0FBTSxHQUNwQztRQUNBO0lBQ0Y7SUFFQSxNQUFNaUUsZUFBZU4sV0FBV08sYUFBYSxDQUMzQ0MsK0NBQW9DO0lBR3RDLDJFQUEyRTtJQUMzRSw0RUFBNEU7SUFDNUUsSUFBSUYsZ0JBQWdCQSxhQUFhRyxZQUFZLENBQUNDLHdCQUFhLEdBQUc7UUFDNUQ7SUFDRjtJQUVBLE1BQU1DLG9CQUNKbkIsa0JBQWtCQSwwQkFBMEJhO0lBRTlDLE1BQU1uQixrQkFBa0JSLGVBQWV4QztJQUV2QzhELFdBQVdZLEtBQUssQ0FBQ0MsV0FBVyxDQUFDLFdBQVc7SUFFeENDLElBQUFBLG9DQUFxQixFQUFDckUsY0FBYzZCLElBQUksQ0FBQyxDQUFDLEVBQUNtQixnQkFBZ0IsRUFBQztRQUMxRCxNQUFNc0IsY0FBY3pCLGtCQUFrQjtZQUNwQ0M7WUFDQUM7WUFDQUM7UUFDRjtRQUVBLElBQUksQ0FBQ3NCLGFBQWE7WUFDaEI3QjtZQUNBO1FBQ0Y7UUFFQSw2Q0FBNkM7UUFDN0MsSUFBSThCLG1CQUFtQjtRQUN2QixxSEFBcUg7UUFDckgsSUFBSXZCLG9CQUFvQkYsYUFBYTBCLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRTtZQUN2RSwrRkFBK0Y7WUFDL0YsTUFBTUMsdUJBQXVCM0IsYUFBYWdCLGFBQWEsQ0FDckQ7WUFHRix3Q0FBd0M7WUFDeEMsSUFBSVcsc0JBQXNCO2dCQUN4QkYsbUJBQW1CRSxxQkFBcUJDLEtBQUs7WUFDL0M7UUFDRjtRQUVBLE1BQU1DLGFBQWFULG9CQUNmVSxJQUFBQSxvQ0FBcUIsRUFBQzdCLGtCQUN0QixFQUFFO1FBRU4sTUFBTThCLHlCQUF5QmxELFFBQVFtRCxHQUFHLENBQUM7WUFDekM5QixtQkFDSStCLElBQUFBLGdEQUFpQyxFQUFDL0UsY0FBY3VFLG9CQUNoRDVDLFFBQVFDLE9BQU87WUFDbkJzQyxvQkFFSWMsSUFBQUEsdUNBQXdCLEVBQUNoRixjQUFjMkUsY0FDdkNoRCxRQUFRQyxPQUFPO1NBQ3BCO1FBRURpRCx1QkFDR2hELElBQUksQ0FBQztZQUNKLE9BQU9vRCxJQUFBQSw4Q0FBK0IsRUFBQ2pGLGNBQWM7Z0JBQ25Ea0YsY0FBYztZQUNoQjtRQUNGLEdBQ0NyRCxJQUFJLENBQUMsQ0FBQ3NEO1lBQ0xDLGNBQUssQ0FBQ0MsR0FBRyxDQUFDRjtZQUNWLE1BQU1HLFFBQVFDLElBQUFBLDhDQUErQixFQUFDSjtZQUM5QyxJQUFJRyxNQUFNRSxFQUFFLEVBQUU7Z0JBQ1ovQyxnQkFBZ0I7Z0JBQ2hCZ0QsSUFBQUEsMENBQTJCLEVBQUNILE9BQU87WUFDckM7UUFDRixHQUNDSSxLQUFLLENBQUMsQ0FBQ0M7WUFDTmxEO1lBQ0EyQyxjQUFLLENBQUN2RSxLQUFLLENBQUM4RTtZQUNacEMsV0FBV1ksS0FBSyxDQUFDeUIsY0FBYyxDQUFDO1lBQ2hDQyxJQUFBQSxpQ0FBa0IsRUFBQ3RDLFlBQVlvQztZQUMvQixJQUNFQSxJQUFJRyxhQUFhLElBQ2pCSCxJQUFJRyxhQUFhLENBQUMsRUFBRSxJQUNwQkgsSUFBSUcsYUFBYSxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxFQUM1QjtnQkFDQSxNQUFNQyxjQUFjQyxJQUFBQSw0QkFBYSxFQUFDTixJQUFJRyxhQUFhLENBQUMsRUFBRSxDQUFDQyxPQUFPO2dCQUM5RCxJQUFJLENBQUNDLGFBQWE7b0JBQ2hCO2dCQUNGO2dCQUVBLElBQ0VBLFlBQVlFLE9BQU8sSUFDbkJGLFlBQVlFLE9BQU8sQ0FBQyxFQUFFLElBQ3RCRixZQUFZRSxPQUFPLENBQUMsRUFBRSxDQUFDQyxLQUFLLEtBQUssdUJBQ2pDO29CQUNBLE1BQU1KLFVBQVU7d0JBQ2RLLFdBQVc7d0JBQ1gvRixNQUFNO3dCQUNOTyxRQUFRb0Y7b0JBQ1Y7b0JBQ0EvRixPQUFPb0csTUFBTSxDQUFDQyxXQUFXLENBQ3ZCQyxLQUFLQyxTQUFTLENBQUNULFVBQ2Y5RixPQUFPd0csUUFBUSxDQUFDQyxNQUFNO2dCQUUxQjtZQUNGO1FBQ0Y7SUFDSjtBQUNGO0FBRUEsb0VBQW9FO0FBQ3BFLCtDQUErQztBQUMvQyxNQUFNQyxjQUFjLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCckIsQ0FBQztBQUVELE1BQU1DLDJCQUEyQixDQUFDQztJQUNoQyxNQUFNQyxlQUFlOUYsU0FBUytGLGVBQWU7SUFDN0MsZ0VBQWdFO0lBQ2hFLE1BQU1DLGVBQWVoRyxTQUFTOEMsYUFBYSxDQUFDO0lBQzVDLElBQUksQ0FBQ2dELGdCQUFnQixDQUFDRSxjQUFjO1FBQ2xDO0lBQ0Y7SUFFQSxNQUFNQyxTQUFTakcsU0FBU2tHLGFBQWEsQ0FBQztJQUN0Q0QsT0FBT0UsWUFBWSxDQUFDLFNBQVNSO0lBQzdCTSxPQUFPRSxZQUFZLENBQUMsT0FBTztJQUUzQixJQUFJLENBQUNILGFBQWFJLFVBQVUsRUFBRTtRQUM1QjtJQUNGO0lBRUFKLGFBQWFJLFVBQVUsQ0FBQ0MsV0FBVyxDQUFDSjtJQUNwQyxNQUFNSyx1QkFBdUJSLGFBQWEzQyxLQUFLLENBQUNvRCxRQUFRO0lBQ3hEVCxhQUFhM0MsS0FBSyxDQUFDb0QsUUFBUSxHQUFHO0lBQzlCLE1BQU1DLHNCQUFzQlIsYUFBYTdDLEtBQUssQ0FBQ3NELE9BQU87SUFDdERULGFBQWE3QyxLQUFLLENBQUNzRCxPQUFPLEdBQUc7SUFFN0IsTUFBTUMsdUJBQXVCLENBQUMzSDtRQUM1QixJQUFJQSxNQUFNMkcsTUFBTSxLQUFLekcsT0FBT3dHLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFO1lBQzNDO1FBQ0Y7UUFFQSxNQUFNdkIsT0FBT2MsSUFBQUEsNEJBQWEsRUFBQzBCLE9BQU81SCxNQUFNb0YsSUFBSTtRQUM1Qyx5RUFBeUU7UUFDekUsc0ZBQXNGO1FBQ3RGLElBQUksQ0FBQ0EsUUFBUUEsS0FBS2lCLFNBQVMsS0FBSyxRQUFRLENBQUNqQixLQUFLOUUsSUFBSSxJQUFJLENBQUM4RSxLQUFLdkUsTUFBTSxFQUFFO1lBQ2xFO1FBQ0Y7UUFFQSxJQUFJdUUsS0FBSzlFLElBQUksS0FBSyxXQUFXO1lBQzNCSixPQUFPMEMsbUJBQW1CLENBQUMsV0FBVytFO1lBQ3RDekgsT0FBT3dHLFFBQVEsQ0FBQ21CLElBQUksR0FBR3pDLEtBQUt2RSxNQUFNO1FBQ3BDO1FBRUEsSUFBSXVFLEtBQUs5RSxJQUFJLEtBQUssU0FBUztZQUN6QkosT0FBTzBDLG1CQUFtQixDQUFDLFdBQVcrRTtZQUN0QyxJQUFJSixzQkFBc0I7Z0JBQ3hCUixhQUFhM0MsS0FBSyxDQUFDb0QsUUFBUSxHQUFHRDtZQUNoQyxPQUFPO2dCQUNMUixhQUFhM0MsS0FBSyxDQUFDb0QsUUFBUSxHQUFHO1lBQ2hDO1lBQ0EsSUFBSUMscUJBQXFCO2dCQUN2QlIsYUFBYTdDLEtBQUssQ0FBQ3NELE9BQU8sR0FBR0Q7WUFDL0IsT0FBTztnQkFDTFIsYUFBYTdDLEtBQUssQ0FBQ3NELE9BQU8sR0FBRztZQUMvQjtZQUNBLElBQUlULGFBQWFJLFVBQVUsRUFBRTtnQkFDM0JKLGFBQWFJLFVBQVUsQ0FBQ1MsV0FBVyxDQUFDWjtZQUN0QztZQUNBSixRQUFRaUIsT0FBTztRQUNqQjtJQUNGO0lBRUE3SCxPQUFPaUMsZ0JBQWdCLENBQUMsV0FBV3dGO0FBQ3JDO0FBRU8sTUFBTXBJLHNCQUNYLENBQUNVLGVBQXNEO1FBQ3JELE1BQU0rSCxnQkFBZ0IvRyxTQUFTOEMsYUFBYSxDQUMxQyxDQUFDLENBQUMsRUFBRWtFLGtDQUF1QixDQUFDLENBQUMsQ0FBQztRQUVoQyxNQUFNQyxVQUFVQyxNQUFNQyxJQUFJLENBQ3hCbkgsU0FBU29ILGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFQyx5Q0FBOEIsQ0FBQyxDQUFDLENBQUM7UUFHakUsSUFBSU4saUJBQWlCRSxXQUFXQSxRQUFRdkgsTUFBTSxHQUFHLEdBQUc7WUFDbER1SCxRQUFRSyxPQUFPLENBQUMsQ0FBQ0M7Z0JBQ2YsTUFBTXBFLFFBQVE4QixJQUFBQSw0QkFBYSxFQUN6QnNDLE9BQU9qSCxZQUFZLENBQUMrRyx5Q0FBOEI7Z0JBR3BELDBIQUEwSDtnQkFDMUhwSSxPQUFPdUksTUFBTSxDQUNWQyxPQUFPLENBQUM7b0JBQ1B0RTtvQkFDQXVFO3dCQUNFLE9BQU8xSSxhQUNKd0IsTUFBTSxDQUFDOzRCQUNOQyxVQUFVa0gsNkNBQTBCO3dCQUN0QyxHQUNDOUcsSUFBSSxDQUFDLENBQUNzRDs0QkFDTCxNQUFNLEVBQ0pBLE1BQU0sRUFDSnlELDZCQUE2QixFQUFDQyxPQUFPLEVBQUMsRUFDdkMsRUFDRixHQUFHMUQ7NEJBQ0osT0FBTzBEO3dCQUNULEdBQ0NuRCxLQUFLLENBQUMsQ0FBQ0M7NEJBQ05tRCxJQUFBQSx1Q0FBZ0MsRUFBQ25EOzRCQUVqQyxJQUFJb0QsSUFBQUEscUJBQVUsS0FBSTtnQ0FDaEJDLElBQUFBLG1DQUE0QixFQUFDckQ7NEJBQy9COzRCQUVBLE1BQU1BO3dCQUNSO29CQUNKO29CQUNBc0QsV0FBVTlELElBQVMsRUFBRTBCLE9BQVk7d0JBQy9CRCx5QkFBeUJDO29CQUMzQjtnQkFDRixHQUNDcUMsTUFBTSxDQUFDWDtZQUNaO1FBQ0Y7SUFDRjtBQUVGLE1BQU1ZLFdBQVcsQ0FBQ0M7SUFDaEJBLGFBQWFDLEVBQUUsQ0FBQy9JLDRCQUFpQixFQUFFZ0osU0FBU3hKO0lBQzVDc0osYUFBYUMsRUFBRSxDQUFDLFNBQVM5Six5QkFBeUI2RDtJQUNsRGdHLGFBQWFDLEVBQUUsQ0FBQyxXQUFXOUoseUJBQXlCLENBQUNRLE9BQU9DO1FBQzFELCtFQUErRTtRQUMvRSxJQUFJRCxNQUFNd0osS0FBSyxLQUFLLElBQUk7WUFDdEIsMENBQTBDO1lBQzFDeEosTUFBTXlKLGNBQWM7UUFDdEI7UUFDQSwrRUFBK0U7UUFDL0UsSUFBSXpKLE1BQU13SixLQUFLLEtBQUssSUFBSTtZQUN0QixrQkFBa0I7WUFDbEIsT0FBT25HLGlCQUFpQnJELE9BQU9DO1FBQ2pDO0lBQ0Y7SUFDQW9KLGFBQWFDLEVBQUUsQ0FBQyxTQUFTOUoseUJBQXlCLENBQUNRLE9BQU9DO1FBQ3hELCtFQUErRTtRQUMvRSxJQUFJRCxNQUFNd0osS0FBSyxLQUFLLElBQUk7WUFDdEIscUJBQXFCO1lBQ3JCLE9BQU9uRyxpQkFBaUJyRCxPQUFPQztRQUNqQztJQUNGO0FBQ0Y7TUFFQSxXQUFlO0lBQUNtSjtBQUFRIn0=

}),
91898: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window, document, HTMLElement */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    applySkuBoundConditionalVisibility: function() {
        return applySkuBoundConditionalVisibility;
    },
    renderTree: function() {
        return renderTree;
    }
});
const _Transformers = __webpack_require__(61649);
const _escape = /*#__PURE__*/ _interop_require_default(__webpack_require__(28929));
const _cloneDeep = /*#__PURE__*/ _interop_require_default(__webpack_require__(37252));
const _transform = /*#__PURE__*/ _interop_require_default(__webpack_require__(16089));
const _constants = __webpack_require__(10873);
const _constants1 = __webpack_require__(29197);
const _RenderingUtils = __webpack_require__(86078);
const _commerceUtils = __webpack_require__(54556);
const _DynamoFormattingUtils = __webpack_require__(82688);
const _site = __webpack_require__(32949);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const allowedFieldTypes = {
    ..._constants1.SHARED_ALLOWED_FIELD_TYPES,
    'data-commerce-sku-id': [
        'ItemRef'
    ]
};
const isBindingPropToFieldTypeAllowed = (// @ts-expect-error - TS7006 - Parameter 'bindingProperty' implicitly has an 'any' type.
bindingProperty, type)=>{
    // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ readonly 'data-commerce-sku-id': readonly ["ItemRef"]; readonly innerHTML: { PlainText: string; HighlightedText: string; RichText: string; Number: string; Video: string; Option: string; Date: string; Phone: string; ... 6 more ...; CommercePropValues: string; }; ... 11 more ...; readonly dataWHref: string[]; }'.
    const allowedTypes = allowedFieldTypes[bindingProperty];
    return allowedTypes instanceof Array ? allowedTypes.indexOf(type) > -1 : allowedTypes && type in allowedTypes;
};
// @ts-expect-error - TS7023 - 'getIn' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions. | TS7006 - Parameter 'object' implicitly has an 'any' type.
const getIn = (object, path)=>{
    const nextDotIndex = path.indexOf('.');
    if (object == null) {
        return null;
    }
    if (nextDotIndex !== -1) {
        const pathPart = path.slice(0, nextDotIndex);
        const restOfPath = path.slice(nextDotIndex + 1, path.length);
        return getIn(object[pathPart], restOfPath);
    }
    return object[path];
};
const applyBindingsMutation = ({ // @ts-expect-error - TS7031 - Binding element 'bindingProperty' implicitly has an 'any' type.
bindingProperty, // @ts-expect-error - TS7031 - Binding element 'type' implicitly has an 'any' type.
type, // @ts-expect-error - TS7031 - Binding element 'filter' implicitly has an 'any' type.
filter, // @ts-expect-error - TS7031 - Binding element 'path' implicitly has an 'any' type.
path, // @ts-expect-error - TS7031 - Binding element 'timezone' implicitly has an 'any' type.
timezone, // @ts-expect-error - TS7031 - Binding element 'pageLinkHrefPrefix' implicitly has an 'any' type.
pageLinkHrefPrefix, collectionSlugMap = {}, // @ts-expect-error - TS7031 - Binding element 'data' implicitly has an 'any' type.
data, // @ts-expect-error - TS7031 - Binding element 'node' implicitly has an 'any' type.
node, emailLinkSubject = '' })=>{
    if (!isBindingPropToFieldTypeAllowed(bindingProperty, type)) {
        return;
    }
    const prefix = 'data.';
    let suffix = '';
    if (type === 'ImageRef' && bindingProperty === 'src') {
        suffix = '.url';
    }
    let rawValue;
    if (type === 'CommercePropValues') {
        rawValue = getCommercePropValue(data, `${prefix}${path}`);
    } else {
        rawValue = getIn(data, `${prefix}${path}${suffix}`);
    }
    const transformedValue = (0, _Transformers.transformers)(rawValue, filter, {
        timezone,
        pageLinkHrefPrefix,
        collectionSlugMap,
        // @ts-expect-error - TS2339 - Property '__WEBFLOW_CURRENCY_SETTINGS' does not exist on type 'Window & typeof globalThis'.
        currencySettings: window.__WEBFLOW_CURRENCY_SETTINGS
    });
    const propertyMutator = getPropertyMutator(bindingProperty, emailLinkSubject);
    if (typeof propertyMutator === 'function') {
        propertyMutator(node, type, transformedValue);
    }
};
const applyBindings = (bindings, data, node)=>{
    if (bindings == null) {
        return;
    }
    bindings.forEach((binding)=>{
        Object.keys(binding).forEach((bindingProperty)=>{
            // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"value" | "id" | "alt" | "data-commerce-sku-id" | "innerHTML" | "src" | "checked" | "for" | "style.color" | "style.background-color" | "style.border-color" | "style.background-image", Binding>>'.
            const bindingValue = binding[bindingProperty];
            const { type, filter, dataPath: path, timezone, pageLinkHrefPrefix, collectionSlugMap, emailLinkSubject } = bindingValue;
            applyBindingsMutation({
                bindingProperty,
                type,
                filter,
                path,
                timezone,
                pageLinkHrefPrefix,
                collectionSlugMap,
                data,
                node,
                emailLinkSubject
            });
        });
    });
};
const applyConditionalVisibility = (// @ts-expect-error - TS7006 - Parameter 'conditionData' implicitly has an 'any' type.
conditionData, data, node)=>{
    if (!conditionData) {
        return;
    }
    const { dataPath, meta } = conditionData;
    const prefixedDataPath = `data.${dataPath}`;
    // manually construct item when the condition is bound to Product Options
    const item = meta && meta.type === 'CommercePropValues' ? {
        name: getIn(data, `${prefixedDataPath}.name`),
        value: getCommercePropValue(data, prefixedDataPath)
    } : getIn(data, prefixedDataPath);
    (0, _RenderingUtils.applyConditionToNode)(node, item, conditionData, true);
};
const applySkuBoundConditionalVisibility = ({ conditionData, newSkuItem, node })=>{
    const { condition } = conditionData;
    const skuConditionData = (0, _transform.default)(condition.fields, (data, val, field)=>{
        const skuField = field.split('default-sku:');
        if (skuField.length > 1) {
            // @ts-expect-error - TS18046 - 'data' is of type 'unknown'.
            data[skuField[1]] = val;
            return data;
        }
    });
    // Need to flatten the inventory quantity to allow cond vis bound to inventory counts
    const inventoryQuantity = newSkuItem.inventory.type === 'infinite' ? null : newSkuItem.inventory.quantity;
    const itemWithFlattenedInventory = {
        ...newSkuItem,
        ecSkuInventoryQuantity: inventoryQuantity
    };
    (0, _RenderingUtils.applyConditionToNode)(node, itemWithFlattenedInventory, {
        ...conditionData,
        condition: {
            fields: skuConditionData
        }
    }, true);
};
const createStyleMutator = // @ts-expect-error - TS7006 - Parameter 'node' implicitly has an 'any' type. | TS7006 - Parameter 'type' implicitly has an 'any' type.
(property)=>(node, type, value)=>{
        if (!(node instanceof HTMLElement && typeof value === 'string')) {
            return;
        }
        if (type === 'ImageRef') {
            node.style.setProperty(property, `url(${value})`);
        }
        node.style.setProperty(property, value);
    };
const createAttributeMutator = // @ts-expect-error - TS7006 - Parameter 'node' implicitly has an 'any' type. | TS7006 - Parameter 'type' implicitly has an 'any' type.
(attribute)=>(node, type, value)=>{
        const sanitizedString = value != null ? String(value) : '';
        node.setAttribute(attribute, sanitizedString);
        if (attribute === 'src' && sanitizedString) {
            (0, _RenderingUtils.removeWDynBindEmptyClass)(node);
        }
    };
const valueMutator = (node, type, value)=>{
    if (node.hasRendered) {
        return;
    }
    let sanitizedString;
    // if it's a select element, and we have no value, we default to the last value
    // this was added for the case of the first render of the country select field
    // so that it isn't a blank select box when it's a new order without a country set
    if (node.tagName === 'SELECT') {
        sanitizedString = value != null ? String(value) : node.value || '';
    } else {
        sanitizedString = value != null ? String(value) : '';
    }
    node.setAttribute('value', sanitizedString);
    if (node.tagName === 'INPUT' && String(node.type).toLowerCase() === 'text') {
        node.hasRendered = true;
    }
    node.value = sanitizedString;
};
const checkedMutator = (node, type, value)=>{
    node.checked = Boolean(value);
};
// @ts-expect-error - TS7031 - Binding element 'height' implicitly has an 'any' type. | TS7031 - Binding element 'width' implicitly has an 'any' type.
const aspectRatio = ({ height, width })=>{
    return height && width ? height / width : 0;
};
const mutators = {
    // @ts-expect-error - TS7006 - Parameter 'node' implicitly has an 'any' type. | TS7006 - Parameter 'type' implicitly has an 'any' type. | TS7006 - Parameter 'value' implicitly has an 'any' type.
    innerHTML: (node, type, value)=>{
        const originalValue = value;
        if (type === 'Video') {
            /*
      TODO handle also innerHTML Video Links
      For example,
      innerHTML: [
        {
          id: 'video-id',
          slug: 'video',
          type: 'Video',
        },
        {
          id: 'url',
          slug: 'url',
          type: 'Link',
        },
      ],
       */ value = value != null && value.metadata != null && typeof value.metadata.html === 'string' ? value.metadata.html : null;
        }
        const valueString = value != null ? String(value) : '';
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ PlainText: string; HighlightedText: string; RichText: string; Number: string; Video: string; Option: string; Date: string; Phone: string; Email: string; CommercePrice: string; Link: string; ImageRef: boolean; FileRef: boolean; ItemRef: boolean; CommercePropValues: string; }'.
        if (allowedFieldTypes.innerHTML[type] === 'innerHTML') {
            node.innerHTML = valueString;
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ PlainText: string; HighlightedText: string; RichText: string; Number: string; Video: string; Option: string; Date: string; Phone: string; Email: string; CommercePrice: string; Link: string; ImageRef: boolean; FileRef: boolean; ItemRef: boolean; CommercePropValues: string; }'.
        } else if (allowedFieldTypes.innerHTML[type] === 'innerText') {
            node.innerHTML = (0, _escape.default)(valueString);
        }
        // Videos have their `padding-top` style set automatically to make them responsive, and are a locked style.
        // This is usually done in `shared/render/plugins/Embed/Video.jsx` on the server render. However, the render-time value
        // when rendering the cart is `0`, as the server does not have the associated data from the binding passed to it at
        // render-time, since we're not getting that data until we do the client-side render, after fetching the cart data.
        // So, along with setting the proper innerHTML binding for the embed itself, we also have to do an exception here
        // and set the `padding-top` to the video's aspect ratio (height over width).
        if (type === 'Video' && originalValue && originalValue.metadata && node instanceof HTMLElement) {
            node.style.setProperty('padding-top', `${aspectRatio(originalValue.metadata) * 100}%`);
        }
        if (node.innerHTML) {
            (0, _RenderingUtils.removeWDynBindEmptyClass)(node);
        }
    },
    'style.color': createStyleMutator('color'),
    'style.background-color': createStyleMutator('background-color'),
    'style.border-color': createStyleMutator('border-color'),
    'style.background-image': createStyleMutator('background-image'),
    src: createAttributeMutator('src'),
    alt: createAttributeMutator('alt'),
    id: createAttributeMutator('id'),
    for: createAttributeMutator('for'),
    value: valueMutator,
    checked: checkedMutator,
    'data-commerce-sku-id': createAttributeMutator('data-commerce-sku-id')
};
const hrefMutator = (emailLinkSubject)=>(node, type, value)=>{
        if (value) {
            const href = String(value);
            switch(type){
                case 'Phone':
                    {
                        node.setAttribute('href', (0, _DynamoFormattingUtils.formatPhone)(href, 'href'));
                        break;
                    }
                case 'Email':
                    {
                        let subject;
                        try {
                            subject = encodeURIComponent(emailLinkSubject);
                        } catch (e) {
                            subject = '';
                        }
                        const formattedEmail = (0, _DynamoFormattingUtils.formatEmail)(href, subject, 'href');
                        node.setAttribute('href', formattedEmail || '#');
                        break;
                    }
                default:
                    {
                        node.setAttribute('href', href);
                        break;
                    }
            }
        } else {
            node.setAttribute('href', '#');
        }
    };
// @ts-expect-error - TS7006 - Parameter 'bindingProperty' implicitly has an 'any' type.
const getPropertyMutator = (bindingProperty, emailLinkSubject)=>{
    if (bindingProperty === 'href' || bindingProperty === 'dataWHref') {
        return hrefMutator(emailLinkSubject);
    }
    // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ readonly innerHTML: (node: any, type: any, value: any) => void; readonly 'style.color': (node: any, type: any, value: unknown) => void; readonly 'style.background-color': (node: any, type: any, value: unknown) => void; ... 8 more ...; readonly 'data-commerce-sku-id': (node: any, type: any, value: unknown) => void; }'.
    if (typeof mutators[bindingProperty] === 'function') {
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ readonly innerHTML: (node: any, type: any, value: any) => void; readonly 'style.color': (node: any, type: any, value: unknown) => void; readonly 'style.background-color': (node: any, type: any, value: unknown) => void; ... 8 more ...; readonly 'data-commerce-sku-id': (node: any, type: any, value: unknown) => void; }'.
        return mutators[bindingProperty];
    }
    return null;
};
const getCommercePropValue = (data, path)=>{
    const option = getIn(data, path);
    if (option) {
        const pathToOptionAsArray = path.split('.');
        const pathToCommercePropValues = pathToOptionAsArray.slice(0, pathToOptionAsArray.indexOf('product')).concat([
            'sku',
            'f_sku_values_3dr'
        ]).join('.');
        const skuValues = getIn(data, pathToCommercePropValues);
        if (Array.isArray(skuValues)) {
            return (0, _site.getProductOptionValueName)(option, (0, _site.simplifySkuValues)(skuValues));
        }
    }
    return '';
};
const getTemplateScript = (node)=>{
    const templateId = node.getAttribute(_constants.WF_TEMPLATE_ID_DATA_KEY);
    const templateScript = templateId && node.parentElement && node.parentElement.querySelector(`#${templateId}`);
    return templateScript;
};
const createDomFragment = (html)=>{
    const div = document.createElement('div');
    div.innerHTML = html;
    return div.children[0];
};
const getTemplateString = (node, index)=>{
    const templateScript = getTemplateScript(node);
    const rawTemplateContent = templateScript && templateScript.textContent;
    const instanceRegEx = /([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}_instance-)\d+/gi;
    const decodedTemplate = rawTemplateContent && decodeURIComponent(rawTemplateContent).replace(instanceRegEx, `$1${index}`);
    if (Boolean(decodedTemplate) && node.hasAttribute(_constants.WF_COLLECTION_DATA_KEY)) {
        const collectionPath = node.getAttribute(_constants.WF_COLLECTION_DATA_KEY);
        if (collectionPath && typeof collectionPath === 'string') {
            const searchTerm = encodeURIComponent(`${(0, _escape.default)(collectionPath)}[]`).replace(/\./g, '\\.');
            const templateSearchTerm = encodeURIComponent(`${(0, _escape.default)(collectionPath)}${encodeURIComponent('[]')}`).replace(/\./g, '\\.');
            const collectionPathRegExp = new RegExp(`${searchTerm}|${templateSearchTerm}`, 'g');
            return decodedTemplate && decodedTemplate.replace(collectionPathRegExp, `${collectionPath}.${index}`);
        }
    }
    return decodedTemplate;
};
const getTemplateCollection = (node, data)=>{
    const collectionPath = node.hasAttribute(_constants.WF_COLLECTION_DATA_KEY) && node.getAttribute(_constants.WF_COLLECTION_DATA_KEY);
    return collectionPath ? getIn(data, `data.${collectionPath}`) : [];
};
const checkForAndApplyTemplateCollection = (node, data)=>{
    if (node && node.hasAttribute(_constants.WF_TEMPLATE_ID_DATA_KEY)) {
        const collection = getTemplateCollection(node, data);
        node.innerHTML = '';
        if (collection != null && collection.length > 0) {
            for(let index = 0; index < collection.length; index++){
                const templateString = getTemplateString(node, index);
                const template = templateString && createDomFragment(templateString);
                if (template instanceof Element) {
                    if (typeof node.append === 'function') {
                        node.append(renderTree(template, data));
                    } else if (typeof node.appendChild === 'function') {
                        node.appendChild(renderTree(template, data));
                    } else {
                        throw new Error('Could not append child to node');
                    }
                }
            }
        }
    }
};
const checkForAndApplyBindings = (node, data)=>{
    if (node && node.hasAttribute(_constants.WF_BINDING_DATA_KEY)) {
        const bindingData = (0, _commerceUtils.safeParseJson)(node.getAttribute(_constants.WF_BINDING_DATA_KEY));
        applyBindings(bindingData, data, node);
    }
};
const checkForAndApplyConditionalVisibility = (node, data)=>{
    if (node && node.hasAttribute(_constants.WF_CONDITION_DATA_KEY)) {
        const conditionData = (0, _commerceUtils.safeParseJson)(node.getAttribute(_constants.WF_CONDITION_DATA_KEY));
        applyConditionalVisibility(conditionData, data, node);
    }
};
const renderTree = (tree, data)=>{
    data = flattenOrderData(data);
    return (0, _RenderingUtils.walkDOM)(tree, (node)=>{
        checkForAndApplyTemplateCollection(node, data);
        checkForAndApplyBindings(node, data);
        checkForAndApplyConditionalVisibility(node, data);
    });
};
const shippingDataReplacementPaths = {
    cardProvider: [
        'customerInfo',
        'stripePayment',
        'card',
        'provider'
    ],
    cardLastFour: [
        'customerInfo',
        'stripePayment',
        'card',
        'last4'
    ],
    cardExpiresMonth: [
        'customerInfo',
        'stripePayment',
        'card',
        'expires',
        'month'
    ],
    cardExpiresYear: [
        'customerInfo',
        'stripePayment',
        'card',
        'expires',
        'year'
    ],
    customerEmail: [
        'customerInfo',
        'identity',
        'email'
    ],
    shippingAddressAddressee: [
        'customerInfo',
        'shippingAddress',
        'addressee'
    ],
    shippingAddressLine1: [
        'customerInfo',
        'shippingAddress',
        'line1'
    ],
    shippingAddressLine2: [
        'customerInfo',
        'shippingAddress',
        'line2'
    ],
    shippingAddressCity: [
        'customerInfo',
        'shippingAddress',
        'city'
    ],
    shippingAddressState: [
        'customerInfo',
        'shippingAddress',
        'state'
    ],
    shippingAddressCountry: [
        'customerInfo',
        'shippingAddress',
        'country'
    ],
    shippingAddressPostalCode: [
        'customerInfo',
        'shippingAddress',
        'postalCode'
    ],
    billingAddressAddressee: [
        'customerInfo',
        'billingAddress',
        'addressee'
    ],
    billingAddressLine1: [
        'customerInfo',
        'billingAddress',
        'line1'
    ],
    billingAddressLine2: [
        'customerInfo',
        'billingAddress',
        'line2'
    ],
    billingAddressCity: [
        'customerInfo',
        'billingAddress',
        'city'
    ],
    billingAddressPostalCode: [
        'customerInfo',
        'billingAddress',
        'postalCode'
    ],
    billingAddressState: [
        'customerInfo',
        'billingAddress',
        'state'
    ],
    billingAddressCountry: [
        'customerInfo',
        'billingAddress',
        'country'
    ],
    requiresShipping: [
        'statusFlags',
        'requiresShipping'
    ],
    hasDownloads: [
        'statusFlags',
        'hasDownloads'
    ]
};
const flattenCustomData = (customData)=>// @ts-expect-error - Flow 0.121.0
    customData.reduce((flattenedData, data)=>{
        if (data.textArea) {
            flattenedData.additionalTextArea = data.textArea;
        } else if (data.textInput) {
            flattenedData.additionalTextInput = data.textInput;
        } else if (data.checkbox !== null) {
            flattenedData.additionalCheckbox = data.checkbox;
        }
        return flattenedData;
    }, {});
const flattenOrderData = (data)=>{
    const orderExists = data && data.data && data.data.database && data.data.database.commerceOrder !== null;
    if (!orderExists) {
        return data;
    }
    // @ts-expect-error - TS2339 - Property 'commerceOrder' does not exist on type '{ commerceOrder?: { availableShippingMethods?: [] | undefined; } | undefined; } | undefined'. | TS18048 - 'data.data' is possibly 'undefined'.
    const { commerceOrder } = data.data.database;
    const paymentProcessor = commerceOrder.paymentProcessor;
    const availableShippingMethods = commerceOrder.availableShippingMethods || [];
    const selectedShippingMethod = availableShippingMethods.find(// @ts-expect-error - TS7006 - Parameter 'shippingMethod' implicitly has an 'any' type.
    (shippingMethod)=>shippingMethod.selected === true);
    const flattenedCustomData = commerceOrder.customData ? flattenCustomData(commerceOrder.customData) : {};
    const flattenedOrderData = {
        ...commerceOrder,
        shippingMethodName: selectedShippingMethod && selectedShippingMethod.name,
        shippingMethodDescription: selectedShippingMethod && selectedShippingMethod.description,
        ...flattenedCustomData
    };
    // We have to deep clone the data here, as the properties from the data
    // returned by Apollo are read-only.
    const clonedData = (0, _cloneDeep.default)(data);
    // @ts-expect-error - TS18048 - 'clonedData.data' is possibly 'undefined'.
    clonedData.data.database.commerceOrder = Object.keys(shippingDataReplacementPaths).reduce((updatedData, flattenPath)=>{
        // Override cardProvider for PayPal order
        if (flattenPath === 'cardProvider' && paymentProcessor === 'paypal') {
            updatedData = {
                ...updatedData,
                cardProvider: 'PayPal'
            };
            return updatedData;
        }
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ readonly cardProvider: readonly ["customerInfo", "stripePayment", "card", "provider"]; readonly cardLastFour: readonly ["customerInfo", "stripePayment", "card", "last4"]; readonly cardExpiresMonth: readonly [...]; ... 17 more ...; readonly hasDownloads: readonly [...]; }'.
        const replacementFrom = shippingDataReplacementPaths[flattenPath];
        const replacementData = replacementFrom.reduce((acc, key)=>acc && acc[key], updatedData);
        updatedData[flattenPath] = replacementData;
        return updatedData;
    }, flattenedOrderData);
    return clonedData;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbmRlcmluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIHdpbmRvdywgZG9jdW1lbnQsIEhUTUxFbGVtZW50ICovXG5cbmltcG9ydCB7dHJhbnNmb3JtZXJzfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vdXRpbHMvVHJhbnNmb3JtZXJzJztcbmltcG9ydCB0eXBlIHtCaW5kaW5nVHJhbnNmb3JtZXJ9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby9iaW5kaW5nLXR5cGVzJztcbmltcG9ydCBlc2NhcGUgZnJvbSAnbG9kYXNoL2VzY2FwZSc7XG5pbXBvcnQgY2xvbmVEZWVwIGZyb20gJ2xvZGFzaC9jbG9uZURlZXAnO1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICdsb2Rhc2gvdHJhbnNmb3JtJztcbmltcG9ydCB7XG4gIFdGX0JJTkRJTkdfREFUQV9LRVksXG4gIFdGX0NPTkRJVElPTl9EQVRBX0tFWSxcbiAgV0ZfQ09MTEVDVElPTl9EQVRBX0tFWSxcbiAgV0ZfVEVNUExBVEVfSURfREFUQV9LRVksXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5pbXBvcnQge1NIQVJFRF9BTExPV0VEX0ZJRUxEX1RZUEVTfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIGFwcGx5Q29uZGl0aW9uVG9Ob2RlLFxuICByZW1vdmVXRHluQmluZEVtcHR5Q2xhc3MsXG4gIHdhbGtET00sXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby91dGlscy9SZW5kZXJpbmdVdGlscyc7XG5pbXBvcnQge3NhZmVQYXJzZUpzb259IGZyb20gJy4vY29tbWVyY2VVdGlscyc7XG5pbXBvcnQge1xuICBmb3JtYXRFbWFpbCxcbiAgZm9ybWF0UGhvbmUsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby91dGlscy9EeW5hbW9Gb3JtYXR0aW5nVXRpbHMnO1xuaW1wb3J0IHtcbiAgc2ltcGxpZnlTa3VWYWx1ZXMsXG4gIGdldFByb2R1Y3RPcHRpb25WYWx1ZU5hbWUsXG59IGZyb20gJ0BwYWNrYWdlcy9zaGFyZWQvc2l0ZSc7XG5pbXBvcnQge3R5cGUgQ29uZGl0aW9uc1dpdGhUeXBlVH0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3R5cGVzJztcblxudHlwZSBCaW5kaW5ncyA9IFtQYXJ0aWFsPFJlY29yZDxCaW5kaW5nUHJvcGVydHksIEJpbmRpbmc+Pl07XG50eXBlIEJpbmRpbmdQcm9wZXJ0eSA9IGtleW9mIHR5cGVvZiBtdXRhdG9ycztcbnR5cGUgQmluZGluZyA9IHtcbiAgZmlsdGVyOiBCaW5kaW5nVHJhbnNmb3JtZXI7XG4gIHR5cGU6IEZpZWxkVHlwZTtcbiAgZGF0YVBhdGg6IHN0cmluZztcbiAgdGltZXpvbmU/OiBzdHJpbmc7XG4gIHBhZ2VMaW5rSHJlZlByZWZpeD86IHN0cmluZztcbiAgY29sbGVjdGlvblNsdWdNYXA/OiB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xuICB9O1xuICBlbWFpbExpbmtTdWJqZWN0Pzogc3RyaW5nO1xufTtcbnR5cGUgRmllbGRUeXBlID0gc3RyaW5nO1xudHlwZSBUcmVlRWxlbWVudFdpdGhJbnB1dFByb3BlcnRpZXMgPSBFbGVtZW50ICYge1xuICB2YWx1ZT86IHN0cmluZztcbiAgdHlwZT86IHN0cmluZztcbiAgaGFzUmVuZGVyZWQ/OiBib29sZWFuO1xufTtcbnR5cGUgVHJlZUVsZW1lbnRXaXRoQ2hlY2tlZFByb3BlcnR5ID0gRWxlbWVudCAmIHtcbiAgY2hlY2tlZD86IGJvb2xlYW47XG59O1xuXG50eXBlIE9yZGVyRGF0YSA9IHtcbiAgZGF0YT86IHtcbiAgICBkYXRhYmFzZT86IHtcbiAgICAgIGNvbW1lcmNlT3JkZXI/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICB9O1xuICB9O1xufTtcblxuY29uc3QgYWxsb3dlZEZpZWxkVHlwZXMgPSB7XG4gIC4uLlNIQVJFRF9BTExPV0VEX0ZJRUxEX1RZUEVTLFxuICAnZGF0YS1jb21tZXJjZS1za3UtaWQnOiBbJ0l0ZW1SZWYnXSxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IGlzQmluZGluZ1Byb3BUb0ZpZWxkVHlwZUFsbG93ZWQgPSAoXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ2JpbmRpbmdQcm9wZXJ0eScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgYmluZGluZ1Byb3BlcnR5LFxuICB0eXBlOiBzdHJpbmcgfCBGaWVsZFR5cGVcbikgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdhbnknIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAneyByZWFkb25seSAnZGF0YS1jb21tZXJjZS1za3UtaWQnOiByZWFkb25seSBbXCJJdGVtUmVmXCJdOyByZWFkb25seSBpbm5lckhUTUw6IHsgUGxhaW5UZXh0OiBzdHJpbmc7IEhpZ2hsaWdodGVkVGV4dDogc3RyaW5nOyBSaWNoVGV4dDogc3RyaW5nOyBOdW1iZXI6IHN0cmluZzsgVmlkZW86IHN0cmluZzsgT3B0aW9uOiBzdHJpbmc7IERhdGU6IHN0cmluZzsgUGhvbmU6IHN0cmluZzsgLi4uIDYgbW9yZSAuLi47IENvbW1lcmNlUHJvcFZhbHVlczogc3RyaW5nOyB9OyAuLi4gMTEgbW9yZSAuLi47IHJlYWRvbmx5IGRhdGFXSHJlZjogc3RyaW5nW107IH0nLlxuICBjb25zdCBhbGxvd2VkVHlwZXMgPSBhbGxvd2VkRmllbGRUeXBlc1tiaW5kaW5nUHJvcGVydHldO1xuICByZXR1cm4gYWxsb3dlZFR5cGVzIGluc3RhbmNlb2YgQXJyYXlcbiAgICA/IGFsbG93ZWRUeXBlcy5pbmRleE9mKHR5cGUpID4gLTFcbiAgICA6IGFsbG93ZWRUeXBlcyAmJiB0eXBlIGluIGFsbG93ZWRUeXBlcztcbn07XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMjMgLSAnZ2V0SW4nIGltcGxpY2l0bHkgaGFzIHJldHVybiB0eXBlICdhbnknIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhIHJldHVybiB0eXBlIGFubm90YXRpb24gYW5kIGlzIHJlZmVyZW5jZWQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbiBvbmUgb2YgaXRzIHJldHVybiBleHByZXNzaW9ucy4gfCBUUzcwMDYgLSBQYXJhbWV0ZXIgJ29iamVjdCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbmNvbnN0IGdldEluID0gKG9iamVjdCwgcGF0aDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IG5leHREb3RJbmRleCA9IHBhdGguaW5kZXhPZignLicpO1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAobmV4dERvdEluZGV4ICE9PSAtMSkge1xuICAgIGNvbnN0IHBhdGhQYXJ0ID0gcGF0aC5zbGljZSgwLCBuZXh0RG90SW5kZXgpO1xuICAgIGNvbnN0IHJlc3RPZlBhdGggPSBwYXRoLnNsaWNlKG5leHREb3RJbmRleCArIDEsIHBhdGgubGVuZ3RoKTtcbiAgICByZXR1cm4gZ2V0SW4ob2JqZWN0W3BhdGhQYXJ0XSwgcmVzdE9mUGF0aCk7XG4gIH1cbiAgcmV0dXJuIG9iamVjdFtwYXRoXTtcbn07XG5cbmNvbnN0IGFwcGx5QmluZGluZ3NNdXRhdGlvbiA9ICh7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ2JpbmRpbmdQcm9wZXJ0eScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgYmluZGluZ1Byb3BlcnR5LFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICd0eXBlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICB0eXBlLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICdmaWx0ZXInIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIGZpbHRlcixcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAncGF0aCcgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgcGF0aCxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAndGltZXpvbmUnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIHRpbWV6b25lLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICdwYWdlTGlua0hyZWZQcmVmaXgnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIHBhZ2VMaW5rSHJlZlByZWZpeCxcbiAgY29sbGVjdGlvblNsdWdNYXAgPSB7fSxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnZGF0YScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgZGF0YSxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnbm9kZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgbm9kZSxcbiAgZW1haWxMaW5rU3ViamVjdCA9ICcnLFxufSkgPT4ge1xuICBpZiAoIWlzQmluZGluZ1Byb3BUb0ZpZWxkVHlwZUFsbG93ZWQoYmluZGluZ1Byb3BlcnR5LCB0eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwcmVmaXggPSAnZGF0YS4nO1xuICBsZXQgc3VmZml4ID0gJyc7XG4gIGlmICh0eXBlID09PSAnSW1hZ2VSZWYnICYmIGJpbmRpbmdQcm9wZXJ0eSA9PT0gJ3NyYycpIHtcbiAgICBzdWZmaXggPSAnLnVybCc7XG4gIH1cblxuICBsZXQgcmF3VmFsdWU7XG5cbiAgaWYgKHR5cGUgPT09ICdDb21tZXJjZVByb3BWYWx1ZXMnKSB7XG4gICAgcmF3VmFsdWUgPSBnZXRDb21tZXJjZVByb3BWYWx1ZShkYXRhLCBgJHtwcmVmaXh9JHtwYXRofWApO1xuICB9IGVsc2Uge1xuICAgIHJhd1ZhbHVlID0gZ2V0SW4oZGF0YSwgYCR7cHJlZml4fSR7cGF0aH0ke3N1ZmZpeH1gKTtcbiAgfVxuICBjb25zdCB0cmFuc2Zvcm1lZFZhbHVlID0gdHJhbnNmb3JtZXJzKHJhd1ZhbHVlLCBmaWx0ZXIsIHtcbiAgICB0aW1lem9uZSxcbiAgICBwYWdlTGlua0hyZWZQcmVmaXgsXG4gICAgY29sbGVjdGlvblNsdWdNYXAsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdfX1dFQkZMT1dfQ1VSUkVOQ1lfU0VUVElOR1MnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICBjdXJyZW5jeVNldHRpbmdzOiB3aW5kb3cuX19XRUJGTE9XX0NVUlJFTkNZX1NFVFRJTkdTLFxuICB9KTtcblxuICBjb25zdCBwcm9wZXJ0eU11dGF0b3IgPSBnZXRQcm9wZXJ0eU11dGF0b3IoYmluZGluZ1Byb3BlcnR5LCBlbWFpbExpbmtTdWJqZWN0KTtcbiAgaWYgKHR5cGVvZiBwcm9wZXJ0eU11dGF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm9wZXJ0eU11dGF0b3Iobm9kZSwgdHlwZSwgdHJhbnNmb3JtZWRWYWx1ZSk7XG4gIH1cbn07XG5cbmNvbnN0IGFwcGx5QmluZGluZ3MgPSAoXG4gIGJpbmRpbmdzOiBCaW5kaW5ncyB8IG51bGwsXG4gIGRhdGE6IE9yZGVyRGF0YSxcbiAgbm9kZTogRWxlbWVudFxuKSA9PiB7XG4gIGlmIChiaW5kaW5ncyA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcpID0+IHtcbiAgICBPYmplY3Qua2V5cyhiaW5kaW5nKS5mb3JFYWNoKChiaW5kaW5nUHJvcGVydHkpID0+IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICdQYXJ0aWFsPFJlY29yZDxcInZhbHVlXCIgfCBcImlkXCIgfCBcImFsdFwiIHwgXCJkYXRhLWNvbW1lcmNlLXNrdS1pZFwiIHwgXCJpbm5lckhUTUxcIiB8IFwic3JjXCIgfCBcImNoZWNrZWRcIiB8IFwiZm9yXCIgfCBcInN0eWxlLmNvbG9yXCIgfCBcInN0eWxlLmJhY2tncm91bmQtY29sb3JcIiB8IFwic3R5bGUuYm9yZGVyLWNvbG9yXCIgfCBcInN0eWxlLmJhY2tncm91bmQtaW1hZ2VcIiwgQmluZGluZz4+Jy5cbiAgICAgIGNvbnN0IGJpbmRpbmdWYWx1ZSA9IGJpbmRpbmdbYmluZGluZ1Byb3BlcnR5XTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgZmlsdGVyLFxuICAgICAgICBkYXRhUGF0aDogcGF0aCxcbiAgICAgICAgdGltZXpvbmUsXG4gICAgICAgIHBhZ2VMaW5rSHJlZlByZWZpeCxcbiAgICAgICAgY29sbGVjdGlvblNsdWdNYXAsXG4gICAgICAgIGVtYWlsTGlua1N1YmplY3QsXG4gICAgICB9ID0gYmluZGluZ1ZhbHVlO1xuICAgICAgYXBwbHlCaW5kaW5nc011dGF0aW9uKHtcbiAgICAgICAgYmluZGluZ1Byb3BlcnR5LFxuICAgICAgICB0eXBlLFxuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHRpbWV6b25lLFxuICAgICAgICBwYWdlTGlua0hyZWZQcmVmaXgsXG4gICAgICAgIGNvbGxlY3Rpb25TbHVnTWFwLFxuICAgICAgICBkYXRhLFxuICAgICAgICBub2RlLFxuICAgICAgICBlbWFpbExpbmtTdWJqZWN0LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgYXBwbHlDb25kaXRpb25hbFZpc2liaWxpdHkgPSAoXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ2NvbmRpdGlvbkRhdGEnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gIGNvbmRpdGlvbkRhdGEsXG4gIGRhdGE6IE9yZGVyRGF0YSxcbiAgbm9kZTogRWxlbWVudFxuKSA9PiB7XG4gIGlmICghY29uZGl0aW9uRGF0YSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHtkYXRhUGF0aCwgbWV0YX0gPSBjb25kaXRpb25EYXRhO1xuICBjb25zdCBwcmVmaXhlZERhdGFQYXRoID0gYGRhdGEuJHtkYXRhUGF0aH1gO1xuXG4gIC8vIG1hbnVhbGx5IGNvbnN0cnVjdCBpdGVtIHdoZW4gdGhlIGNvbmRpdGlvbiBpcyBib3VuZCB0byBQcm9kdWN0IE9wdGlvbnNcbiAgY29uc3QgaXRlbSA9XG4gICAgbWV0YSAmJiBtZXRhLnR5cGUgPT09ICdDb21tZXJjZVByb3BWYWx1ZXMnXG4gICAgICA/IHtcbiAgICAgICAgICBuYW1lOiBnZXRJbihkYXRhLCBgJHtwcmVmaXhlZERhdGFQYXRofS5uYW1lYCksXG4gICAgICAgICAgdmFsdWU6IGdldENvbW1lcmNlUHJvcFZhbHVlKGRhdGEsIHByZWZpeGVkRGF0YVBhdGgpLFxuICAgICAgICB9XG4gICAgICA6IGdldEluKGRhdGEsIHByZWZpeGVkRGF0YVBhdGgpO1xuXG4gIGFwcGx5Q29uZGl0aW9uVG9Ob2RlKG5vZGUsIGl0ZW0sIGNvbmRpdGlvbkRhdGEsIHRydWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFwcGx5U2t1Qm91bmRDb25kaXRpb25hbFZpc2liaWxpdHkgPSAoe1xuICBjb25kaXRpb25EYXRhLFxuICBuZXdTa3VJdGVtLFxuICBub2RlLFxufToge1xuICBjb25kaXRpb25EYXRhOiB7XG4gICAgY29uZGl0aW9uOiB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55IHwgQ29uZGl0aW9uc1dpdGhUeXBlVDtcbiAgICAgIH07XG4gICAgfTtcbiAgICB0aW1lem9uZTogc3RyaW5nO1xuICB9O1xuICBuZXdTa3VJdGVtOiB7XG4gICAgaW52ZW50b3J5OiB7XG4gICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICBxdWFudGl0eTogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIG5vZGU6IEVsZW1lbnQ7XG59KSA9PiB7XG4gIGNvbnN0IHtjb25kaXRpb259ID0gY29uZGl0aW9uRGF0YTtcbiAgY29uc3Qgc2t1Q29uZGl0aW9uRGF0YSA9IHRyYW5zZm9ybShjb25kaXRpb24uZmllbGRzLCAoZGF0YSwgdmFsLCBmaWVsZCkgPT4ge1xuICAgIGNvbnN0IHNrdUZpZWxkID0gZmllbGQuc3BsaXQoJ2RlZmF1bHQtc2t1OicpO1xuICAgIGlmIChza3VGaWVsZC5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0NiAtICdkYXRhJyBpcyBvZiB0eXBlICd1bmtub3duJy5cbiAgICAgIGRhdGFbc2t1RmllbGRbMV1dID0gdmFsO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9KTtcblxuICAvLyBOZWVkIHRvIGZsYXR0ZW4gdGhlIGludmVudG9yeSBxdWFudGl0eSB0byBhbGxvdyBjb25kIHZpcyBib3VuZCB0byBpbnZlbnRvcnkgY291bnRzXG4gIGNvbnN0IGludmVudG9yeVF1YW50aXR5ID1cbiAgICBuZXdTa3VJdGVtLmludmVudG9yeS50eXBlID09PSAnaW5maW5pdGUnXG4gICAgICA/IG51bGxcbiAgICAgIDogbmV3U2t1SXRlbS5pbnZlbnRvcnkucXVhbnRpdHk7XG4gIGNvbnN0IGl0ZW1XaXRoRmxhdHRlbmVkSW52ZW50b3J5ID0ge1xuICAgIC4uLm5ld1NrdUl0ZW0sXG4gICAgZWNTa3VJbnZlbnRvcnlRdWFudGl0eTogaW52ZW50b3J5UXVhbnRpdHksXG4gIH0gYXMgY29uc3Q7XG5cbiAgYXBwbHlDb25kaXRpb25Ub05vZGUoXG4gICAgbm9kZSxcbiAgICBpdGVtV2l0aEZsYXR0ZW5lZEludmVudG9yeSxcbiAgICB7XG4gICAgICAuLi5jb25kaXRpb25EYXRhLFxuICAgICAgY29uZGl0aW9uOiB7ZmllbGRzOiBza3VDb25kaXRpb25EYXRhfSxcbiAgICB9LFxuICAgIHRydWVcbiAgKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVN0eWxlTXV0YXRvciA9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ25vZGUnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuIHwgVFM3MDA2IC0gUGFyYW1ldGVyICd0eXBlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAocHJvcGVydHk6IHN0cmluZykgPT4gKG5vZGUsIHR5cGUsIHZhbHVlOiB1bmtub3duKSA9PiB7XG4gICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnSW1hZ2VSZWYnKSB7XG4gICAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBgdXJsKCR7dmFsdWV9KWApO1xuICAgIH1cbiAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG4gIH07XG5cbmNvbnN0IGNyZWF0ZUF0dHJpYnV0ZU11dGF0b3IgPVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdub2RlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLiB8IFRTNzAwNiAtIFBhcmFtZXRlciAndHlwZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgKGF0dHJpYnV0ZTogc3RyaW5nKSA9PiAobm9kZSwgdHlwZSwgdmFsdWU6IHVua25vd24pID0+IHtcbiAgICBjb25zdCBzYW5pdGl6ZWRTdHJpbmcgPSB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6ICcnO1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgc2FuaXRpemVkU3RyaW5nKTtcblxuICAgIGlmIChhdHRyaWJ1dGUgPT09ICdzcmMnICYmIHNhbml0aXplZFN0cmluZykge1xuICAgICAgcmVtb3ZlV0R5bkJpbmRFbXB0eUNsYXNzKG5vZGUpO1xuICAgIH1cbiAgfTtcblxuY29uc3QgdmFsdWVNdXRhdG9yID0gKFxuICBub2RlOiBUcmVlRWxlbWVudFdpdGhJbnB1dFByb3BlcnRpZXMsXG4gIHR5cGU6IGFueSxcbiAgdmFsdWU6IGFueVxuKSA9PiB7XG4gIGlmIChub2RlLmhhc1JlbmRlcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHNhbml0aXplZFN0cmluZztcbiAgLy8gaWYgaXQncyBhIHNlbGVjdCBlbGVtZW50LCBhbmQgd2UgaGF2ZSBubyB2YWx1ZSwgd2UgZGVmYXVsdCB0byB0aGUgbGFzdCB2YWx1ZVxuICAvLyB0aGlzIHdhcyBhZGRlZCBmb3IgdGhlIGNhc2Ugb2YgdGhlIGZpcnN0IHJlbmRlciBvZiB0aGUgY291bnRyeSBzZWxlY3QgZmllbGRcbiAgLy8gc28gdGhhdCBpdCBpc24ndCBhIGJsYW5rIHNlbGVjdCBib3ggd2hlbiBpdCdzIGEgbmV3IG9yZGVyIHdpdGhvdXQgYSBjb3VudHJ5IHNldFxuICBpZiAobm9kZS50YWdOYW1lID09PSAnU0VMRUNUJykge1xuICAgIHNhbml0aXplZFN0cmluZyA9IHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogbm9kZS52YWx1ZSB8fCAnJztcbiAgfSBlbHNlIHtcbiAgICBzYW5pdGl6ZWRTdHJpbmcgPSB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6ICcnO1xuICB9XG4gIG5vZGUuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNhbml0aXplZFN0cmluZyk7XG4gIGlmIChub2RlLnRhZ05hbWUgPT09ICdJTlBVVCcgJiYgU3RyaW5nKG5vZGUudHlwZSkudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHQnKSB7XG4gICAgbm9kZS5oYXNSZW5kZXJlZCA9IHRydWU7XG4gIH1cbiAgbm9kZS52YWx1ZSA9IHNhbml0aXplZFN0cmluZztcbn07XG5cbmNvbnN0IGNoZWNrZWRNdXRhdG9yID0gKFxuICBub2RlOiBUcmVlRWxlbWVudFdpdGhDaGVja2VkUHJvcGVydHksXG4gIHR5cGU6IGFueSxcbiAgdmFsdWU6IGFueVxuKSA9PiB7XG4gIG5vZGUuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xufTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnaGVpZ2h0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLiB8IFRTNzAzMSAtIEJpbmRpbmcgZWxlbWVudCAnd2lkdGgnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG5jb25zdCBhc3BlY3RSYXRpbyA9ICh7aGVpZ2h0LCB3aWR0aH0pID0+IHtcbiAgcmV0dXJuIGhlaWdodCAmJiB3aWR0aCA/IGhlaWdodCAvIHdpZHRoIDogMDtcbn07XG5cbmNvbnN0IG11dGF0b3JzID0ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdub2RlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLiB8IFRTNzAwNiAtIFBhcmFtZXRlciAndHlwZScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS4gfCBUUzcwMDYgLSBQYXJhbWV0ZXIgJ3ZhbHVlJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICBpbm5lckhUTUw6IChub2RlLCB0eXBlLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsVmFsdWU6IGFueSA9IHZhbHVlO1xuICAgIGlmICh0eXBlID09PSAnVmlkZW8nKSB7XG4gICAgICAvKlxuICAgICAgVE9ETyBoYW5kbGUgYWxzbyBpbm5lckhUTUwgVmlkZW8gTGlua3NcbiAgICAgIEZvciBleGFtcGxlLFxuICAgICAgaW5uZXJIVE1MOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3ZpZGVvLWlkJyxcbiAgICAgICAgICBzbHVnOiAndmlkZW8nLFxuICAgICAgICAgIHR5cGU6ICdWaWRlbycsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3VybCcsXG4gICAgICAgICAgc2x1ZzogJ3VybCcsXG4gICAgICAgICAgdHlwZTogJ0xpbmsnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgICAqL1xuICAgICAgdmFsdWUgPVxuICAgICAgICB2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgIHZhbHVlLm1ldGFkYXRhICE9IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlLm1ldGFkYXRhLmh0bWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyB2YWx1ZS5tZXRhZGF0YS5odG1sXG4gICAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZVN0cmluZyA9IHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogJyc7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnYW55JyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ3sgUGxhaW5UZXh0OiBzdHJpbmc7IEhpZ2hsaWdodGVkVGV4dDogc3RyaW5nOyBSaWNoVGV4dDogc3RyaW5nOyBOdW1iZXI6IHN0cmluZzsgVmlkZW86IHN0cmluZzsgT3B0aW9uOiBzdHJpbmc7IERhdGU6IHN0cmluZzsgUGhvbmU6IHN0cmluZzsgRW1haWw6IHN0cmluZzsgQ29tbWVyY2VQcmljZTogc3RyaW5nOyBMaW5rOiBzdHJpbmc7IEltYWdlUmVmOiBib29sZWFuOyBGaWxlUmVmOiBib29sZWFuOyBJdGVtUmVmOiBib29sZWFuOyBDb21tZXJjZVByb3BWYWx1ZXM6IHN0cmluZzsgfScuXG4gICAgaWYgKGFsbG93ZWRGaWVsZFR5cGVzLmlubmVySFRNTFt0eXBlXSA9PT0gJ2lubmVySFRNTCcpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gdmFsdWVTdHJpbmc7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdhbnknIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAneyBQbGFpblRleHQ6IHN0cmluZzsgSGlnaGxpZ2h0ZWRUZXh0OiBzdHJpbmc7IFJpY2hUZXh0OiBzdHJpbmc7IE51bWJlcjogc3RyaW5nOyBWaWRlbzogc3RyaW5nOyBPcHRpb246IHN0cmluZzsgRGF0ZTogc3RyaW5nOyBQaG9uZTogc3RyaW5nOyBFbWFpbDogc3RyaW5nOyBDb21tZXJjZVByaWNlOiBzdHJpbmc7IExpbms6IHN0cmluZzsgSW1hZ2VSZWY6IGJvb2xlYW47IEZpbGVSZWY6IGJvb2xlYW47IEl0ZW1SZWY6IGJvb2xlYW47IENvbW1lcmNlUHJvcFZhbHVlczogc3RyaW5nOyB9Jy5cbiAgICB9IGVsc2UgaWYgKGFsbG93ZWRGaWVsZFR5cGVzLmlubmVySFRNTFt0eXBlXSA9PT0gJ2lubmVyVGV4dCcpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gZXNjYXBlKHZhbHVlU3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBWaWRlb3MgaGF2ZSB0aGVpciBgcGFkZGluZy10b3BgIHN0eWxlIHNldCBhdXRvbWF0aWNhbGx5IHRvIG1ha2UgdGhlbSByZXNwb25zaXZlLCBhbmQgYXJlIGEgbG9ja2VkIHN0eWxlLlxuICAgIC8vIFRoaXMgaXMgdXN1YWxseSBkb25lIGluIGBzaGFyZWQvcmVuZGVyL3BsdWdpbnMvRW1iZWQvVmlkZW8uanN4YCBvbiB0aGUgc2VydmVyIHJlbmRlci4gSG93ZXZlciwgdGhlIHJlbmRlci10aW1lIHZhbHVlXG4gICAgLy8gd2hlbiByZW5kZXJpbmcgdGhlIGNhcnQgaXMgYDBgLCBhcyB0aGUgc2VydmVyIGRvZXMgbm90IGhhdmUgdGhlIGFzc29jaWF0ZWQgZGF0YSBmcm9tIHRoZSBiaW5kaW5nIHBhc3NlZCB0byBpdCBhdFxuICAgIC8vIHJlbmRlci10aW1lLCBzaW5jZSB3ZSdyZSBub3QgZ2V0dGluZyB0aGF0IGRhdGEgdW50aWwgd2UgZG8gdGhlIGNsaWVudC1zaWRlIHJlbmRlciwgYWZ0ZXIgZmV0Y2hpbmcgdGhlIGNhcnQgZGF0YS5cbiAgICAvLyBTbywgYWxvbmcgd2l0aCBzZXR0aW5nIHRoZSBwcm9wZXIgaW5uZXJIVE1MIGJpbmRpbmcgZm9yIHRoZSBlbWJlZCBpdHNlbGYsIHdlIGFsc28gaGF2ZSB0byBkbyBhbiBleGNlcHRpb24gaGVyZVxuICAgIC8vIGFuZCBzZXQgdGhlIGBwYWRkaW5nLXRvcGAgdG8gdGhlIHZpZGVvJ3MgYXNwZWN0IHJhdGlvIChoZWlnaHQgb3ZlciB3aWR0aCkuXG4gICAgaWYgKFxuICAgICAgdHlwZSA9PT0gJ1ZpZGVvJyAmJlxuICAgICAgb3JpZ2luYWxWYWx1ZSAmJlxuICAgICAgb3JpZ2luYWxWYWx1ZS5tZXRhZGF0YSAmJlxuICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgKSB7XG4gICAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAncGFkZGluZy10b3AnLFxuICAgICAgICBgJHthc3BlY3RSYXRpbyhvcmlnaW5hbFZhbHVlLm1ldGFkYXRhKSAqIDEwMH0lYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5pbm5lckhUTUwpIHtcbiAgICAgIHJlbW92ZVdEeW5CaW5kRW1wdHlDbGFzcyhub2RlKTtcbiAgICB9XG4gIH0sXG4gICdzdHlsZS5jb2xvcic6IGNyZWF0ZVN0eWxlTXV0YXRvcignY29sb3InKSxcbiAgJ3N0eWxlLmJhY2tncm91bmQtY29sb3InOiBjcmVhdGVTdHlsZU11dGF0b3IoJ2JhY2tncm91bmQtY29sb3InKSxcbiAgJ3N0eWxlLmJvcmRlci1jb2xvcic6IGNyZWF0ZVN0eWxlTXV0YXRvcignYm9yZGVyLWNvbG9yJyksXG4gICdzdHlsZS5iYWNrZ3JvdW5kLWltYWdlJzogY3JlYXRlU3R5bGVNdXRhdG9yKCdiYWNrZ3JvdW5kLWltYWdlJyksXG4gIHNyYzogY3JlYXRlQXR0cmlidXRlTXV0YXRvcignc3JjJyksXG4gIGFsdDogY3JlYXRlQXR0cmlidXRlTXV0YXRvcignYWx0JyksXG4gIGlkOiBjcmVhdGVBdHRyaWJ1dGVNdXRhdG9yKCdpZCcpLFxuICBmb3I6IGNyZWF0ZUF0dHJpYnV0ZU11dGF0b3IoJ2ZvcicpLFxuICB2YWx1ZTogdmFsdWVNdXRhdG9yLFxuICBjaGVja2VkOiBjaGVja2VkTXV0YXRvcixcbiAgJ2RhdGEtY29tbWVyY2Utc2t1LWlkJzogY3JlYXRlQXR0cmlidXRlTXV0YXRvcignZGF0YS1jb21tZXJjZS1za3UtaWQnKSxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IGhyZWZNdXRhdG9yID1cbiAgKGVtYWlsTGlua1N1YmplY3Q6IHN0cmluZykgPT5cbiAgKG5vZGU6IEVsZW1lbnQsIHR5cGU6IHN0cmluZyB8IEZpZWxkVHlwZSwgdmFsdWU6IHVua25vd24pID0+IHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ1Bob25lJzoge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgZm9ybWF0UGhvbmUoaHJlZiwgJ2hyZWYnKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRW1haWwnOiB7XG4gICAgICAgICAgbGV0IHN1YmplY3Q7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1YmplY3QgPSBlbmNvZGVVUklDb21wb25lbnQoZW1haWxMaW5rU3ViamVjdCk7XG4gICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICBzdWJqZWN0ID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZEVtYWlsID0gZm9ybWF0RW1haWwoaHJlZiwgc3ViamVjdCwgJ2hyZWYnKTtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGZvcm1hdHRlZEVtYWlsIHx8ICcjJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuICAgIH1cbiAgfTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnYmluZGluZ1Byb3BlcnR5JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuY29uc3QgZ2V0UHJvcGVydHlNdXRhdG9yID0gKGJpbmRpbmdQcm9wZXJ0eSwgZW1haWxMaW5rU3ViamVjdDogc3RyaW5nKSA9PiB7XG4gIGlmIChiaW5kaW5nUHJvcGVydHkgPT09ICdocmVmJyB8fCBiaW5kaW5nUHJvcGVydHkgPT09ICdkYXRhV0hyZWYnKSB7XG4gICAgcmV0dXJuIGhyZWZNdXRhdG9yKGVtYWlsTGlua1N1YmplY3QpO1xuICB9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ2FueScgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICd7IHJlYWRvbmx5IGlubmVySFRNTDogKG5vZGU6IGFueSwgdHlwZTogYW55LCB2YWx1ZTogYW55KSA9PiB2b2lkOyByZWFkb25seSAnc3R5bGUuY29sb3InOiAobm9kZTogYW55LCB0eXBlOiBhbnksIHZhbHVlOiB1bmtub3duKSA9PiB2b2lkOyByZWFkb25seSAnc3R5bGUuYmFja2dyb3VuZC1jb2xvcic6IChub2RlOiBhbnksIHR5cGU6IGFueSwgdmFsdWU6IHVua25vd24pID0+IHZvaWQ7IC4uLiA4IG1vcmUgLi4uOyByZWFkb25seSAnZGF0YS1jb21tZXJjZS1za3UtaWQnOiAobm9kZTogYW55LCB0eXBlOiBhbnksIHZhbHVlOiB1bmtub3duKSA9PiB2b2lkOyB9Jy5cbiAgaWYgKHR5cGVvZiBtdXRhdG9yc1tiaW5kaW5nUHJvcGVydHldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnYW55JyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ3sgcmVhZG9ubHkgaW5uZXJIVE1MOiAobm9kZTogYW55LCB0eXBlOiBhbnksIHZhbHVlOiBhbnkpID0+IHZvaWQ7IHJlYWRvbmx5ICdzdHlsZS5jb2xvcic6IChub2RlOiBhbnksIHR5cGU6IGFueSwgdmFsdWU6IHVua25vd24pID0+IHZvaWQ7IHJlYWRvbmx5ICdzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yJzogKG5vZGU6IGFueSwgdHlwZTogYW55LCB2YWx1ZTogdW5rbm93bikgPT4gdm9pZDsgLi4uIDggbW9yZSAuLi47IHJlYWRvbmx5ICdkYXRhLWNvbW1lcmNlLXNrdS1pZCc6IChub2RlOiBhbnksIHR5cGU6IGFueSwgdmFsdWU6IHVua25vd24pID0+IHZvaWQ7IH0nLlxuICAgIHJldHVybiBtdXRhdG9yc1tiaW5kaW5nUHJvcGVydHldO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgZ2V0Q29tbWVyY2VQcm9wVmFsdWUgPSAoZGF0YTogT3JkZXJEYXRhLCBwYXRoOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qgb3B0aW9uID0gZ2V0SW4oZGF0YSwgcGF0aCk7XG5cbiAgaWYgKG9wdGlvbikge1xuICAgIGNvbnN0IHBhdGhUb09wdGlvbkFzQXJyYXkgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgcGF0aFRvQ29tbWVyY2VQcm9wVmFsdWVzID0gcGF0aFRvT3B0aW9uQXNBcnJheVxuICAgICAgLnNsaWNlKDAsIHBhdGhUb09wdGlvbkFzQXJyYXkuaW5kZXhPZigncHJvZHVjdCcpKVxuICAgICAgLmNvbmNhdChbJ3NrdScsICdmX3NrdV92YWx1ZXNfM2RyJ10pXG4gICAgICAuam9pbignLicpO1xuXG4gICAgY29uc3Qgc2t1VmFsdWVzID0gZ2V0SW4oZGF0YSwgcGF0aFRvQ29tbWVyY2VQcm9wVmFsdWVzKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHNrdVZhbHVlcykpIHtcbiAgICAgIHJldHVybiBnZXRQcm9kdWN0T3B0aW9uVmFsdWVOYW1lKG9wdGlvbiwgc2ltcGxpZnlTa3VWYWx1ZXMoc2t1VmFsdWVzKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn07XG5cbmNvbnN0IGdldFRlbXBsYXRlU2NyaXB0ID0gKG5vZGU6IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgdGVtcGxhdGVJZCA9IG5vZGUuZ2V0QXR0cmlidXRlKFdGX1RFTVBMQVRFX0lEX0RBVEFfS0VZKTtcbiAgY29uc3QgdGVtcGxhdGVTY3JpcHQgPVxuICAgIHRlbXBsYXRlSWQgJiZcbiAgICBub2RlLnBhcmVudEVsZW1lbnQgJiZcbiAgICBub2RlLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGVtcGxhdGVJZH1gKTtcbiAgcmV0dXJuIHRlbXBsYXRlU2NyaXB0O1xufTtcblxuY29uc3QgY3JlYXRlRG9tRnJhZ21lbnQgPSAoaHRtbDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIGRpdi5jaGlsZHJlblswXTtcbn07XG5cbmNvbnN0IGdldFRlbXBsYXRlU3RyaW5nID0gKG5vZGU6IEVsZW1lbnQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgY29uc3QgdGVtcGxhdGVTY3JpcHQgPSBnZXRUZW1wbGF0ZVNjcmlwdChub2RlKTtcbiAgY29uc3QgcmF3VGVtcGxhdGVDb250ZW50ID0gdGVtcGxhdGVTY3JpcHQgJiYgdGVtcGxhdGVTY3JpcHQudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGluc3RhbmNlUmVnRXggPVxuICAgIC8oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tW2EtZjAtOV17NH0tW2EtZjAtOV17NH0tW2EtZjAtOV17MTJ9X2luc3RhbmNlLSlcXGQrL2dpO1xuICBjb25zdCBkZWNvZGVkVGVtcGxhdGUgPVxuICAgIHJhd1RlbXBsYXRlQ29udGVudCAmJlxuICAgIGRlY29kZVVSSUNvbXBvbmVudChyYXdUZW1wbGF0ZUNvbnRlbnQpLnJlcGxhY2UoaW5zdGFuY2VSZWdFeCwgYCQxJHtpbmRleH1gKTtcbiAgaWYgKEJvb2xlYW4oZGVjb2RlZFRlbXBsYXRlKSAmJiBub2RlLmhhc0F0dHJpYnV0ZShXRl9DT0xMRUNUSU9OX0RBVEFfS0VZKSkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QYXRoID0gbm9kZS5nZXRBdHRyaWJ1dGUoV0ZfQ09MTEVDVElPTl9EQVRBX0tFWSk7XG4gICAgaWYgKGNvbGxlY3Rpb25QYXRoICYmIHR5cGVvZiBjb2xsZWN0aW9uUGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgIGAke2VzY2FwZShjb2xsZWN0aW9uUGF0aCl9W11gXG4gICAgICApLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlU2VhcmNoVGVybSA9IGVuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgYCR7ZXNjYXBlKGNvbGxlY3Rpb25QYXRoKX0ke2VuY29kZVVSSUNvbXBvbmVudCgnW10nKX1gXG4gICAgICApLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKTtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25QYXRoUmVnRXhwID0gbmV3IFJlZ0V4cChcbiAgICAgICAgYCR7c2VhcmNoVGVybX18JHt0ZW1wbGF0ZVNlYXJjaFRlcm19YCxcbiAgICAgICAgJ2cnXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZGVjb2RlZFRlbXBsYXRlICYmXG4gICAgICAgIGRlY29kZWRUZW1wbGF0ZS5yZXBsYWNlKFxuICAgICAgICAgIGNvbGxlY3Rpb25QYXRoUmVnRXhwLFxuICAgICAgICAgIGAke2NvbGxlY3Rpb25QYXRofS4ke2luZGV4fWBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlY29kZWRUZW1wbGF0ZTtcbn07XG5cbmNvbnN0IGdldFRlbXBsYXRlQ29sbGVjdGlvbiA9IChub2RlOiBFbGVtZW50LCBkYXRhOiBPcmRlckRhdGEpID0+IHtcbiAgY29uc3QgY29sbGVjdGlvblBhdGggPVxuICAgIG5vZGUuaGFzQXR0cmlidXRlKFdGX0NPTExFQ1RJT05fREFUQV9LRVkpICYmXG4gICAgbm9kZS5nZXRBdHRyaWJ1dGUoV0ZfQ09MTEVDVElPTl9EQVRBX0tFWSk7XG4gIHJldHVybiBjb2xsZWN0aW9uUGF0aCA/IGdldEluKGRhdGEsIGBkYXRhLiR7Y29sbGVjdGlvblBhdGh9YCkgOiBbXTtcbn07XG5cbmNvbnN0IGNoZWNrRm9yQW5kQXBwbHlUZW1wbGF0ZUNvbGxlY3Rpb24gPSAobm9kZTogRWxlbWVudCwgZGF0YTogT3JkZXJEYXRhKSA9PiB7XG4gIGlmIChub2RlICYmIG5vZGUuaGFzQXR0cmlidXRlKFdGX1RFTVBMQVRFX0lEX0RBVEFfS0VZKSkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBnZXRUZW1wbGF0ZUNvbGxlY3Rpb24obm9kZSwgZGF0YSk7XG4gICAgbm9kZS5pbm5lckhUTUwgPSAnJztcblxuICAgIGlmIChjb2xsZWN0aW9uICE9IG51bGwgJiYgY29sbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVTdHJpbmcgPSBnZXRUZW1wbGF0ZVN0cmluZyhub2RlLCBpbmRleCk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVTdHJpbmcgJiYgY3JlYXRlRG9tRnJhZ21lbnQodGVtcGxhdGVTdHJpbmcpO1xuICAgICAgICBpZiAodGVtcGxhdGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBub2RlLmFwcGVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbm9kZS5hcHBlbmQocmVuZGVyVHJlZSh0ZW1wbGF0ZSwgZGF0YSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUuYXBwZW5kQ2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQocmVuZGVyVHJlZSh0ZW1wbGF0ZSwgZGF0YSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBhcHBlbmQgY2hpbGQgdG8gbm9kZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY2hlY2tGb3JBbmRBcHBseUJpbmRpbmdzID0gKG5vZGU6IEVsZW1lbnQsIGRhdGE6IE9yZGVyRGF0YSkgPT4ge1xuICBpZiAobm9kZSAmJiBub2RlLmhhc0F0dHJpYnV0ZShXRl9CSU5ESU5HX0RBVEFfS0VZKSkge1xuICAgIGNvbnN0IGJpbmRpbmdEYXRhID0gc2FmZVBhcnNlSnNvbihub2RlLmdldEF0dHJpYnV0ZShXRl9CSU5ESU5HX0RBVEFfS0VZKSk7XG4gICAgYXBwbHlCaW5kaW5ncyhiaW5kaW5nRGF0YSwgZGF0YSwgbm9kZSk7XG4gIH1cbn07XG5cbmNvbnN0IGNoZWNrRm9yQW5kQXBwbHlDb25kaXRpb25hbFZpc2liaWxpdHkgPSAoXG4gIG5vZGU6IEVsZW1lbnQsXG4gIGRhdGE6IE9yZGVyRGF0YVxuKSA9PiB7XG4gIGlmIChub2RlICYmIG5vZGUuaGFzQXR0cmlidXRlKFdGX0NPTkRJVElPTl9EQVRBX0tFWSkpIHtcbiAgICBjb25zdCBjb25kaXRpb25EYXRhID0gc2FmZVBhcnNlSnNvbihcbiAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKFdGX0NPTkRJVElPTl9EQVRBX0tFWSlcbiAgICApO1xuICAgIGFwcGx5Q29uZGl0aW9uYWxWaXNpYmlsaXR5KGNvbmRpdGlvbkRhdGEsIGRhdGEsIG5vZGUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyVHJlZSA9ICh0cmVlOiBFbGVtZW50LCBkYXRhOiBPcmRlckRhdGEpID0+IHtcbiAgZGF0YSA9IGZsYXR0ZW5PcmRlckRhdGEoZGF0YSk7XG5cbiAgcmV0dXJuIHdhbGtET00odHJlZSwgKG5vZGUpID0+IHtcbiAgICBjaGVja0ZvckFuZEFwcGx5VGVtcGxhdGVDb2xsZWN0aW9uKG5vZGUsIGRhdGEpO1xuICAgIGNoZWNrRm9yQW5kQXBwbHlCaW5kaW5ncyhub2RlLCBkYXRhKTtcbiAgICBjaGVja0ZvckFuZEFwcGx5Q29uZGl0aW9uYWxWaXNpYmlsaXR5KG5vZGUsIGRhdGEpO1xuICB9KTtcbn07XG5cbmNvbnN0IHNoaXBwaW5nRGF0YVJlcGxhY2VtZW50UGF0aHMgPSB7XG4gIGNhcmRQcm92aWRlcjogWydjdXN0b21lckluZm8nLCAnc3RyaXBlUGF5bWVudCcsICdjYXJkJywgJ3Byb3ZpZGVyJ10sXG4gIGNhcmRMYXN0Rm91cjogWydjdXN0b21lckluZm8nLCAnc3RyaXBlUGF5bWVudCcsICdjYXJkJywgJ2xhc3Q0J10sXG4gIGNhcmRFeHBpcmVzTW9udGg6IFtcbiAgICAnY3VzdG9tZXJJbmZvJyxcbiAgICAnc3RyaXBlUGF5bWVudCcsXG4gICAgJ2NhcmQnLFxuICAgICdleHBpcmVzJyxcbiAgICAnbW9udGgnLFxuICBdLFxuICBjYXJkRXhwaXJlc1llYXI6IFsnY3VzdG9tZXJJbmZvJywgJ3N0cmlwZVBheW1lbnQnLCAnY2FyZCcsICdleHBpcmVzJywgJ3llYXInXSxcbiAgY3VzdG9tZXJFbWFpbDogWydjdXN0b21lckluZm8nLCAnaWRlbnRpdHknLCAnZW1haWwnXSxcbiAgc2hpcHBpbmdBZGRyZXNzQWRkcmVzc2VlOiBbJ2N1c3RvbWVySW5mbycsICdzaGlwcGluZ0FkZHJlc3MnLCAnYWRkcmVzc2VlJ10sXG4gIHNoaXBwaW5nQWRkcmVzc0xpbmUxOiBbJ2N1c3RvbWVySW5mbycsICdzaGlwcGluZ0FkZHJlc3MnLCAnbGluZTEnXSxcbiAgc2hpcHBpbmdBZGRyZXNzTGluZTI6IFsnY3VzdG9tZXJJbmZvJywgJ3NoaXBwaW5nQWRkcmVzcycsICdsaW5lMiddLFxuICBzaGlwcGluZ0FkZHJlc3NDaXR5OiBbJ2N1c3RvbWVySW5mbycsICdzaGlwcGluZ0FkZHJlc3MnLCAnY2l0eSddLFxuICBzaGlwcGluZ0FkZHJlc3NTdGF0ZTogWydjdXN0b21lckluZm8nLCAnc2hpcHBpbmdBZGRyZXNzJywgJ3N0YXRlJ10sXG4gIHNoaXBwaW5nQWRkcmVzc0NvdW50cnk6IFsnY3VzdG9tZXJJbmZvJywgJ3NoaXBwaW5nQWRkcmVzcycsICdjb3VudHJ5J10sXG4gIHNoaXBwaW5nQWRkcmVzc1Bvc3RhbENvZGU6IFsnY3VzdG9tZXJJbmZvJywgJ3NoaXBwaW5nQWRkcmVzcycsICdwb3N0YWxDb2RlJ10sXG4gIGJpbGxpbmdBZGRyZXNzQWRkcmVzc2VlOiBbJ2N1c3RvbWVySW5mbycsICdiaWxsaW5nQWRkcmVzcycsICdhZGRyZXNzZWUnXSxcbiAgYmlsbGluZ0FkZHJlc3NMaW5lMTogWydjdXN0b21lckluZm8nLCAnYmlsbGluZ0FkZHJlc3MnLCAnbGluZTEnXSxcbiAgYmlsbGluZ0FkZHJlc3NMaW5lMjogWydjdXN0b21lckluZm8nLCAnYmlsbGluZ0FkZHJlc3MnLCAnbGluZTInXSxcbiAgYmlsbGluZ0FkZHJlc3NDaXR5OiBbJ2N1c3RvbWVySW5mbycsICdiaWxsaW5nQWRkcmVzcycsICdjaXR5J10sXG4gIGJpbGxpbmdBZGRyZXNzUG9zdGFsQ29kZTogWydjdXN0b21lckluZm8nLCAnYmlsbGluZ0FkZHJlc3MnLCAncG9zdGFsQ29kZSddLFxuICBiaWxsaW5nQWRkcmVzc1N0YXRlOiBbJ2N1c3RvbWVySW5mbycsICdiaWxsaW5nQWRkcmVzcycsICdzdGF0ZSddLFxuICBiaWxsaW5nQWRkcmVzc0NvdW50cnk6IFsnY3VzdG9tZXJJbmZvJywgJ2JpbGxpbmdBZGRyZXNzJywgJ2NvdW50cnknXSxcbiAgcmVxdWlyZXNTaGlwcGluZzogWydzdGF0dXNGbGFncycsICdyZXF1aXJlc1NoaXBwaW5nJ10sXG4gIGhhc0Rvd25sb2FkczogWydzdGF0dXNGbGFncycsICdoYXNEb3dubG9hZHMnXSxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IGZsYXR0ZW5DdXN0b21EYXRhID0gKGN1c3RvbURhdGE6IHVua25vd24pID0+XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBGbG93IDAuMTIxLjBcbiAgY3VzdG9tRGF0YS5yZWR1Y2U8UmVjb3JkPHN0cmluZywgYW55Pj4oKGZsYXR0ZW5lZERhdGEsIGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS50ZXh0QXJlYSkge1xuICAgICAgZmxhdHRlbmVkRGF0YS5hZGRpdGlvbmFsVGV4dEFyZWEgPSBkYXRhLnRleHRBcmVhO1xuICAgIH0gZWxzZSBpZiAoZGF0YS50ZXh0SW5wdXQpIHtcbiAgICAgIGZsYXR0ZW5lZERhdGEuYWRkaXRpb25hbFRleHRJbnB1dCA9IGRhdGEudGV4dElucHV0O1xuICAgIH0gZWxzZSBpZiAoZGF0YS5jaGVja2JveCAhPT0gbnVsbCkge1xuICAgICAgZmxhdHRlbmVkRGF0YS5hZGRpdGlvbmFsQ2hlY2tib3ggPSBkYXRhLmNoZWNrYm94O1xuICAgIH1cbiAgICByZXR1cm4gZmxhdHRlbmVkRGF0YTtcbiAgfSwge30pO1xuXG5jb25zdCBmbGF0dGVuT3JkZXJEYXRhID0gKGRhdGE6IE9yZGVyRGF0YSkgPT4ge1xuICBjb25zdCBvcmRlckV4aXN0cyA9XG4gICAgZGF0YSAmJlxuICAgIGRhdGEuZGF0YSAmJlxuICAgIGRhdGEuZGF0YS5kYXRhYmFzZSAmJlxuICAgIGRhdGEuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyICE9PSBudWxsO1xuXG4gIGlmICghb3JkZXJFeGlzdHMpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnY29tbWVyY2VPcmRlcicgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAneyBjb21tZXJjZU9yZGVyPzogeyBhdmFpbGFibGVTaGlwcGluZ01ldGhvZHM/OiBbXSB8IHVuZGVmaW5lZDsgfSB8IHVuZGVmaW5lZDsgfSB8IHVuZGVmaW5lZCcuIHwgVFMxODA0OCAtICdkYXRhLmRhdGEnIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICBjb25zdCB7Y29tbWVyY2VPcmRlcn0gPSBkYXRhLmRhdGEuZGF0YWJhc2U7XG4gIGNvbnN0IHBheW1lbnRQcm9jZXNzb3IgPSBjb21tZXJjZU9yZGVyLnBheW1lbnRQcm9jZXNzb3I7XG4gIGNvbnN0IGF2YWlsYWJsZVNoaXBwaW5nTWV0aG9kcyA9IGNvbW1lcmNlT3JkZXIuYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzIHx8IFtdO1xuICBjb25zdCBzZWxlY3RlZFNoaXBwaW5nTWV0aG9kID0gYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzLmZpbmQoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnc2hpcHBpbmdNZXRob2QnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgKHNoaXBwaW5nTWV0aG9kKSA9PiBzaGlwcGluZ01ldGhvZC5zZWxlY3RlZCA9PT0gdHJ1ZVxuICApO1xuICBjb25zdCBmbGF0dGVuZWRDdXN0b21EYXRhID0gY29tbWVyY2VPcmRlci5jdXN0b21EYXRhXG4gICAgPyBmbGF0dGVuQ3VzdG9tRGF0YShjb21tZXJjZU9yZGVyLmN1c3RvbURhdGEpXG4gICAgOiB7fTtcblxuICBjb25zdCBmbGF0dGVuZWRPcmRlckRhdGEgPSB7XG4gICAgLi4uY29tbWVyY2VPcmRlcixcbiAgICBzaGlwcGluZ01ldGhvZE5hbWU6IHNlbGVjdGVkU2hpcHBpbmdNZXRob2QgJiYgc2VsZWN0ZWRTaGlwcGluZ01ldGhvZC5uYW1lLFxuICAgIHNoaXBwaW5nTWV0aG9kRGVzY3JpcHRpb246XG4gICAgICBzZWxlY3RlZFNoaXBwaW5nTWV0aG9kICYmIHNlbGVjdGVkU2hpcHBpbmdNZXRob2QuZGVzY3JpcHRpb24sXG4gICAgLi4uZmxhdHRlbmVkQ3VzdG9tRGF0YSxcbiAgfSBhcyBjb25zdDtcblxuICAvLyBXZSBoYXZlIHRvIGRlZXAgY2xvbmUgdGhlIGRhdGEgaGVyZSwgYXMgdGhlIHByb3BlcnRpZXMgZnJvbSB0aGUgZGF0YVxuICAvLyByZXR1cm5lZCBieSBBcG9sbG8gYXJlIHJlYWQtb25seS5cbiAgY29uc3QgY2xvbmVkRGF0YSA9IGNsb25lRGVlcChkYXRhKTtcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdjbG9uZWREYXRhLmRhdGEnIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICBjbG9uZWREYXRhLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlciA9IE9iamVjdC5rZXlzKFxuICAgIHNoaXBwaW5nRGF0YVJlcGxhY2VtZW50UGF0aHNcbiAgKS5yZWR1Y2UoKHVwZGF0ZWREYXRhOiBSZWNvcmQ8YW55LCBhbnk+LCBmbGF0dGVuUGF0aDogc3RyaW5nKSA9PiB7XG4gICAgLy8gT3ZlcnJpZGUgY2FyZFByb3ZpZGVyIGZvciBQYXlQYWwgb3JkZXJcbiAgICBpZiAoZmxhdHRlblBhdGggPT09ICdjYXJkUHJvdmlkZXInICYmIHBheW1lbnRQcm9jZXNzb3IgPT09ICdwYXlwYWwnKSB7XG4gICAgICB1cGRhdGVkRGF0YSA9IHtcbiAgICAgICAgLi4udXBkYXRlZERhdGEsXG4gICAgICAgIGNhcmRQcm92aWRlcjogJ1BheVBhbCcsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHVwZGF0ZWREYXRhO1xuICAgIH1cblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICd7IHJlYWRvbmx5IGNhcmRQcm92aWRlcjogcmVhZG9ubHkgW1wiY3VzdG9tZXJJbmZvXCIsIFwic3RyaXBlUGF5bWVudFwiLCBcImNhcmRcIiwgXCJwcm92aWRlclwiXTsgcmVhZG9ubHkgY2FyZExhc3RGb3VyOiByZWFkb25seSBbXCJjdXN0b21lckluZm9cIiwgXCJzdHJpcGVQYXltZW50XCIsIFwiY2FyZFwiLCBcImxhc3Q0XCJdOyByZWFkb25seSBjYXJkRXhwaXJlc01vbnRoOiByZWFkb25seSBbLi4uXTsgLi4uIDE3IG1vcmUgLi4uOyByZWFkb25seSBoYXNEb3dubG9hZHM6IHJlYWRvbmx5IFsuLi5dOyB9Jy5cbiAgICBjb25zdCByZXBsYWNlbWVudEZyb206IHN0cmluZ1tdID0gc2hpcHBpbmdEYXRhUmVwbGFjZW1lbnRQYXRoc1tmbGF0dGVuUGF0aF07XG4gICAgY29uc3QgcmVwbGFjZW1lbnREYXRhID0gcmVwbGFjZW1lbnRGcm9tLnJlZHVjZShcbiAgICAgIChhY2MsIGtleSkgPT4gYWNjICYmIGFjY1trZXldLFxuICAgICAgdXBkYXRlZERhdGFcbiAgICApO1xuICAgIHVwZGF0ZWREYXRhW2ZsYXR0ZW5QYXRoXSA9IHJlcGxhY2VtZW50RGF0YTtcblxuICAgIHJldHVybiB1cGRhdGVkRGF0YTtcbiAgfSwgZmxhdHRlbmVkT3JkZXJEYXRhKTtcblxuICByZXR1cm4gY2xvbmVkRGF0YTtcbn07XG4iXSwibmFtZXMiOlsiYXBwbHlTa3VCb3VuZENvbmRpdGlvbmFsVmlzaWJpbGl0eSIsInJlbmRlclRyZWUiLCJhbGxvd2VkRmllbGRUeXBlcyIsIlNIQVJFRF9BTExPV0VEX0ZJRUxEX1RZUEVTIiwiaXNCaW5kaW5nUHJvcFRvRmllbGRUeXBlQWxsb3dlZCIsImJpbmRpbmdQcm9wZXJ0eSIsInR5cGUiLCJhbGxvd2VkVHlwZXMiLCJBcnJheSIsImluZGV4T2YiLCJnZXRJbiIsIm9iamVjdCIsInBhdGgiLCJuZXh0RG90SW5kZXgiLCJwYXRoUGFydCIsInNsaWNlIiwicmVzdE9mUGF0aCIsImxlbmd0aCIsImFwcGx5QmluZGluZ3NNdXRhdGlvbiIsImZpbHRlciIsInRpbWV6b25lIiwicGFnZUxpbmtIcmVmUHJlZml4IiwiY29sbGVjdGlvblNsdWdNYXAiLCJkYXRhIiwibm9kZSIsImVtYWlsTGlua1N1YmplY3QiLCJwcmVmaXgiLCJzdWZmaXgiLCJyYXdWYWx1ZSIsImdldENvbW1lcmNlUHJvcFZhbHVlIiwidHJhbnNmb3JtZWRWYWx1ZSIsInRyYW5zZm9ybWVycyIsImN1cnJlbmN5U2V0dGluZ3MiLCJ3aW5kb3ciLCJfX1dFQkZMT1dfQ1VSUkVOQ1lfU0VUVElOR1MiLCJwcm9wZXJ0eU11dGF0b3IiLCJnZXRQcm9wZXJ0eU11dGF0b3IiLCJhcHBseUJpbmRpbmdzIiwiYmluZGluZ3MiLCJmb3JFYWNoIiwiYmluZGluZyIsIk9iamVjdCIsImtleXMiLCJiaW5kaW5nVmFsdWUiLCJkYXRhUGF0aCIsImFwcGx5Q29uZGl0aW9uYWxWaXNpYmlsaXR5IiwiY29uZGl0aW9uRGF0YSIsIm1ldGEiLCJwcmVmaXhlZERhdGFQYXRoIiwiaXRlbSIsIm5hbWUiLCJ2YWx1ZSIsImFwcGx5Q29uZGl0aW9uVG9Ob2RlIiwibmV3U2t1SXRlbSIsImNvbmRpdGlvbiIsInNrdUNvbmRpdGlvbkRhdGEiLCJ0cmFuc2Zvcm0iLCJmaWVsZHMiLCJ2YWwiLCJmaWVsZCIsInNrdUZpZWxkIiwic3BsaXQiLCJpbnZlbnRvcnlRdWFudGl0eSIsImludmVudG9yeSIsInF1YW50aXR5IiwiaXRlbVdpdGhGbGF0dGVuZWRJbnZlbnRvcnkiLCJlY1NrdUludmVudG9yeVF1YW50aXR5IiwiY3JlYXRlU3R5bGVNdXRhdG9yIiwicHJvcGVydHkiLCJIVE1MRWxlbWVudCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJjcmVhdGVBdHRyaWJ1dGVNdXRhdG9yIiwiYXR0cmlidXRlIiwic2FuaXRpemVkU3RyaW5nIiwiU3RyaW5nIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlV0R5bkJpbmRFbXB0eUNsYXNzIiwidmFsdWVNdXRhdG9yIiwiaGFzUmVuZGVyZWQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjaGVja2VkTXV0YXRvciIsImNoZWNrZWQiLCJCb29sZWFuIiwiYXNwZWN0UmF0aW8iLCJoZWlnaHQiLCJ3aWR0aCIsIm11dGF0b3JzIiwiaW5uZXJIVE1MIiwib3JpZ2luYWxWYWx1ZSIsIm1ldGFkYXRhIiwiaHRtbCIsInZhbHVlU3RyaW5nIiwiZXNjYXBlIiwic3JjIiwiYWx0IiwiaWQiLCJmb3IiLCJocmVmTXV0YXRvciIsImhyZWYiLCJmb3JtYXRQaG9uZSIsInN1YmplY3QiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlIiwiZm9ybWF0dGVkRW1haWwiLCJmb3JtYXRFbWFpbCIsIm9wdGlvbiIsInBhdGhUb09wdGlvbkFzQXJyYXkiLCJwYXRoVG9Db21tZXJjZVByb3BWYWx1ZXMiLCJjb25jYXQiLCJqb2luIiwic2t1VmFsdWVzIiwiaXNBcnJheSIsImdldFByb2R1Y3RPcHRpb25WYWx1ZU5hbWUiLCJzaW1wbGlmeVNrdVZhbHVlcyIsImdldFRlbXBsYXRlU2NyaXB0IiwidGVtcGxhdGVJZCIsImdldEF0dHJpYnV0ZSIsIldGX1RFTVBMQVRFX0lEX0RBVEFfS0VZIiwidGVtcGxhdGVTY3JpcHQiLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZURvbUZyYWdtZW50IiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2hpbGRyZW4iLCJnZXRUZW1wbGF0ZVN0cmluZyIsImluZGV4IiwicmF3VGVtcGxhdGVDb250ZW50IiwidGV4dENvbnRlbnQiLCJpbnN0YW5jZVJlZ0V4IiwiZGVjb2RlZFRlbXBsYXRlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsImhhc0F0dHJpYnV0ZSIsIldGX0NPTExFQ1RJT05fREFUQV9LRVkiLCJjb2xsZWN0aW9uUGF0aCIsInNlYXJjaFRlcm0iLCJ0ZW1wbGF0ZVNlYXJjaFRlcm0iLCJjb2xsZWN0aW9uUGF0aFJlZ0V4cCIsIlJlZ0V4cCIsImdldFRlbXBsYXRlQ29sbGVjdGlvbiIsImNoZWNrRm9yQW5kQXBwbHlUZW1wbGF0ZUNvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwidGVtcGxhdGVTdHJpbmciLCJ0ZW1wbGF0ZSIsIkVsZW1lbnQiLCJhcHBlbmQiLCJhcHBlbmRDaGlsZCIsIkVycm9yIiwiY2hlY2tGb3JBbmRBcHBseUJpbmRpbmdzIiwiV0ZfQklORElOR19EQVRBX0tFWSIsImJpbmRpbmdEYXRhIiwic2FmZVBhcnNlSnNvbiIsImNoZWNrRm9yQW5kQXBwbHlDb25kaXRpb25hbFZpc2liaWxpdHkiLCJXRl9DT05ESVRJT05fREFUQV9LRVkiLCJ0cmVlIiwiZmxhdHRlbk9yZGVyRGF0YSIsIndhbGtET00iLCJzaGlwcGluZ0RhdGFSZXBsYWNlbWVudFBhdGhzIiwiY2FyZFByb3ZpZGVyIiwiY2FyZExhc3RGb3VyIiwiY2FyZEV4cGlyZXNNb250aCIsImNhcmRFeHBpcmVzWWVhciIsImN1c3RvbWVyRW1haWwiLCJzaGlwcGluZ0FkZHJlc3NBZGRyZXNzZWUiLCJzaGlwcGluZ0FkZHJlc3NMaW5lMSIsInNoaXBwaW5nQWRkcmVzc0xpbmUyIiwic2hpcHBpbmdBZGRyZXNzQ2l0eSIsInNoaXBwaW5nQWRkcmVzc1N0YXRlIiwic2hpcHBpbmdBZGRyZXNzQ291bnRyeSIsInNoaXBwaW5nQWRkcmVzc1Bvc3RhbENvZGUiLCJiaWxsaW5nQWRkcmVzc0FkZHJlc3NlZSIsImJpbGxpbmdBZGRyZXNzTGluZTEiLCJiaWxsaW5nQWRkcmVzc0xpbmUyIiwiYmlsbGluZ0FkZHJlc3NDaXR5IiwiYmlsbGluZ0FkZHJlc3NQb3N0YWxDb2RlIiwiYmlsbGluZ0FkZHJlc3NTdGF0ZSIsImJpbGxpbmdBZGRyZXNzQ291bnRyeSIsInJlcXVpcmVzU2hpcHBpbmciLCJoYXNEb3dubG9hZHMiLCJmbGF0dGVuQ3VzdG9tRGF0YSIsImN1c3RvbURhdGEiLCJyZWR1Y2UiLCJmbGF0dGVuZWREYXRhIiwidGV4dEFyZWEiLCJhZGRpdGlvbmFsVGV4dEFyZWEiLCJ0ZXh0SW5wdXQiLCJhZGRpdGlvbmFsVGV4dElucHV0IiwiY2hlY2tib3giLCJhZGRpdGlvbmFsQ2hlY2tib3giLCJvcmRlckV4aXN0cyIsImRhdGFiYXNlIiwiY29tbWVyY2VPcmRlciIsInBheW1lbnRQcm9jZXNzb3IiLCJhdmFpbGFibGVTaGlwcGluZ01ldGhvZHMiLCJzZWxlY3RlZFNoaXBwaW5nTWV0aG9kIiwiZmluZCIsInNoaXBwaW5nTWV0aG9kIiwic2VsZWN0ZWQiLCJmbGF0dGVuZWRDdXN0b21EYXRhIiwiZmxhdHRlbmVkT3JkZXJEYXRhIiwic2hpcHBpbmdNZXRob2ROYW1lIiwic2hpcHBpbmdNZXRob2REZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiY2xvbmVkRGF0YSIsImNsb25lRGVlcCIsInVwZGF0ZWREYXRhIiwiZmxhdHRlblBhdGgiLCJyZXBsYWNlbWVudEZyb20iLCJyZXBsYWNlbWVudERhdGEiLCJhY2MiLCJrZXkiXSwibWFwcGluZ3MiOiJBQUFBLHlDQUF5Qzs7Ozs7Ozs7Ozs7SUE0TTVCQSxrQ0FBa0M7ZUFBbENBOztJQXlWQUMsVUFBVTtlQUFWQTs7OzhCQW5pQmM7K0RBRVI7a0VBQ0c7a0VBQ0E7MkJBTWY7NEJBQ2tDO2dDQUtsQzsrQkFDcUI7dUNBSXJCO3NCQUlBOzs7Ozs7QUFrQ1AsTUFBTUMsb0JBQW9CO0lBQ3hCLEdBQUdDLHNDQUEwQjtJQUM3Qix3QkFBd0I7UUFBQztLQUFVO0FBQ3JDO0FBRUEsTUFBTUMsa0NBQWtDLENBQ3RDLHdGQUF3RjtBQUN4RkMsaUJBQ0FDO0lBRUEsNGJBQTRiO0lBQzVi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

}),
5841: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    StripeStore: function() {
        return StripeStore;
    },
    generateDisplayItemsFromOrder: function() {
        return generateDisplayItemsFromOrder;
    },
    generateShippingOptionsFromMethods: function() {
        return generateShippingOptionsFromMethods;
    }
});
const _debug = /*#__PURE__*/ _interop_require_default(__webpack_require__(85986));
const _constants = __webpack_require__(10873);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
class StripeStore {
    constructor(docElement){
        if (window.Webflow.env('design') || window.Webflow.env('preview')) {
            return;
        }
        const stripeJsElement = docElement.querySelector(`[${_constants.STRIPE_ECOMMERCE_KEY}]`);
        if (!stripeJsElement) {
            this.store = {
                initialized: false,
                stripe: {},
                elements: [],
                elementInstances: [],
                cartPaymentRequests: [],
                styleMapObservers: {}
            };
            // @ts-expect-error - TS2322 - Type 'void' is not assignable to type 'StripeStore'. | TS2409 - Return type of constructor signature must be assignable to the instance type of the class.
            return _debug.default.error("Stripe has not been set up for this project  Go to the project's Ecommerce Payment settings in the Designer to link Stripe.");
        }
        const ecommKey = stripeJsElement.getAttribute(_constants.STRIPE_ECOMMERCE_KEY);
        const ecommAccountId = stripeJsElement.getAttribute(_constants.STRIPE_ECOMMERCE_ACCOUNT_ID);
        const stripeOpts = ecommAccountId ? {
            stripeAccount: ecommAccountId,
            apiVersion: '2020-03-02'
        } : null;
        // @ts-expect-error - TS2339 - Property 'Stripe' does not exist on type 'Window & typeof globalThis'.
        const stripe = window.Stripe(ecommKey, stripeOpts);
        this.store = {
            initialized: true,
            stripe,
            elements: [],
            elementInstances: [],
            cartPaymentRequests: [],
            styleMapObservers: {}
        };
    }
    isInitialized() {
        return this.store.initialized;
    }
    getStripeInstance() {
        return this.store.stripe;
    }
    getElementsInstance(index) {
        return this.store.elements[index];
    }
    getElement(type, index) {
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        return this.store.elementInstances[index][type];
    }
    createElementsInstance(index) {
        if (this.store.elements[index]) {
            throw new Error(`Storage already exists for checkout form instance ${index}`);
        } else {
            const stripeInstance = this.getStripeInstance();
            this.store.elements[index] = stripeInstance.elements();
            this.store.elementInstances[index] = {};
        }
    }
    createElement(type, index, options) {
        if (!this.isInitialized()) {
            throw new Error("Stripe has not been set up for this project  Go to the project's Ecommerce Payment settings in the Designer to link Stripe.");
        }
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        if (this.store.elementInstances[index][type]) {
            throw new Error(`Stripe Element of type ${type} for instance ${index} already exists on this page`);
        }
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        const el = this.store.elements[index].create(type, options);
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        this.store.elementInstances[index][type] = el;
        return el;
    }
    updateCartPaymentRequest(index, orderData, siteData) {
        const stripeInstance = this.getStripeInstance();
        const requiresShipping = Boolean(orderData.statusFlags.requiresShipping);
        const options = {
            country: siteData.businessAddress.country || siteData.defaultCountry || 'US',
            currency: siteData.defaultCurrency.toLowerCase(),
            total: {
                amount: orderData.subtotal.value,
                label: 'Subtotal',
                pending: true
            },
            displayItems: generateDisplayItemsFromOrder(orderData, false),
            requestPayerName: true,
            requestPayerEmail: true,
            requestPayerPhone: false,
            requestShipping: requiresShipping
        };
        try {
            this.store.cartPaymentRequests[index] = stripeInstance.paymentRequest(options);
        } catch (error) {
            let ignoreError = false;
            // Stripe errors are `IntegrationError`s
            if (error.name === 'IntegrationError') {
                const unsupportedCountryPattern = /country should be one of the following strings(?:.*)You specified: (.*)./;
                const matches = error.message.match(unsupportedCountryPattern);
                ignoreError = Boolean(matches);
            }
            // We want the error to carry on if it's not exactly what we're looking for.
            if (!ignoreError) {
                throw error;
            } else {
                console.error(error);
            }
        }
        return this.store.cartPaymentRequests[index];
    }
    getCartPaymentRequest(index) {
        return this.store.cartPaymentRequests[index];
    }
}
const generateDisplayItemsFromOrder = (orderData, showExtraItems)=>[
        // @ts-expect-error - TS7006 - Parameter 'item' implicitly has an 'any' type.
        ...orderData.userItems.map((item)=>({
                label: `${item.product.f_name_} ${item.count > 1 ? `(${item.count})` : ''}`,
                amount: item.rowTotal.value
            })),
        ...showExtraItems ? orderData.extraItems.map((item)=>({
                label: item.name,
                amount: item.price.value
            })) : []
    ];
const generateShippingOptionsFromMethods = (shippingMethods)=>shippingMethods.map((method)=>({
            id: method.id,
            label: method.name,
            detail: method.description || '',
            amount: method.price.value
        }));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmlwZVN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgd2luZG93ICovXG5pbXBvcnQgU3R5bGVNYXBPYnNlcnZlciBmcm9tICcuLi9TdHlsZU1hcE9ic2VydmVyJztcbmltcG9ydCBkZWJ1ZyBmcm9tICcuL2RlYnVnJztcbmltcG9ydCB7XG4gIFNUUklQRV9FQ09NTUVSQ0VfS0VZLFxuICBTVFJJUEVfRUNPTU1FUkNFX0FDQ09VTlRfSUQsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBTdHJpcGVTdG9yZSB7XG4gIGRlY2xhcmUgc3RvcmU6IHtcbiAgICBpbml0aWFsaXplZDogYm9vbGVhbjtcbiAgICBzdHJpcGU6IFJlY29yZDxhbnksIGFueT47XG4gICAgZWxlbWVudHM6IEFycmF5PFJlY29yZDxhbnksIGFueT4+O1xuICAgIGVsZW1lbnRJbnN0YW5jZXM6IEFycmF5PHtcbiAgICAgIFt0eXBlOiBzdHJpbmddOiBSZWNvcmQ8YW55LCBhbnk+O1xuICAgIH0+O1xuICAgIGNhcnRQYXltZW50UmVxdWVzdHM6IEFycmF5PFJlY29yZDxhbnksIGFueT4+O1xuICAgIHN0eWxlTWFwT2JzZXJ2ZXJzOiB7XG4gICAgICBbdHlwZTogc3RyaW5nXTogU3R5bGVNYXBPYnNlcnZlcjtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGRvY0VsZW1lbnQ6IERvY3VtZW50KSB7XG4gICAgaWYgKHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHwgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJpcGVKc0VsZW1lbnQgPSBkb2NFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgWyR7U1RSSVBFX0VDT01NRVJDRV9LRVl9XWBcbiAgICApO1xuICAgIGlmICghc3RyaXBlSnNFbGVtZW50KSB7XG4gICAgICB0aGlzLnN0b3JlID0ge1xuICAgICAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgICAgIHN0cmlwZToge30sXG4gICAgICAgIGVsZW1lbnRzOiBbXSxcbiAgICAgICAgZWxlbWVudEluc3RhbmNlczogW10sXG4gICAgICAgIGNhcnRQYXltZW50UmVxdWVzdHM6IFtdLFxuICAgICAgICBzdHlsZU1hcE9ic2VydmVyczoge30sXG4gICAgICB9O1xuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAndm9pZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnU3RyaXBlU3RvcmUnLiB8IFRTMjQwOSAtIFJldHVybiB0eXBlIG9mIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBtdXN0IGJlIGFzc2lnbmFibGUgdG8gdGhlIGluc3RhbmNlIHR5cGUgb2YgdGhlIGNsYXNzLlxuICAgICAgcmV0dXJuIGRlYnVnLmVycm9yKFxuICAgICAgICBcIlN0cmlwZSBoYXMgbm90IGJlZW4gc2V0IHVwIGZvciB0aGlzIHByb2plY3Qg4oCTIEdvIHRvIHRoZSBwcm9qZWN0J3MgRWNvbW1lcmNlIFBheW1lbnQgc2V0dGluZ3MgaW4gdGhlIERlc2lnbmVyIHRvIGxpbmsgU3RyaXBlLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGVjb21tS2V5ID0gc3RyaXBlSnNFbGVtZW50LmdldEF0dHJpYnV0ZShTVFJJUEVfRUNPTU1FUkNFX0tFWSk7XG4gICAgY29uc3QgZWNvbW1BY2NvdW50SWQgPSBzdHJpcGVKc0VsZW1lbnQuZ2V0QXR0cmlidXRlKFxuICAgICAgU1RSSVBFX0VDT01NRVJDRV9BQ0NPVU5UX0lEXG4gICAgKTtcbiAgICBjb25zdCBzdHJpcGVPcHRzID0gZWNvbW1BY2NvdW50SWRcbiAgICAgID8ge1xuICAgICAgICAgIHN0cmlwZUFjY291bnQ6IGVjb21tQWNjb3VudElkLFxuICAgICAgICAgIGFwaVZlcnNpb246ICcyMDIwLTAzLTAyJyxcbiAgICAgICAgfVxuICAgICAgOiBudWxsO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnU3RyaXBlJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcycuXG4gICAgY29uc3Qgc3RyaXBlID0gd2luZG93LlN0cmlwZShlY29tbUtleSwgc3RyaXBlT3B0cyk7XG5cbiAgICB0aGlzLnN0b3JlID0ge1xuICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICBzdHJpcGUsXG4gICAgICBlbGVtZW50czogW10sXG4gICAgICBlbGVtZW50SW5zdGFuY2VzOiBbXSxcbiAgICAgIGNhcnRQYXltZW50UmVxdWVzdHM6IFtdLFxuICAgICAgc3R5bGVNYXBPYnNlcnZlcnM6IHt9LFxuICAgIH07XG4gIH1cblxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JlLmluaXRpYWxpemVkO1xuICB9XG5cbiAgZ2V0U3RyaXBlSW5zdGFuY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuc3RyaXBlO1xuICB9XG5cbiAgZ2V0RWxlbWVudHNJbnN0YW5jZShpbmRleDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuZWxlbWVudHNbaW5kZXhdO1xuICB9XG5cbiAgZ2V0RWxlbWVudCh0eXBlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNTMyIC0gT2JqZWN0IGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgIHJldHVybiB0aGlzLnN0b3JlLmVsZW1lbnRJbnN0YW5jZXNbaW5kZXhdW3R5cGVdO1xuICB9XG5cbiAgY3JlYXRlRWxlbWVudHNJbnN0YW5jZShpbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuc3RvcmUuZWxlbWVudHNbaW5kZXhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBTdG9yYWdlIGFscmVhZHkgZXhpc3RzIGZvciBjaGVja291dCBmb3JtIGluc3RhbmNlICR7aW5kZXh9YFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RyaXBlSW5zdGFuY2UgPSB0aGlzLmdldFN0cmlwZUluc3RhbmNlKCk7XG4gICAgICB0aGlzLnN0b3JlLmVsZW1lbnRzW2luZGV4XSA9IHN0cmlwZUluc3RhbmNlLmVsZW1lbnRzKCk7XG4gICAgICB0aGlzLnN0b3JlLmVsZW1lbnRJbnN0YW5jZXNbaW5kZXhdID0ge307XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlRWxlbWVudCh0eXBlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIG9wdGlvbnM6IFJlY29yZDxhbnksIGFueT4pIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiU3RyaXBlIGhhcyBub3QgYmVlbiBzZXQgdXAgZm9yIHRoaXMgcHJvamVjdCDigJMgR28gdG8gdGhlIHByb2plY3QncyBFY29tbWVyY2UgUGF5bWVudCBzZXR0aW5ncyBpbiB0aGUgRGVzaWduZXIgdG8gbGluayBTdHJpcGUuXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjUzMiAtIE9iamVjdCBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICBpZiAodGhpcy5zdG9yZS5lbGVtZW50SW5zdGFuY2VzW2luZGV4XVt0eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgU3RyaXBlIEVsZW1lbnQgb2YgdHlwZSAke3R5cGV9IGZvciBpbnN0YW5jZSAke2luZGV4fSBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIHBhZ2VgXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI1MzIgLSBPYmplY3QgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gICAgY29uc3QgZWwgPSB0aGlzLnN0b3JlLmVsZW1lbnRzW2luZGV4XS5jcmVhdGUodHlwZSwgb3B0aW9ucyk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjUzMiAtIE9iamVjdCBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICB0aGlzLnN0b3JlLmVsZW1lbnRJbnN0YW5jZXNbaW5kZXhdW3R5cGVdID0gZWw7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgdXBkYXRlQ2FydFBheW1lbnRSZXF1ZXN0KFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgb3JkZXJEYXRhOiBSZWNvcmQ8YW55LCBhbnk+LFxuICAgIHNpdGVEYXRhOiBSZWNvcmQ8YW55LCBhbnk+XG4gICkge1xuICAgIGNvbnN0IHN0cmlwZUluc3RhbmNlID0gdGhpcy5nZXRTdHJpcGVJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHJlcXVpcmVzU2hpcHBpbmcgPSBCb29sZWFuKG9yZGVyRGF0YS5zdGF0dXNGbGFncy5yZXF1aXJlc1NoaXBwaW5nKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBjb3VudHJ5OlxuICAgICAgICBzaXRlRGF0YS5idXNpbmVzc0FkZHJlc3MuY291bnRyeSB8fCBzaXRlRGF0YS5kZWZhdWx0Q291bnRyeSB8fCAnVVMnLFxuICAgICAgY3VycmVuY3k6IHNpdGVEYXRhLmRlZmF1bHRDdXJyZW5jeS50b0xvd2VyQ2FzZSgpLFxuICAgICAgdG90YWw6IHtcbiAgICAgICAgYW1vdW50OiBvcmRlckRhdGEuc3VidG90YWwudmFsdWUsXG4gICAgICAgIGxhYmVsOiAnU3VidG90YWwnLFxuICAgICAgICBwZW5kaW5nOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGRpc3BsYXlJdGVtczogZ2VuZXJhdGVEaXNwbGF5SXRlbXNGcm9tT3JkZXIob3JkZXJEYXRhLCBmYWxzZSksXG4gICAgICByZXF1ZXN0UGF5ZXJOYW1lOiB0cnVlLFxuICAgICAgcmVxdWVzdFBheWVyRW1haWw6IHRydWUsXG4gICAgICByZXF1ZXN0UGF5ZXJQaG9uZTogZmFsc2UsXG4gICAgICByZXF1ZXN0U2hpcHBpbmc6IHJlcXVpcmVzU2hpcHBpbmcsXG4gICAgfSBhcyBjb25zdDtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLnN0b3JlLmNhcnRQYXltZW50UmVxdWVzdHNbaW5kZXhdID1cbiAgICAgICAgc3RyaXBlSW5zdGFuY2UucGF5bWVudFJlcXVlc3Qob3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgbGV0IGlnbm9yZUVycm9yID0gZmFsc2U7XG5cbiAgICAgIC8vIFN0cmlwZSBlcnJvcnMgYXJlIGBJbnRlZ3JhdGlvbkVycm9yYHNcbiAgICAgIGlmIChlcnJvci5uYW1lID09PSAnSW50ZWdyYXRpb25FcnJvcicpIHtcbiAgICAgICAgY29uc3QgdW5zdXBwb3J0ZWRDb3VudHJ5UGF0dGVybiA9XG4gICAgICAgICAgL2NvdW50cnkgc2hvdWxkIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHN0cmluZ3MoPzouKilZb3Ugc3BlY2lmaWVkOiAoLiopLi87XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBlcnJvci5tZXNzYWdlLm1hdGNoKHVuc3VwcG9ydGVkQ291bnRyeVBhdHRlcm4pO1xuXG4gICAgICAgIGlnbm9yZUVycm9yID0gQm9vbGVhbihtYXRjaGVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2Ugd2FudCB0aGUgZXJyb3IgdG8gY2Fycnkgb24gaWYgaXQncyBub3QgZXhhY3RseSB3aGF0IHdlJ3JlIGxvb2tpbmcgZm9yLlxuICAgICAgaWYgKCFpZ25vcmVFcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0b3JlLmNhcnRQYXltZW50UmVxdWVzdHNbaW5kZXhdO1xuICB9XG5cbiAgZ2V0Q2FydFBheW1lbnRSZXF1ZXN0KGluZGV4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZS5jYXJ0UGF5bWVudFJlcXVlc3RzW2luZGV4XTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVEaXNwbGF5SXRlbXNGcm9tT3JkZXIgPSAoXG4gIG9yZGVyRGF0YTogUmVjb3JkPGFueSwgYW55PixcbiAgc2hvd0V4dHJhSXRlbXM6IGJvb2xlYW5cbikgPT4gW1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdpdGVtJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAuLi5vcmRlckRhdGEudXNlckl0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICBsYWJlbDogYCR7aXRlbS5wcm9kdWN0LmZfbmFtZV99ICR7aXRlbS5jb3VudCA+IDEgPyBgKCR7aXRlbS5jb3VudH0pYCA6ICcnfWAsXG4gICAgYW1vdW50OiBpdGVtLnJvd1RvdGFsLnZhbHVlLFxuICB9KSksXG4gIC4uLihzaG93RXh0cmFJdGVtc1xuICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNiAtIFBhcmFtZXRlciAnaXRlbScgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgICAgIG9yZGVyRGF0YS5leHRyYUl0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgYW1vdW50OiBpdGVtLnByaWNlLnZhbHVlLFxuICAgICAgfSkpXG4gICAgOiBbXSksXG5dO1xuXG50eXBlIFNoaXBwaW5nTWV0aG9kID0ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICBwcmljZToge1xuICAgIHZhbHVlOiBudW1iZXI7XG4gIH07XG59O1xuXG50eXBlIFN0cmlwZVNoaXBwaW5nT3B0aW9uID0ge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBkZXRhaWw6IHN0cmluZztcbiAgYW1vdW50OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTaGlwcGluZ09wdGlvbnNGcm9tTWV0aG9kcyA9IChcbiAgc2hpcHBpbmdNZXRob2RzOiBBcnJheTxTaGlwcGluZ01ldGhvZD5cbik6IEFycmF5PFN0cmlwZVNoaXBwaW5nT3B0aW9uPiA9PlxuICBzaGlwcGluZ01ldGhvZHMubWFwKChtZXRob2Q6IFNoaXBwaW5nTWV0aG9kKSA9PiAoe1xuICAgIGlkOiBtZXRob2QuaWQsXG4gICAgbGFiZWw6IG1ldGhvZC5uYW1lLFxuICAgIGRldGFpbDogbWV0aG9kLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgIGFtb3VudDogbWV0aG9kLnByaWNlLnZhbHVlLFxuICB9KSk7XG4iXSwibmFtZXMiOlsiU3RyaXBlU3RvcmUiLCJnZW5lcmF0ZURpc3BsYXlJdGVtc0Zyb21PcmRlciIsImdlbmVyYXRlU2hpcHBpbmdPcHRpb25zRnJvbU1ldGhvZHMiLCJjb25zdHJ1Y3RvciIsImRvY0VsZW1lbnQiLCJ3aW5kb3ciLCJXZWJmbG93IiwiZW52Iiwic3RyaXBlSnNFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIlNUUklQRV9FQ09NTUVSQ0VfS0VZIiwic3RvcmUiLCJpbml0aWFsaXplZCIsInN0cmlwZSIsImVsZW1lbnRzIiwiZWxlbWVudEluc3RhbmNlcyIsImNhcnRQYXltZW50UmVxdWVzdHMiLCJzdHlsZU1hcE9ic2VydmVycyIsImRlYnVnIiwiZXJyb3IiLCJlY29tbUtleSIsImdldEF0dHJpYnV0ZSIsImVjb21tQWNjb3VudElkIiwiU1RSSVBFX0VDT01NRVJDRV9BQ0NPVU5UX0lEIiwic3RyaXBlT3B0cyIsInN0cmlwZUFjY291bnQiLCJhcGlWZXJzaW9uIiwiU3RyaXBlIiwiaXNJbml0aWFsaXplZCIsImdldFN0cmlwZUluc3RhbmNlIiwiZ2V0RWxlbWVudHNJbnN0YW5jZSIsImluZGV4IiwiZ2V0RWxlbWVudCIsInR5cGUiLCJjcmVhdGVFbGVtZW50c0luc3RhbmNlIiwiRXJyb3IiLCJzdHJpcGVJbnN0YW5jZSIsImNyZWF0ZUVsZW1lbnQiLCJvcHRpb25zIiwiZWwiLCJjcmVhdGUiLCJ1cGRhdGVDYXJ0UGF5bWVudFJlcXVlc3QiLCJvcmRlckRhdGEiLCJzaXRlRGF0YSIsInJlcXVpcmVzU2hpcHBpbmciLCJCb29sZWFuIiwic3RhdHVzRmxhZ3MiLCJjb3VudHJ5IiwiYnVzaW5lc3NBZGRyZXNzIiwiZGVmYXVsdENvdW50cnkiLCJjdXJyZW5jeSIsImRlZmF1bHRDdXJyZW5jeSIsInRvTG93ZXJDYXNlIiwidG90YWwiLCJhbW91bnQiLCJzdWJ0b3RhbCIsInZhbHVlIiwibGFiZWwiLCJwZW5kaW5nIiwiZGlzcGxheUl0ZW1zIiwicmVxdWVzdFBheWVyTmFtZSIsInJlcXVlc3RQYXllckVtYWlsIiwicmVxdWVzdFBheWVyUGhvbmUiLCJyZXF1ZXN0U2hpcHBpbmciLCJwYXltZW50UmVxdWVzdCIsImlnbm9yZUVycm9yIiwibmFtZSIsInVuc3VwcG9ydGVkQ291bnRyeVBhdHRlcm4iLCJtYXRjaGVzIiwibWVzc2FnZSIsIm1hdGNoIiwiY29uc29sZSIsImdldENhcnRQYXltZW50UmVxdWVzdCIsInNob3dFeHRyYUl0ZW1zIiwidXNlckl0ZW1zIiwibWFwIiwiaXRlbSIsInByb2R1Y3QiLCJmX25hbWVfIiwiY291bnQiLCJyb3dUb3RhbCIsImV4dHJhSXRlbXMiLCJwcmljZSIsInNoaXBwaW5nTWV0aG9kcyIsIm1ldGhvZCIsImlkIiwiZGV0YWlsIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQjs7Ozs7Ozs7Ozs7SUFRTEEsV0FBVztlQUFYQTs7SUFzS0FDLDZCQUE2QjtlQUE3QkE7O0lBa0NBQyxrQ0FBa0M7ZUFBbENBOzs7OERBOU1LOzJCQUlYOzs7Ozs7QUFFQSxNQUFNRjtJQWNYRyxZQUFZQyxVQUFvQixDQUFFO1FBQ2hDLElBQUlDLE9BQU9DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGFBQWFGLE9BQU9DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFlBQVk7WUFDakU7UUFDRjtRQUVBLE1BQU1DLGtCQUFrQkosV0FBV0ssYUFBYSxD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

}),
94492: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals window */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    default: function() {
        return _default;
    },
    register: function() {
        return register;
    },
    updateWebPaymentsButton: function() {
        return updateWebPaymentsButton;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
const _commerceUtils = __webpack_require__(54556);
const _stripeStore = __webpack_require__(5841);
const _checkoutUtils = __webpack_require__(17696);
const _cartUtils = __webpack_require__(69773);
const _constants = __webpack_require__(10873);
const _debug = /*#__PURE__*/ _interop_require_default(__webpack_require__(85986));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const hasItems = (response)=>response && response.data && response.data.database && response.data.database.commerceOrder && response.data.database.commerceOrder.userItems && response.data.database.commerceOrder.userItems.length > 0;
// @ts-expect-error - TS7031 - Binding element 'target' implicitly has an 'any' type.
const isWebPaymentsButtonEvent = ({ target })=>{
    const cartCheckoutButton = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_BUTTON, target);
    const cartApplePayButton = (0, _commerceUtils.findClosestElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_APPLE_PAY_BUTTON, target);
    if (cartCheckoutButton) {
        return cartCheckoutButton;
    } else if (cartApplePayButton) {
        return cartApplePayButton;
    } else {
        return false;
    }
};
const updateWebPaymentsButton = (wrapper, data, stripeStore)=>{
    const webPaymentsActionsElements = (0, _commerceUtils.findAllElementsByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_ACTIONS, wrapper);
    if (!webPaymentsActionsElements || webPaymentsActionsElements.length === 0 || !hasItems(data)) {
        return;
    }
    webPaymentsActionsElements.forEach((webPaymentsActions)=>{
        (0, _commerceUtils.hideElement)(webPaymentsActions);
        if (!stripeStore || !stripeStore.isInitialized() || !data.data.site.commerce.quickCheckoutEnabled) {
            return;
        }
        const stripeInstance = parseInt(// @ts-expect-error - TS2345 - Argument of type 'string | null' is not assignable to parameter of type 'string'.
        wrapper.getAttribute(_constants.STRIPE_ELEMENT_INSTANCE), 10);
        const paymentRequest = stripeStore.updateCartPaymentRequest(stripeInstance, data.data.database.commerceOrder, data.data.site.commerce);
        if (!paymentRequest || typeof paymentRequest.canMakePayment !== 'function') {
            return;
        }
        if ((0, _commerceUtils.isFreeOrder)(data)) {
            return;
        }
        paymentRequest.canMakePayment()// @ts-expect-error - TS7006 - Parameter 'result' implicitly has an 'any' type.
        .then((result)=>{
            if (!result) {
                return;
            }
            const { applePay } = result;
            (0, _commerceUtils.showElement)(webPaymentsActions);
            const cartCheckoutButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_BUTTON, webPaymentsActions);
            const cartApplePayButton = (0, _commerceUtils.findElementByNodeType)(_constants.NODE_TYPE_COMMERCE_CART_APPLE_PAY_BUTTON, webPaymentsActions);
            if (!cartCheckoutButton || !cartApplePayButton) {
                return;
            }
            if (applePay) {
                (0, _commerceUtils.hideElement)(cartCheckoutButton);
                (0, _commerceUtils.showElement)(cartApplePayButton);
            } else {
                (0, _commerceUtils.hideElement)(cartApplePayButton);
                (0, _commerceUtils.showElement)(cartCheckoutButton);
            }
        }).catch(()=>{
            _debug.default.log('PaymentRequest not available in this browser  silently exiting');
        });
    });
};
const getShippingMethodsQuery = (0, _graphqltag.default)`
  query FetchShippingMethods {
    database {
      id
      commerceOrder {
        id
        availableShippingMethods {
          id
          name
          description
          price {
            value
          }
        }
      }
    }
  }
`;
const handleWebPaymentsButton = (event, apolloClient, stripeStore)=>{
    event.preventDefault();
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        if (window.Webflow.env('preview')) {
            window.alert('Web Payments is not available in preview mode.');
        }
        return;
    }
    const { currentTarget } = event;
    const stripeElement = (0, _commerceUtils.findClosestElementWithAttribute)(_constants.STRIPE_ELEMENT_INSTANCE, // @ts-expect-error - TS2345 - Argument of type 'EventTarget | null' is not assignable to parameter of type 'EventTarget'.
    currentTarget);
    if (!(stripeElement instanceof Element)) {
        return;
    }
    const stripeInstance = parseInt(// @ts-expect-error - TS2345 - Argument of type 'string | null' is not assignable to parameter of type 'string'.
    stripeElement.getAttribute(_constants.STRIPE_ELEMENT_INSTANCE), 10);
    const paymentRequest = stripeStore.getCartPaymentRequest(stripeInstance);
    // @ts-expect-error - TS18048 - 'paymentRequest' is possibly 'undefined'.
    paymentRequest.show();
    // @ts-expect-error - TS18048 - 'paymentRequest' is possibly 'undefined'.
    if (paymentRequest.hasRegisteredListener('paymentmethod')) {
        // we remove any existing event listeners, which can happen if the modal
        // was closed before a successful payment occurred
        // @ts-expect-error - TS18048 - 'paymentRequest' is possibly 'undefined'.
        paymentRequest.removeAllListeners();
    }
    // @ts-expect-error - TS18048 - 'paymentRequest' is possibly 'undefined'.
    paymentRequest.on('shippingaddresschange', // @ts-expect-error - TS7031 - Binding element 'updateWith' implicitly has an 'any' type. | TS7031 - Binding element 'shippingAddress' implicitly has an 'any' type.
    ({ updateWith, shippingAddress })=>{
        // @ts-expect-error - TS7034 - Variable 'shippingMethods' implicitly has type 'any[]' in some locations where its type cannot be determined.
        let shippingMethods = [];
        const graphQlQuery = stripeElement.getAttribute(_constants.CART_QUERY) || stripeElement.getAttribute(_constants.CHECKOUT_QUERY);
        // In some cases we receive an obfuscated address from quick checkout service (e.g. Apple pay)
        // We're using a different mutation to mark such address as 'obfuscated' in order to skip address validation when calculating taxes
        (0, _checkoutUtils.createUpdateObfuscatedOrderAddressMutation)(apolloClient, {
            type: 'shipping',
            name: shippingAddress.recipient,
            address_line1: shippingAddress.addressLine[0],
            address_line2: shippingAddress.addressLine[1],
            address_city: shippingAddress.city,
            address_state: shippingAddress.region,
            address_country: shippingAddress.country,
            address_zip: shippingAddress.postalCode
        }).then(()=>{
            return apolloClient.query({
                query: getShippingMethodsQuery,
                fetchPolicy: 'network-only',
                errorPolicy: 'all'
            });
        }).then(({ data })=>{
            if (!data.database.commerceOrder.availableShippingMethods || data.database.commerceOrder.availableShippingMethods.length === 0) {
                updateWith({
                    status: 'invalid_shipping_address'
                });
                return Promise.reject('No valid shipping addresses');
            } else {
                shippingMethods = data.database.commerceOrder.availableShippingMethods;
                return (0, _checkoutUtils.createOrderShippingMethodMutation)(apolloClient, data.database.commerceOrder.availableShippingMethods[0].id);
            }
        }).then(()=>{
            return (0, _checkoutUtils.createRecalcOrderEstimationsMutation)(apolloClient);
        }).then(()=>{
            return apolloClient.query({
                query: (0, _graphqltag.default)`
              ${graphQlQuery}
            `,
                fetchPolicy: 'network-only',
                errorPolicy: 'all'
            });
        }).then(({ data })=>{
            updateWith({
                status: 'success',
                displayItems: (0, _stripeStore.generateDisplayItemsFromOrder)(data.database.commerceOrder, true),
                shippingOptions: // @ts-expect-error - TS7005 - Variable 'shippingMethods' implicitly has an 'any[]' type.
                (0, _stripeStore.generateShippingOptionsFromMethods)(shippingMethods),
                total: {
                    amount: data.database.commerceOrder.total.value,
                    label: 'Total',
                    pending: false
                }
            });
        });
    });
    // @ts-expect-error - TS7031 - Binding element 'updateWith' implicitly has an 'any' type. | TS7031 - Binding element 'shippingOption' implicitly has an 'any' type.
    paymentRequest.on('shippingoptionchange', ({ updateWith, shippingOption })=>{
        const graphQlQuery = stripeElement.getAttribute(_constants.CART_QUERY) || stripeElement.getAttribute(_constants.CHECKOUT_QUERY);
        (0, _checkoutUtils.createOrderShippingMethodMutation)(apolloClient, shippingOption.id).then(()=>{
            return (0, _checkoutUtils.createRecalcOrderEstimationsMutation)(apolloClient);
        }).then(()=>{
            return apolloClient.query({
                query: (0, _graphqltag.default)`
            ${graphQlQuery}
          `,
                fetchPolicy: 'network-only',
                errorPolicy: 'all'
            });
        }).then(({ data })=>{
            updateWith({
                status: 'success',
                displayItems: (0, _stripeStore.generateDisplayItemsFromOrder)(data.database.commerceOrder, true),
                total: {
                    amount: data.database.commerceOrder.total.value,
                    label: 'Total',
                    pending: false
                }
            });
        });
    });
    // @ts-expect-error - TS7006 - Parameter 'ev' implicitly has an 'any' type.
    paymentRequest.on('paymentmethod', (ev)=>{
        (0, _commerceUtils.fetchOrderStatusFlags)(apolloClient).then(({ requiresShipping })=>{
            return Promise.all([
                (0, _checkoutUtils.createOrderIdentityMutation)(apolloClient, ev.payerEmail),
                requiresShipping ? (0, _checkoutUtils.createOrderAddressMutation)(apolloClient, {
                    type: 'shipping',
                    name: ev.shippingAddress.recipient,
                    address_line1: ev.shippingAddress.addressLine[0],
                    address_line2: ev.shippingAddress.addressLine[1],
                    address_city: ev.shippingAddress.city,
                    address_state: ev.shippingAddress.region,
                    address_country: ev.shippingAddress.country,
                    address_zip: ev.shippingAddress.postalCode
                }) : Promise.resolve(),
                (0, _checkoutUtils.createOrderAddressMutation)(apolloClient, {
                    type: 'billing',
                    name: ev.paymentMethod.billing_details.name,
                    address_line1: ev.paymentMethod.billing_details.address.line1,
                    address_line2: ev.paymentMethod.billing_details.address.line2,
                    address_city: ev.paymentMethod.billing_details.address.city,
                    address_state: ev.paymentMethod.billing_details.address.state,
                    address_country: ev.paymentMethod.billing_details.address.country,
                    address_zip: ev.paymentMethod.billing_details.address.postal_code
                }),
                requiresShipping ? (0, _checkoutUtils.createOrderShippingMethodMutation)(apolloClient, ev.shippingOption.id) : Promise.resolve(),
                (0, _checkoutUtils.createStripePaymentMethodMutation)(apolloClient, ev.paymentMethod.id)
            ]);
        }).then(()=>{
            return (0, _checkoutUtils.createAttemptSubmitOrderRequest)(apolloClient, {
                checkoutType: 'quickCheckout'
            });
        }).then((data)=>{
            const order = (0, _checkoutUtils.getOrderDataFromGraphQLResponse)(data);
            if ((0, _checkoutUtils.orderRequiresAdditionalAction)(order.status)) {
                ev.complete('success');
                const stripe = stripeStore.getStripeInstance();
                // @ts-expect-error - TS7006 - Parameter 'result' implicitly has an 'any' type.
                return stripe.handleCardAction(order.clientSecret).then((result)=>{
                    if (result.error) {
                        return Promise.reject(new Error('payment_intent_failed'));
                    }
                    return (0, _checkoutUtils.createAttemptSubmitOrderRequest)(apolloClient, {
                        checkoutType: 'quickCheckout',
                        paymentIntentId: result.paymentIntent.id
                    }).then((resp)=>{
                        const finishedOrder = (0, _checkoutUtils.getOrderDataFromGraphQLResponse)(resp);
                        if (finishedOrder.ok) {
                            (0, _checkoutUtils.redirectToOrderConfirmation)(finishedOrder);
                        } else {
                            return Promise.reject(new Error('payment_intent_failed'));
                        }
                    });
                });
            }
            if (order.ok) {
                ev.complete('success');
                (0, _checkoutUtils.redirectToOrderConfirmation)(order);
            } else {
                return Promise.reject(new Error('order_failed'));
            }
        }).catch((err)=>{
            const hasGraphQLErrors = err && err.graphQLErrors && err.graphQLErrors.length > 0;
            if (hasGraphQLErrors) {
                switch(err.graphQLErrors[0].code){
                    case 'PriceChanged':
                        {
                            ev.complete('success');
                            // We have to wrap this in a small timeout or else the error won't show up and the payment dialog will time out
                            setTimeout(()=>{
                                window.alert('The prices of one or more items in your cart have changed. Please refresh this page and try again.');
                            }, 100);
                            return;
                        }
                    case 'ItemNotFound':
                        {
                            ev.complete('success');
                            setTimeout(()=>{
                                window.alert('One or more of the products in your cart have been removed. Please refresh the page and try again.');
                            }, 100);
                            return;
                        }
                    case 'OrderTotalRange':
                        {
                            ev.complete('success');
                            (0, _checkoutUtils.showErrorMessageForError)(err, ev.currentTarget);
                            if ((0, _cartUtils.isCartOpen)()) {
                                (0, _cartUtils.showErrorMessageForError)(err, ev.currentTarget);
                            }
                            return;
                        }
                    default:
                }
            }
            if (err && err.message && err.message === 'payment_intent_failed') {
                // in the case that we failed outside of the browser UI (i.e. when we had to fall back to the page for 3d secure)
                // we're going to not call the `ev.complete`, since we already had to mark it with `success` to get back to the page
                // and since we don't have an error element, we're going to pop up an alert informing them of the issue
                window.alert('There was an error processing your payment. Please try again, or contact us if you continue to have problems.');
            } else {
                // otherwise, since we're still in the native browser UI, we can rely on the browser to tell them that something went wrong
                ev.complete('fail');
            }
        });
    });
};
const register = (handlerProxy)=>{
    handlerProxy.on('click', isWebPaymentsButtonEvent, handleWebPaymentsButton);
    handlerProxy.on('keydown', isWebPaymentsButtonEvent, (event, ...rest)=>{
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 32) {
            // prevent scrolling on spacebar key press
            event.preventDefault();
        }
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 13) {
            // enter key press
            return handleWebPaymentsButton(event, ...rest);
        }
    });
    handlerProxy.on('keyup', isWebPaymentsButtonEvent, (event, ...rest)=>{
        // @ts-expect-error - TS2339 - Property 'which' does not exist on type 'Event'.
        if (event.which === 32) {
            // spacebar key press
            return handleWebPaymentsButton(event, ...rest);
        }
    });
};
const _default = {
    register
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYlBheW1lbnRzRXZlbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgd2luZG93ICovXG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJztcbmltcG9ydCB7XG4gIGZpbmRFbGVtZW50QnlOb2RlVHlwZSxcbiAgZmluZEFsbEVsZW1lbnRzQnlOb2RlVHlwZSxcbiAgZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZSxcbiAgZmluZENsb3Nlc3RFbGVtZW50V2l0aEF0dHJpYnV0ZSxcbiAgaXNGcmVlT3JkZXIsXG4gIHNob3dFbGVtZW50LFxuICBoaWRlRWxlbWVudCxcbiAgZmV0Y2hPcmRlclN0YXR1c0ZsYWdzLFxufSBmcm9tICcuL2NvbW1lcmNlVXRpbHMnO1xuaW1wb3J0IHtcbiAgU3RyaXBlU3RvcmUsXG4gIGdlbmVyYXRlRGlzcGxheUl0ZW1zRnJvbU9yZGVyLFxuICBnZW5lcmF0ZVNoaXBwaW5nT3B0aW9uc0Zyb21NZXRob2RzLFxufSBmcm9tICcuL3N0cmlwZVN0b3JlJztcbmltcG9ydCBFdmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQgZnJvbSAnLi9ldmVudEhhbmRsZXJQcm94eVdpdGhBcG9sbG9DbGllbnQnO1xuaW1wb3J0IHtcbiAgY3JlYXRlQXR0ZW1wdFN1Ym1pdE9yZGVyUmVxdWVzdCxcbiAgZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZSxcbiAgb3JkZXJSZXF1aXJlc0FkZGl0aW9uYWxBY3Rpb24sXG4gIHJlZGlyZWN0VG9PcmRlckNvbmZpcm1hdGlvbixcbiAgY3JlYXRlT3JkZXJJZGVudGl0eU11dGF0aW9uLFxuICBjcmVhdGVPcmRlckFkZHJlc3NNdXRhdGlvbixcbiAgY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uLFxuICBjcmVhdGVTdHJpcGVQYXltZW50TWV0aG9kTXV0YXRpb24sXG4gIGNyZWF0ZVJlY2FsY09yZGVyRXN0aW1hdGlvbnNNdXRhdGlvbixcbiAgY3JlYXRlVXBkYXRlT2JmdXNjYXRlZE9yZGVyQWRkcmVzc011dGF0aW9uLFxuICBzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IgYXMgc2hvd0NoZWNrb3V0RXJyb3JNZXNzYWdlRm9yRXJyb3IsXG59IGZyb20gJy4vY2hlY2tvdXRVdGlscyc7XG5pbXBvcnQge1xuICBpc0NhcnRPcGVuLFxuICBzaG93RXJyb3JNZXNzYWdlRm9yRXJyb3IgYXMgc2hvd0NhcnRFcnJvck1lc3NhZ2VGb3JFcnJvcixcbn0gZnJvbSAnLi9jYXJ0VXRpbHMnO1xuXG5pbXBvcnQge1xuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9BQ1RJT05TLFxuICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9CVVRUT04sXG4gIE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0FQUExFX1BBWV9CVVRUT04sXG4gIENBUlRfUVVFUlksXG4gIENIRUNLT1VUX1FVRVJZLFxuICBTVFJJUEVfRUxFTUVOVF9JTlNUQU5DRSxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29uc3RhbnRzJztcblxuaW1wb3J0IGRlYnVnIGZyb20gJy4vZGVidWcnO1xuaW1wb3J0IHtBcG9sbG9DbGllbnQsIE5vcm1hbGl6ZWRDYWNoZU9iamVjdH0gZnJvbSAnQGFwb2xsby9jbGllbnQnO1xuXG5jb25zdCBoYXNJdGVtcyA9IChyZXNwb25zZTogYW55KSA9PlxuICByZXNwb25zZSAmJlxuICByZXNwb25zZS5kYXRhICYmXG4gIHJlc3BvbnNlLmRhdGEuZGF0YWJhc2UgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyICYmXG4gIHJlc3BvbnNlLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlci51c2VySXRlbXMgJiZcbiAgcmVzcG9uc2UuZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLnVzZXJJdGVtcy5sZW5ndGggPiAwO1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICd0YXJnZXQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG5jb25zdCBpc1dlYlBheW1lbnRzQnV0dG9uRXZlbnQgPSAoe3RhcmdldH0pID0+IHtcbiAgY29uc3QgY2FydENoZWNrb3V0QnV0dG9uID0gZmluZENsb3Nlc3RFbGVtZW50QnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9CVVRUT04sXG4gICAgdGFyZ2V0XG4gICk7XG4gIGNvbnN0IGNhcnRBcHBsZVBheUJ1dHRvbiA9IGZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQVBQTEVfUEFZX0JVVFRPTixcbiAgICB0YXJnZXRcbiAgKTtcbiAgaWYgKGNhcnRDaGVja291dEJ1dHRvbikge1xuICAgIHJldHVybiBjYXJ0Q2hlY2tvdXRCdXR0b247XG4gIH0gZWxzZSBpZiAoY2FydEFwcGxlUGF5QnV0dG9uKSB7XG4gICAgcmV0dXJuIGNhcnRBcHBsZVBheUJ1dHRvbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVXZWJQYXltZW50c0J1dHRvbiA9IChcbiAgd3JhcHBlcjogRWxlbWVudCxcbiAgZGF0YTogUmVjb3JkPGFueSwgYW55PixcbiAgc3RyaXBlU3RvcmU/OiBTdHJpcGVTdG9yZVxuKSA9PiB7XG4gIGNvbnN0IHdlYlBheW1lbnRzQWN0aW9uc0VsZW1lbnRzID0gZmluZEFsbEVsZW1lbnRzQnlOb2RlVHlwZShcbiAgICBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9BQ1RJT05TLFxuICAgIHdyYXBwZXJcbiAgKTtcbiAgaWYgKFxuICAgICF3ZWJQYXltZW50c0FjdGlvbnNFbGVtZW50cyB8fFxuICAgIHdlYlBheW1lbnRzQWN0aW9uc0VsZW1lbnRzLmxlbmd0aCA9PT0gMCB8fFxuICAgICFoYXNJdGVtcyhkYXRhKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3ZWJQYXltZW50c0FjdGlvbnNFbGVtZW50cy5mb3JFYWNoKCh3ZWJQYXltZW50c0FjdGlvbnMpID0+IHtcbiAgICBoaWRlRWxlbWVudCh3ZWJQYXltZW50c0FjdGlvbnMpO1xuXG4gICAgaWYgKFxuICAgICAgIXN0cmlwZVN0b3JlIHx8XG4gICAgICAhc3RyaXBlU3RvcmUuaXNJbml0aWFsaXplZCgpIHx8XG4gICAgICAhZGF0YS5kYXRhLnNpdGUuY29tbWVyY2UucXVpY2tDaGVja291dEVuYWJsZWRcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJpcGVJbnN0YW5jZSA9IHBhcnNlSW50KFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZyB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdzdHJpbmcnLlxuICAgICAgd3JhcHBlci5nZXRBdHRyaWJ1dGUoU1RSSVBFX0VMRU1FTlRfSU5TVEFOQ0UpLFxuICAgICAgMTBcbiAgICApO1xuICAgIGNvbnN0IHBheW1lbnRSZXF1ZXN0ID0gc3RyaXBlU3RvcmUudXBkYXRlQ2FydFBheW1lbnRSZXF1ZXN0KFxuICAgICAgc3RyaXBlSW5zdGFuY2UsXG4gICAgICBkYXRhLmRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlcixcbiAgICAgIGRhdGEuZGF0YS5zaXRlLmNvbW1lcmNlXG4gICAgKTtcblxuICAgIGlmIChcbiAgICAgICFwYXltZW50UmVxdWVzdCB8fFxuICAgICAgdHlwZW9mIHBheW1lbnRSZXF1ZXN0LmNhbk1ha2VQYXltZW50ICE9PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzRnJlZU9yZGVyKGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGF5bWVudFJlcXVlc3RcbiAgICAgIC5jYW5NYWtlUGF5bWVudCgpXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdyZXN1bHQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHthcHBsZVBheX0gPSByZXN1bHQ7XG5cbiAgICAgICAgc2hvd0VsZW1lbnQod2ViUGF5bWVudHNBY3Rpb25zKTtcblxuICAgICAgICBjb25zdCBjYXJ0Q2hlY2tvdXRCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfUVVJQ0tfQ0hFQ0tPVVRfQlVUVE9OLFxuICAgICAgICAgIHdlYlBheW1lbnRzQWN0aW9uc1xuICAgICAgICApO1xuICAgICAgICBjb25zdCBjYXJ0QXBwbGVQYXlCdXR0b24gPSBmaW5kRWxlbWVudEJ5Tm9kZVR5cGUoXG4gICAgICAgICAgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQVBQTEVfUEFZX0JVVFRPTixcbiAgICAgICAgICB3ZWJQYXltZW50c0FjdGlvbnNcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWNhcnRDaGVja291dEJ1dHRvbiB8fCAhY2FydEFwcGxlUGF5QnV0dG9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFwcGxlUGF5KSB7XG4gICAgICAgICAgaGlkZUVsZW1lbnQoY2FydENoZWNrb3V0QnV0dG9uKTtcbiAgICAgICAgICBzaG93RWxlbWVudChjYXJ0QXBwbGVQYXlCdXR0b24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZGVFbGVtZW50KGNhcnRBcHBsZVBheUJ1dHRvbik7XG4gICAgICAgICAgc2hvd0VsZW1lbnQoY2FydENoZWNrb3V0QnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGRlYnVnLmxvZyhcbiAgICAgICAgICAnUGF5bWVudFJlcXVlc3Qgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGJyb3dzZXIg4oCTIHNpbGVudGx5IGV4aXRpbmcnXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRTaGlwcGluZ01ldGhvZHNRdWVyeSA9IGdxbGBcbiAgcXVlcnkgRmV0Y2hTaGlwcGluZ01ldGhvZHMge1xuICAgIGRhdGFiYXNlIHtcbiAgICAgIGlkXG4gICAgICBjb21tZXJjZU9yZGVyIHtcbiAgICAgICAgaWRcbiAgICAgICAgYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgIHByaWNlIHtcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5gO1xuXG5jb25zdCBoYW5kbGVXZWJQYXltZW50c0J1dHRvbiA9IChcbiAgZXZlbnQ6IEV2ZW50LFxuICBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBzdHJpcGVTdG9yZTogU3RyaXBlU3RvcmVcbikgPT4ge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdkZXNpZ24nKSB8fCB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSkge1xuICAgIGlmICh3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSkge1xuICAgICAgd2luZG93LmFsZXJ0KCdXZWIgUGF5bWVudHMgaXMgbm90IGF2YWlsYWJsZSBpbiBwcmV2aWV3IG1vZGUuJyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHtjdXJyZW50VGFyZ2V0fSA9IGV2ZW50O1xuXG4gIGNvbnN0IHN0cmlwZUVsZW1lbnQgPSBmaW5kQ2xvc2VzdEVsZW1lbnRXaXRoQXR0cmlidXRlKFxuICAgIFNUUklQRV9FTEVNRU5UX0lOU1RBTkNFLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFdmVudFRhcmdldCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdFdmVudFRhcmdldCcuXG4gICAgY3VycmVudFRhcmdldFxuICApO1xuICBpZiAoIShzdHJpcGVFbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdHJpcGVJbnN0YW5jZSA9IHBhcnNlSW50KFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdzdHJpbmcgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJy5cbiAgICBzdHJpcGVFbGVtZW50LmdldEF0dHJpYnV0ZShTVFJJUEVfRUxFTUVOVF9JTlNUQU5DRSksXG4gICAgMTBcbiAgKTtcbiAgY29uc3QgcGF5bWVudFJlcXVlc3QgPSBzdHJpcGVTdG9yZS5nZXRDYXJ0UGF5bWVudFJlcXVlc3Qoc3RyaXBlSW5zdGFuY2UpO1xuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ3BheW1lbnRSZXF1ZXN0JyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgcGF5bWVudFJlcXVlc3Quc2hvdygpO1xuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ3BheW1lbnRSZXF1ZXN0JyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgaWYgKHBheW1lbnRSZXF1ZXN0Lmhhc1JlZ2lzdGVyZWRMaXN0ZW5lcigncGF5bWVudG1ldGhvZCcpKSB7XG4gICAgLy8gd2UgcmVtb3ZlIGFueSBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMsIHdoaWNoIGNhbiBoYXBwZW4gaWYgdGhlIG1vZGFsXG4gICAgLy8gd2FzIGNsb3NlZCBiZWZvcmUgYSBzdWNjZXNzZnVsIHBheW1lbnQgb2NjdXJyZWRcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdwYXltZW50UmVxdWVzdCcgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gICAgcGF5bWVudFJlcXVlc3QucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdwYXltZW50UmVxdWVzdCcgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gIHBheW1lbnRSZXF1ZXN0Lm9uKFxuICAgICdzaGlwcGluZ2FkZHJlc3NjaGFuZ2UnLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3VwZGF0ZVdpdGgnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuIHwgVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICdzaGlwcGluZ0FkZHJlc3MnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgKHt1cGRhdGVXaXRoLCBzaGlwcGluZ0FkZHJlc3N9KSA9PiB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDM0IC0gVmFyaWFibGUgJ3NoaXBwaW5nTWV0aG9kcycgaW1wbGljaXRseSBoYXMgdHlwZSAnYW55W10nIGluIHNvbWUgbG9jYXRpb25zIHdoZXJlIGl0cyB0eXBlIGNhbm5vdCBiZSBkZXRlcm1pbmVkLlxuICAgICAgbGV0IHNoaXBwaW5nTWV0aG9kcyA9IFtdO1xuICAgICAgY29uc3QgZ3JhcGhRbFF1ZXJ5ID1cbiAgICAgICAgc3RyaXBlRWxlbWVudC5nZXRBdHRyaWJ1dGUoQ0FSVF9RVUVSWSkgfHxcbiAgICAgICAgc3RyaXBlRWxlbWVudC5nZXRBdHRyaWJ1dGUoQ0hFQ0tPVVRfUVVFUlkpO1xuICAgICAgLy8gSW4gc29tZSBjYXNlcyB3ZSByZWNlaXZlIGFuIG9iZnVzY2F0ZWQgYWRkcmVzcyBmcm9tIHF1aWNrIGNoZWNrb3V0IHNlcnZpY2UgKGUuZy4gQXBwbGUgcGF5KVxuICAgICAgLy8gV2UncmUgdXNpbmcgYSBkaWZmZXJlbnQgbXV0YXRpb24gdG8gbWFyayBzdWNoIGFkZHJlc3MgYXMgJ29iZnVzY2F0ZWQnIGluIG9yZGVyIHRvIHNraXAgYWRkcmVzcyB2YWxpZGF0aW9uIHdoZW4gY2FsY3VsYXRpbmcgdGF4ZXNcbiAgICAgIGNyZWF0ZVVwZGF0ZU9iZnVzY2F0ZWRPcmRlckFkZHJlc3NNdXRhdGlvbihhcG9sbG9DbGllbnQsIHtcbiAgICAgICAgdHlwZTogJ3NoaXBwaW5nJyxcbiAgICAgICAgbmFtZTogc2hpcHBpbmdBZGRyZXNzLnJlY2lwaWVudCxcbiAgICAgICAgYWRkcmVzc19saW5lMTogc2hpcHBpbmdBZGRyZXNzLmFkZHJlc3NMaW5lWzBdLFxuICAgICAgICBhZGRyZXNzX2xpbmUyOiBzaGlwcGluZ0FkZHJlc3MuYWRkcmVzc0xpbmVbMV0sXG4gICAgICAgIGFkZHJlc3NfY2l0eTogc2hpcHBpbmdBZGRyZXNzLmNpdHksXG4gICAgICAgIGFkZHJlc3Nfc3RhdGU6IHNoaXBwaW5nQWRkcmVzcy5yZWdpb24sXG4gICAgICAgIGFkZHJlc3NfY291bnRyeTogc2hpcHBpbmdBZGRyZXNzLmNvdW50cnksXG4gICAgICAgIGFkZHJlc3NfemlwOiBzaGlwcGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gYXBvbGxvQ2xpZW50LnF1ZXJ5KHtcbiAgICAgICAgICAgIHF1ZXJ5OiBnZXRTaGlwcGluZ01ldGhvZHNRdWVyeSxcbiAgICAgICAgICAgIGZldGNoUG9saWN5OiAnbmV0d29yay1vbmx5JyxcbiAgICAgICAgICAgIGVycm9yUG9saWN5OiAnYWxsJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFkYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIuYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzIHx8XG4gICAgICAgICAgICBkYXRhLmRhdGFiYXNlLmNvbW1lcmNlT3JkZXIuYXZhaWxhYmxlU2hpcHBpbmdNZXRob2RzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdXBkYXRlV2l0aCh7XG4gICAgICAgICAgICAgIHN0YXR1czogJ2ludmFsaWRfc2hpcHBpbmdfYWRkcmVzcycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTm8gdmFsaWQgc2hpcHBpbmcgYWRkcmVzc2VzJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoaXBwaW5nTWV0aG9kcyA9XG4gICAgICAgICAgICAgIGRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlci5hdmFpbGFibGVTaGlwcGluZ01ldGhvZHM7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uKFxuICAgICAgICAgICAgICBhcG9sbG9DbGllbnQsXG4gICAgICAgICAgICAgIGRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlci5hdmFpbGFibGVTaGlwcGluZ01ldGhvZHNbMF0uaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY2FsY09yZGVyRXN0aW1hdGlvbnNNdXRhdGlvbihhcG9sbG9DbGllbnQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFwb2xsb0NsaWVudC5xdWVyeSh7XG4gICAgICAgICAgICBxdWVyeTogZ3FsYFxuICAgICAgICAgICAgICAke2dyYXBoUWxRdWVyeX1cbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICBmZXRjaFBvbGljeTogJ25ldHdvcmstb25seScsXG4gICAgICAgICAgICBlcnJvclBvbGljeTogJ2FsbCcsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCh7ZGF0YX0pID0+IHtcbiAgICAgICAgICB1cGRhdGVXaXRoKHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgZGlzcGxheUl0ZW1zOiBnZW5lcmF0ZURpc3BsYXlJdGVtc0Zyb21PcmRlcihcbiAgICAgICAgICAgICAgZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgc2hpcHBpbmdPcHRpb25zOlxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA1IC0gVmFyaWFibGUgJ3NoaXBwaW5nTWV0aG9kcycgaW1wbGljaXRseSBoYXMgYW4gJ2FueVtdJyB0eXBlLlxuICAgICAgICAgICAgICBnZW5lcmF0ZVNoaXBwaW5nT3B0aW9uc0Zyb21NZXRob2RzKHNoaXBwaW5nTWV0aG9kcyksXG4gICAgICAgICAgICB0b3RhbDoge1xuICAgICAgICAgICAgICBhbW91bnQ6IGRhdGEuZGF0YWJhc2UuY29tbWVyY2VPcmRlci50b3RhbC52YWx1ZSxcbiAgICAgICAgICAgICAgbGFiZWw6ICdUb3RhbCcsXG4gICAgICAgICAgICAgIHBlbmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICApO1xuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzEgLSBCaW5kaW5nIGVsZW1lbnQgJ3VwZGF0ZVdpdGgnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuIHwgVFM3MDMxIC0gQmluZGluZyBlbGVtZW50ICdzaGlwcGluZ09wdGlvbicgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgcGF5bWVudFJlcXVlc3Qub24oJ3NoaXBwaW5nb3B0aW9uY2hhbmdlJywgKHt1cGRhdGVXaXRoLCBzaGlwcGluZ09wdGlvbn0pID0+IHtcbiAgICBjb25zdCBncmFwaFFsUXVlcnkgPVxuICAgICAgc3RyaXBlRWxlbWVudC5nZXRBdHRyaWJ1dGUoQ0FSVF9RVUVSWSkgfHxcbiAgICAgIHN0cmlwZUVsZW1lbnQuZ2V0QXR0cmlidXRlKENIRUNLT1VUX1FVRVJZKTtcbiAgICBjcmVhdGVPcmRlclNoaXBwaW5nTWV0aG9kTXV0YXRpb24oYXBvbGxvQ2xpZW50LCBzaGlwcGluZ09wdGlvbi5pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY2FsY09yZGVyRXN0aW1hdGlvbnNNdXRhdGlvbihhcG9sbG9DbGllbnQpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFwb2xsb0NsaWVudC5xdWVyeSh7XG4gICAgICAgICAgcXVlcnk6IGdxbGBcbiAgICAgICAgICAgICR7Z3JhcGhRbFF1ZXJ5fVxuICAgICAgICAgIGAsXG4gICAgICAgICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknLFxuICAgICAgICAgIGVycm9yUG9saWN5OiAnYWxsJyxcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHtkYXRhfSkgPT4ge1xuICAgICAgICB1cGRhdGVXaXRoKHtcbiAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkaXNwbGF5SXRlbXM6IGdlbmVyYXRlRGlzcGxheUl0ZW1zRnJvbU9yZGVyKFxuICAgICAgICAgICAgZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgdG90YWw6IHtcbiAgICAgICAgICAgIGFtb3VudDogZGF0YS5kYXRhYmFzZS5jb21tZXJjZU9yZGVyLnRvdGFsLnZhbHVlLFxuICAgICAgICAgICAgbGFiZWw6ICdUb3RhbCcsXG4gICAgICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9KTtcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdldicgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZS5cbiAgcGF5bWVudFJlcXVlc3Qub24oJ3BheW1lbnRtZXRob2QnLCAoZXYpID0+IHtcbiAgICBmZXRjaE9yZGVyU3RhdHVzRmxhZ3MoYXBvbGxvQ2xpZW50KVxuICAgICAgLnRoZW4oKHtyZXF1aXJlc1NoaXBwaW5nfSkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGNyZWF0ZU9yZGVySWRlbnRpdHlNdXRhdGlvbihhcG9sbG9DbGllbnQsIGV2LnBheWVyRW1haWwpLFxuICAgICAgICAgIHJlcXVpcmVzU2hpcHBpbmdcbiAgICAgICAgICAgID8gY3JlYXRlT3JkZXJBZGRyZXNzTXV0YXRpb24oYXBvbGxvQ2xpZW50LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NoaXBwaW5nJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBldi5zaGlwcGluZ0FkZHJlc3MucmVjaXBpZW50LFxuICAgICAgICAgICAgICAgIGFkZHJlc3NfbGluZTE6IGV2LnNoaXBwaW5nQWRkcmVzcy5hZGRyZXNzTGluZVswXSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2xpbmUyOiBldi5zaGlwcGluZ0FkZHJlc3MuYWRkcmVzc0xpbmVbMV0sXG4gICAgICAgICAgICAgICAgYWRkcmVzc19jaXR5OiBldi5zaGlwcGluZ0FkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzX3N0YXRlOiBldi5zaGlwcGluZ0FkZHJlc3MucmVnaW9uLFxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY291bnRyeTogZXYuc2hpcHBpbmdBZGRyZXNzLmNvdW50cnksXG4gICAgICAgICAgICAgICAgYWRkcmVzc196aXA6IGV2LnNoaXBwaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgICAgICBjcmVhdGVPcmRlckFkZHJlc3NNdXRhdGlvbihhcG9sbG9DbGllbnQsIHtcbiAgICAgICAgICAgIHR5cGU6ICdiaWxsaW5nJyxcbiAgICAgICAgICAgIG5hbWU6IGV2LnBheW1lbnRNZXRob2QuYmlsbGluZ19kZXRhaWxzLm5hbWUsXG4gICAgICAgICAgICBhZGRyZXNzX2xpbmUxOiBldi5wYXltZW50TWV0aG9kLmJpbGxpbmdfZGV0YWlscy5hZGRyZXNzLmxpbmUxLFxuICAgICAgICAgICAgYWRkcmVzc19saW5lMjogZXYucGF5bWVudE1ldGhvZC5iaWxsaW5nX2RldGFpbHMuYWRkcmVzcy5saW5lMixcbiAgICAgICAgICAgIGFkZHJlc3NfY2l0eTogZXYucGF5bWVudE1ldGhvZC5iaWxsaW5nX2RldGFpbHMuYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgYWRkcmVzc19zdGF0ZTogZXYucGF5bWVudE1ldGhvZC5iaWxsaW5nX2RldGFpbHMuYWRkcmVzcy5zdGF0ZSxcbiAgICAgICAgICAgIGFkZHJlc3NfY291bnRyeTogZXYucGF5bWVudE1ldGhvZC5iaWxsaW5nX2RldGFpbHMuYWRkcmVzcy5jb3VudHJ5LFxuICAgICAgICAgICAgYWRkcmVzc196aXA6IGV2LnBheW1lbnRNZXRob2QuYmlsbGluZ19kZXRhaWxzLmFkZHJlc3MucG9zdGFsX2NvZGUsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgcmVxdWlyZXNTaGlwcGluZ1xuICAgICAgICAgICAgPyBjcmVhdGVPcmRlclNoaXBwaW5nTWV0aG9kTXV0YXRpb24oXG4gICAgICAgICAgICAgICAgYXBvbGxvQ2xpZW50LFxuICAgICAgICAgICAgICAgIGV2LnNoaXBwaW5nT3B0aW9uLmlkXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICAgICAgY3JlYXRlU3RyaXBlUGF5bWVudE1ldGhvZE11dGF0aW9uKGFwb2xsb0NsaWVudCwgZXYucGF5bWVudE1ldGhvZC5pZCksXG4gICAgICAgIF0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QoYXBvbGxvQ2xpZW50LCB7XG4gICAgICAgICAgY2hlY2tvdXRUeXBlOiAncXVpY2tDaGVja291dCcsXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZShkYXRhKTtcbiAgICAgICAgaWYgKG9yZGVyUmVxdWlyZXNBZGRpdGlvbmFsQWN0aW9uKG9yZGVyLnN0YXR1cykpIHtcbiAgICAgICAgICBldi5jb21wbGV0ZSgnc3VjY2VzcycpO1xuXG4gICAgICAgICAgY29uc3Qgc3RyaXBlID0gc3RyaXBlU3RvcmUuZ2V0U3RyaXBlSW5zdGFuY2UoKTtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdyZXN1bHQnIGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUuXG4gICAgICAgICAgcmV0dXJuIHN0cmlwZS5oYW5kbGVDYXJkQWN0aW9uKG9yZGVyLmNsaWVudFNlY3JldCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ3BheW1lbnRfaW50ZW50X2ZhaWxlZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QoYXBvbGxvQ2xpZW50LCB7XG4gICAgICAgICAgICAgIGNoZWNrb3V0VHlwZTogJ3F1aWNrQ2hlY2tvdXQnLFxuICAgICAgICAgICAgICBwYXltZW50SW50ZW50SWQ6IHJlc3VsdC5wYXltZW50SW50ZW50LmlkLFxuICAgICAgICAgICAgfSkudGhlbigocmVzcCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBmaW5pc2hlZE9yZGVyID0gZ2V0T3JkZXJEYXRhRnJvbUdyYXBoUUxSZXNwb25zZShyZXNwKTtcblxuICAgICAgICAgICAgICBpZiAoZmluaXNoZWRPcmRlci5vaykge1xuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG9PcmRlckNvbmZpcm1hdGlvbihmaW5pc2hlZE9yZGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdwYXltZW50X2ludGVudF9mYWlsZWQnKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRlci5vaykge1xuICAgICAgICAgIGV2LmNvbXBsZXRlKCdzdWNjZXNzJyk7XG4gICAgICAgICAgcmVkaXJlY3RUb09yZGVyQ29uZmlybWF0aW9uKG9yZGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdvcmRlcl9mYWlsZWQnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zdCBoYXNHcmFwaFFMRXJyb3JzID1cbiAgICAgICAgICBlcnIgJiYgZXJyLmdyYXBoUUxFcnJvcnMgJiYgZXJyLmdyYXBoUUxFcnJvcnMubGVuZ3RoID4gMDtcblxuICAgICAgICBpZiAoaGFzR3JhcGhRTEVycm9ycykge1xuICAgICAgICAgIHN3aXRjaCAoZXJyLmdyYXBoUUxFcnJvcnNbMF0uY29kZSkge1xuICAgICAgICAgICAgY2FzZSAnUHJpY2VDaGFuZ2VkJzoge1xuICAgICAgICAgICAgICBldi5jb21wbGV0ZSgnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHdyYXAgdGhpcyBpbiBhIHNtYWxsIHRpbWVvdXQgb3IgZWxzZSB0aGUgZXJyb3Igd29uJ3Qgc2hvdyB1cCBhbmQgdGhlIHBheW1lbnQgZGlhbG9nIHdpbGwgdGltZSBvdXRcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFxuICAgICAgICAgICAgICAgICAgJ1RoZSBwcmljZXMgb2Ygb25lIG9yIG1vcmUgaXRlbXMgaW4geW91ciBjYXJ0IGhhdmUgY2hhbmdlZC4gUGxlYXNlIHJlZnJlc2ggdGhpcyBwYWdlIGFuZCB0cnkgYWdhaW4uJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdJdGVtTm90Rm91bmQnOiB7XG4gICAgICAgICAgICAgIGV2LmNvbXBsZXRlKCdzdWNjZXNzJyk7XG5cbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFxuICAgICAgICAgICAgICAgICAgJ09uZSBvciBtb3JlIG9mIHRoZSBwcm9kdWN0cyBpbiB5b3VyIGNhcnQgaGF2ZSBiZWVuIHJlbW92ZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdPcmRlclRvdGFsUmFuZ2UnOiB7XG4gICAgICAgICAgICAgIGV2LmNvbXBsZXRlKCdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgIHNob3dDaGVja291dEVycm9yTWVzc2FnZUZvckVycm9yKGVyciwgZXYuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAgICAgaWYgKGlzQ2FydE9wZW4oKSkge1xuICAgICAgICAgICAgICAgIHNob3dDYXJ0RXJyb3JNZXNzYWdlRm9yRXJyb3IoZXJyLCBldi5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDogLy8gbm9vcFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnIgJiYgZXJyLm1lc3NhZ2UgJiYgZXJyLm1lc3NhZ2UgPT09ICdwYXltZW50X2ludGVudF9mYWlsZWQnKSB7XG4gICAgICAgICAgLy8gaW4gdGhlIGNhc2UgdGhhdCB3ZSBmYWlsZWQgb3V0c2lkZSBvZiB0aGUgYnJvd3NlciBVSSAoaS5lLiB3aGVuIHdlIGhhZCB0byBmYWxsIGJhY2sgdG8gdGhlIHBhZ2UgZm9yIDNkIHNlY3VyZSlcbiAgICAgICAgICAvLyB3ZSdyZSBnb2luZyB0byBub3QgY2FsbCB0aGUgYGV2LmNvbXBsZXRlYCwgc2luY2Ugd2UgYWxyZWFkeSBoYWQgdG8gbWFyayBpdCB3aXRoIGBzdWNjZXNzYCB0byBnZXQgYmFjayB0byB0aGUgcGFnZVxuICAgICAgICAgIC8vIGFuZCBzaW5jZSB3ZSBkb24ndCBoYXZlIGFuIGVycm9yIGVsZW1lbnQsIHdlJ3JlIGdvaW5nIHRvIHBvcCB1cCBhbiBhbGVydCBpbmZvcm1pbmcgdGhlbSBvZiB0aGUgaXNzdWVcbiAgICAgICAgICB3aW5kb3cuYWxlcnQoXG4gICAgICAgICAgICAnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBQbGVhc2UgdHJ5IGFnYWluLCBvciBjb250YWN0IHVzIGlmIHlvdSBjb250aW51ZSB0byBoYXZlIHByb2JsZW1zLidcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG90aGVyd2lzZSwgc2luY2Ugd2UncmUgc3RpbGwgaW4gdGhlIG5hdGl2ZSBicm93c2VyIFVJLCB3ZSBjYW4gcmVseSBvbiB0aGUgYnJvd3NlciB0byB0ZWxsIHRoZW0gdGhhdCBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgICAgIGV2LmNvbXBsZXRlKCdmYWlsJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IChoYW5kbGVyUHJveHk6IEV2ZW50SGFuZGxlclByb3h5V2l0aEFwb2xsb0NsaWVudCkgPT4ge1xuICBoYW5kbGVyUHJveHkub24oJ2NsaWNrJywgaXNXZWJQYXltZW50c0J1dHRvbkV2ZW50LCBoYW5kbGVXZWJQYXltZW50c0J1dHRvbik7XG4gIGhhbmRsZXJQcm94eS5vbigna2V5ZG93bicsIGlzV2ViUGF5bWVudHNCdXR0b25FdmVudCwgKGV2ZW50LCAuLi5yZXN0KSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICd3aGljaCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQnLlxuICAgIGlmIChldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nIG9uIHNwYWNlYmFyIGtleSBwcmVzc1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICd3aGljaCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRXZlbnQnLlxuICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcbiAgICAgIC8vIGVudGVyIGtleSBwcmVzc1xuICAgICAgcmV0dXJuIGhhbmRsZVdlYlBheW1lbnRzQnV0dG9uKGV2ZW50LCAuLi5yZXN0KTtcbiAgICB9XG4gIH0pO1xuICBoYW5kbGVyUHJveHkub24oJ2tleXVwJywgaXNXZWJQYXltZW50c0J1dHRvbkV2ZW50LCAoZXZlbnQsIC4uLnJlc3QpID0+IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ3doaWNoJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdFdmVudCcuXG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAzMikge1xuICAgICAgLy8gc3BhY2ViYXIga2V5IHByZXNzXG4gICAgICByZXR1cm4gaGFuZGxlV2ViUGF5bWVudHNCdXR0b24oZXZlbnQsIC4uLnJlc3QpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7cmVnaXN0ZXJ9O1xuIl0sIm5hbWVzIjpbInJlZ2lzdGVyIiwidXBkYXRlV2ViUGF5bWVudHNCdXR0b24iLCJoYXNJdGVtcyIsInJlc3BvbnNlIiwiZGF0YSIsImRhdGFiYXNlIiwiY29tbWVyY2VPcmRlciIsInVzZXJJdGVtcyIsImxlbmd0aCIsImlzV2ViUGF5bWVudHNCdXR0b25FdmVudCIsInRhcmdldCIsImNhcnRDaGVja291dEJ1dHRvbiIsImZpbmRDbG9zZXN0RWxlbWVudEJ5Tm9kZVR5cGUiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9CVVRUT04iLCJjYXJ0QXBwbGVQYXlCdXR0b24iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9BUFBMRV9QQVlfQlVUVE9OIiwid3JhcHBlciIsInN0cmlwZVN0b3JlIiwid2ViUGF5bWVudHNBY3Rpb25zRWxlbWVudHMiLCJmaW5kQWxsRWxlbWVudHNCeU5vZGVUeXBlIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfUVVJQ0tfQ0hFQ0tPVVRfQUNUSU9OUyIsImZvckVhY2giLCJ3ZWJQYXltZW50c0FjdGlvbnMiLCJoaWRlRWxlbWVudCIsImlzSW5pdGlhbGl6ZWQiLCJzaXRlIiwiY29tbWVyY2UiLCJxdWlja0NoZWNrb3V0RW5hYmxlZCIsInN0cmlwZUluc3RhbmNlIiwicGFyc2VJbnQiLCJnZXRBdHRyaWJ1dGUiLCJTVFJJUEVfRUxFTUVOVF9JTlNUQU5DRSIsInBheW1lbnRSZXF1ZXN0IiwidXBkYXRlQ2FydFBheW1lbnRSZXF1ZXN0IiwiY2FuTWFrZVBheW1lbnQiLCJpc0ZyZWVPcmRlciIsInRoZW4iLCJyZXN1bHQiLCJhcHBsZVBheSIsInNob3dFbGVtZW50IiwiZmluZEVsZW1lbnRCeU5vZGVUeXBlIiwiY2F0Y2giLCJkZWJ1ZyIsImxvZyIsImdldFNoaXBwaW5nTWV0aG9kc1F1ZXJ5IiwiZ3FsIiwiaGFuZGxlV2ViUGF5bWVudHNCdXR0b24iLCJldmVudCIsImFwb2xsb0NsaWVudCIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiV2ViZmxvdyIsImVudiIsImFsZXJ0IiwiY3VycmVudFRhcmdldCIsInN0cmlwZUVsZW1lbnQiLCJmaW5kQ2xvc2VzdEVsZW1lbnRXaXRoQXR0cmlidXRlIiwiRWxlbWVudCIsImdldENhcnRQYXltZW50UmVxdWVzdCIsInNob3ciLCJoYXNSZWdpc3RlcmVkTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvbiIsInVwZGF0ZVdpdGgiLCJzaGlwcGluZ0FkZHJlc3MiLCJzaGlwcGluZ01ldGhvZHMiLCJncmFwaFFsUXVlcnkiLCJDQVJUX1FVRVJZIiwiQ0hFQ0tPVVRfUVVFUlkiLCJjcmVhdGVVcGRhdGVPYmZ1c2NhdGVkT3JkZXJBZGRyZXNzTXV0YXRpb24iLCJ0eXBlIiwibmFtZSIsInJlY2lwaWVudCIsImFkZHJlc3NfbGluZTEiLCJhZGRyZXNzTGluZSIsImFkZHJlc3NfbGluZTIiLCJhZGRyZXNzX2NpdHkiLCJjaXR5IiwiYWRkcmVzc19zdGF0ZSIsInJlZ2lvbiIsImFkZHJlc3NfY291bnRyeSIsImNvdW50cnkiLCJhZGRyZXNzX3ppcCIsInBvc3RhbENvZGUiLCJxdWVyeSIsImZldGNoUG9saWN5IiwiZXJyb3JQb2xpY3kiLCJhdmFpbGFibGVTaGlwcGluZ01ldGhvZHMiLCJzdGF0dXMiLCJQcm9taXNlIiwicmVqZWN0IiwiY3JlYXRlT3JkZXJTaGlwcGluZ01ldGhvZE11dGF0aW9uIiwiaWQiLCJjcmVhdGVSZWNhbGNPcmRlckVzdGltYXRpb25zTXV0YXRpb24iLCJkaXNwbGF5SXRlbXMiLCJnZW5lcmF0ZURpc3BsYXlJdGVtc0Zyb21PcmRlciIsInNoaXBwaW5nT3B0aW9ucyIsImdlbmVyYXRlU2hpcHBpbmdPcHRpb25zRnJvbU1ldGhvZHMiLCJ0b3RhbCIsImFtb3VudCIsInZhbHVlIiwibGFiZWwiLCJwZW5kaW5nIiwic2hpcHBpbmdPcHRpb24iLCJldiIsImZldGNoT3JkZXJTdGF0dXNGbGFncyIsInJlcXVpcmVzU2hpcHBpbmciLCJhbGwiLCJjcmVhdGVPcmRlcklkZW50aXR5TXV0YXRpb24iLCJwYXllckVtYWlsIiwiY3JlYXRlT3JkZXJBZGRyZXNzTXV0YXRpb24iLCJyZXNvbHZlIiwicGF5bWVudE1ldGhvZCIsImJpbGxpbmdfZGV0YWlscyIsImFkZHJlc3MiLCJsaW5lMSIsImxpbmUyIiwic3RhdGUiLCJwb3N0YWxfY29kZSIsImNyZWF0ZVN0cmlwZVBheW1lbnRNZXRob2RNdXRhdGlvbiIsImNyZWF0ZUF0dGVtcHRTdWJtaXRPcmRlclJlcXVlc3QiLCJjaGVja291dFR5cGUiLCJvcmRlciIsImdldE9yZGVyRGF0YUZyb21HcmFwaFFMUmVzcG9uc2UiLCJvcmRlclJlcXVpcmVzQWRkaXRpb25hbEFjdGlvbiIsImNvbXBsZXRlIiwic3RyaXBlIiwiZ2V0U3RyaXBlSW5zdGFuY2UiLCJoYW5kbGVDYXJkQWN0aW9uIiwiY2xpZW50U2VjcmV0IiwiZXJyb3IiLCJFcnJvciIsInBheW1lbnRJbnRlbnRJZCIsInBheW1lbnRJbnRlbnQiLCJyZXNwIiwiZmluaXNoZWRPcmRlciIsIm9rIiwicmVkaXJlY3RUb09yZGVyQ29uZmlybWF0aW9uIiwiZXJyIiwiaGFzR3JhcGhRTEVycm9ycyIsImdyYXBoUUxFcnJvcnMiLCJjb2RlIiwic2V0VGltZW91dCIsInNob3dDaGVja291dEVycm9yTWVzc2FnZUZvckVycm9yIiwiaXNDYXJ0T3BlbiIsInNob3dDYXJ0RXJyb3JNZXNzYWdlRm9yRXJy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

}),
64054: (function (module, __unused_webpack_exports, __webpack_require__) {
"use strict";
/**
 * Webflow: E-commerce
 */ 
const Webflow = __webpack_require__(43949);
// $FlowFixMe[cannot-resolve-module] Added when migrating to TypeScript
const { design, destroy, init, preview } = __webpack_require__(2330);
Webflow.define('commerce', module.exports = function() {
    return {
        design,
        destroy,
        init,
        preview
    };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYmZsb3ctY29tbWVyY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBXZWJmbG93OiBFLWNvbW1lcmNlXG4gKi9cbmNvbnN0IFdlYmZsb3cgPSByZXF1aXJlKCcuLi9CYXNlU2l0ZU1vZHVsZXMvd2ViZmxvdy1saWInKTtcbi8vICRGbG93Rml4TWVbY2Fubm90LXJlc29sdmUtbW9kdWxlXSBBZGRlZCB3aGVuIG1pZ3JhdGluZyB0byBUeXBlU2NyaXB0XG5jb25zdCB7ZGVzaWduLCBkZXN0cm95LCBpbml0LCBwcmV2aWV3fSA9IHJlcXVpcmUoJy4vbW9kdWxlcycpO1xuXG5XZWJmbG93LmRlZmluZShcbiAgJ2NvbW1lcmNlJyxcbiAgKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7ZGVzaWduLCBkZXN0cm95LCBpbml0LCBwcmV2aWV3fTtcbiAgfSlcbik7XG4iXSwibmFtZXMiOlsiV2ViZmxvdyIsInJlcXVpcmUiLCJkZXNpZ24iLCJkZXN0cm95IiwiaW5pdCIsInByZXZpZXciLCJkZWZpbmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQztBQUNELE1BQU1BLFVBQVVDLFFBQVE7QUFDeEIsdUVBQXVFO0FBQ3ZFLE1BQU0sRUFBQ0MsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFDLEdBQUdKLFFBQVE7QUFFakRELFFBQVFNLE1BQU0sQ0FDWixZQUNDQyxPQUFPQyxPQUFPLEdBQUc7SUFDaEIsT0FBTztRQUFDTjtRQUFRQztRQUFTQztRQUFNQztJQUFPO0FBQ3hDIn0=

}),
48935: (function (__unused_webpack_module, exports) {
"use strict";
// Please keep this file small: it gets imported by published site code.

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    CLASS_NAME_DYNAMIC_LIST: function() {
        return CLASS_NAME_DYNAMIC_LIST;
    },
    CLASS_NAME_DYNAMIC_LIST_COLUMN: function() {
        return CLASS_NAME_DYNAMIC_LIST_COLUMN;
    },
    CLASS_NAME_DYNAMIC_LIST_ITEM: function() {
        return CLASS_NAME_DYNAMIC_LIST_ITEM;
    },
    CLASS_NAME_DYNAMIC_LIST_REPEATER_ITEM: function() {
        return CLASS_NAME_DYNAMIC_LIST_REPEATER_ITEM;
    },
    CLASS_NAME_DYNAMIC_LIST_REPEATER_REF: function() {
        return CLASS_NAME_DYNAMIC_LIST_REPEATER_REF;
    },
    CLASS_NAME_DYNAMIC_LIST_ROW: function() {
        return CLASS_NAME_DYNAMIC_LIST_ROW;
    },
    CLASS_NAME_DYNAMIC_WRAPPER: function() {
        return CLASS_NAME_DYNAMIC_WRAPPER;
    },
    getColumnNumberClassName: function() {
        return getColumnNumberClassName;
    }
});
const CLASS_NAME_DYNAMIC_WRAPPER = 'w-dyn-list';
const CLASS_NAME_DYNAMIC_LIST = 'w-dyn-items';
const CLASS_NAME_DYNAMIC_LIST_REPEATER_REF = 'w-dyn-items-repeater-ref';
const CLASS_NAME_DYNAMIC_LIST_ITEM = 'w-dyn-item';
const CLASS_NAME_DYNAMIC_LIST_REPEATER_ITEM = 'w-dyn-repeater-item';
const CLASS_NAME_DYNAMIC_LIST_ROW = 'w-row';
const CLASS_NAME_DYNAMIC_LIST_COLUMN = 'w-col';
const getColumnNumberClassName = (cols)=>`w-col-${cols}`;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQbGVhc2Uga2VlcCB0aGlzIGZpbGUgc21hbGw6IGl0IGdldHMgaW1wb3J0ZWQgYnkgcHVibGlzaGVkIHNpdGUgY29kZS5cblxuZXhwb3J0IGNvbnN0IENMQVNTX05BTUVfRFlOQU1JQ19XUkFQUEVSID0gJ3ctZHluLWxpc3QnO1xuZXhwb3J0IGNvbnN0IENMQVNTX05BTUVfRFlOQU1JQ19MSVNUID0gJ3ctZHluLWl0ZW1zJztcbmV4cG9ydCBjb25zdCBDTEFTU19OQU1FX0RZTkFNSUNfTElTVF9SRVBFQVRFUl9SRUYgPSAndy1keW4taXRlbXMtcmVwZWF0ZXItcmVmJztcbmV4cG9ydCBjb25zdCBDTEFTU19OQU1FX0RZTkFNSUNfTElTVF9JVEVNID0gJ3ctZHluLWl0ZW0nO1xuZXhwb3J0IGNvbnN0IENMQVNTX05BTUVfRFlOQU1JQ19MSVNUX1JFUEVBVEVSX0lURU0gPSAndy1keW4tcmVwZWF0ZXItaXRlbSc7XG5leHBvcnQgY29uc3QgQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfUk9XID0gJ3ctcm93JztcbmV4cG9ydCBjb25zdCBDTEFTU19OQU1FX0RZTkFNSUNfTElTVF9DT0xVTU4gPSAndy1jb2wnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q29sdW1uTnVtYmVyQ2xhc3NOYW1lID0gKGNvbHM6IHN0cmluZykgPT4gYHctY29sLSR7Y29sc31gO1xuIl0sIm5hbWVzIjpbIkNMQVNTX05BTUVfRFlOQU1JQ19MSVNUIiwiQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfQ09MVU1OIiwiQ0xBU1NfTkFNRV9EWU5BTUlDX0xJU1RfSVRFTSIsIkNMQVNTX05BTUVfRFlOQU1JQ19MSVNUX1JFUEVBVEVSX0lURU0iLCJDTEFTU19OQU1FX0RZTkFNSUNfTElTVF9SRVBFQVRFUl9SRUYiLCJDTEFTU19OQU1FX0RZTkFNSUNfTElTVF9ST1ciLCJDTEFTU19OQU1FX0RZTkFNSUNfV1JBUFBFUiIsImdldENvbHVtbk51bWJlckNsYXNzTmFtZSIsImNvbHMiXSwibWFwcGluZ3MiOiJBQUFBLHdFQUF3RTs7Ozs7Ozs7Ozs7O0lBRzNEQSx1QkFBdUI7ZUFBdkJBOztJQUtBQyw4QkFBOEI7ZUFBOUJBOztJQUhBQyw0QkFBNEI7ZUFBNUJBOztJQUNBQyxxQ0FBcUM7ZUFBckNBOztJQUZBQyxvQ0FBb0M7ZUFBcENBOztJQUdBQywyQkFBMkI7ZUFBM0JBOztJQUxBQywwQkFBMEI7ZUFBMUJBOztJQVFBQyx3QkFBd0I7ZUFBeEJBOzs7QUFSTixNQUFNRCw2QkFBNkI7QUFDbkMsTUFBTU4sMEJBQTBCO0FBQ2hDLE1BQU1JLHVDQUF1QztBQUM3QyxNQUFNRiwrQkFBK0I7QUFDckMsTUFBTUMsd0NBQXdDO0FBQzlDLE1BQU1FLDhCQUE4QjtBQUNwQyxNQUFNSixpQ0FBaUM7QUFFdkMsTUFBTU0sMkJBQTJCLENBQUNDLE9BQWlCLENBQUMsTUFBTSxFQUFFQSxLQUFLLENBQUMifQ==

}),
73392: (function (__unused_webpack_module, exports) {
"use strict";
/*
 * WARNING
 *
 * This file is included in the `webflow.js` bundle, so
 * please refrain from adding dependencies that might
 * have an outsized impact on bundle size.
 *
 * Thank you!
 */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "createJsonFromBoundMedia", ({
    enumerable: true,
    get: function() {
        return createJsonFromBoundMedia;
    }
}));
const createJsonItemFromBoundMedia = (binding)=>{
    if (binding) {
        if (binding.metadata) {
            const { html, height, width, thumbnail_url: thumbnailUrl } = binding.metadata;
            return {
                url: binding.url,
                html,
                height,
                width,
                thumbnailUrl,
                type: 'video'
            };
        } else {
            return {
                url: binding.url,
                type: 'image'
            };
        }
    }
    return null;
};
const createJsonFromBoundMedia = (binding, nodeJsonData)=>{
    const group = nodeJsonData ? nodeJsonData.group : undefined;
    if (Array.isArray(binding)) {
        const items = binding.reduce((memo, subBinding)=>{
            const jsonItem = createJsonItemFromBoundMedia(subBinding);
            if (jsonItem) {
                memo.push(jsonItem);
            }
            return memo;
        }, []);
        return items.length > 0 ? {
            items,
            group
        } : null;
    }
    const jsonItem = createJsonItemFromBoundMedia(binding);
    return jsonItem !== null ? {
        items: [
            jsonItem
        ],
        group
    } : null;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBXQVJOSU5HXG4gKlxuICogVGhpcyBmaWxlIGlzIGluY2x1ZGVkIGluIHRoZSBgd2ViZmxvdy5qc2AgYnVuZGxlLCBzb1xuICogcGxlYXNlIHJlZnJhaW4gZnJvbSBhZGRpbmcgZGVwZW5kZW5jaWVzIHRoYXQgbWlnaHRcbiAqIGhhdmUgYW4gb3V0c2l6ZWQgaW1wYWN0IG9uIGJ1bmRsZSBzaXplLlxuICpcbiAqIFRoYW5rIHlvdSFcbiAqL1xuXG50eXBlIExpZ2h0Ym94SnNvbiA9IHtcbiAgaXRlbXM6IEFycmF5PExpZ2h0Ym94SnNvbkl0ZW0+O1xuICBncm91cDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbn07XG5cbnR5cGUgTGlnaHRib3hKc29uSXRlbSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgaHRtbD86IHN0cmluZztcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICB3aWR0aD86IG51bWJlcjtcbiAgdGh1bWJuYWlsVXJsPzogc3RyaW5nO1xufTtcblxuY29uc3QgY3JlYXRlSnNvbkl0ZW1Gcm9tQm91bmRNZWRpYSA9IChcbiAgYmluZGluZzogYW55XG4pOiBMaWdodGJveEpzb25JdGVtIHwgbnVsbCA9PiB7XG4gIGlmIChiaW5kaW5nKSB7XG4gICAgaWYgKGJpbmRpbmcubWV0YWRhdGEpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaHRtbCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgdGh1bWJuYWlsX3VybDogdGh1bWJuYWlsVXJsLFxuICAgICAgfSA9IGJpbmRpbmcubWV0YWRhdGE7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IGJpbmRpbmcudXJsLFxuICAgICAgICBodG1sLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICB0aHVtYm5haWxVcmwsXG4gICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge3VybDogYmluZGluZy51cmwsIHR5cGU6ICdpbWFnZSd9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVKc29uRnJvbUJvdW5kTWVkaWEgPSAoXG4gIGJpbmRpbmc6IGFueSxcbiAgbm9kZUpzb25EYXRhPzogTGlnaHRib3hKc29uIHwgbnVsbFxuKTogTGlnaHRib3hKc29uIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGdyb3VwID0gbm9kZUpzb25EYXRhID8gbm9kZUpzb25EYXRhLmdyb3VwIDogdW5kZWZpbmVkO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGJpbmRpbmcpKSB7XG4gICAgY29uc3QgaXRlbXMgPSBiaW5kaW5nLnJlZHVjZSgobWVtbywgc3ViQmluZGluZykgPT4ge1xuICAgICAgY29uc3QganNvbkl0ZW0gPSBjcmVhdGVKc29uSXRlbUZyb21Cb3VuZE1lZGlhKHN1YkJpbmRpbmcpO1xuICAgICAgaWYgKGpzb25JdGVtKSB7XG4gICAgICAgIG1lbW8ucHVzaChqc29uSXRlbSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gaXRlbXMubGVuZ3RoID4gMCA/IHtpdGVtcywgZ3JvdXB9IDogbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGpzb25JdGVtID0gY3JlYXRlSnNvbkl0ZW1Gcm9tQm91bmRNZWRpYShiaW5kaW5nKTtcbiAgcmV0dXJuIGpzb25JdGVtICE9PSBudWxsXG4gICAgPyB7XG4gICAgICAgIGl0ZW1zOiBbanNvbkl0ZW1dLFxuICAgICAgICBncm91cCxcbiAgICAgIH1cbiAgICA6IG51bGw7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUpzb25Gcm9tQm91bmRNZWRpYSIsImNyZWF0ZUpzb25JdGVtRnJvbUJvdW5kTWVkaWEiLCJiaW5kaW5nIiwibWV0YWRhdGEiLCJodG1sIiwiaGVpZ2h0Iiwid2lkdGgiLCJ0aHVtYm5haWxfdXJsIiwidGh1bWJuYWlsVXJsIiwidXJsIiwidHlwZSIsIm5vZGVKc29uRGF0YSIsImdyb3VwIiwidW5kZWZpbmVkIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbXMiLCJyZWR1Y2UiLCJtZW1vIiwic3ViQmluZGluZyIsImpzb25JdGVtIiwicHVzaCIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7Ozs7K0JBMENZQTs7O2VBQUFBOzs7QUExQmIsTUFBTUMsK0JBQStCLENBQ25DQztJQUVBLElBQUlBLFNBQVM7UUFDWCxJQUFJQSxRQUFRQyxRQUFRLEVBQUU7WUFDcEIsTUFBTSxFQUNKQyxJQUFJLEVBQ0pDLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxlQUFlQyxZQUFZLEVBQzVCLEdBQUdOLFFBQVFDLFFBQVE7WUFDcEIsT0FBTztnQkFDTE0sS0FBS1AsUUFBUU8sR0FBRztnQkFDaEJMO2dCQUNBQztnQkFDQUM7Z0JBQ0FFO2dCQUNBRSxNQUFNO1lBQ1I7UUFDRixPQUFPO1lBQ0wsT0FBTztnQkFBQ0QsS0FBS1AsUUFBUU8sR0FBRztnQkFBRUMsTUFBTTtZQUFPO1FBQ3pDO0lBQ0Y7SUFDQSxPQUFPO0FBQ1Q7QUFFTyxNQUFNViwyQkFBMkIsQ0FDdENFLFNBQ0FTO0lBRUEsTUFBTUMsUUFBUUQsZUFBZUEsYUFBYUMsS0FBSyxHQUFHQztJQUVsRCxJQUFJQyxNQUFNQyxPQUFPLENBQUNiLFVBQVU7UUFDMUIsTUFBTWMsUUFBUWQsUUFBUWUsTUFBTSxDQUFDLENBQUNDLE1BQU1DO1lBQ2xDLE1BQU1DLFdBQVduQiw2QkFBNkJrQjtZQUM5QyxJQUFJQyxVQUFVO2dCQUNaRixLQUFLRyxJQUFJLENBQUNEO1lBQ1o7WUFDQSxPQUFPRjtRQUNULEdBQUcsRUFBRTtRQUVMLE9BQU9GLE1BQU1NLE1BQU0sR0FBRyxJQUFJO1lBQUNOO1lBQU9KO1FBQUssSUFBSTtJQUM3QztJQUVBLE1BQU1RLFdBQVduQiw2QkFBNkJDO0lBQzlDLE9BQU9rQixhQUFhLE9BQ2hCO1FBQ0VKLE9BQU87WUFBQ0k7U0FBUztRQUNqQlI7SUFDRixJQUNBO0FBQ04ifQ==

}),
32949: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(31350), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vdXRpbHMvQ29tbWVyY2UnO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWMifQ==

}),
31350: (function (__unused_webpack_module, exports) {
"use strict";
// keep this file as simple as possible and avoid any additional imports, as this can increase published site bundle size a location

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    getProductOptionValueName: function() {
        return getProductOptionValueName;
    },
    simplifySkuValues: function() {
        return simplifySkuValues;
    }
});
const simplifySkuValues = (skuValues)=>skuValues.reduce((acc, pair)=>{
        acc[pair.property.id] = pair.value.id;
        return acc;
    }, {});
const getProductOptionValueName = (property, simplifiedSkuValues)=>{
    if (property.id && property.enum) {
        const propValueId = simplifiedSkuValues[property.id];
        const propValue = property.enum.find((value)=>value.id === propValueId);
        if (propValue && typeof propValue.name === 'string') {
            return propValue.name;
        }
    }
    return '';
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lcmNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGtlZXAgdGhpcyBmaWxlIGFzIHNpbXBsZSBhcyBwb3NzaWJsZSBhbmQgYXZvaWQgYW55IGFkZGl0aW9uYWwgaW1wb3J0cywgYXMgdGhpcyBjYW4gaW5jcmVhc2UgcHVibGlzaGVkIHNpdGUgYnVuZGxlIHNpemUgYSBsb2NhdGlvblxuXG5pbXBvcnQgdHlwZSB7UHJvcGVydHl9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvcmUnO1xuXG50eXBlIFNpbXBsaWZpZWRTa3VWYWx1ZXMgPSB7XG4gIFtwcm9wZXJ0eUlkOiBzdHJpbmddOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3Qgc2ltcGxpZnlTa3VWYWx1ZXMgPSAoXG4gIHNrdVZhbHVlczogQXJyYXk8e1xuICAgIHByb3BlcnR5OiB7XG4gICAgICBpZDogc3RyaW5nO1xuICAgIH07XG4gICAgdmFsdWU6IHtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgfTtcbiAgfT5cbik6IFNpbXBsaWZpZWRTa3VWYWx1ZXMgPT5cbiAgc2t1VmFsdWVzLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PigoYWNjLCBwYWlyKSA9PiB7XG4gICAgYWNjW3BhaXIucHJvcGVydHkuaWRdID0gcGFpci52YWx1ZS5pZDtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0T3B0aW9uVmFsdWVOYW1lID0gKFxuICBwcm9wZXJ0eTogUHJvcGVydHksXG4gIHNpbXBsaWZpZWRTa3VWYWx1ZXM6IFNpbXBsaWZpZWRTa3VWYWx1ZXNcbik6IHN0cmluZyA9PiB7XG4gIGlmIChwcm9wZXJ0eS5pZCAmJiBwcm9wZXJ0eS5lbnVtKSB7XG4gICAgY29uc3QgcHJvcFZhbHVlSWQgPSBzaW1wbGlmaWVkU2t1VmFsdWVzW3Byb3BlcnR5LmlkXTtcbiAgICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wZXJ0eS5lbnVtLmZpbmQoKHZhbHVlKSA9PiB2YWx1ZS5pZCA9PT0gcHJvcFZhbHVlSWQpO1xuICAgIGlmIChwcm9wVmFsdWUgJiYgdHlwZW9mIHByb3BWYWx1ZS5uYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHByb3BWYWx1ZS5uYW1lO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59O1xuIl0sIm5hbWVzIjpbImdldFByb2R1Y3RPcHRpb25WYWx1ZU5hbWUiLCJzaW1wbGlmeVNrdVZhbHVlcyIsInNrdVZhbHVlcyIsInJlZHVjZSIsImFjYyIsInBhaXIiLCJwcm9wZXJ0eSIsImlkIiwidmFsdWUiLCJzaW1wbGlmaWVkU2t1VmFsdWVzIiwiZW51bSIsInByb3BWYWx1ZUlkIiwicHJvcFZhbHVlIiwiZmluZCIsIm5hbWUiXSwibWFwcGluZ3MiOiJBQUFBLG9JQUFvSTs7Ozs7Ozs7Ozs7O0lBdUJ2SEEseUJBQXlCO2VBQXpCQTs7SUFmQUMsaUJBQWlCO2VBQWpCQTs7O0FBQU4sTUFBTUEsb0JBQW9CLENBQy9CQyxZQVNBQSxVQUFVQyxNQUFNLENBQXNCLENBQUNDLEtBQUtDO1FBQzFDRCxHQUFHLENBQUNDLEtBQUtDLFFBQVEsQ0FBQ0MsRUFBRSxDQUFDLEdBQUdGLEtBQUtHLEtBQUssQ0FBQ0QsRUFBRTtRQUNyQyxPQUFPSDtJQUNULEdBQUcsQ0FBQztBQUVDLE1BQU1KLDRCQUE0QixDQUN2Q00sVUFDQUc7SUFFQSxJQUFJSCxTQUFTQyxFQUFFLElBQUlELFNBQVNJLElBQUksRUFBRTtRQUNoQyxNQUFNQyxjQUFjRixtQkFBbUIsQ0FBQ0gsU0FBU0MsRUFBRSxDQUFDO1FBQ3BELE1BQU1LLFlBQVlOLFNBQVNJLElBQUksQ0FBQ0csSUFBSSxDQUFDLENBQUNMLFFBQVVBLE1BQU1ELEVBQUUsS0FBS0k7UUFDN0QsSUFBSUMsYUFBYSxPQUFPQSxVQUFVRSxJQUFJLEtBQUssVUFBVTtZQUNuRCxPQUFPRixVQUFVRSxJQUFJO1FBQ3ZCO0lBQ0Y7SUFDQSxPQUFPO0FBQ1QifQ==

}),
34206: (function (__unused_webpack_module, exports) {
"use strict";
// Ecommerce data source definition uses this as the externalKey of the Products
// binding context type, while CommerceAddToCartWrapper uses this in its
// BindingContext Atom constraint.

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ORDER_ITEMS_BINDING_CONTEXT_EXTERNAL_KEY: function() {
        return ORDER_ITEMS_BINDING_CONTEXT_EXTERNAL_KEY;
    },
    PRODUCTS_BINDING_CONTEXT_EXTERNAL_KEY: function() {
        return PRODUCTS_BINDING_CONTEXT_EXTERNAL_KEY;
    }
});
const PRODUCTS_BINDING_CONTEXT_EXTERNAL_KEY = 'commerce-products-type';
const ORDER_ITEMS_BINDING_CONTEXT_EXTERNAL_KEY = 'commerce-order-items-type';

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJpbmRpbmdDb250ZXh0Q29uc3RhbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEVjb21tZXJjZSBkYXRhIHNvdXJjZSBkZWZpbml0aW9uIHVzZXMgdGhpcyBhcyB0aGUgZXh0ZXJuYWxLZXkgb2YgdGhlIFByb2R1Y3RzXG4vLyBiaW5kaW5nIGNvbnRleHQgdHlwZSwgd2hpbGUgQ29tbWVyY2VBZGRUb0NhcnRXcmFwcGVyIHVzZXMgdGhpcyBpbiBpdHNcbi8vIEJpbmRpbmdDb250ZXh0IEF0b20gY29uc3RyYWludC5cbmV4cG9ydCBjb25zdCBQUk9EVUNUU19CSU5ESU5HX0NPTlRFWFRfRVhURVJOQUxfS0VZID0gJ2NvbW1lcmNlLXByb2R1Y3RzLXR5cGUnO1xuXG4vLyBFY29tbWVyY2UgZGF0YSBzb3VyY2UgZGVmaW5pdGlvbiB1c2VzIHRoaXMgYXMgdGhlIGV4dGVybmFsS2V5IG9mIHRoZSBPcmRlciBJdGVtc1xuLy8gYmluZGluZyBjb250ZXh0IHR5cGUuXG5leHBvcnQgY29uc3QgT1JERVJfSVRFTVNfQklORElOR19DT05URVhUX0VYVEVSTkFMX0tFWSA9XG4gICdjb21tZXJjZS1vcmRlci1pdGVtcy10eXBlJztcbiJdLCJuYW1lcyI6WyJPUkRFUl9JVEVNU19CSU5ESU5HX0NPTlRFWFRfRVhURVJOQUxfS0VZIiwiUFJPRFVDVFNfQklORElOR19DT05URVhUX0VYVEVSTkFMX0tFWSJdLCJtYXBwaW5ncyI6IkFBQUEsZ0ZBQWdGO0FBQ2hGLHdFQUF3RTtBQUN4RSxrQ0FBa0M7Ozs7Ozs7Ozs7OztJQUtyQkEsd0NBQXdDO2VBQXhDQTs7SUFKQUMscUNBQXFDO2VBQXJDQTs7O0FBQU4sTUFBTUEsd0NBQXdDO0FBSTlDLE1BQU1ELDJDQUNYIn0=

}),
10873: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ACTIVE_STRIPE_SUBSCRIPTION_STATUSES: function() {
        return ACTIVE_STRIPE_SUBSCRIPTION_STATUSES;
    },
    ADVANCED_PRODUCT_TYPE: function() {
        return ADVANCED_PRODUCT_TYPE;
    },
    BILLING_METHOD_TYPES: function() {
        return BILLING_METHOD_TYPES;
    },
    CSV_CURRENCY_TEMPLATE: function() {
        return CSV_CURRENCY_TEMPLATE;
    },
    CSV_INTEGRATION_CURRENCY_TEMPLATE: function() {
        return CSV_INTEGRATION_CURRENCY_TEMPLATE;
    },
    DEFAULT_PRICE_TEMPLATE_VALUE: function() {
        return DEFAULT_PRICE_TEMPLATE_VALUE;
    },
    DEFAULT_PRODUCT_TYPE_ID: function() {
        return DEFAULT_PRODUCT_TYPE_ID;
    },
    DEFAULT_TAX_CATEGORY: function() {
        return DEFAULT_TAX_CATEGORY;
    },
    DIGITAL_PRODUCT_TYPE: function() {
        return DIGITAL_PRODUCT_TYPE;
    },
    DISCOUNTS_CSV_IMPORT_EXPORT_COLUMNS: function() {
        return DISCOUNTS_CSV_IMPORT_EXPORT_COLUMNS;
    },
    DISCOUNT_CODE_MAX_LENGTH: function() {
        return DISCOUNT_CODE_MAX_LENGTH;
    },
    DOWNLOAD_FILES_EDITABLE_FIELDS: function() {
        return DOWNLOAD_FILES_EDITABLE_FIELDS;
    },
    DOWNLOAD_FILES_FAKE_DATA: function() {
        return DOWNLOAD_FILES_FAKE_DATA;
    },
    DOWNLOAD_FILES_KEY_PATH: function() {
        return DOWNLOAD_FILES_KEY_PATH;
    },
    ECOMMERCE_PROVIDER_NAME_ENUM: function() {
        return ECOMMERCE_PROVIDER_NAME_ENUM;
    },
    INFINITE_INVENTORY: function() {
        return INFINITE_INVENTORY;
    },
    INVENTORY_TYPE_FINITE: function() {
        return INVENTORY_TYPE_FINITE;
    },
    INVENTORY_TYPE_INFINITE: function() {
        return INVENTORY_TYPE_INFINITE;
    },
    MAX_MEMBERSHIP_PRODUCTS: function() {
        return MAX_MEMBERSHIP_PRODUCTS;
    },
    MAX_PRODUCT_DIMENSION: function() {
        return MAX_PRODUCT_DIMENSION;
    },
    MAX_SEARCH_LIMIT: function() {
        return MAX_SEARCH_LIMIT;
    },
    MAX_TOTAL_ORDER_PRICE: function() {
        return MAX_TOTAL_ORDER_PRICE;
    },
    MEMBERSHIP_PRODUCT_TYPE: function() {
        return MEMBERSHIP_PRODUCT_TYPE;
    },
    ORDER_ID_RE: function() {
        return ORDER_ID_RE;
    },
    ORDER_ITEMS_BINDING_CONTEXT_EXTERNAL_KEY: function() {
        return _bindingContextConstants.ORDER_ITEMS_BINDING_CONTEXT_EXTERNAL_KEY;
    },
    ORDER_SORT_MODES: function() {
        return ORDER_SORT_MODES;
    },
    PHYSICAL_PRODUCT_TYPE: function() {
        return PHYSICAL_PRODUCT_TYPE;
    },
    PRICE_TEMPLATE_AMOUNT: function() {
        return PRICE_TEMPLATE_AMOUNT;
    },
    PRICE_TEMPLATE_CURRENCY_CODE: function() {
        return PRICE_TEMPLATE_CURRENCY_CODE;
    },
    PRICE_TEMPLATE_CURRENCY_SYMBOL: function() {
        return PRICE_TEMPLATE_CURRENCY_SYMBOL;
    },
    PRICE_TEMPLATE_OPTIONS: function() {
        return PRICE_TEMPLATE_OPTIONS;
    },
    PRODUCTS_BINDING_CONTEXT_EXTERNAL_KEY: function() {
        return _bindingContextConstants.PRODUCTS_BINDING_CONTEXT_EXTERNAL_KEY;
    },
    PRODUCT_TYPE_HELP_TEXT: function() {
        return PRODUCT_TYPE_HELP_TEXT;
    },
    REQUIRED_DISCOUNT_IMPORT_FIELDS: function() {
        return REQUIRED_DISCOUNT_IMPORT_FIELDS;
    },
    SERVICE_PRODUCT_TYPE: function() {
        return SERVICE_PRODUCT_TYPE;
    },
    SHIPPING_METHODS: function() {
        return SHIPPING_METHODS;
    },
    STRIPE_DISCONNECT_SUBSCRIPTIONS_ERROR_MESSAGE: function() {
        return STRIPE_DISCONNECT_SUBSCRIPTIONS_ERROR_MESSAGE;
    },
    STRIPE_SUBSCRIPTION_STATUS_ENUM: function() {
        return STRIPE_SUBSCRIPTION_STATUS_ENUM;
    },
    SUBSCRIPTION_INTERVAL_ENUM: function() {
        return SUBSCRIPTION_INTERVAL_ENUM;
    },
    SUBSCRIPTION_SORT_MODES: function() {
        return SUBSCRIPTION_SORT_MODES;
    },
    SUBSCRIPTION_STATUS_ENUM: function() {
        return SUBSCRIPTION_STATUS_ENUM;
    },
    SUBSCRIPTION_STATUS_PRETTY_ENUM: function() {
        return SUBSCRIPTION_STATUS_PRETTY_ENUM;
    },
    TEMPLATE_PRODUCT_TYPES: function() {
        return TEMPLATE_PRODUCT_TYPES;
    },
    paypalCurrencyList: function() {
        return _paypalCurrencyList.paypalCurrencyList;
    },
    stripeCurrencyList: function() {
        return _stripeCurrencyList.stripeCurrencyList;
    }
});
const _camelCase = /*#__PURE__*/ _interop_require_default(__webpack_require__(56034));
_export_star(__webpack_require__(41158), exports);
const _bindingContextConstants = __webpack_require__(34206);
const _paypalCurrencyList = __webpack_require__(25766);
const _stripeCurrencyList = __webpack_require__(37693);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const ORDER_ID_RE = /^[0-9a-f]{5,}$/;
const SHIPPING_METHOD_FLAT = 'flat-rate';
const SHIPPING_METHOD_PERCENTAGE = 'percentage';
const SHIPPING_METHOD_PRICE = 'price';
const SHIPPING_METHOD_QUANTITY = 'quantity';
const SHIPPING_METHOD_WEIGHT = 'weight';
const SHIPPING_METHODS = Object.freeze({
    FLAT: SHIPPING_METHOD_FLAT,
    PERCENTAGE: SHIPPING_METHOD_PERCENTAGE,
    PRICE: SHIPPING_METHOD_PRICE,
    QUANTITY: SHIPPING_METHOD_QUANTITY,
    WEIGHT: SHIPPING_METHOD_WEIGHT
});
const DEFAULT_TAX_CATEGORY = 'standard-taxable';
const INVENTORY_TYPE_FINITE = 'finite';
const INVENTORY_TYPE_INFINITE = 'infinite';
const INFINITE_INVENTORY = {
    inventoryType: INVENTORY_TYPE_INFINITE,
    quantity: 0
};
const MAX_TOTAL_ORDER_PRICE = 99999999;
const MAX_PRODUCT_DIMENSION = 9000000000000000;
const MAX_MEMBERSHIP_PRODUCTS = 20;
const MAX_SEARCH_LIMIT = 100;
function _withDerivedValue({ label, type = 'PlainText', path = (0, _camelCase.default)(label), options = {
    readOnly: false,
    isNotAddable: false
} }) {
    return {
        label,
        type,
        ...options,
        value: JSON.stringify({
            path,
            type
        })
    };
}
const PRICE_TEMPLATE_CURRENCY_SYMBOL = _withDerivedValue({
    label: 'Currency symbol',
    path: 'symbol'
});
const PRICE_TEMPLATE_AMOUNT = _withDerivedValue({
    label: 'Amount',
    type: 'CommercePrice',
    options: {
        readOnly: true,
        isNotAddable: true
    }
});
const PRICE_TEMPLATE_CURRENCY_CODE = _withDerivedValue({
    label: 'Currency code'
});
const PRICE_TEMPLATE_OPTIONS = [
    PRICE_TEMPLATE_CURRENCY_SYMBOL,
    PRICE_TEMPLATE_AMOUNT,
    PRICE_TEMPLATE_CURRENCY_CODE
];
const _intoToken = (option)=>`{{wf ${option.value} }}`;
const DEFAULT_PRICE_TEMPLATE_VALUE = [
    _intoToken(PRICE_TEMPLATE_CURRENCY_SYMBOL),
    ' ',
    _intoToken(PRICE_TEMPLATE_AMOUNT),
    ' ',
    _intoToken(PRICE_TEMPLATE_CURRENCY_CODE)
].join('');
const CSV_CURRENCY_TEMPLATE = [
    _intoToken(PRICE_TEMPLATE_CURRENCY_SYMBOL),
    _intoToken(PRICE_TEMPLATE_AMOUNT)
].join('');
const CSV_INTEGRATION_CURRENCY_TEMPLATE = [
    _intoToken(PRICE_TEMPLATE_AMOUNT),
    ' ',
    _intoToken(PRICE_TEMPLATE_CURRENCY_CODE)
].join('');
const DOWNLOAD_FILES_FAKE_DATA = [
    {
        id: '5d8fcb6d94dd1853060fb3b3',
        name: 'The modern web design process - Webflow Ebook.pdf',
        url: 'https://assets-global.website-files.com/5cf6b7202bf8199f50d43e6c/5e9dd8a680b972888929747b_The%20modern%20web%20design%20process%20-%20Webflow%20Ebook.pdf'
    },
    {
        id: '5d8fcb6d94dd1853060fb3b4',
        name: 'The freelance web designers guide - Webflow Ebook.pdf',
        url: 'https://assets-global.website-files.com/5cf6b7202bf8199f50d43e6c/5e9dd8e6abe52b33243a22cf_The%20freelance%20web%20designer%E2%80%99s%20guide%20-%20Webflow%20Ebook.pdf'
    }
];
const DOWNLOAD_FILES_KEY_PATH = 'download-files';
const DOWNLOAD_FILES_EDITABLE_FIELDS = {
    name: true,
    url: true
};
const SUBSCRIPTION_INTERVAL_ENUM = [
    'day',
    'week',
    'month',
    'year'
];
const SUBSCRIPTION_STATUS_ENUM = {
    active: 'active',
    pastdue: 'pastdue',
    unpaid: 'unpaid',
    canceled: 'canceled',
    cancelPending: 'cancelPending',
    incomplete: 'incomplete',
    incompleteExpired: 'incompleteExpired',
    trialing: 'trialing',
    unknown: `unknown`
};
const SUBSCRIPTION_STATUS_PRETTY_ENUM = {
    active: 'active',
    pastdue: 'pastdue',
    unpaid: 'unpaid',
    canceled: 'canceled',
    cancelPending: 'cancelPending',
    incomplete: 'incomplete',
    incompleteExpired: 'incompleteExpired',
    trialing: 'in trial',
    unknown: `unknown`
};
const STRIPE_SUBSCRIPTION_STATUS_ENUM = {
    active: 'active',
    past_due: 'past_due',
    unpaid: 'unpaid',
    canceled: 'canceled',
    incomplete: 'incomplete',
    incomplete_expired: 'incomplete_expired',
    trialing: 'trialing'
};
const ACTIVE_STRIPE_SUBSCRIPTION_STATUSES = [
    STRIPE_SUBSCRIPTION_STATUS_ENUM.active,
    STRIPE_SUBSCRIPTION_STATUS_ENUM.past_due,
    STRIPE_SUBSCRIPTION_STATUS_ENUM.trialing
];
const ECOMMERCE_PROVIDER_NAME_ENUM = {
    stripe: 'stripe'
};
const BILLING_METHOD_TYPES = {
    subscription: 'subscription',
    oneTime: 'one-time'
};
const DEFAULT_PRODUCT_TYPE_PRODUCT_FIELDS = [
    {
        fieldSlug: 'name',
        required: true
    },
    {
        fieldSlug: 'slug',
        required: true
    },
    {
        fieldSlug: 'sku-properties',
        required: false
    },
    {
        fieldSlug: 'category',
        required: false
    },
    {
        fieldSlug: 'description',
        required: false
    },
    {
        fieldSlug: 'tax-category',
        required: false
    },
    {
        fieldSlug: 'default-sku',
        required: false
    },
    {
        fieldSlug: 'ec-product-type',
        required: false
    },
    {
        fieldSlug: 'options',
        required: false
    }
];
const DEFAULT_PRODUCT_TYPE_SKU_FIELDS = [
    {
        fieldSlug: 'sku-values',
        required: false
    },
    {
        fieldSlug: 'product',
        required: false
    },
    {
        fieldSlug: 'main-image',
        required: false
    },
    {
        fieldSlug: 'more-images',
        required: false
    },
    {
        fieldSlug: 'price',
        required: true
    },
    {
        fieldSlug: 'compare-at-price',
        required: false
    },
    {
        fieldSlug: 'ec-sku-subscription-plan',
        required: false
    },
    {
        fieldSlug: 'sku',
        required: false
    },
    {
        fieldSlug: 'ec-sku-billing-method',
        required: false
    },
    {
        fieldSlug: 'track-inventory',
        required: false
    },
    {
        fieldSlug: 'quantity',
        required: false
    }
];
const PHYSICAL_PRODUCT_TYPE = {
    name: 'Physical',
    id: 'ff42fee0113744f693a764e3431a9cc2',
    fields: {
        product: [
            ...DEFAULT_PRODUCT_TYPE_PRODUCT_FIELDS,
            {
                fieldSlug: 'shippable',
                required: false
            }
        ],
        sku: [
            ...DEFAULT_PRODUCT_TYPE_SKU_FIELDS,
            {
                fieldSlug: 'weight',
                required: false
            },
            {
                fieldSlug: 'width',
                required: false
            },
            {
                fieldSlug: 'height',
                required: false
            },
            {
                fieldSlug: 'length',
                required: false
            }
        ]
    }
};
const DIGITAL_PRODUCT_TYPE = {
    name: 'Digital',
    id: 'f22027db68002190aef89a4a2b7ac8a1',
    fields: {
        product: [
            ...DEFAULT_PRODUCT_TYPE_PRODUCT_FIELDS
        ],
        sku: [
            ...DEFAULT_PRODUCT_TYPE_SKU_FIELDS,
            {
                fieldSlug: 'download-files',
                required: true
            }
        ]
    }
};
const SERVICE_PRODUCT_TYPE = {
    name: 'Service',
    id: 'c599e43b1a1c34d5a323aedf75d3adf6',
    fields: {
        product: [
            ...DEFAULT_PRODUCT_TYPE_PRODUCT_FIELDS
        ],
        sku: [
            ...DEFAULT_PRODUCT_TYPE_SKU_FIELDS
        ]
    }
};
const MEMBERSHIP_PRODUCT_TYPE = {
    name: 'Membership',
    id: 'e348fd487d0102946c9179d2a94bb613',
    fields: {
        product: [
            ...DEFAULT_PRODUCT_TYPE_PRODUCT_FIELDS,
            {
                fieldSlug: 'shippable',
                required: false
            }
        ],
        sku: [
            ...DEFAULT_PRODUCT_TYPE_SKU_FIELDS,
            {
                fieldSlug: 'weight',
                required: false
            },
            {
                fieldSlug: 'width',
                required: false
            },
            {
                fieldSlug: 'height',
                required: false
            },
            {
                fieldSlug: 'length',
                required: false
            },
            {
                fieldSlug: 'download-files',
                required: false
            },
            {
                fieldSlug: 'include-downloads',
                required: false
            }
        ]
    }
};
const ADVANCED_PRODUCT_TYPE = {
    name: 'Advanced',
    id: 'b6ccc1830db4b1babeb06a9ac5f6dd76'
};
const TEMPLATE_PRODUCT_TYPES = [
    PHYSICAL_PRODUCT_TYPE,
    DIGITAL_PRODUCT_TYPE,
    SERVICE_PRODUCT_TYPE,
    MEMBERSHIP_PRODUCT_TYPE,
    ADVANCED_PRODUCT_TYPE
];
// only used to get type ProductTypeId
const templateProductTypeIds = TEMPLATE_PRODUCT_TYPES.reduce((ids, t)=>{
    ids[t.id] = '';
    return ids;
}, {});
const PRODUCT_TYPE_HELP_TEXT = {
    [PHYSICAL_PRODUCT_TYPE.id]: 'Physical products are shipped to the customer (e.g., merchandise, apparel).',
    [DIGITAL_PRODUCT_TYPE.id]: 'Digital products are immediately downloadable by the customer after checkout (e.g., audio files, ebooks).',
    [SERVICE_PRODUCT_TYPE.id]: 'Service products do not require a shipping address during checkout (e.g., classes, consultations).',
    [MEMBERSHIP_PRODUCT_TYPE.id]: 'Membership products give users access to gated content through recurring or one-time payment (e.g., subscriptions, one-time membership fee). Membership products require a user login and can only be purchased once.',
    [ADVANCED_PRODUCT_TYPE.id]: 'Advanced products provide all available customizable options.'
};
const DEFAULT_PRODUCT_TYPE_ID = PHYSICAL_PRODUCT_TYPE.id;
const DISCOUNT_CODE_MAX_LENGTH = 255;
const DISCOUNTS_CSV_IMPORT_EXPORT_COLUMNS = [
    'name',
    'code',
    'notes',
    'type',
    'percentOff',
    'amountOff',
    'validOn',
    'expiresOn',
    'enabled',
    'orderMinimum',
    // archived is disabled until we have UI for it
    // 'archived',
    'totalUsage',
    'maxAmountOff',
    // NOTE: for dot-notation fields to be properly expanded
    // during import, you need to add the camel-case flattened property to
    // the 'KEYS_TO_EXPAND' variable in `entrypoints/server/lib/ecommerce/csvImport/discountCsvImport.js`
    // Example: 'usage.limit.total' -> 'usageLimitTotal'
    'usage.limit.total',
    'usage.limit.customer',
    'appliesTo.scope',
    'appliesTo.filter',
    'appliesTo.applyOnce'
];
const REQUIRED_DISCOUNT_IMPORT_FIELDS = [
    'name',
    'code',
    'type',
    [
        'percentOff',
        'amountOff'
    ]
];
const STRIPE_DISCONNECT_SUBSCRIPTIONS_ERROR_MESSAGE = 'Stripe disconnect attempted with non-canceled subscriptions';
const ORDER_SORT_MODES = Object.freeze({
    '-count': '-purchasedItemsCount -_id',
    count: 'purchasedItemsCount _id',
    '-name': '-customerInfo.fullName -_id',
    name: 'customerInfo.fullName _id',
    '-orderid': '-orderId',
    orderid: 'orderId',
    '-paid': '-customerPaid.unit -customerPaid.value -_id',
    paid: 'customerPaid.unit customerPaid.value _id',
    '-status': '-statusCode -_id',
    status: 'statusCode _id',
    '-time': '-acceptedOn -_id',
    time: 'acceptedOn _id'
});
const SUBSCRIPTION_SORT_MODES = Object.freeze({
    '-lastBilled': '-lastInvoiced -_id',
    lastBilled: 'lastInvoiced _id',
    '-nextBilling': '-paidUntil -_id',
    nextBilling: 'paidUntil _id',
    '-orderid': '-orderId',
    orderid: 'orderId',
    '-purchased': '-subCreatedOn -_id',
    purchased: 'subCreatedOn _id',
    '-status': '-status -_id',
    status: 'status _id',
    '-trialing': '-trialing -_id',
    trialing: 'trialing _id'
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjYW1lbENhc2UgZnJvbSAnbG9kYXNoL2NhbWVsQ2FzZSc7XG5cbi8vIFJFR0VYRVNcbmV4cG9ydCBjb25zdCBPUkRFUl9JRF9SRSA9IC9eWzAtOWEtZl17NSx9JC87XG5cbi8vIEBUT0RPIC0gT25jZSB3ZSBleHRyYWN0IHRoZSBDb21tZXJjZSBwbHVnaW4gdG8gcGFja2FnZXMsIG1vdmUgYHBsdWdpbkNvbnN0YW50c2AgdGhlcmUuXG5leHBvcnQgKiBmcm9tICcuL3BsdWdpbkNvbnN0YW50cyc7XG5cbmV4cG9ydCB7XG4gIFBST0RVQ1RTX0JJTkRJTkdfQ09OVEVYVF9FWFRFUk5BTF9LRVksXG4gIE9SREVSX0lURU1TX0JJTkRJTkdfQ09OVEVYVF9FWFRFUk5BTF9LRVksXG59IGZyb20gJy4vYmluZGluZ0NvbnRleHRDb25zdGFudHMnO1xuZXhwb3J0IHtwYXlwYWxDdXJyZW5jeUxpc3R9IGZyb20gJy4vcGF5cGFsQ3VycmVuY3lMaXN0JztcbmV4cG9ydCB7c3RyaXBlQ3VycmVuY3lMaXN0fSBmcm9tICcuL3N0cmlwZUN1cnJlbmN5TGlzdCc7XG5cbmNvbnN0IFNISVBQSU5HX01FVEhPRF9GTEFUID0gJ2ZsYXQtcmF0ZSc7XG5jb25zdCBTSElQUElOR19NRVRIT0RfUEVSQ0VOVEFHRSA9ICdwZXJjZW50YWdlJztcbmNvbnN0IFNISVBQSU5HX01FVEhPRF9QUklDRSA9ICdwcmljZSc7XG5jb25zdCBTSElQUElOR19NRVRIT0RfUVVBTlRJVFkgPSAncXVhbnRpdHknO1xuY29uc3QgU0hJUFBJTkdfTUVUSE9EX1dFSUdIVCA9ICd3ZWlnaHQnO1xuXG5leHBvcnQgY29uc3QgU0hJUFBJTkdfTUVUSE9EUyA9IE9iamVjdC5mcmVlemUoe1xuICBGTEFUOiBTSElQUElOR19NRVRIT0RfRkxBVCxcbiAgUEVSQ0VOVEFHRTogU0hJUFBJTkdfTUVUSE9EX1BFUkNFTlRBR0UsXG4gIFBSSUNFOiBTSElQUElOR19NRVRIT0RfUFJJQ0UsXG4gIFFVQU5USVRZOiBTSElQUElOR19NRVRIT0RfUVVBTlRJVFksXG4gIFdFSUdIVDogU0hJUFBJTkdfTUVUSE9EX1dFSUdIVCxcbn0pO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9UQVhfQ0FURUdPUlkgPSAnc3RhbmRhcmQtdGF4YWJsZSc7XG5cbmV4cG9ydCBjb25zdCBJTlZFTlRPUllfVFlQRV9GSU5JVEUgPSAnZmluaXRlJztcbmV4cG9ydCBjb25zdCBJTlZFTlRPUllfVFlQRV9JTkZJTklURSA9ICdpbmZpbml0ZSc7XG5leHBvcnQgY29uc3QgSU5GSU5JVEVfSU5WRU5UT1JZID0ge1xuICBpbnZlbnRvcnlUeXBlOiBJTlZFTlRPUllfVFlQRV9JTkZJTklURSxcbiAgcXVhbnRpdHk6IDAsXG59IGFzIGNvbnN0O1xuXG4vLyBTdHJpcGUgbWF4aW11bSBjaGFyZ2UuIEZyb20gc3RyaXBlOiBUaGUgb25seSBsaW1pdCB0byB0aGUgbWF4aW11bSBhbW91bnQgeW91IGNhbiBjaGFyZ2UgYSBjdXN0b21lclxuLy8gaXMgYSB0ZWNobmljYWwgb25lLiBUaGUgYW1vdW50IHZhbHVlIHN1cHBvcnRzIHVwIHRvIGVpZ2h0IGRpZ2l0cyAoZS5nLiwgYSB2YWx1ZSBvZiA5OTk5OTk5OSBmb3IgYVxuLy8gVVNEIGNoYXJnZSBvZiAkOTk5LDk5OS45OSkuXG5leHBvcnQgY29uc3QgTUFYX1RPVEFMX09SREVSX1BSSUNFID0gOTk5OTk5OTk7XG5cbmV4cG9ydCBjb25zdCBNQVhfUFJPRFVDVF9ESU1FTlNJT04gPSA5MDAwMDAwMDAwMDAwMDAwO1xuXG5leHBvcnQgY29uc3QgTUFYX01FTUJFUlNISVBfUFJPRFVDVFMgPSAyMDtcblxuZXhwb3J0IGNvbnN0IE1BWF9TRUFSQ0hfTElNSVQgPSAxMDA7XG5cbnR5cGUgUHJpY2VUZW1wbGF0ZU9wdGlvbiA9IHtcbiAgbGFiZWw6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICByZWFkT25seT86IGJvb2xlYW47XG4gIGlzTm90QWRkYWJsZT86IGJvb2xlYW47XG59O1xuXG5mdW5jdGlvbiBfd2l0aERlcml2ZWRWYWx1ZSh7XG4gIGxhYmVsLFxuICB0eXBlID0gJ1BsYWluVGV4dCcsXG4gIHBhdGggPSBjYW1lbENhc2UobGFiZWwpLFxuXG4gIG9wdGlvbnMgPSB7XG4gICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgIGlzTm90QWRkYWJsZTogZmFsc2UsXG4gIH0sXG59OiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIHBhdGg/OiBzdHJpbmc7XG4gIG9wdGlvbnM/OiB7XG4gICAgcmVhZE9ubHk6IGJvb2xlYW47XG4gICAgaXNOb3RBZGRhYmxlOiBib29sZWFuO1xuICB9O1xufSkge1xuICByZXR1cm4ge1xuICAgIGxhYmVsLFxuICAgIHR5cGUsXG4gICAgLi4ub3B0aW9ucyxcbiAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoe3BhdGgsIHR5cGV9KSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBSSUNFX1RFTVBMQVRFX0NVUlJFTkNZX1NZTUJPTDogUHJpY2VUZW1wbGF0ZU9wdGlvbiA9XG4gIF93aXRoRGVyaXZlZFZhbHVlKHtcbiAgICBsYWJlbDogJ0N1cnJlbmN5IHN5bWJvbCcsXG4gICAgcGF0aDogJ3N5bWJvbCcsXG4gIH0pO1xuZXhwb3J0IGNvbnN0IFBSSUNFX1RFTVBMQVRFX0FNT1VOVDogUHJpY2VUZW1wbGF0ZU9wdGlvbiA9IF93aXRoRGVyaXZlZFZhbHVlKHtcbiAgbGFiZWw6ICdBbW91bnQnLFxuICB0eXBlOiAnQ29tbWVyY2VQcmljZScsXG4gIG9wdGlvbnM6IHtcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBpc05vdEFkZGFibGU6IHRydWUsXG4gIH0sXG59KTtcbmV4cG9ydCBjb25zdCBQUklDRV9URU1QTEFURV9DVVJSRU5DWV9DT0RFOiBQcmljZVRlbXBsYXRlT3B0aW9uID1cbiAgX3dpdGhEZXJpdmVkVmFsdWUoe1xuICAgIGxhYmVsOiAnQ3VycmVuY3kgY29kZScsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgUFJJQ0VfVEVNUExBVEVfT1BUSU9OUzogUHJpY2VUZW1wbGF0ZU9wdGlvbltdID0gW1xuICBQUklDRV9URU1QTEFURV9DVVJSRU5DWV9TWU1CT0wsXG4gIFBSSUNFX1RFTVBMQVRFX0FNT1VOVCxcbiAgUFJJQ0VfVEVNUExBVEVfQ1VSUkVOQ1lfQ09ERSxcbl07XG5cbmNvbnN0IF9pbnRvVG9rZW4gPSAob3B0aW9uOiBQcmljZVRlbXBsYXRlT3B0aW9uKSA9PiBge3t3ZiAke29wdGlvbi52YWx1ZX0gfX1gO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9QUklDRV9URU1QTEFURV9WQUxVRSA9IFtcbiAgX2ludG9Ub2tlbihQUklDRV9URU1QTEFURV9DVVJSRU5DWV9TWU1CT0wpLFxuICAnICcsXG4gIF9pbnRvVG9rZW4oUFJJQ0VfVEVNUExBVEVfQU1PVU5UKSxcbiAgJyAnLFxuICBfaW50b1Rva2VuKFBSSUNFX1RFTVBMQVRFX0NVUlJFTkNZX0NPREUpLFxuXS5qb2luKCcnKTtcblxuZXhwb3J0IGNvbnN0IENTVl9DVVJSRU5DWV9URU1QTEFURSA9IFtcbiAgX2ludG9Ub2tlbihQUklDRV9URU1QTEFURV9DVVJSRU5DWV9TWU1CT0wpLFxuICBfaW50b1Rva2VuKFBSSUNFX1RFTVBMQVRFX0FNT1VOVCksXG5dLmpvaW4oJycpO1xuXG5leHBvcnQgY29uc3QgQ1NWX0lOVEVHUkFUSU9OX0NVUlJFTkNZX1RFTVBMQVRFID0gW1xuICBfaW50b1Rva2VuKFBSSUNFX1RFTVBMQVRFX0FNT1VOVCksXG4gICcgJyxcbiAgX2ludG9Ub2tlbihQUklDRV9URU1QTEFURV9DVVJSRU5DWV9DT0RFKSxcbl0uam9pbignJyk7XG5cbmV4cG9ydCBjb25zdCBET1dOTE9BRF9GSUxFU19GQUtFX0RBVEEgPSBbXG4gIHtcbiAgICBpZDogJzVkOGZjYjZkOTRkZDE4NTMwNjBmYjNiMycsXG4gICAgbmFtZTogJ1RoZSBtb2Rlcm4gd2ViIGRlc2lnbiBwcm9jZXNzIC0gV2ViZmxvdyBFYm9vay5wZGYnLFxuICAgIHVybDogJ2h0dHBzOi8vYXNzZXRzLWdsb2JhbC53ZWJzaXRlLWZpbGVzLmNvbS81Y2Y2YjcyMDJiZjgxOTlmNTBkNDNlNmMvNWU5ZGQ4YTY4MGI5NzI4ODg5Mjk3NDdiX1RoZSUyMG1vZGVybiUyMHdlYiUyMGRlc2lnbiUyMHByb2Nlc3MlMjAtJTIwV2ViZmxvdyUyMEVib29rLnBkZicsXG4gIH0sXG4gIHtcbiAgICBpZDogJzVkOGZjYjZkOTRkZDE4NTMwNjBmYjNiNCcsXG4gICAgbmFtZTogJ1RoZSBmcmVlbGFuY2Ugd2ViIGRlc2lnbmVycyBndWlkZSAtIFdlYmZsb3cgRWJvb2sucGRmJyxcbiAgICB1cmw6ICdodHRwczovL2Fzc2V0cy1nbG9iYWwud2Vic2l0ZS1maWxlcy5jb20vNWNmNmI3MjAyYmY4MTk5ZjUwZDQzZTZjLzVlOWRkOGU2YWJlNTJiMzMyNDNhMjJjZl9UaGUlMjBmcmVlbGFuY2UlMjB3ZWIlMjBkZXNpZ25lciVFMiU4MCU5OXMlMjBndWlkZSUyMC0lMjBXZWJmbG93JTIwRWJvb2sucGRmJyxcbiAgfSxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBET1dOTE9BRF9GSUxFU19LRVlfUEFUSCA9ICdkb3dubG9hZC1maWxlcyc7XG5leHBvcnQgY29uc3QgRE9XTkxPQURfRklMRVNfRURJVEFCTEVfRklFTERTID0ge1xuICBuYW1lOiB0cnVlLFxuICB1cmw6IHRydWUsXG59IGFzIGNvbnN0O1xuXG4vLyBTdWJzY3JpcHRpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBTVUJTQ1JJUFRJT05fSU5URVJWQUxfRU5VTSA9IFtcbiAgJ2RheScsXG4gICd3ZWVrJyxcbiAgJ21vbnRoJyxcbiAgJ3llYXInLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFNVQlNDUklQVElPTl9TVEFUVVNfRU5VTSA9IHtcbiAgYWN0aXZlOiAnYWN0aXZlJyxcbiAgcGFzdGR1ZTogJ3Bhc3RkdWUnLFxuICB1bnBhaWQ6ICd1bnBhaWQnLFxuICBjYW5jZWxlZDogJ2NhbmNlbGVkJyxcbiAgY2FuY2VsUGVuZGluZzogJ2NhbmNlbFBlbmRpbmcnLFxuICBpbmNvbXBsZXRlOiAnaW5jb21wbGV0ZScsXG4gIGluY29tcGxldGVFeHBpcmVkOiAnaW5jb21wbGV0ZUV4cGlyZWQnLFxuICB0cmlhbGluZzogJ3RyaWFsaW5nJyxcbiAgdW5rbm93bjogYHVua25vd25gLFxufSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBTVUJTQ1JJUFRJT05fU1RBVFVTX1BSRVRUWV9FTlVNID0ge1xuICBhY3RpdmU6ICdhY3RpdmUnLFxuICBwYXN0ZHVlOiAncGFzdGR1ZScsXG4gIHVucGFpZDogJ3VucGFpZCcsXG4gIGNhbmNlbGVkOiAnY2FuY2VsZWQnLFxuICBjYW5jZWxQZW5kaW5nOiAnY2FuY2VsUGVuZGluZycsXG4gIGluY29tcGxldGU6ICdpbmNvbXBsZXRlJyxcbiAgaW5jb21wbGV0ZUV4cGlyZWQ6ICdpbmNvbXBsZXRlRXhwaXJlZCcsXG4gIHRyaWFsaW5nOiAnaW4gdHJpYWwnLFxuICB1bmtub3duOiBgdW5rbm93bmAsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgU1RSSVBFX1NVQlNDUklQVElPTl9TVEFUVVNfRU5VTSA9IHtcbiAgYWN0aXZlOiAnYWN0aXZlJyxcbiAgcGFzdF9kdWU6ICdwYXN0X2R1ZScsXG4gIHVucGFpZDogJ3VucGFpZCcsXG4gIGNhbmNlbGVkOiAnY2FuY2VsZWQnLFxuICBpbmNvbXBsZXRlOiAnaW5jb21wbGV0ZScsXG4gIGluY29tcGxldGVfZXhwaXJlZDogJ2luY29tcGxldGVfZXhwaXJlZCcsXG4gIHRyaWFsaW5nOiAndHJpYWxpbmcnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEFDVElWRV9TVFJJUEVfU1VCU0NSSVBUSU9OX1NUQVRVU0VTID0gW1xuICBTVFJJUEVfU1VCU0NSSVBUSU9OX1NUQVRVU19FTlVNLmFjdGl2ZSxcbiAgU1RSSVBFX1NVQlNDUklQVElPTl9TVEFUVVNfRU5VTS5wYXN0X2R1ZSxcbiAgU1RSSVBFX1NVQlNDUklQVElPTl9TVEFUVVNfRU5VTS50cmlhbGluZyxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBFQ09NTUVSQ0VfUFJPVklERVJfTkFNRV9FTlVNID0ge1xuICBzdHJpcGU6ICdzdHJpcGUnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEJJTExJTkdfTUVUSE9EX1RZUEVTID0ge1xuICBzdWJzY3JpcHRpb246ICdzdWJzY3JpcHRpb24nLFxuICBvbmVUaW1lOiAnb25lLXRpbWUnLFxufSBhcyBjb25zdDtcblxuLy8gUHJvZHVjdCBUeXBlc1xuXG5leHBvcnQgdHlwZSBQcm9kdWN0VHlwZUZpZWxkID0ge1xuICBmaWVsZFNsdWc6IHN0cmluZztcbiAgcmVxdWlyZWQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBQcm9kdWN0VHlwZVR5cGUgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgaWQ6IHN0cmluZztcbiAgZmllbGRzPzoge1xuICAgIHByb2R1Y3Q6IEFycmF5PFByb2R1Y3RUeXBlRmllbGQ+O1xuICAgIHNrdTogQXJyYXk8UHJvZHVjdFR5cGVGaWVsZD47XG4gIH07XG59O1xuXG5jb25zdCBERUZBVUxUX1BST0RVQ1RfVFlQRV9QUk9EVUNUX0ZJRUxEUyA9IFtcbiAge2ZpZWxkU2x1ZzogJ25hbWUnLCByZXF1aXJlZDogdHJ1ZX0sXG4gIHtmaWVsZFNsdWc6ICdzbHVnJywgcmVxdWlyZWQ6IHRydWV9LFxuICB7ZmllbGRTbHVnOiAnc2t1LXByb3BlcnRpZXMnLCByZXF1aXJlZDogZmFsc2V9LFxuICB7ZmllbGRTbHVnOiAnY2F0ZWdvcnknLCByZXF1aXJlZDogZmFsc2V9LFxuICB7ZmllbGRTbHVnOiAnZGVzY3JpcHRpb24nLCByZXF1aXJlZDogZmFsc2V9LFxuICB7ZmllbGRTbHVnOiAndGF4LWNhdGVnb3J5JywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAge2ZpZWxkU2x1ZzogJ2RlZmF1bHQtc2t1JywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAge2ZpZWxkU2x1ZzogJ2VjLXByb2R1Y3QtdHlwZScsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHtmaWVsZFNsdWc6ICdvcHRpb25zJywgcmVxdWlyZWQ6IGZhbHNlfSxcbl07XG5jb25zdCBERUZBVUxUX1BST0RVQ1RfVFlQRV9TS1VfRklFTERTID0gW1xuICB7ZmllbGRTbHVnOiAnc2t1LXZhbHVlcycsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHtmaWVsZFNsdWc6ICdwcm9kdWN0JywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAge2ZpZWxkU2x1ZzogJ21haW4taW1hZ2UnLCByZXF1aXJlZDogZmFsc2V9LFxuICB7ZmllbGRTbHVnOiAnbW9yZS1pbWFnZXMnLCByZXF1aXJlZDogZmFsc2V9LFxuICB7ZmllbGRTbHVnOiAncHJpY2UnLCByZXF1aXJlZDogdHJ1ZX0sXG4gIHtmaWVsZFNsdWc6ICdjb21wYXJlLWF0LXByaWNlJywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAge2ZpZWxkU2x1ZzogJ2VjLXNrdS1zdWJzY3JpcHRpb24tcGxhbicsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHtmaWVsZFNsdWc6ICdza3UnLCByZXF1aXJlZDogZmFsc2V9LFxuICB7ZmllbGRTbHVnOiAnZWMtc2t1LWJpbGxpbmctbWV0aG9kJywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAge2ZpZWxkU2x1ZzogJ3RyYWNrLWludmVudG9yeScsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHtmaWVsZFNsdWc6ICdxdWFudGl0eScsIHJlcXVpcmVkOiBmYWxzZX0sXG5dO1xuXG5leHBvcnQgY29uc3QgUEhZU0lDQUxfUFJPRFVDVF9UWVBFOiBQcm9kdWN0VHlwZVR5cGUgPSB7XG4gIG5hbWU6ICdQaHlzaWNhbCcsXG4gIGlkOiAnZmY0MmZlZTAxMTM3NDRmNjkzYTc2NGUzNDMxYTljYzInLFxuICBmaWVsZHM6IHtcbiAgICBwcm9kdWN0OiBbXG4gICAgICAuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9QUk9EVUNUX0ZJRUxEUyxcbiAgICAgIHtmaWVsZFNsdWc6ICdzaGlwcGFibGUnLCByZXF1aXJlZDogZmFsc2V9LFxuICAgIF0sXG4gICAgc2t1OiBbXG4gICAgICAuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9TS1VfRklFTERTLFxuICAgICAge2ZpZWxkU2x1ZzogJ3dlaWdodCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgICB7ZmllbGRTbHVnOiAnd2lkdGgnLCByZXF1aXJlZDogZmFsc2V9LFxuICAgICAge2ZpZWxkU2x1ZzogJ2hlaWdodCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgICB7ZmllbGRTbHVnOiAnbGVuZ3RoJywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAgICBdLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IERJR0lUQUxfUFJPRFVDVF9UWVBFOiBQcm9kdWN0VHlwZVR5cGUgPSB7XG4gIG5hbWU6ICdEaWdpdGFsJyxcbiAgaWQ6ICdmMjIwMjdkYjY4MDAyMTkwYWVmODlhNGEyYjdhYzhhMScsXG4gIGZpZWxkczoge1xuICAgIHByb2R1Y3Q6IFsuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9QUk9EVUNUX0ZJRUxEU10sXG4gICAgc2t1OiBbXG4gICAgICAuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9TS1VfRklFTERTLFxuICAgICAge2ZpZWxkU2x1ZzogJ2Rvd25sb2FkLWZpbGVzJywgcmVxdWlyZWQ6IHRydWV9LFxuICAgIF0sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU0VSVklDRV9QUk9EVUNUX1RZUEU6IFByb2R1Y3RUeXBlVHlwZSA9IHtcbiAgbmFtZTogJ1NlcnZpY2UnLFxuICBpZDogJ2M1OTllNDNiMWExYzM0ZDVhMzIzYWVkZjc1ZDNhZGY2JyxcbiAgZmllbGRzOiB7XG4gICAgcHJvZHVjdDogWy4uLkRFRkFVTFRfUFJPRFVDVF9UWVBFX1BST0RVQ1RfRklFTERTXSxcbiAgICBza3U6IFsuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9TS1VfRklFTERTXSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBNRU1CRVJTSElQX1BST0RVQ1RfVFlQRTogUHJvZHVjdFR5cGVUeXBlID0ge1xuICBuYW1lOiAnTWVtYmVyc2hpcCcsXG4gIGlkOiAnZTM0OGZkNDg3ZDAxMDI5NDZjOTE3OWQyYTk0YmI2MTMnLFxuICBmaWVsZHM6IHtcbiAgICBwcm9kdWN0OiBbXG4gICAgICAuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9QUk9EVUNUX0ZJRUxEUyxcbiAgICAgIHtmaWVsZFNsdWc6ICdzaGlwcGFibGUnLCByZXF1aXJlZDogZmFsc2V9LFxuICAgIF0sXG4gICAgc2t1OiBbXG4gICAgICAuLi5ERUZBVUxUX1BST0RVQ1RfVFlQRV9TS1VfRklFTERTLFxuICAgICAge2ZpZWxkU2x1ZzogJ3dlaWdodCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgICB7ZmllbGRTbHVnOiAnd2lkdGgnLCByZXF1aXJlZDogZmFsc2V9LFxuICAgICAge2ZpZWxkU2x1ZzogJ2hlaWdodCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgICB7ZmllbGRTbHVnOiAnbGVuZ3RoJywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAgICAgIHtmaWVsZFNsdWc6ICdkb3dubG9hZC1maWxlcycsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgICB7ZmllbGRTbHVnOiAnaW5jbHVkZS1kb3dubG9hZHMnLCByZXF1aXJlZDogZmFsc2V9LFxuICAgIF0sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgQURWQU5DRURfUFJPRFVDVF9UWVBFOiBQcm9kdWN0VHlwZVR5cGUgPSB7XG4gIG5hbWU6ICdBZHZhbmNlZCcsXG4gIGlkOiAnYjZjY2MxODMwZGI0YjFiYWJlYjA2YTlhYzVmNmRkNzYnLFxufTtcblxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1BST0RVQ1RfVFlQRVM6IFByb2R1Y3RUeXBlVHlwZVtdID0gW1xuICBQSFlTSUNBTF9QUk9EVUNUX1RZUEUsXG4gIERJR0lUQUxfUFJPRFVDVF9UWVBFLFxuICBTRVJWSUNFX1BST0RVQ1RfVFlQRSxcbiAgTUVNQkVSU0hJUF9QUk9EVUNUX1RZUEUsXG4gIEFEVkFOQ0VEX1BST0RVQ1RfVFlQRSxcbl07XG5cbi8vIG9ubHkgdXNlZCB0byBnZXQgdHlwZSBQcm9kdWN0VHlwZUlkXG5jb25zdCB0ZW1wbGF0ZVByb2R1Y3RUeXBlSWRzID0gVEVNUExBVEVfUFJPRFVDVF9UWVBFUy5yZWR1Y2U8XG4gIFJlY29yZDxzdHJpbmcsIGFueT5cbj4oKGlkcywgdCkgPT4ge1xuICBpZHNbdC5pZF0gPSAnJztcbiAgcmV0dXJuIGlkcztcbn0sIHt9KTtcbmV4cG9ydCB0eXBlIFByb2R1Y3RUeXBlSWQgPSBrZXlvZiB0eXBlb2YgdGVtcGxhdGVQcm9kdWN0VHlwZUlkcztcblxuZXhwb3J0IGNvbnN0IFBST0RVQ1RfVFlQRV9IRUxQX1RFWFQgPSB7XG4gIFtQSFlTSUNBTF9QUk9EVUNUX1RZUEUuaWRdOlxuICAgICdQaHlzaWNhbCBwcm9kdWN0cyBhcmUgc2hpcHBlZCB0byB0aGUgY3VzdG9tZXIgKGUuZy4sIG1lcmNoYW5kaXNlLCBhcHBhcmVsKS4nLFxuICBbRElHSVRBTF9QUk9EVUNUX1RZUEUuaWRdOlxuICAgICdEaWdpdGFsIHByb2R1Y3RzIGFyZSBpbW1lZGlhdGVseSBkb3dubG9hZGFibGUgYnkgdGhlIGN1c3RvbWVyIGFmdGVyIGNoZWNrb3V0IChlLmcuLCBhdWRpbyBmaWxlcywgZWJvb2tzKS4nLFxuICBbU0VSVklDRV9QUk9EVUNUX1RZUEUuaWRdOlxuICAgICdTZXJ2aWNlIHByb2R1Y3RzIGRvIG5vdCByZXF1aXJlIGEgc2hpcHBpbmcgYWRkcmVzcyBkdXJpbmcgY2hlY2tvdXQgKGUuZy4sIGNsYXNzZXMsIGNvbnN1bHRhdGlvbnMpLicsXG4gIFtNRU1CRVJTSElQX1BST0RVQ1RfVFlQRS5pZF06XG4gICAgJ01lbWJlcnNoaXAgcHJvZHVjdHMgZ2l2ZSB1c2VycyBhY2Nlc3MgdG8gZ2F0ZWQgY29udGVudCB0aHJvdWdoIHJlY3VycmluZyBvciBvbmUtdGltZSBwYXltZW50IChlLmcuLCBzdWJzY3JpcHRpb25zLCBvbmUtdGltZSBtZW1iZXJzaGlwIGZlZSkuIE1lbWJlcnNoaXAgcHJvZHVjdHMgcmVxdWlyZSBhIHVzZXIgbG9naW4gYW5kIGNhbiBvbmx5IGJlIHB1cmNoYXNlZCBvbmNlLicsXG4gIFtBRFZBTkNFRF9QUk9EVUNUX1RZUEUuaWRdOlxuICAgICdBZHZhbmNlZCBwcm9kdWN0cyBwcm92aWRlIGFsbCBhdmFpbGFibGUgY3VzdG9taXphYmxlIG9wdGlvbnMuJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BST0RVQ1RfVFlQRV9JRCA9IFBIWVNJQ0FMX1BST0RVQ1RfVFlQRS5pZDtcblxuZXhwb3J0IGNvbnN0IERJU0NPVU5UX0NPREVfTUFYX0xFTkdUSDogbnVtYmVyID0gMjU1O1xuXG5leHBvcnQgY29uc3QgRElTQ09VTlRTX0NTVl9JTVBPUlRfRVhQT1JUX0NPTFVNTlM6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPiA9IFtcbiAgJ25hbWUnLFxuICAnY29kZScsXG4gICdub3RlcycsXG4gICd0eXBlJyxcbiAgJ3BlcmNlbnRPZmYnLFxuICAnYW1vdW50T2ZmJyxcbiAgJ3ZhbGlkT24nLFxuICAnZXhwaXJlc09uJyxcbiAgJ2VuYWJsZWQnLCAvLyAnYWN0aXZlJyBpcyBiZWluZyByZXBsYWNlZCB3aXRoICdlbmFibGVkJ1xuICAnb3JkZXJNaW5pbXVtJyxcbiAgLy8gYXJjaGl2ZWQgaXMgZGlzYWJsZWQgdW50aWwgd2UgaGF2ZSBVSSBmb3IgaXRcbiAgLy8gJ2FyY2hpdmVkJyxcbiAgJ3RvdGFsVXNhZ2UnLFxuICAnbWF4QW1vdW50T2ZmJyxcblxuICAvLyBOT1RFOiBmb3IgZG90LW5vdGF0aW9uIGZpZWxkcyB0byBiZSBwcm9wZXJseSBleHBhbmRlZFxuICAvLyBkdXJpbmcgaW1wb3J0LCB5b3UgbmVlZCB0byBhZGQgdGhlIGNhbWVsLWNhc2UgZmxhdHRlbmVkIHByb3BlcnR5IHRvXG4gIC8vIHRoZSAnS0VZU19UT19FWFBBTkQnIHZhcmlhYmxlIGluIGBlbnRyeXBvaW50cy9zZXJ2ZXIvbGliL2Vjb21tZXJjZS9jc3ZJbXBvcnQvZGlzY291bnRDc3ZJbXBvcnQuanNgXG4gIC8vIEV4YW1wbGU6ICd1c2FnZS5saW1pdC50b3RhbCcgLT4gJ3VzYWdlTGltaXRUb3RhbCdcbiAgJ3VzYWdlLmxpbWl0LnRvdGFsJyxcbiAgJ3VzYWdlLmxpbWl0LmN1c3RvbWVyJyxcbiAgJ2FwcGxpZXNUby5zY29wZScsXG4gICdhcHBsaWVzVG8uZmlsdGVyJyxcbiAgJ2FwcGxpZXNUby5hcHBseU9uY2UnLFxuXTtcblxuZXhwb3J0IGNvbnN0IFJFUVVJUkVEX0RJU0NPVU5UX0lNUE9SVF9GSUVMRFMgPSBbXG4gICduYW1lJyxcbiAgJ2NvZGUnLFxuICAndHlwZScsXG4gIFsncGVyY2VudE9mZicsICdhbW91bnRPZmYnXSwgLy8gd2Ugd2FudCBlaXRoZXIgcGVyY2VudE9mZiBvciBhbW91bnRPZmYgcHJlc2VudCBvciBib3RoXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgU1RSSVBFX0RJU0NPTk5FQ1RfU1VCU0NSSVBUSU9OU19FUlJPUl9NRVNTQUdFID1cbiAgJ1N0cmlwZSBkaXNjb25uZWN0IGF0dGVtcHRlZCB3aXRoIG5vbi1jYW5jZWxlZCBzdWJzY3JpcHRpb25zJztcblxuZXhwb3J0IGNvbnN0IE9SREVSX1NPUlRfTU9ERVMgPSBPYmplY3QuZnJlZXplKHtcbiAgJy1jb3VudCc6ICctcHVyY2hhc2VkSXRlbXNDb3VudCAtX2lkJyxcbiAgY291bnQ6ICdwdXJjaGFzZWRJdGVtc0NvdW50IF9pZCcsXG4gICctbmFtZSc6ICctY3VzdG9tZXJJbmZvLmZ1bGxOYW1lIC1faWQnLFxuICBuYW1lOiAnY3VzdG9tZXJJbmZvLmZ1bGxOYW1lIF9pZCcsXG4gICctb3JkZXJpZCc6ICctb3JkZXJJZCcsXG4gIG9yZGVyaWQ6ICdvcmRlcklkJyxcbiAgJy1wYWlkJzogJy1jdXN0b21lclBhaWQudW5pdCAtY3VzdG9tZXJQYWlkLnZhbHVlIC1faWQnLFxuICBwYWlkOiAnY3VzdG9tZXJQYWlkLnVuaXQgY3VzdG9tZXJQYWlkLnZhbHVlIF9pZCcsXG4gICctc3RhdHVzJzogJy1zdGF0dXNDb2RlIC1faWQnLFxuICBzdGF0dXM6ICdzdGF0dXNDb2RlIF9pZCcsXG4gICctdGltZSc6ICctYWNjZXB0ZWRPbiAtX2lkJyxcbiAgdGltZTogJ2FjY2VwdGVkT24gX2lkJyxcbn0pO1xuXG5leHBvcnQgY29uc3QgU1VCU0NSSVBUSU9OX1NPUlRfTU9ERVMgPSBPYmplY3QuZnJlZXplKHtcbiAgJy1sYXN0QmlsbGVkJzogJy1sYXN0SW52b2ljZWQgLV9pZCcsXG4gIGxhc3RCaWxsZWQ6ICdsYXN0SW52b2ljZWQgX2lkJyxcbiAgJy1uZXh0QmlsbGluZyc6ICctcGFpZFVudGlsIC1faWQnLFxuICBuZXh0QmlsbGluZzogJ3BhaWRVbnRpbCBfaWQnLFxuICAnLW9yZGVyaWQnOiAnLW9yZGVySWQnLFxuICBvcmRlcmlkOiAnb3JkZXJJZCcsXG4gICctcHVyY2hhc2VkJzogJy1zdWJDcmVhdGVkT24gLV9pZCcsXG4gIHB1cmNoYXNlZDogJ3N1YkNyZWF0ZWRPbiBfaWQnLFxuICAnLXN0YXR1cyc6ICctc3RhdHVzIC1faWQnLFxuICBzdGF0dXM6ICdzdGF0dXMgX2lkJyxcbiAgJy10cmlhbGluZyc6ICctdHJpYWxpbmcgLV9pZCcsXG4gIHRyaWFsaW5nOiAndHJpYWxpbmcgX2lkJyxcbn0pO1xuIl0sIm5hbWVzIjpbIkFDVElWRV9TVFJJUEVfU1VCU0NSSVBUSU9OX1NUQVRVU0VTIiwiQURWQU5DRURfUFJPRFVDVF9UWVBFIiwiQklMTElOR19NRVRIT0RfVFlQRVMiLCJDU1ZfQ1VSUkVOQ1lfVEVNUExBVEUiLCJDU1ZfSU5URUdSQVRJT05fQ1VSUkVOQ1lfVEVNUExBVEUiLCJERUZBVUxUX1BSSUNFX1RFTVBMQVRFX1ZBTFVFIiwiREVGQVVMVF9QUk9EVUNUX1RZUEVfSUQiLCJERUZBVUxUX1RBWF9DQVRFR09SWSIsIkRJR0lUQUxfUFJPRFVDVF9UWVBFIiwiRElTQ09VTlRTX0NTVl9JTVBPUlRfRVhQT1JUX0NPTFVNTlMiLCJESVNDT1VOVF9DT0RFX01BWF9MRU5HVEgiLCJET1dOTE9BRF9GSUxFU19FRElUQUJMRV9GSUVMRFMiLCJET1dOTE9BRF9GSUxFU19GQUtFX0RBVEEiLCJET1dOTE9BRF9GSUxFU19LRVlfUEFUSCIsIkVDT01NRVJDRV9QUk9WSURFUl9OQU1FX0VOVU0iLCJJTkZJTklURV9JTlZFTlRPUlkiLCJJTlZFTlRPUllfVFlQRV9GSU5JVEUiLCJJTlZFTlRPUllfVFlQRV9JTkZJTklURSIsIk1BWF9NRU1CRVJTSElQX1BST0RVQ1RTIiwiTUFYX1BST0RVQ1RfRElNRU5TSU9OIiwiTUFYX1NFQVJDSF9MSU1JVCIsIk1BWF9UT1RBTF9PUkRFUl9QUklDRSIsIk1FTUJFUlNISVBfUFJPRFVDVF9UWVBFIiwiT1JERVJfSURfUkUiLCJPUkRFUl9JVEVNU19CSU5ESU5HX0NPTlRFWFRfRVhURVJOQUxfS0VZIiwiT1JERVJfU09SVF9NT0RFUyIsIlBIWVNJQ0FMX1BST0RVQ1RfVFlQRSIsIlBSSUNFX1RFTVBMQVRFX0FNT1VOVCIsIlBSSUNFX1RFTVBMQVRFX0NVUlJFTkNZX0NPREUiLCJQUklDRV9URU1QTEFURV9DVVJSRU5DWV9TWU1CT0wiLCJQUklDRV9URU1QTEFURV9PUFRJT05TIiwiUFJPRFVDVFNfQklORElOR19DT05URVhUX0VYVEVSTkFMX0tFWSIsIlBST0RVQ1RfVFlQRV9IRUxQX1RFWFQiLCJSRVFVSVJFRF9ESVNDT1VOVF9JTVBPUlRfRklFTERTIiwiU0VSVklDRV9QUk9EVUNUX1RZUEUiLCJTSElQUElOR19NRVRIT0RTIiwiU1RSSVBFX0RJU0NPTk5FQ1RfU1VCU0NSSVBUSU9OU19FUlJPUl9NRVNTQUdFIiwiU1RSSVBFX1NVQlNDUklQVElPTl9TVEFUVVNfRU5VTSIsIlNVQlNDUklQVElPTl9JTlRFUlZBTF9FTlVNIiwiU1VCU0NSSVBUSU9OX1NPUlRfTU9ERVMiLCJTVUJTQ1JJUFRJT05fU1RBVFVTX0VOVU0iLCJTVUJTQ1JJUFRJT05fU1RBVFVTX1BSRVRUWV9FTlVNIiwiVEVNUExBVEVfUFJPRFVDVF9UWVBFUyIsInBheXBhbEN1cnJlbmN5TGlzdCIsInN0cmlwZUN1cnJlbmN5TGlzdCIsIlNISVBQSU5HX01FVEhPRF9GTEFUIiwiU0hJUFBJTkdfTUVUSE9EX1BFUkNFTlRBR0UiLCJTSElQUElOR19NRVRIT0RfUFJJQ0UiLCJTSElQUElOR19NRVRIT0RfUVVBTlRJVFkiLCJTSElQUElOR19NRVRIT0RfV0VJR0hUIiwiT2JqZWN0IiwiZnJlZXplIiwiRkxBVCIsIlBFUkNFTlRBR0UiLCJQUklDRSIsIlFVQU5USVRZIiwiV0VJR0hUIiwiaW52ZW50b3J5VHlwZSIsInF1YW50aXR5IiwiX3dpdGhEZXJpdmVkVmFsdWUiLCJsYWJlbCIsInR5cGUiLCJwYXRoIiwiY2FtZWxDYXNlIiwib3B0aW9ucyIsInJlYWRPbmx5IiwiaXNOb3RBZGRhYmxlIiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiX2ludG9Ub2tlbiIsIm9wdGlvbiIsImpvaW4iLCJpZCIsIm5hbWUiLCJ1cmwiLCJhY3RpdmUiLCJwYXN0ZHVlIiwidW5wYWlkIiwiY2FuY2VsZWQiLCJjYW5jZWxQZW5kaW5nIiwiaW5jb21wbGV0ZSIsImluY29tcGxldGVFeHBpcmVkIiwidHJpYWxpbmciLCJ1bmtub3duIiwicGFzdF9kdWUiLCJpbmNvbXBsZXRlX2V4cGlyZWQiLCJzdHJpcGUiLCJzdWJzY3JpcHRpb24iLCJvbmVUaW1lIiwiREVGQVVMVF9QUk9EVUNUX1RZUEVfUFJPRFVDVF9GSUVMRFMiLCJmaWVsZFNsdWciLCJyZXF1aXJlZCIsIkRFRkFVTFRfUFJPRFVDVF9UWVBFX1NLVV9GSUVMRFMiLCJmaWVsZHMiLCJwcm9kdWN0Iiwic2t1IiwidGVtcGxhdGVQcm9kdWN0VHlwZUlkcyIsInJlZHVjZSIsImlkcyIsInQiLCJjb3VudCIsIm9yZGVyaWQiLCJwYWlkIiwic3RhdHVzIiwidGltZSIsImxhc3RCaWxsZWQiLCJuZXh0QmlsbGluZyIsInB1cmNoYXNlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUE0TGFBLG1DQUFtQztlQUFuQ0E7O0lBbUhBQyxxQkFBcUI7ZUFBckJBOztJQXpHQUMsb0JBQW9CO2VBQXBCQTs7SUFqRkFDLHFCQUFxQjtlQUFyQkE7O0lBS0FDLGlDQUFpQztlQUFqQ0E7O0lBYkFDLDRCQUE0QjtlQUE1QkE7O0lBcU9BQyx1QkFBdUI7ZUFBdkJBOztJQXJUQUMsb0JBQW9CO2VBQXBCQTs7SUF5T0FDLG9CQUFvQjtlQUFwQkE7O0lBZ0ZBQyxtQ0FBbUM7ZUFBbkNBOztJQUZBQyx3QkFBd0I7ZUFBeEJBOztJQXRNQUMsOEJBQThCO2VBQTlCQTs7SUFkQUMsd0JBQXdCO2VBQXhCQTs7SUFhQUMsdUJBQXVCO2VBQXZCQTs7SUFxREFDLDRCQUE0QjtlQUE1QkE7O0lBaktBQyxrQkFBa0I7ZUFBbEJBOztJQUZBQyxxQkFBcUI7ZUFBckJBOztJQUNBQyx1QkFBdUI7ZUFBdkJBOztJQWFBQyx1QkFBdUI7ZUFBdkJBOztJQUZBQyxxQkFBcUI7ZUFBckJBOztJQUlBQyxnQkFBZ0I7ZUFBaEJBOztJQU5BQyxxQkFBcUI7ZUFBckJBOztJQWtQQUMsdUJBQXVCO2VBQXZCQTs7SUF4UkFDLFdBQVc7ZUFBWEE7O0lBT1hDLHdDQUF3QztlQUF4Q0EsaUVBQXdDOztJQWlYN0JDLGdCQUFnQjtlQUFoQkE7O0lBdklBQyxxQkFBcUI7ZUFBckJBOztJQTVKQUMscUJBQXFCO2VBQXJCQTs7SUFRQUMsNEJBQTRCO2VBQTVCQTs7SUFiQUMsOEJBQThCO2VBQTlCQTs7SUFrQkFDLHNCQUFzQjtlQUF0QkE7O0lBNUZYQyxxQ0FBcUM7ZUFBckNBLDhEQUFxQzs7SUE0VDFCQyxzQkFBc0I7ZUFBdEJBOztJQTRDQUMsK0JBQStCO2VBQS9CQTs7SUEvRkFDLG9CQUFvQjtlQUFwQkE7O0lBN1BBQyxnQkFBZ0I7ZUFBaEJBOztJQW1XQUMsNkNBQTZDO2VBQTdDQTs7SUF0TUFDLCtCQUErQjtlQUEvQkE7O0lBOUJBQywwQkFBMEI7ZUFBMUJBOztJQXNQQUMsdUJBQXVCO2VBQXZCQTs7SUEvT0FDLHdCQUF3QjtlQUF4QkE7O0lBV0FDLCtCQUErQjtlQUEvQkE7O0lBOElBQyxzQkFBc0I7ZUFBdEJBOztJQXhTTEMsa0JBQWtCO2VBQWxCQSxzQ0FBa0I7O0lBQ2xCQyxrQkFBa0I7ZUFBbEJBLHNDQUFrQjs7O2tFQWJKO3FCQU1SO3lDQUtQO29DQUMwQjtvQ0FDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVYxQixNQUFNckIsY0FBYztBQVkzQixNQUFNc0IsdUJBQXVCO0FBQzdCLE1BQU1DLDZCQUE2QjtBQUNuQyxNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsMkJBQTJCO0FBQ2pDLE1BQU1DLHlCQUF5QjtBQUV4QixNQUFNZCxtQkFBbUJlLE9BQU9DLE1BQU0sQ0FBQztJQUM1Q0MsTUFBTVA7SUFDTlEsWUFBWVA7SUFDWlEsT0FBT1A7SUFDUFEsVUFBVVA7SUFDVlEsUUFBUVA7QUFDVjtBQUVPLE1BQU0xQyx1QkFBdUI7QUFFN0IsTUFBTVMsd0JBQXdCO0FBQzlCLE1BQU1DLDBCQUEwQjtBQUNoQyxNQUFNRixxQkFBcUI7SUFDaEMwQyxlQUFleEM7SUFDZnlDLFVBQVU7QUFDWjtBQUtPLE1BQU1yQyx3QkFBd0I7QUFFOUIsTUFBTUYsd0JBQXdCO0FBRTlCLE1BQU1ELDBCQUEwQjtBQUVoQyxNQUFNRSxtQkFBbUI7QUFVaEMsU0FBU3VDLGtCQUFrQixFQUN6QkMsS0FBSyxFQUNMQyxPQUFPLFdBQVcsRUFDbEJDLE9BQU9DLElBQUFBLGtCQUFTLEVBQUNILE1BQU0sRUFFdkJJLFVBQVU7SUFDUkMsVUFBVTtJQUNWQyxjQUFjO0FBQ2hCLENBQUMsRUFTRjtJQUNDLE9BQU87UUFDTE47UUFDQUM7UUFDQSxHQUFHRyxPQUFPO1FBQ1ZHLE9BQU9DLEtBQUtDLFNBQVMsQ0FBQztZQUFDUDtZQUFNRDtRQUFJO0lBQ25DO0FBQ0Y7QUFFTyxNQUFNaEMsaUNBQ1g4QixrQkFBa0I7SUFDaEJDLE9BQU87SUFDUEUsTUFBTTtBQUNSO0FBQ0ssTUFBTW5DLHdCQUE2Q2dDLGtCQUFrQjtJQUMxRUMsT0FBTztJQUNQQyxNQUFNO0lBQ05HLFNBQVM7UUFDUEMsVUFBVTtRQUNWQyxjQUFjO0lBQ2hCO0FBQ0Y7QUFDTyxNQUFNdEMsK0JBQ1grQixrQkFBa0I7SUFDaEJDLE9BQU87QUFDVDtBQUVLLE1BQU05Qix5QkFBZ0Q7SUFDM0REO0lBQ0FGO0lBQ0FDO0NBQ0Q7QUFFRCxNQUFNMEMsYUFBYSxDQUFDQyxTQUFnQyxDQUFDLEtBQUssRUFBRUEsT0FBT0osS0FBSyxDQUFDLEdBQUcsQ0FBQztBQUV0RSxNQUFNOUQsK0JBQStCO0lBQzFDaUUsV0FBV3pDO0lBQ1g7SUFDQXlDLFdBQVczQztJQUNYO0lBQ0EyQyxXQUFXMUM7Q0FDWixDQUFDNEMsSUFBSSxDQUFDO0FBRUEsTUFBTXJFLHdCQUF3QjtJQUNuQ21FLFdBQVd6QztJQUNYeUMsV0FBVzNDO0NBQ1osQ0FBQzZDLElBQUksQ0FBQztBQUVBLE1BQU1wRSxvQ0FBb0M7SUFDL0NrRSxXQUFXM0M7SUFDWDtJQUNBMkMsV0FBVzFDO0NBQ1osQ0FBQzRDLElBQUksQ0FBQztBQUVBLE1BQU01RCwyQkFBMkI7SUFDdEM7UUFDRTZELElBQUk7UUFDSkMsTUFBTTtRQUNOQyxLQUFLO0lBQ1A7SUFDQTtRQUNFRixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsS0FBSztJQUNQO0NBQ0Q7QUFFTSxNQUFNOUQsMEJBQTBCO0FBQ2hDLE1BQU1GLGlDQUFpQztJQUM1QytELE1BQU07SUFDTkMsS0FBSztBQUNQO0FBR08sTUFBTXJDLDZCQUE2QjtJQUN4QztJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRU0sTUFBTUUsMkJBQTJCO0lBQ3RDb0MsUUFBUTtJQUNSQyxTQUFTO0lBQ1RDLFFBQVE7SUFDUkMsVUFBVTtJQUNWQyxlQUFlO0lBQ2ZDLFlBQVk7SUFDWkMsbUJBQW1CO0lBQ25CQyxVQUFVO0lBQ1ZDLFNBQVMsQ0FBQyxPQUFPLENBQUM7QUFDcEI7QUFDTyxNQUFNM0Msa0NBQWtDO0lBQzdDbUMsUUFBUTtJQUNSQyxTQUFTO0lBQ1RDLFFBQVE7SUFDUkMsVUFBVTtJQUNWQyxlQUFlO0lBQ2ZDLFlBQVk7SUFDWkMsbUJBQW1CO0lBQ25CQyxVQUFVO0lBQ1ZDLFNBQVMsQ0FBQyxPQUFPLENBQUM7QUFDcEI7QUFFTyxNQUFNL0Msa0NBQWtDO0lBQzdDdUMsUUFBUTtJQUNSUyxVQUFVO0lBQ1ZQLFFBQVE7SUFDUkMsVUFBVTtJQUNWRSxZQUFZO0lBQ1pLLG9CQUFvQjtJQUNwQkgsVUFBVTtBQUNaO0FBRU8sTUFBTW5GLHNDQUFzQztJQUNqRHFDLGdDQUFnQ3VDLE1BQU07SUFDdEN2QyxnQ0FBZ0NnRCxRQUFRO0lBQ3hDaEQsZ0NBQWdDOEMsUUFBUTtDQUN6QztBQUVNLE1BQU1yRSwrQkFBK0I7SUFDMUN5RSxRQUFRO0FBQ1Y7QUFFTyxNQUFNckYsdUJBQXVCO0lBQ2xDc0YsY0FBYztJQUNkQyxTQUFTO0FBQ1g7QUFrQkEsTUFBTUMsc0NBQXNDO0lBQzFDO1FBQUNDLFdBQVc7UUFBUUMsVUFBVTtJQUFJO0lBQ2xDO1FBQUNELFdBQVc7UUFBUUMsVUFBVTtJQUFJO0lBQ2xDO1FBQUNELFdBQVc7UUFBa0JDLFVBQVU7SUFBSztJQUM3QztRQUFDRCxXQUFXO1FBQVlDLFVBQVU7SUFBSztJQUN2QztRQUFDRCxXQUFXO1FBQWVDLFVBQVU7SUFBSztJQUMxQztRQUFDRCxXQUFXO1FBQWdCQyxVQUFVO0lBQUs7SUFDM0M7UUFBQ0QsV0FBVztRQUFlQyxVQUFVO0lBQUs7SUFDMUM7UUFBQ0QsV0FBVztRQUFtQkMsVUFBVTtJQUFLO0lBQzlDO1FBQUNELFdBQVc7UUFBV0MsVUFBVTtJQUFLO0NBQ3ZDO0FBQ0QsTUFBTUMsa0NBQWtDO0lBQ3RDO1FBQUNGLFdBQVc7UUFBY0MsVUFBVTtJQUFLO0lBQ3pDO1FBQUNELFdBQVc7UUFBV0MsVUFBVTtJQUFLO0lBQ3RDO1FBQUNELFdBQVc7UUFBY0MsVUFBVTtJQUFLO0lBQ3pDO1FBQUNELFdBQVc7UUFBZUMsVUFBVTtJQUFLO0lBQzFDO1FBQUNELFdBQVc7UUFBU0MsVUFBVTtJQUFJO0lBQ25DO1FBQUNELFdBQVc7UUFBb0JDLFVBQVU7SUFBSztJQUMvQztRQUFDRCxXQUFXO1FBQTRCQyxVQUFVO0lBQUs7SUFDdkQ7UUFBQ0QsV0FBVztRQUFPQyxVQUFVO0lBQUs7SUFDbEM7UUFBQ0QsV0FBVztRQUF5QkMsVUFBVTtJQUFLO0lBQ3BEO1FBQUNELFdBQVc7UUFBbUJDLFVBQVU7SUFBSztJQUM5QztRQUFDRCxXQUFXO1FBQVlDLFVBQVU7SUFBSztDQUN4QztBQUVNLE1BQU1sRSx3QkFBeUM7SUFDcERnRCxNQUFNO0lBQ05ELElBQUk7SUFDSnFCLFFBQVE7UUFDTkMsU0FBUztlQUNKTDtZQUNIO2dCQUFDQyxXQUFXO2dCQUFhQyxVQUFVO1lBQUs7U0FDekM7UUFDREksS0FBSztlQUNBSDtZQUNIO2dCQUFDRixXQUFXO2dCQUFVQyxVQUFVO1lBQUs7WUFDckM7Z0JBQUNELFdBQVc7Z0JBQVNDLFVBQVU7WUFBSztZQUNwQztnQkFBQ0QsV0FBVztnQkFBVUMsVUFBVTtZQUFLO1lBQ3JDO2dCQUFDRCxXQUFXO2dCQUFVQyxVQUFVO1lBQUs7U0FDdEM7SUFDSDtBQUNGO0FBRU8sTUFBTXBGLHVCQUF3QztJQUNuRGtFLE1BQU07SUFDTkQsSUFBSTtJQUNKcUIsUUFBUTtRQUNOQyxTQUFTO2VBQUlMO1NBQW9DO1FBQ2pETSxLQUFLO2VBQ0FIO1lBQ0g7Z0JBQUNGLFdBQVc7Z0JBQWtCQyxVQUFVO1lBQUk7U0FDN0M7SUFDSDtBQUNGO0FBRU8sTUFBTTFELHVCQUF3QztJQUNuRHdDLE1BQU07SUFDTkQsSUFBSTtJQUNKcUIsUUFBUTtRQUNOQyxTQUFTO2VBQUlMO1NBQW9DO1FBQ2pETSxLQUFLO2VBQUlIO1NBQWdDO0lBQzNDO0FBQ0Y7QUFFTyxNQUFNdkUsMEJBQTJDO0lBQ3REb0QsTUFBTTtJQUNORCxJQUFJO0lBQ0pxQixRQUFRO1FBQ05DLFNBQVM7ZUFDSkw7WUFDSDtnQkFBQ0MsV0FBVztnQkFBYUMsVUFBVTtZQUFLO1NBQ3pDO1FBQ0RJLEtBQUs7ZUFDQUg7WUFDSDtnQkFBQ0YsV0FBVztnQkFBVUMsVUFBVTtZQUFLO1lBQ3JDO2dCQUFDRCxXQUFXO2dCQUFTQyxVQUFVO1lBQUs7WUFDcEM7Z0JBQUNELFdBQVc7Z0JBQVVDLFVBQVU7WUFBSztZQUNyQztnQkFBQ0QsV0FBVztnQkFBVUMsVUFBVTtZQUFLO1lBQ3JDO2dCQUFDRCxXQUFXO2dCQUFrQkMsVUFBVTtZQUFLO1lBQzdDO2dCQUFDRCxXQUFXO2dCQUFxQkMsVUFBVTtZQUFLO1NBQ2pEO0lBQ0g7QUFDRjtBQUVPLE1BQU0zRix3QkFBeUM7SUFDcER5RSxNQUFNO0lBQ05ELElBQUk7QUFDTjtBQUVPLE1BQU0vQix5QkFBNEM7SUFDdkRoQjtJQUNBbEI7SUFDQTBCO0lBQ0FaO0lBQ0FyQjtDQUNEO0FBRUQsc0NBQXNDO0FBQ3RDLE1BQU1nRyx5QkFBeUJ2RCx1QkFBdUJ3RCxNQUFNLENBRTFELENBQUNDLEtBQUtDO0lBQ05ELEdBQUcsQ0FBQ0MsRUFBRTNCLEVBQUUsQ0FBQyxHQUFHO0lBQ1osT0FBTzBCO0FBQ1QsR0FBRyxDQUFDO0FBR0csTUFBTW5FLHlCQUF5QjtJQUNwQyxDQUFDTixzQkFBc0IrQyxFQUFFLENBQUMsRUFDeEI7SUFDRixDQUFDakUscUJBQXFCaUUsRUFBRSxDQUFDLEVBQ3ZCO0lBQ0YsQ0FBQ3ZDLHFCQUFxQnVDLEVBQUUsQ0FBQyxFQUN2QjtJQUNGLENBQUNuRCx3QkFBd0JtRCxFQUFFLENBQUMsRUFDMUI7SUFDRixDQUFDeEUsc0JBQXNCd0UsRUFBRSxDQUFDLEVBQ3hCO0FBQ0o7QUFFTyxNQUFNbkUsMEJBQTBCb0Isc0JBQXNCK0MsRUFBRTtBQUV4RCxNQUFNL0QsMkJBQW1DO0FBRXpDLE1BQU1ELHNDQUE2RDtJQUN4RTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLCtDQUErQztJQUMvQyxjQUFjO0lBQ2Q7SUFDQTtJQUVBLHdEQUF3RDtJQUN4RCxzRUFBc0U7SUFDdEUscUdBQXFHO0lBQ3JHLG9EQUFvRDtJQUNwRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFTSxNQUFNd0Isa0NBQWtDO0lBQzdDO0lBQ0E7SUFDQTtJQUNBO1FBQUM7UUFBYztLQUFZO0NBQzVCO0FBRU0sTUFBTUcsZ0RBQ1g7QUFFSyxNQUFNWCxtQkFBbUJ5QixPQUFPQyxNQUFNLENBQUM7SUFDNUMsVUFBVTtJQUNWa0QsT0FBTztJQUNQLFNBQVM7SUFDVDNCLE1BQU07SUFDTixZQUFZO0lBQ1o0QixTQUFTO0lBQ1QsU0FBUztJQUNUQyxNQUFNO0lBQ04sV0FBVztJQUNYQyxRQUFRO0lBQ1IsU0FBUztJQUNUQyxNQUFNO0FBQ1I7QUFFTyxNQUFNbEUsMEJBQTBCVyxPQUFPQyxNQUFNLENBQUM7SUFDbkQsZUFBZTtJQUNmdUQsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQkMsYUFBYTtJQUNiLFlBQVk7SUFDWkwsU0FBUztJQUNULGNBQWM7SUFDZE0sV0FBVztJQUNYLFdBQVc7SUFDWEosUUFBUTtJQUNSLGFBQWE7SUFDYnJCLFVBQVU7QUFDWiJ9

}),
25766: (function (__unused_webpack_module, exports) {
"use strict";
// Note: These currencies are extracted by getting PayPal compatible currencies from:
//
// curl https://developer.paypal.com/docs/api/reference/currency-codes
//
// And then populating in the names from ISO 4217:

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "paypalCurrencyList", ({
    enumerable: true,
    get: function() {
        return paypalCurrencyList;
    }
}));
const paypalCurrencyList = [
    /*
   * ----------------------------------------------------------------------------
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   *
   * This const is duplicated to @packages/systems/core/constants/SharedConfig.js
   * to avoid bundling this entire SharedConfig file in the webflow.js published
   * site bundle. Once we have support for bundling for the Dashboard (this
   * config is injected in to window.SharedConfig for angular), we should
   * be able to delete the const in SharedConfig and use the commerce/consts
   * package whenever `paypalCurrencyList` const is needed.
   *
   * In the meantime, if you make changes to this const, please make sure to
   * update in the other location as well.
   *
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * ----------------------------------------------------------------------------
   */ {
        code: 'AUD',
        digits: 2,
        minCharge: 1,
        name: 'Australian Dollar'
    },
    {
        code: 'BRL',
        digits: 2,
        minCharge: 1,
        name: 'Brazilian Real'
    },
    {
        code: 'CAD',
        digits: 2,
        minCharge: 1,
        name: 'Canadian Dollar'
    },
    {
        code: 'CNY',
        digits: 2,
        minCharge: 1,
        name: 'Chinese Renmenbi'
    },
    {
        code: 'CZK',
        digits: 2,
        minCharge: 1,
        name: 'Czech Koruna'
    },
    {
        code: 'DKK',
        digits: 2,
        minCharge: 1,
        name: 'Danish Krone'
    },
    {
        code: 'EUR',
        digits: 2,
        minCharge: 1,
        name: 'Euro'
    },
    {
        code: 'HKD',
        digits: 2,
        minCharge: 1,
        name: 'Hong Kong Dollar'
    },
    // HUF is currently disabled, due to issues with PayPal's 0-decimal implementation
    // See: https://github.com/webflow/webflow/issues/32865
    // {code: 'HUF', digits: 0, minCharge: 1, name: 'Hungarian Forint'},
    {
        code: 'INR',
        digits: 2,
        minCharge: 1,
        name: 'Indian Rupee'
    },
    {
        code: 'ILS',
        digits: 2,
        minCharge: 1,
        name: 'Israeli New Sheqel'
    },
    {
        code: 'JPY',
        digits: 0,
        minCharge: 1,
        name: 'Japanese Yen'
    },
    {
        code: 'MYR',
        digits: 2,
        minCharge: 1,
        name: 'Malaysian Ringgit'
    },
    {
        code: 'MXN',
        digits: 2,
        minCharge: 1,
        name: 'Mexican Peso'
    },
    {
        code: 'TWD',
        digits: 0,
        minCharge: 1,
        name: 'New Taiwan Dollar'
    },
    {
        code: 'NZD',
        digits: 2,
        minCharge: 1,
        name: 'New Zealand Dollar'
    },
    {
        code: 'NOK',
        digits: 2,
        minCharge: 1,
        name: 'Norwegian Krone'
    },
    {
        code: 'PHP',
        digits: 2,
        minCharge: 1,
        name: 'Philippine Peso'
    },
    {
        code: 'PLN',
        digits: 2,
        minCharge: 1,
        name: 'Polish Zoty'
    },
    {
        code: 'GBP',
        digits: 2,
        minCharge: 1,
        name: 'British Pound'
    },
    {
        code: 'RUB',
        digits: 2,
        minCharge: 1,
        name: 'Russian Ruble'
    },
    {
        code: 'SGD',
        digits: 2,
        minCharge: 1,
        name: 'Singapore Dollar'
    },
    {
        code: 'SEK',
        digits: 2,
        minCharge: 1,
        name: 'Swedish Krona'
    },
    {
        code: 'CHF',
        digits: 2,
        minCharge: 1,
        name: 'Swiss Franc'
    },
    {
        code: 'THB',
        digits: 2,
        minCharge: 1,
        name: 'Thai Baht'
    },
    {
        code: 'USD',
        digits: 2,
        minCharge: 1,
        name: 'United States Dollar'
    }
];

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBheXBhbEN1cnJlbmN5TGlzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOb3RlOiBUaGVzZSBjdXJyZW5jaWVzIGFyZSBleHRyYWN0ZWQgYnkgZ2V0dGluZyBQYXlQYWwgY29tcGF0aWJsZSBjdXJyZW5jaWVzIGZyb206XG4vL1xuLy8gY3VybCBodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvYXBpL3JlZmVyZW5jZS9jdXJyZW5jeS1jb2Rlc1xuLy9cbi8vIEFuZCB0aGVuIHBvcHVsYXRpbmcgaW4gdGhlIG5hbWVzIGZyb20gSVNPIDQyMTc6XG5cbmV4cG9ydCBjb25zdCBwYXlwYWxDdXJyZW5jeUxpc3QgPSBbXG4gIC8qXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICpcbiAgICogVGhpcyBjb25zdCBpcyBkdXBsaWNhdGVkIHRvIEBwYWNrYWdlcy9zeXN0ZW1zL2NvcmUvY29uc3RhbnRzL1NoYXJlZENvbmZpZy5qc1xuICAgKiB0byBhdm9pZCBidW5kbGluZyB0aGlzIGVudGlyZSBTaGFyZWRDb25maWcgZmlsZSBpbiB0aGUgd2ViZmxvdy5qcyBwdWJsaXNoZWRcbiAgICogc2l0ZSBidW5kbGUuIE9uY2Ugd2UgaGF2ZSBzdXBwb3J0IGZvciBidW5kbGluZyBmb3IgdGhlIERhc2hib2FyZCAodGhpc1xuICAgKiBjb25maWcgaXMgaW5qZWN0ZWQgaW4gdG8gd2luZG93LlNoYXJlZENvbmZpZyBmb3IgYW5ndWxhciksIHdlIHNob3VsZFxuICAgKiBiZSBhYmxlIHRvIGRlbGV0ZSB0aGUgY29uc3QgaW4gU2hhcmVkQ29uZmlnIGFuZCB1c2UgdGhlIGNvbW1lcmNlL2NvbnN0c1xuICAgKiBwYWNrYWdlIHdoZW5ldmVyIGBwYXlwYWxDdXJyZW5jeUxpc3RgIGNvbnN0IGlzIG5lZWRlZC5cbiAgICpcbiAgICogSW4gdGhlIG1lYW50aW1lLCBpZiB5b3UgbWFrZSBjaGFuZ2VzIHRvIHRoaXMgY29uc3QsIHBsZWFzZSBtYWtlIHN1cmUgdG9cbiAgICogdXBkYXRlIGluIHRoZSBvdGhlciBsb2NhdGlvbiBhcyB3ZWxsLlxuICAgKlxuICAgKiBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URVxuICAgKiBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URVxuICAgKiBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URVxuICAgKiBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICB7Y29kZTogJ0FVRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnQXVzdHJhbGlhbiBEb2xsYXInfSxcbiAge2NvZGU6ICdCUkwnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ0JyYXppbGlhbiBSZWFsJ30sXG4gIHtjb2RlOiAnQ0FEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDEsIG5hbWU6ICdDYW5hZGlhbiBEb2xsYXInfSxcbiAge2NvZGU6ICdDTlknLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ0NoaW5lc2UgUmVubWVuYmknfSxcbiAge2NvZGU6ICdDWksnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ0N6ZWNoIEtvcnVuYSd9LFxuICB7Y29kZTogJ0RLSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnRGFuaXNoIEtyb25lJ30sXG4gIHtjb2RlOiAnRVVSJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDEsIG5hbWU6ICdFdXJvJ30sXG4gIHtjb2RlOiAnSEtEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDEsIG5hbWU6ICdIb25nIEtvbmcgRG9sbGFyJ30sXG4gIC8vIEhVRiBpcyBjdXJyZW50bHkgZGlzYWJsZWQsIGR1ZSB0byBpc3N1ZXMgd2l0aCBQYXlQYWwncyAwLWRlY2ltYWwgaW1wbGVtZW50YXRpb25cbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vd2ViZmxvdy93ZWJmbG93L2lzc3Vlcy8zMjg2NVxuICAvLyB7Y29kZTogJ0hVRicsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnSHVuZ2FyaWFuIEZvcmludCd9LFxuICB7Y29kZTogJ0lOUicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnSW5kaWFuIFJ1cGVlJ30sXG4gIHtjb2RlOiAnSUxTJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDEsIG5hbWU6ICdJc3JhZWxpIE5ldyBTaGVxZWwnfSxcbiAge2NvZGU6ICdKUFknLCBkaWdpdHM6IDAsIG1pbkNoYXJnZTogMSwgbmFtZTogJ0phcGFuZXNlIFllbid9LFxuICB7Y29kZTogJ01ZUicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnTWFsYXlzaWFuIFJpbmdnaXQnfSxcbiAge2NvZGU6ICdNWE4nLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ01leGljYW4gUGVzbyd9LFxuICB7Y29kZTogJ1RXRCcsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnTmV3IFRhaXdhbiBEb2xsYXInfSxcbiAge2NvZGU6ICdOWkQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ05ldyBaZWFsYW5kIERvbGxhcid9LFxuICB7Y29kZTogJ05PSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAxLCBuYW1lOiAnTm9yd2VnaWFuIEtyb25lJ30sXG4gIHtjb2RlOiAnUEhQJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDEsIG5hbWU6ICdQaGlsaXBwaW5lIFBlc28nfSxcbiAge2NvZGU6ICdQTE4nLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ1BvbGlzaCBaxYJvdHknfSxcbiAge2NvZGU6ICdHQlAnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ0JyaXRpc2ggUG91bmQnfSxcbiAge2NvZGU6ICdSVUInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ1J1c3NpYW4gUnVibGUnfSxcbiAge2NvZGU6ICdTR0QnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ1NpbmdhcG9yZSBEb2xsYXInfSxcbiAge2NvZGU6ICdTRUsnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ1N3ZWRpc2ggS3JvbmEnfSxcbiAge2NvZGU6ICdDSEYnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ1N3aXNzIEZyYW5jJ30sXG4gIHtjb2RlOiAnVEhCJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDEsIG5hbWU6ICdUaGFpIEJhaHQnfSxcbiAge2NvZGU6ICdVU0QnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMSwgbmFtZTogJ1VuaXRlZCBTdGF0ZXMgRG9sbGFyJ30sXG5dIGFzIGNvbnN0O1xuIl0sIm5hbWVzIjpbInBheXBhbEN1cnJlbmN5TGlzdCIsImNvZGUiLCJkaWdpdHMiLCJtaW5DaGFyZ2UiLCJuYW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxxRkFBcUY7QUFDckYsRUFBRTtBQUNGLHNFQUFzRTtBQUN0RSxFQUFFO0FBQ0Ysa0RBQWtEOzs7OzsrQkFFckNBOzs7ZUFBQUE7OztBQUFOLE1BQU1BLHFCQUFxQjtJQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNCQyxHQUNEO1FBQUNDLE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBbUI7SUFDaEU7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFnQjtJQUM3RDtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWlCO0lBQzlEO1FBQUNILE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBa0I7SUFDL0Q7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFjO0lBQzNEO1FBQUNILE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBYztJQUMzRDtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQU07SUFDbkQ7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFrQjtJQUMvRCxrRkFBa0Y7SUFDbEYsdURBQXVEO0lBQ3ZELG9FQUFvRTtJQUNwRTtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWM7SUFDM0Q7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFvQjtJQUNqRTtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWM7SUFDM0Q7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFtQjtJQUNoRTtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWM7SUFDM0Q7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFtQjtJQUNoRTtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQW9CO0lBQ2pFO1FBQUNILE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBaUI7SUFDOUQ7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFpQjtJQUM5RDtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWM7SUFDM0Q7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFlO0lBQzVEO1FBQUNILE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBZTtJQUM1RDtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWtCO0lBQy9EO1FBQUNILE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBZTtJQUM1RDtRQUFDSCxNQUFNO1FBQU9DLFFBQVE7UUFBR0MsV0FBVztRQUFHQyxNQUFNO0lBQWE7SUFDMUQ7UUFBQ0gsTUFBTTtRQUFPQyxRQUFRO1FBQUdDLFdBQVc7UUFBR0MsTUFBTTtJQUFXO0lBQ3hEO1FBQUNILE1BQU07UUFBT0MsUUFBUTtRQUFHQyxXQUFXO1FBQUdDLE1BQU07SUFBc0I7Q0FDcEUifQ==

}),
41158: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ADD_TO_CART_ERRORS: function() {
        return ADD_TO_CART_ERRORS;
    },
    ADD_TO_CART_ERROR_MESSAGE: function() {
        return ADD_TO_CART_ERROR_MESSAGE;
    },
    ADD_TO_CART_LOADING: function() {
        return ADD_TO_CART_LOADING;
    },
    ADD_TO_CART_STATES: function() {
        return ADD_TO_CART_STATES;
    },
    ALIGN_DEFAULT: function() {
        return ALIGN_DEFAULT;
    },
    ALIGN_KEY: function() {
        return ALIGN_KEY;
    },
    ANIMATION_DURATION_DEFAULT: function() {
        return ANIMATION_DURATION_DEFAULT;
    },
    ANIMATION_DURATION_KEY: function() {
        return ANIMATION_DURATION_KEY;
    },
    ANIMATION_DURATION_KEYPATH: function() {
        return ANIMATION_DURATION_KEYPATH;
    },
    ANIMATION_EASING_DEFAULT: function() {
        return ANIMATION_EASING_DEFAULT;
    },
    ANIMATION_EASING_KEY: function() {
        return ANIMATION_EASING_KEY;
    },
    ANIMATION_EASING_KEYPATH: function() {
        return ANIMATION_EASING_KEYPATH;
    },
    BILLING_ADDRESS_TOGGLE_DEFAULT: function() {
        return BILLING_ADDRESS_TOGGLE_DEFAULT;
    },
    BILLING_ADDRESS_TOGGLE_KEY: function() {
        return BILLING_ADDRESS_TOGGLE_KEY;
    },
    BILLING_ADDRESS_TOGGLE_KEYPATH: function() {
        return BILLING_ADDRESS_TOGGLE_KEYPATH;
    },
    CART_CHECKOUT_BUTTON_TEXT_DEFAULT: function() {
        return CART_CHECKOUT_BUTTON_TEXT_DEFAULT;
    },
    CART_CHECKOUT_ERROR_MESSAGE: function() {
        return CART_CHECKOUT_ERROR_MESSAGE;
    },
    CART_CHECKOUT_ERROR_MESSAGE_SELECTOR: function() {
        return CART_CHECKOUT_ERROR_MESSAGE_SELECTOR;
    },
    CART_CHECKOUT_LOADING_TEXT_DEFAULT: function() {
        return CART_CHECKOUT_LOADING_TEXT_DEFAULT;
    },
    CART_COUNT_HIDE_RULES: function() {
        return CART_COUNT_HIDE_RULES;
    },
    CART_ERRORS: function() {
        return CART_ERRORS;
    },
    CART_ERROR_MESSAGE: function() {
        return CART_ERROR_MESSAGE;
    },
    CART_ERROR_MESSAGE_SELECTOR: function() {
        return CART_ERROR_MESSAGE_SELECTOR;
    },
    CART_GENERAL_ERROR_MESSAGE: function() {
        return CART_GENERAL_ERROR_MESSAGE;
    },
    CART_OPEN: function() {
        return CART_OPEN;
    },
    CART_PRODUCT_ADDED_DEFAULT: function() {
        return CART_PRODUCT_ADDED_DEFAULT;
    },
    CART_PRODUCT_ADDED_KEY: function() {
        return CART_PRODUCT_ADDED_KEY;
    },
    CART_PRODUCT_ADDED_KEYPATH: function() {
        return CART_PRODUCT_ADDED_KEYPATH;
    },
    CART_QUERY: function() {
        return CART_QUERY;
    },
    CART_STATE: function() {
        return CART_STATE;
    },
    CART_STATES: function() {
        return CART_STATES;
    },
    CART_STATES_AUTOMATION: function() {
        return CART_STATES_AUTOMATION;
    },
    CART_TYPE: function() {
        return CART_TYPE;
    },
    CART_TYPES: function() {
        return CART_TYPES;
    },
    CART_TYPE_DROPDOWN_ON_OPEN: function() {
        return CART_TYPE_DROPDOWN_ON_OPEN;
    },
    CART_TYPE_DROPDOWN_ON_OPEN_KEY: function() {
        return CART_TYPE_DROPDOWN_ON_OPEN_KEY;
    },
    CART_TYPE_KEY: function() {
        return CART_TYPE_KEY;
    },
    CHANGE_CART_EVENT: function() {
        return CHANGE_CART_EVENT;
    },
    CHECKOUT_BINDING_ROOT_QUERY_PATH: function() {
        return CHECKOUT_BINDING_ROOT_QUERY_PATH;
    },
    CHECKOUT_DISABLED_ERROR_MESSAGE: function() {
        return CHECKOUT_DISABLED_ERROR_MESSAGE;
    },
    CHECKOUT_ERRORS: function() {
        return CHECKOUT_ERRORS;
    },
    CHECKOUT_PLACE_ORDER_BUTTON_TEXT_DEFAULT: function() {
        return CHECKOUT_PLACE_ORDER_BUTTON_TEXT_DEFAULT;
    },
    CHECKOUT_PLACE_ORDER_LOADING_TEXT_DEFAULT: function() {
        return CHECKOUT_PLACE_ORDER_LOADING_TEXT_DEFAULT;
    },
    CHECKOUT_QUERY: function() {
        return CHECKOUT_QUERY;
    },
    CHECKOUT_STATE: function() {
        return CHECKOUT_STATE;
    },
    CHECKOUT_STATES: function() {
        return CHECKOUT_STATES;
    },
    COMMERCE_CART_ITEM_ID_ATTR: function() {
        return COMMERCE_CART_ITEM_ID_ATTR;
    },
    COMMERCE_CART_PUBLISHED_SITE_ACTIONS: function() {
        return COMMERCE_CART_PUBLISHED_SITE_ACTIONS;
    },
    COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR: function() {
        return COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR;
    },
    COMMERCE_CATEGORY_COLLECTION_SLUG: function() {
        return COMMERCE_CATEGORY_COLLECTION_SLUG;
    },
    COMMERCE_DEFAULT_COPY: function() {
        return COMMERCE_DEFAULT_COPY;
    },
    COMMERCE_ERROR_CATEGORY: function() {
        return COMMERCE_ERROR_CATEGORY;
    },
    COMMERCE_PLUGIN_KEY: function() {
        return COMMERCE_PLUGIN_KEY;
    },
    COMMERCE_PRODUCT_COLLECTION_SLUG: function() {
        return COMMERCE_PRODUCT_COLLECTION_SLUG;
    },
    COMMERCE_PRODUCT_FIELD_SLUG: function() {
        return COMMERCE_PRODUCT_FIELD_SLUG;
    },
    COMMERCE_SKU_COLLECTION_SLUG: function() {
        return COMMERCE_SKU_COLLECTION_SLUG;
    },
    COMMERCE_SKU_FIELD_SLUG: function() {
        return COMMERCE_SKU_FIELD_SLUG;
    },
    DATA_ATTR_ANIMATION_DURATION: function() {
        return DATA_ATTR_ANIMATION_DURATION;
    },
    DATA_ATTR_ANIMATION_EASING: function() {
        return DATA_ATTR_ANIMATION_EASING;
    },
    DATA_ATTR_COMMERCE_OPTION_SET_ID: function() {
        return DATA_ATTR_COMMERCE_OPTION_SET_ID;
    },
    DATA_ATTR_COMMERCE_PRODUCT_CURRENT_SKU_VALUES: function() {
        return DATA_ATTR_COMMERCE_PRODUCT_CURRENT_SKU_VALUES;
    },
    DATA_ATTR_COMMERCE_PRODUCT_ID: function() {
        return DATA_ATTR_COMMERCE_PRODUCT_ID;
    },
    DATA_ATTR_COMMERCE_SKU_ID: function() {
        return DATA_ATTR_COMMERCE_SKU_ID;
    },
    DATA_ATTR_COUNT_HIDE_RULE: function() {
        return DATA_ATTR_COUNT_HIDE_RULE;
    },
    DATA_ATTR_DEFAULT_TEXT: function() {
        return DATA_ATTR_DEFAULT_TEXT;
    },
    DATA_ATTR_LOADING_TEXT: function() {
        return DATA_ATTR_LOADING_TEXT;
    },
    DATA_ATTR_NODE_TYPE: function() {
        return DATA_ATTR_NODE_TYPE;
    },
    DATA_ATTR_OPEN_ON_HOVER: function() {
        return DATA_ATTR_OPEN_ON_HOVER;
    },
    DATA_ATTR_OPEN_PRODUCT: function() {
        return DATA_ATTR_OPEN_PRODUCT;
    },
    DATA_ATTR_PRESELECT_DEFAULT_VARIANT: function() {
        return DATA_ATTR_PRESELECT_DEFAULT_VARIANT;
    },
    DATA_ATTR_PUBLISHABLE_KEY: function() {
        return DATA_ATTR_PUBLISHABLE_KEY;
    },
    DATA_ATTR_SUBSCRIPTION_TEXT: function() {
        return DATA_ATTR_SUBSCRIPTION_TEXT;
    },
    DEFAULT_SKU_SLUG: function() {
        return DEFAULT_SKU_SLUG;
    },
    EASE_DEFAULT: function() {
        return EASE_DEFAULT;
    },
    EASINGS: function() {
        return EASINGS;
    },
    EDITABLE_STYLE_NAMES: function() {
        return EDITABLE_STYLE_NAMES;
    },
    HIDE_CART_COUNT_DEFAULT: function() {
        return HIDE_CART_COUNT_DEFAULT;
    },
    HIDE_CART_COUNT_KEY: function() {
        return HIDE_CART_COUNT_KEY;
    },
    HIDE_CART_WHEN_EMPTY_DEFAULT: function() {
        return HIDE_CART_WHEN_EMPTY_DEFAULT;
    },
    HIDE_CART_WHEN_EMPTY_KEY: function() {
        return HIDE_CART_WHEN_EMPTY_KEY;
    },
    HIDE_CART_WHEN_EMPTY_KEYPATH: function() {
        return HIDE_CART_WHEN_EMPTY_KEYPATH;
    },
    LOADING_TEXT: function() {
        return LOADING_TEXT;
    },
    LOADING_TEXT_DEFAULT: function() {
        return LOADING_TEXT_DEFAULT;
    },
    NEEDS_REFRESH: function() {
        return NEEDS_REFRESH;
    },
    NODE_NAME_COMMERCE_ADD_TO_CART_QUANTITY_INPUT: function() {
        return NODE_NAME_COMMERCE_ADD_TO_CART_QUANTITY_INPUT;
    },
    NODE_TYPE_ADD_TO_CART_ERROR: function() {
        return NODE_TYPE_ADD_TO_CART_ERROR;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_BUTTON: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_BUTTON;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_ERROR: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_ERROR;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_FORM: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_FORM;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_LIST: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_LIST;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_SELECT: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_SELECT;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_PILL: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_PILL;
    },
    NODE_TYPE_COMMERCE_ADD_TO_CART_PILL_GROUP: function() {
        return NODE_TYPE_COMMERCE_ADD_TO_CART_PILL_GROUP;
    },
    NODE_TYPE_COMMERCE_BUY_NOW_BUTTON: function() {
        return NODE_TYPE_COMMERCE_BUY_NOW_BUTTON;
    },
    NODE_TYPE_COMMERCE_CART_APPLE_PAY_BUTTON: function() {
        return NODE_TYPE_COMMERCE_CART_APPLE_PAY_BUTTON;
    },
    NODE_TYPE_COMMERCE_CART_CHECKOUT_BUTTON: function() {
        return NODE_TYPE_COMMERCE_CART_CHECKOUT_BUTTON;
    },
    NODE_TYPE_COMMERCE_CART_CLOSE_LINK: function() {
        return NODE_TYPE_COMMERCE_CART_CLOSE_LINK;
    },
    NODE_TYPE_COMMERCE_CART_CONTAINER: function() {
        return NODE_TYPE_COMMERCE_CART_CONTAINER;
    },
    NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER;
    },
    NODE_TYPE_COMMERCE_CART_ERROR: function() {
        return NODE_TYPE_COMMERCE_CART_ERROR;
    },
    NODE_TYPE_COMMERCE_CART_FORM: function() {
        return NODE_TYPE_COMMERCE_CART_FORM;
    },
    NODE_TYPE_COMMERCE_CART_OPEN_LINK: function() {
        return NODE_TYPE_COMMERCE_CART_OPEN_LINK;
    },
    NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_ACTIONS: function() {
        return NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_ACTIONS;
    },
    NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_BUTTON: function() {
        return NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_BUTTON;
    },
    NODE_TYPE_COMMERCE_CART_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_CART_WRAPPER;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_ADDITIONAL_INFO: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_ADDITIONAL_INFO;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_ZIP_FIELD: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_ZIP_FIELD;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_CUSTOMER_INFO_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_CUSTOMER_INFO_WRAPPER;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_FORM: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_FORM;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_INPUT: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_INPUT;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_ERROR_STATE: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_ERROR_STATE;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_ZIP_FIELD: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_ZIP_FIELD;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_EMPTY_STATE: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_EMPTY_STATE;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_LIST: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_LIST;
    },
    NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER;
    },
    NODE_TYPE_COMMERCE_DOWNLOADS_BUTTON: function() {
        return NODE_TYPE_COMMERCE_DOWNLOADS_BUTTON;
    },
    NODE_TYPE_COMMERCE_ORDER_CONFIRMATION_WRAPPER: function() {
        return NODE_TYPE_COMMERCE_ORDER_CONFIRMATION_WRAPPER;
    },
    NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_ERROR_STATE: function() {
        return NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_ERROR_STATE;
    },
    NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER: function() {
        return NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER;
    },
    OPEN_STATE_DEFAULT: function() {
        return OPEN_STATE_DEFAULT;
    },
    OPEN_STATE_KEY: function() {
        return OPEN_STATE_KEY;
    },
    OPEN_STATE_KEYPATH: function() {
        return OPEN_STATE_KEYPATH;
    },
    ORDER_QUERY: function() {
        return ORDER_QUERY;
    },
    ORDER_TYPE: function() {
        return ORDER_TYPE;
    },
    PAYPAL_BUTTON_ELEMENT_INSTANCE: function() {
        return PAYPAL_BUTTON_ELEMENT_INSTANCE;
    },
    PAYPAL_ELEMENT_INSTANCE: function() {
        return PAYPAL_ELEMENT_INSTANCE;
    },
    PREVIEW_ITEMS_DEFAULT: function() {
        return PREVIEW_ITEMS_DEFAULT;
    },
    PREVIEW_ITEMS_KEY: function() {
        return PREVIEW_ITEMS_KEY;
    },
    PREVIEW_ITEMS_KEYPATH: function() {
        return PREVIEW_ITEMS_KEYPATH;
    },
    QUANTITY_ENABLED: function() {
        return QUANTITY_ENABLED;
    },
    QUICK_CHECKOUT_AUTOMATION: function() {
        return QUICK_CHECKOUT_AUTOMATION;
    },
    QUICK_CHECKOUT_STATE: function() {
        return QUICK_CHECKOUT_STATE;
    },
    QUICK_CHECKOUT_STATES: function() {
        return QUICK_CHECKOUT_STATES;
    },
    QUICK_CHECKOUT_STATE_KEYPATH: function() {
        return QUICK_CHECKOUT_STATE_KEYPATH;
    },
    RENDER_TREE_EVENT: function() {
        return RENDER_TREE_EVENT;
    },
    REQUIRES_ACTION: function() {
        return REQUIRES_ACTION;
    },
    REQUIRES_SHIPPING: function() {
        return REQUIRES_SHIPPING;
    },
    SECTION_NAMES: function() {
        return SECTION_NAMES;
    },
    SHIPPING_METHODS_STATE: function() {
        return SHIPPING_METHODS_STATE;
    },
    SHIPPING_METHODS_STATES: function() {
        return SHIPPING_METHODS_STATES;
    },
    STATE: function() {
        return STATE;
    },
    STRIPE_ECOMMERCE_ACCOUNT_ID: function() {
        return STRIPE_ECOMMERCE_ACCOUNT_ID;
    },
    STRIPE_ECOMMERCE_KEY: function() {
        return STRIPE_ECOMMERCE_KEY;
    },
    STRIPE_ELEMENT_INSTANCE: function() {
        return STRIPE_ELEMENT_INSTANCE;
    },
    STRIPE_ELEMENT_STYLE: function() {
        return STRIPE_ELEMENT_STYLE;
    },
    STRIPE_ELEMENT_TYPE: function() {
        return STRIPE_ELEMENT_TYPE;
    },
    WF_BINDING_DATA_KEY: function() {
        return WF_BINDING_DATA_KEY;
    },
    WF_COLLECTION_DATA_KEY: function() {
        return WF_COLLECTION_DATA_KEY;
    },
    WF_CONDITION_DATA_KEY: function() {
        return WF_CONDITION_DATA_KEY;
    },
    WF_SKU_BINDING_DATA_KEY: function() {
        return WF_SKU_BINDING_DATA_KEY;
    },
    WF_SKU_CONDITION_DATA_KEY: function() {
        return WF_SKU_CONDITION_DATA_KEY;
    },
    WF_TEMPLATE_ID_DATA_KEY: function() {
        return WF_TEMPLATE_ID_DATA_KEY;
    },
    WF_TEMPLATE_TYPE: function() {
        return WF_TEMPLATE_TYPE;
    },
    getATCErrorMessageForType: function() {
        return getATCErrorMessageForType;
    },
    getCartErrorMessageForType: function() {
        return getCartErrorMessageForType;
    },
    getCheckoutErrorMessageForType: function() {
        return getCheckoutErrorMessageForType;
    },
    symbolMap: function() {
        return symbolMap;
    }
});
const DATA_ATTR_COMMERCE_SKU_ID = 'data-commerce-sku-id';
const DATA_ATTR_COMMERCE_PRODUCT_CURRENT_SKU_VALUES = 'data-commerce-product-sku-values';
const DATA_ATTR_COMMERCE_OPTION_SET_ID = 'data-commerce-option-set-id';
const DATA_ATTR_COMMERCE_PRODUCT_ID = 'data-commerce-product-id';
const DATA_ATTR_NODE_TYPE = 'data-node-type';
const DATA_ATTR_LOADING_TEXT = 'data-loading-text';
const DATA_ATTR_OPEN_PRODUCT = 'data-open-product';
const DATA_ATTR_OPEN_ON_HOVER = 'data-open-on-hover';
const DATA_ATTR_COUNT_HIDE_RULE = 'data-count-hide-rule';
const DATA_ATTR_PRESELECT_DEFAULT_VARIANT = 'data-preselect-default-variant';
const DATA_ATTR_DEFAULT_TEXT = 'data-default-text';
const DATA_ATTR_SUBSCRIPTION_TEXT = 'data-subscription-text';
const NODE_TYPE_COMMERCE_ADD_TO_CART_FORM = 'commerce-add-to-cart-form';
const NODE_TYPE_COMMERCE_ADD_TO_CART_ERROR = 'commerce-add-to-cart-error';
const NODE_TYPE_COMMERCE_CART_ERROR = 'commerce-cart-error';
const NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_SELECT = 'commerce-add-to-cart-option-select';
const NODE_TYPE_COMMERCE_ADD_TO_CART_OPTION_LIST = 'commerce-add-to-cart-option-list';
const NODE_TYPE_COMMERCE_ADD_TO_CART_PILL_GROUP = 'commerce-add-to-cart-pill-group';
const NODE_TYPE_COMMERCE_ADD_TO_CART_PILL = 'commerce-add-to-cart-pill';
const NODE_TYPE_COMMERCE_CART_WRAPPER = 'commerce-cart-wrapper';
const NODE_TYPE_COMMERCE_CART_OPEN_LINK = 'commerce-cart-open-link';
const NODE_TYPE_COMMERCE_CART_CLOSE_LINK = 'commerce-cart-close-link';
const NODE_TYPE_COMMERCE_CART_CONTAINER_WRAPPER = 'commerce-cart-container-wrapper';
const NODE_TYPE_COMMERCE_CART_CONTAINER = 'commerce-cart-container';
const NODE_TYPE_COMMERCE_CART_CHECKOUT_BUTTON = 'cart-checkout-button';
const NODE_TYPE_COMMERCE_CART_FORM = 'commerce-cart-form';
const NODE_NAME_COMMERCE_ADD_TO_CART_QUANTITY_INPUT = 'commerce-add-to-cart-quantity-input';
const NODE_TYPE_COMMERCE_CHECKOUT_FORM_CONTAINER = 'commerce-checkout-form-container';
const NODE_TYPE_COMMERCE_CHECKOUT_CUSTOMER_INFO_WRAPPER = 'commerce-checkout-customer-info-wrapper';
const NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_WRAPPER = 'commerce-checkout-shipping-address-wrapper';
const NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_ADDRESS_ZIP_FIELD = 'commerce-checkout-shipping-zip-field';
const NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_ZIP_FIELD = 'commerce-checkout-billing-zip-field';
const NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_WRAPPER = 'commerce-checkout-billing-address-wrapper';
const NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_WRAPPER = 'commerce-checkout-shipping-methods-wrapper';
const NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_LIST = 'commerce-checkout-shipping-methods-list';
const NODE_TYPE_COMMERCE_CHECKOUT_SHIPPING_METHODS_EMPTY_STATE = 'commerce-checkout-shipping-methods-empty-state';
const NODE_TYPE_COMMERCE_CHECKOUT_BILLING_ADDRESS_TOGGLE_CHECKBOX = 'commerce-checkout-billing-address-toggle-checkbox';
const NODE_TYPE_COMMERCE_CHECKOUT_PLACE_ORDER_BUTTON = 'commerce-checkout-place-order-button';
const NODE_TYPE_COMMERCE_CHECKOUT_ERROR_STATE = 'commerce-checkout-error-state';
const NODE_TYPE_COMMERCE_ORDER_CONFIRMATION_WRAPPER = 'commerce-order-confirmation-wrapper';
const NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_ACTIONS = 'commerce-cart-quick-checkout-actions';
const NODE_TYPE_COMMERCE_CART_QUICK_CHECKOUT_BUTTON = 'commerce-cart-quick-checkout-button';
const NODE_TYPE_COMMERCE_CART_APPLE_PAY_BUTTON = 'commerce-cart-apple-pay-button';
const NODE_TYPE_COMMERCE_CHECKOUT_ADDITIONAL_INFO = 'commerce-checkout-additional-info';
const NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_FORM_CONTAINER = 'commerce-paypal-checkout-form-container';
const NODE_TYPE_COMMERCE_PAYPAL_CHECKOUT_ERROR_STATE = 'commerce-checkout-error-state';
const NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_FORM = 'commerce-checkout-discount-form';
const NODE_TYPE_COMMERCE_CHECKOUT_DISCOUNT_INPUT = 'commerce-checkout-discount-input';
const NODE_TYPE_COMMERCE_BUY_NOW_BUTTON = 'commerce-buy-now-button';
const NODE_TYPE_COMMERCE_DOWNLOADS_BUTTON = 'commerce-downloads-button';
const NODE_TYPE_COMMERCE_ADD_TO_CART_BUTTON = 'commerce-add-to-cart-button';
const NODE_TYPE_ADD_TO_CART_ERROR = 'commerce-add-to-cart-error';
const ADD_TO_CART_STATES = {
    DEFAULT: 'DEFAULT',
    OUT_OF_STOCK: 'OUT_OF_STOCK',
    ERROR: 'ERROR'
};
const CART_STATES = {
    DEFAULT: 'DEFAULT',
    EMPTY: 'EMPTY',
    ERROR: 'ERROR'
};
const CART_STATES_AUTOMATION = {
    DEFAULT: 'cart-default-button',
    EMPTY: 'cart-empty-button',
    ERROR: 'cart-error-button'
};
const CHECKOUT_STATES = {
    DEFAULT: 'DEFAULT',
    ERROR: 'ERROR'
};
const SHIPPING_METHODS_STATES = {
    DEFAULT: 'DEFAULT',
    EMPTY: 'EMPTY'
};
const CART_TYPE_DROPDOWN_ON_OPEN = {
    CLICK: 'CLICK',
    HOVER: 'HOVER'
};
const CART_TYPES = {
    MODAL: 'modal',
    LEFT_SIDEBAR: 'leftSidebar',
    RIGHT_SIDEBAR: 'rightSidebar',
    LEFT_DROPDOWN: 'leftDropdown',
    RIGHT_DROPDOWN: 'rightDropdown',
    DROPDOWN: 'dropdown'
};
const CART_COUNT_HIDE_RULES = {
    ALWAYS: 'always',
    EMPTY: 'empty'
};
const QUICK_CHECKOUT_STATES = {
    NONE: 'NONE',
    PAY_NOW: 'PAY_NOW',
    APPLE_PAY: 'APPLE_PAY'
};
const QUICK_CHECKOUT_AUTOMATION = {
    PAY_NOW: 'quick-checkout-default-button',
    APPLE_PAY: 'quick-checkout-apple-pay-button'
};
const PREVIEW_ITEMS_DEFAULT = 3;
const PREVIEW_ITEMS_KEY = 'previewItems';
const PREVIEW_ITEMS_KEYPATH = [
    'data',
    'temp',
    PREVIEW_ITEMS_KEY
];
const QUANTITY_ENABLED = 'quantityEnabled';
const STATE = 'state';
const CART_STATE = 'state';
const QUICK_CHECKOUT_STATE = 'state';
const QUICK_CHECKOUT_STATE_KEYPATH = [
    'data',
    'temp',
    QUICK_CHECKOUT_STATE
];
const CHECKOUT_STATE = 'state';
const SHIPPING_METHODS_STATE = 'shippingMethodsState';
const OPEN_STATE_KEY = 'isOpen';
const OPEN_STATE_KEYPATH = [
    'data',
    'temp',
    OPEN_STATE_KEY
];
const OPEN_STATE_DEFAULT = false;
const BILLING_ADDRESS_TOGGLE_KEY = 'isBillingAddressOpen';
const BILLING_ADDRESS_TOGGLE_KEYPATH = [
    'data',
    'temp',
    BILLING_ADDRESS_TOGGLE_KEY
];
const BILLING_ADDRESS_TOGGLE_DEFAULT = true;
const HIDE_CART_WHEN_EMPTY_KEY = 'hideCartWhenEmpty';
const HIDE_CART_WHEN_EMPTY_KEYPATH = [
    'data',
    'commerce',
    HIDE_CART_WHEN_EMPTY_KEY
];
const HIDE_CART_WHEN_EMPTY_DEFAULT = false;
const HIDE_CART_COUNT_KEY = 'hideCartCount';
const HIDE_CART_COUNT_DEFAULT = false;
const LOADING_TEXT = 'loadingText';
const LOADING_TEXT_DEFAULT = 'Adding to cart...';
const CART_CHECKOUT_BUTTON_TEXT_DEFAULT = 'Continue to Checkout';
const CART_CHECKOUT_LOADING_TEXT_DEFAULT = 'Hang Tight...';
const CHECKOUT_PLACE_ORDER_BUTTON_TEXT_DEFAULT = 'Place Order';
const CHECKOUT_PLACE_ORDER_LOADING_TEXT_DEFAULT = 'Placing Order...';
const CART_TYPE_KEY = 'cartType';
const ALIGN_KEY = 'align';
const ALIGN_DEFAULT = 'rightDropdown';
const CART_TYPE_DROPDOWN_ON_OPEN_KEY = 'openOn';
const CART_PRODUCT_ADDED_KEY = 'openWhenProductAdded';
const CART_PRODUCT_ADDED_KEYPATH = [
    'data',
    'commerce',
    CART_PRODUCT_ADDED_KEY
];
const CART_PRODUCT_ADDED_DEFAULT = true;
const COMMERCE_CART_PUBLISHED_SITE_ACTION_ATTR = 'data-wf-cart-action';
const COMMERCE_CART_PUBLISHED_SITE_ACTIONS = {
    UPDATE_ITEM_QUANTITY: 'update-item-quantity',
    REMOVE_ITEM: 'remove-item'
};
const COMMERCE_CART_ITEM_ID_ATTR = 'data-wf-item-id';
const COMMERCE_SKU_COLLECTION_SLUG = 'sku';
const COMMERCE_SKU_FIELD_SLUG = 'sku';
const COMMERCE_PRODUCT_COLLECTION_SLUG = 'product';
const COMMERCE_PRODUCT_FIELD_SLUG = 'product';
const COMMERCE_CATEGORY_COLLECTION_SLUG = 'category';
const COMMERCE_PLUGIN_KEY = 'ecommerce';
const DEFAULT_SKU_SLUG = 'default-sku';
const WF_BINDING_DATA_KEY = 'data-wf-bindings';
const WF_CONDITION_DATA_KEY = 'data-wf-conditions';
const WF_COLLECTION_DATA_KEY = 'data-wf-collection';
const WF_TEMPLATE_ID_DATA_KEY = 'data-wf-template-id';
const WF_SKU_BINDING_DATA_KEY = 'data-wf-sku-bindings';
const WF_SKU_CONDITION_DATA_KEY = 'data-wf-sku-conditions';
const WF_TEMPLATE_TYPE = 'text/x-wf-template';
const INFO_ERR = 'INFO_ERROR';
const SHIPPING_ERR = 'SHIPPING_ERROR';
const BILLING_ERR = 'BILLING_ERROR';
const PAYMENT_ERR = 'PAYMENT_ERROR';
const PRICING_ERR = 'PRICING_ERROR';
const ORDER_MIN_ERR = 'ORDER_MINIMUM_ERROR';
const ORDER_EXTRAS_ERR = 'ORDER_EXTRAS_ERROR';
const PRODUCT_ERR = 'PRODUCT_ERROR';
const INVALID_DISCOUNT_ERR = 'INVALID_DISCOUNT_ERROR';
const EXPIRED_DISCOUNT_ERR = 'EXPIRED_DISCOUNT_ERROR';
const USAGE_REACHED_DISCOUNT_ERR = 'USAGE_REACHED_DISCOUNT_ERROR';
const REQUIREMENTS_NOT_MET_DISCOUNT_ERR = 'REQUIREMENTS_NOT_MET_DISCOUNT_ERROR';
const COMMERCE_ERROR_CATEGORY = {
    GENERAL: {
        id: 'GENERAL',
        label: 'General Errors'
    },
    PRODUCT: {
        id: 'PRODUCT',
        label: 'Product Errors'
    },
    BILLING: {
        id: 'BILLING',
        label: 'Billing Errors'
    },
    DISCOUNT: {
        id: 'DISCOUNT',
        label: 'Discount Errors'
    },
    SUBSCRIPTION: {
        id: 'SUBSCRIPTION',
        label: 'Subscription Errors'
    }
};
const CHECKOUT_ERRORS = {
    INFO: {
        id: INFO_ERR,
        name: 'General customer info error',
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        copy: 'There was an error processing your customer info. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'commerce',
            INFO_ERR
        ]
    },
    SHIPPING: {
        id: SHIPPING_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Shipping not available',
        copy: 'Sorry. We cant ship your order to the address provided.',
        path: [
            'data',
            'commerce',
            SHIPPING_ERR
        ]
    },
    EXTRAS: {
        id: ORDER_EXTRAS_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Merchant setting changed',
        copy: 'A merchant setting has changed that impacts your cart. Please refresh and try again.',
        path: [
            'data',
            'commerce',
            ORDER_EXTRAS_ERR
        ],
        requiresRefresh: true
    },
    PRICING: {
        id: PRICING_ERR,
        category: COMMERCE_ERROR_CATEGORY.PRODUCT,
        name: 'Product price changed',
        copy: 'The prices of one or more items in your cart have changed. Please refresh this page and try again.',
        path: [
            'data',
            'commerce',
            PRICING_ERR
        ],
        requiresRefresh: true
    },
    PRODUCT: {
        id: PRODUCT_ERR,
        category: COMMERCE_ERROR_CATEGORY.PRODUCT,
        name: 'Product removed',
        copy: 'One or more of the products in your cart have been removed. Please refresh the page and try again.',
        path: [
            'data',
            'commerce',
            PRODUCT_ERR
        ],
        requiresRefresh: true
    },
    PAYMENT: {
        id: PAYMENT_ERR,
        category: COMMERCE_ERROR_CATEGORY.BILLING,
        name: 'General payment error',
        copy: 'There was an error processing your payment. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'commerce',
            PAYMENT_ERR
        ]
    },
    BILLING: {
        id: BILLING_ERR,
        category: COMMERCE_ERROR_CATEGORY.BILLING,
        name: 'Card declined',
        copy: 'Your payment could not be completed with the payment information provided. Please make sure that your card and billing address information is correct, or try a different payment card, to complete this order. Contact us if you continue to have problems.',
        path: [
            'data',
            'commerce',
            BILLING_ERR
        ]
    },
    MINIMUM: {
        id: ORDER_MIN_ERR,
        category: COMMERCE_ERROR_CATEGORY.BILLING,
        name: 'Order minimum not met',
        copy: 'The order minimum was not met. Add more items to your cart to continue.',
        path: [
            'data',
            'commerce',
            ORDER_MIN_ERR
        ],
        note: {
            copy: "You can customize this message with the exact minimum based on your Stripe account's settlement currency.",
            cta: {
                copy: 'Go to Stripe docs',
                link: 'https://stripe.com/docs/currencies#minimum-and-maximum-charge-amounts'
            }
        }
    },
    INVALID_DISCOUNT: {
        id: INVALID_DISCOUNT_ERR,
        category: COMMERCE_ERROR_CATEGORY.DISCOUNT,
        name: 'Invalid discount error',
        copy: 'This discount is invalid.',
        path: [
            'data',
            'commerce',
            INVALID_DISCOUNT_ERR
        ]
    },
    EXPIRED_DISCOUNT: {
        id: EXPIRED_DISCOUNT_ERR,
        category: COMMERCE_ERROR_CATEGORY.DISCOUNT,
        name: 'Discount expired',
        copy: 'This discount is no longer available.',
        path: [
            'data',
            'commerce',
            EXPIRED_DISCOUNT_ERR
        ]
    },
    USAGE_REACHED_DISCOUNT: {
        id: USAGE_REACHED_DISCOUNT_ERR,
        category: COMMERCE_ERROR_CATEGORY.DISCOUNT,
        name: 'Discount usage limit reached',
        copy: 'This discount is no longer available.',
        path: [
            'data',
            'commerce',
            USAGE_REACHED_DISCOUNT_ERR
        ]
    },
    REQUIREMENTS_NOT_MET_DISCOUNT: {
        id: REQUIREMENTS_NOT_MET_DISCOUNT_ERR,
        category: COMMERCE_ERROR_CATEGORY.DISCOUNT,
        name: 'Discount requirements not met',
        copy: 'Your order does not meet the requirements for this discount.',
        path: [
            'data',
            'commerce',
            REQUIREMENTS_NOT_MET_DISCOUNT_ERR
        ]
    }
};
const QUANTITY_ERR = 'QUANTITY_ERROR';
const CHECKOUT_ERR = 'CHECKOUT_ERROR';
const GENERAL_ERR = 'GENERAL_ERROR';
const CART_ORDER_MIN_ERR = 'CART_ORDER_MIN_ERROR';
const SUBSCRIPTION_ERR = 'SUBSCRIPTION_ERR';
const CART_ERRORS = {
    QUANTITY: {
        id: QUANTITY_ERR,
        name: 'Quantity not available',
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        copy: 'Product is not available in this quantity.',
        path: [
            'data',
            'commerce',
            QUANTITY_ERR
        ]
    },
    GENERAL: {
        id: GENERAL_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'General error',
        copy: 'Something went wrong when adding this item to the cart.',
        path: [
            'data',
            'commerce',
            GENERAL_ERR
        ]
    },
    CHECKOUT: {
        id: CHECKOUT_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Checkout disabled',
        copy: 'Checkout is disabled on this site.',
        path: [
            'data',
            'commerce',
            CHECKOUT_ERR
        ]
    },
    CART_ORDER_MIN: {
        id: CART_ORDER_MIN_ERR,
        category: COMMERCE_ERROR_CATEGORY.BILLING,
        name: 'Order minimum not met',
        copy: 'The order minimum was not met. Add more items to your cart to continue.',
        path: [
            'data',
            'commerce',
            CART_ORDER_MIN_ERR
        ]
    },
    SUBSCRIPTION_ERROR: {
        id: SUBSCRIPTION_ERR,
        category: COMMERCE_ERROR_CATEGORY.SUBSCRIPTION,
        name: 'Subscription not verified',
        copy: 'Before you purchase, please use your email invite to verify your address so we can send order updates.',
        path: [
            'data',
            'commerce',
            SUBSCRIPTION_ERR
        ]
    }
};
const ADD_TO_CART_QUANTITY_ERR = 'ADD_TO_CART_QUANTITY_ERROR';
const ADD_TO_CART_GENERAL_ERR = 'ADD_TO_CART_GENERAL_ERROR';
const ADD_TO_CART_MIXED_ERR = 'ADD_TO_CART_MIXED_ERROR';
const ADD_TO_CART_ERRORS = {
    QUANTITY: {
        id: ADD_TO_CART_QUANTITY_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Quantity not available',
        copy: 'Product is not available in this quantity.',
        path: [
            'data',
            'commerce',
            ADD_TO_CART_QUANTITY_ERR
        ]
    },
    GENERAL: {
        id: ADD_TO_CART_GENERAL_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Add to Cart error',
        copy: 'Something went wrong when adding this item to the cart.',
        path: [
            'data',
            'commerce',
            ADD_TO_CART_GENERAL_ERR
        ]
    },
    MIXED_CART: {
        id: ADD_TO_CART_MIXED_ERR,
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Add to mixed Cart error',
        copy: 'You cant purchase another product with a subscription.'
    },
    BUY_NOW: {
        id: 'BUY_NOW_ERROR',
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Buy now error',
        copy: 'Something went wrong when trying to purchase this item.'
    },
    CHECKOUT_DISABLED: {
        id: 'CHECKOUT_DISABLED_ERROR',
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Checkout disabled',
        copy: 'Checkout is disabled on this site.'
    },
    SELECT_ALL_OPTIONS: {
        id: 'SELECT_ALL_OPTIONS',
        category: COMMERCE_ERROR_CATEGORY.GENERAL,
        name: 'Option selection required',
        copy: 'Please select an option in each set.',
        path: [
            'data',
            'commerce',
            'SELECT_ALL_OPTIONS'
        ]
    }
};
const DATA_ATTR_ANIMATION_EASING = 'data-wf-cart-easing';
const ANIMATION_EASING_DEFAULT = 'ease-out-quad';
const ANIMATION_EASING_KEY = 'easingType';
const ANIMATION_EASING_KEYPATH = [
    'data',
    'commerce',
    ANIMATION_EASING_KEY
];
const DATA_ATTR_ANIMATION_DURATION = 'data-wf-cart-duration';
const ANIMATION_DURATION_DEFAULT = 300;
const ANIMATION_DURATION_KEY = 'duration';
const ANIMATION_DURATION_KEYPATH = [
    'data',
    'commerce',
    ANIMATION_DURATION_KEY
];
const DATA_ATTR_PUBLISHABLE_KEY = 'data-publishable-key';
const EDITABLE_STYLE_NAMES = [
    'backgroundColor',
    'backgroundSize',
    'backgroundPosition',
    'backgroundImage',
    'backgroundRepeat',
    'border',
    'borderRadius',
    'boxShadow',
    'clear',
    'color',
    'cursor',
    'direction',
    'display',
    'filter',
    'float',
    'fontFamily',
    'fontSize',
    'fontStyle',
    'fontWeight',
    'height',
    'lineHeight',
    'letterSpacing',
    'listStyleType',
    'marginBottom',
    'marginLeft',
    'marginRight',
    'marginTop',
    'maxHeight',
    'minHeight',
    'maxWidth',
    'minWidth',
    'mixBlendMode',
    'opacity',
    'overflow',
    'outlineColor',
    'outlineOffset',
    'outlineStyle',
    'outlineWidth',
    'paddingBottom',
    'paddingLeft',
    'paddingRight',
    'paddingTop',
    'position',
    'textAlign',
    'textColumns',
    'textDecoration',
    'textIndent',
    'textTransform',
    'textShadow',
    'transform',
    'transition',
    'whiteSpace',
    'width'
];
const symbolMap = {
    aed: '.',
    afn: '',
    all: 'L',
    amd: '',
    ang: '',
    aoa: 'Kz',
    ars: '$',
    aud: '$',
    awg: '',
    azn: '',
    bam: 'KM',
    bbd: '$',
    bdt: '',
    bgn: '',
    bhd: '..',
    bif: 'FBu',
    bmd: '$',
    bnd: '$',
    bob: '$b',
    brl: 'R$',
    bsd: '$',
    btc: '',
    btn: 'Nu.',
    bwp: 'P',
    byr: 'Br',
    byn: 'Br',
    bzd: 'BZ$',
    cad: '$',
    cdf: 'FC',
    chf: 'CHF',
    clp: '$',
    cny: '',
    cop: '$',
    crc: '',
    cuc: '$',
    cup: '',
    cve: '$',
    czk: 'K',
    djf: 'Fdj',
    dkk: 'kr',
    dop: 'RD$',
    dzd: '',
    eek: 'kr',
    egp: '',
    ern: 'Nfk',
    etb: 'Br',
    eth: '',
    eur: '',
    fjd: '$',
    fkp: '',
    gbp: '',
    gel: '',
    ggp: '',
    ghc: '',
    ghs: 'GH',
    gip: '',
    gmd: 'D',
    gnf: 'FG',
    gtq: 'Q',
    gyd: '$',
    hkd: '$',
    hnl: 'L',
    hrk: 'kn',
    htg: 'G',
    huf: 'Ft',
    idr: 'Rp',
    ils: '',
    imp: '',
    inr: '',
    iqd: '.',
    irr: '',
    isk: 'kr',
    jep: '',
    jmd: 'J$',
    jod: 'JD',
    jpy: '',
    kes: 'KSh',
    kgs: '',
    khr: '',
    kmf: 'CF',
    kpw: '',
    krw: '',
    kwd: 'KD',
    kyd: '$',
    kzt: '',
    lak: '',
    lbp: '',
    lkr: '',
    lrd: '$',
    lsl: 'M',
    ltc: '',
    ltl: 'Lt',
    lvl: 'Ls',
    lyd: 'LD',
    mad: 'MAD',
    mdl: 'lei',
    mga: 'Ar',
    mkd: '',
    mmk: 'K',
    mnt: '',
    mop: 'MOP$',
    mro: 'UM',
    mru: 'UM',
    mur: '',
    mvr: 'Rf',
    mwk: 'MK',
    mxn: '$',
    myr: 'RM',
    mzn: 'MT',
    nad: '$',
    ngn: '',
    nio: 'C$',
    nok: 'kr',
    npr: '',
    nzd: '$',
    omr: '',
    pab: 'B/.',
    pen: 'S/.',
    pgk: 'K',
    php: '',
    pkr: '',
    pln: 'z',
    pyg: 'Gs',
    qar: '',
    rmb: '',
    ron: 'lei',
    rsd: '.',
    rub: '',
    rwf: 'R',
    sar: '',
    sbd: '$',
    scr: '',
    sdg: '..',
    sek: 'kr',
    sgd: '$',
    shp: '',
    sll: 'Le',
    sos: 'S',
    srd: '$',
    ssp: '',
    std: 'Db',
    stn: 'Db',
    svc: '$',
    syp: '',
    szl: 'E',
    thb: '',
    tjs: 'SM',
    tmt: 'T',
    tnd: '.',
    top: 'T$',
    trl: '',
    try: '',
    ttd: 'TT$',
    tvd: '$',
    twd: 'NT$',
    tzs: 'TSh',
    uah: '',
    ugx: 'USh',
    usd: '$',
    uyu: '$U',
    uzs: '',
    vef: 'Bs',
    vnd: '',
    vuv: 'VT',
    wst: 'WS$',
    xaf: 'FCFA',
    xbt: '',
    xcd: '$',
    xof: 'CFA',
    xpf: '',
    yer: '',
    zar: 'R',
    zwd: 'Z$'
};
const CHECKOUT_BINDING_ROOT_QUERY_PATH = [
    'database',
    'commerceOrder'
];
const ORDER_TYPE = {
    REQUIRE_SHIPPING: 'shipping',
    NO_SHIPPING: 'noShipping'
};
const RENDER_TREE_EVENT = 'wf-render-tree';
const NEEDS_REFRESH = 'data-wf-needs-refresh';
const REQUIRES_SHIPPING = 'data-wf-order-requires-shipping';
const STRIPE_ELEMENT_INSTANCE = 'data-wf-stripe-element-instance';
const STRIPE_ELEMENT_TYPE = 'data-wf-stripe-element-type';
const STRIPE_ELEMENT_STYLE = 'data-wf-stripe-style';
const ADD_TO_CART_LOADING = 'data-wf-atc-loading';
const CHANGE_CART_EVENT = 'wf-change-cart-state';
const ADD_TO_CART_ERROR_MESSAGE = '.w-add-to-cart-error-msg';
const getATCErrorMessageForType = (errorType)=>`data-w-add-to-cart-${errorType}-error`;
const CHECKOUT_DISABLED_ERROR_MESSAGE = 'data-w-add-to-cart-checkout-disabled-error';
const CHECKOUT_QUERY = 'data-wf-checkout-query';
const getCheckoutErrorMessageForType = (errorType)=>`data-w-${errorType}-error`;
const REQUIRES_ACTION = 'requires_action';
const CART_GENERAL_ERROR_MESSAGE = 'data-w-cart-general-error';
const CART_CHECKOUT_ERROR_MESSAGE = 'data-w-cart-checkout-error';
const CART_CHECKOUT_ERROR_MESSAGE_SELECTOR = '.w-checkout-error-msg';
const CART_ERROR_MESSAGE = 'cart-error-msg';
const CART_ERROR_MESSAGE_SELECTOR = `.w-${CART_ERROR_MESSAGE}`;
const CART_OPEN = 'data-cart-open';
const CART_TYPE = 'data-wf-cart-type';
const CART_QUERY = 'data-wf-cart-query';
const PAYPAL_ELEMENT_INSTANCE = 'data-wf-paypal-element';
const PAYPAL_BUTTON_ELEMENT_INSTANCE = 'data-wf-paypal-button';
const getCartErrorMessageForType = (errorType)=>`data-w-cart-${errorType}-error`;
const ORDER_QUERY = 'data-wf-order-query';
const STRIPE_ECOMMERCE_KEY = 'data-wf-ecomm-key';
const STRIPE_ECOMMERCE_ACCOUNT_ID = 'data-wf-ecomm-acct-id';
const EASINGS = {
    ease: 'Ease',
    'ease-in': 'Ease In',
    'ease-out': 'Ease Out',
    'ease-in-out': 'Ease In Out',
    linear: 'Linear',
    'ease-in-quad': 'Ease In Quad',
    'ease-in-cubic': 'Ease In Cubic',
    'ease-in-quart': 'Ease In Quart',
    'ease-in-quint': 'Ease In Quint',
    'ease-in-sine': 'Ease In Sine',
    'ease-in-expo': 'Ease In Expo',
    'ease-in-circ': 'Ease In Circ',
    'ease-in-back': 'Ease In Back',
    'ease-out-quad': 'Ease Out Quad',
    'ease-out-cubic': 'Ease Out Cubic',
    'ease-out-quart': 'Ease Out Quart',
    'ease-out-quint': 'Ease Out Quint',
    'ease-out-sine': 'Ease Out Sine',
    'ease-out-expo': 'Ease Out Expo',
    'ease-out-circ': 'Ease Out Circ',
    'ease-out-back': 'Ease Out Back',
    'ease-in-out-quad': 'Ease In Out Quad',
    'ease-in-out-cubic': 'Ease In Out Cubic',
    'ease-in-out-quart': 'Ease In Out Quart',
    'ease-in-out-quint': 'Ease In Out Quint',
    'ease-in-out-sine': 'Ease In Out Sine',
    'ease-in-out-expo': 'Ease In Out Expo',
    'ease-in-out-circ': 'Ease In Out Circ',
    'ease-in-out-back': 'Ease In Out Back'
};
const EASE_DEFAULT = 'ease-out-quad';
const SECTION_NAMES = {
    ECOMMERCE: 'Ecommerce',
    CHECKOUT_PAGE: 'Checkout Page',
    ORDER_CONFIRMATION_PAGE: 'Order Confirmation Page',
    PAYPAL_CHECKOUT_PAGE: 'Checkout (PayPal) Page'
};
const COMMERCE_DEFAULT_COPY = {
    INFO_ERROR: CHECKOUT_ERRORS.INFO.copy,
    SHIPPING_ERROR: CHECKOUT_ERRORS.SHIPPING.copy,
    ORDER_EXTRAS_ERROR: CHECKOUT_ERRORS.EXTRAS.copy,
    PRICING_ERROR: CHECKOUT_ERRORS.PRICING.copy,
    PRODUCT_ERROR: CHECKOUT_ERRORS.PRODUCT.copy,
    PAYMENT_ERROR: CHECKOUT_ERRORS.PAYMENT.copy,
    BILLING_ERROR: CHECKOUT_ERRORS.BILLING.copy,
    ORDER_MINIMUM_ERROR: CHECKOUT_ERRORS.MINIMUM.copy,
    INVALID_DISCOUNT_ERROR: CHECKOUT_ERRORS.INVALID_DISCOUNT.copy,
    EXPIRED_DISCOUNT_ERROR: CHECKOUT_ERRORS.EXPIRED_DISCOUNT.copy,
    USAGE_REACHED_DISCOUNT_ERROR: CHECKOUT_ERRORS.USAGE_REACHED_DISCOUNT.copy,
    REQUIREMENTS_NOT_MET_DISCOUNT_ERROR: CHECKOUT_ERRORS.REQUIREMENTS_NOT_MET_DISCOUNT.copy,
    COMMERCE_ADD_TO_CART_BUTTON_DEFAULT: 'Add to Cart',
    COMMERCE_ADD_TO_CART_BUTTON_WAITING: 'Adding to cart...',
    COMMERCE_BUY_NOW_BUTTON_DEFAULT: 'Buy now',
    SUBSCRIPTION_BUTTON_DEFAULT: 'Subscribe now',
    QUANTITY_ERROR: 'Product is not available in this quantity.',
    GENERAL_ERROR: 'Something went wrong when adding this item to the cart.',
    CHECKOUT_ERROR: 'Checkout is disabled on this site.',
    CART_ORDER_MIN_ERROR: 'The order minimum was not met. Add more items to your cart to continue.',
    SUBSCRIPTION_ERR: 'Before you purchase, please use your email invite to verify your address so we can send order updates.',
    ADD_TO_CART_QUANTITY_ERROR: 'Product is not available in this quantity.',
    ADD_TO_CART_GENERAL_ERROR: 'Something went wrong when adding this item to the cart.',
    ADD_TO_CART_MIXED_ERROR: 'You cant purchase another product with a subscription.',
    BUY_NOW_ERROR: 'Something went wrong when trying to purchase this item.',
    CHECKOUT_DISABLED_ERROR: 'Checkout is disabled on this site.',
    SELECT_ALL_OPTIONS: 'Please select an option in each set.'
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbkNvbnN0YW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3R5cGUgQmV0YUZlYXR1cmVGbGFnfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9jb3JlLWNvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfQ09NTUVSQ0VfU0tVX0lEID0gJ2RhdGEtY29tbWVyY2Utc2t1LWlkJztcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfQ09NTUVSQ0VfUFJPRFVDVF9DVVJSRU5UX1NLVV9WQUxVRVMgPVxuICAnZGF0YS1jb21tZXJjZS1wcm9kdWN0LXNrdS12YWx1ZXMnO1xuZXhwb3J0IGNvbnN0IERBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lEID0gJ2RhdGEtY29tbWVyY2Utb3B0aW9uLXNldC1pZCc7XG5leHBvcnQgY29uc3QgREFUQV9BVFRSX0NPTU1FUkNFX1BST0RVQ1RfSUQgPSAnZGF0YS1jb21tZXJjZS1wcm9kdWN0LWlkJztcbi8vIEBUT0RPIC0gdXBkYXRlIHRoZSB1c2FnZSBvZiB0aGVzZSBjb25zdGFudHMgaW4gUHJldmlld1V0aWxzXG4vLyBvdXIgaWRlYWwgc29sdXRpb24gd291bGQgYmUgZG9pbmcgdGhpcyBvbiBhIGNvbXBvbmVudCBsZXZlbFxuLy8gUkU6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJmbG93L3dlYmZsb3cvcHVsbC8xNTgwNiNkaXNjdXNzaW9uX3IxNjk5MDY4NjZcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfTk9ERV9UWVBFID0gJ2RhdGEtbm9kZS10eXBlJztcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfTE9BRElOR19URVhUID0gJ2RhdGEtbG9hZGluZy10ZXh0JztcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfT1BFTl9QUk9EVUNUID0gJ2RhdGEtb3Blbi1wcm9kdWN0JztcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfT1BFTl9PTl9IT1ZFUiA9ICdkYXRhLW9wZW4tb24taG92ZXInO1xuZXhwb3J0IGNvbnN0IERBVEFfQVRUUl9DT1VOVF9ISURFX1JVTEUgPSAnZGF0YS1jb3VudC1oaWRlLXJ1bGUnO1xuZXhwb3J0IGNvbnN0IERBVEFfQVRUUl9QUkVTRUxFQ1RfREVGQVVMVF9WQVJJQU5UID1cbiAgJ2RhdGEtcHJlc2VsZWN0LWRlZmF1bHQtdmFyaWFudCc7XG5leHBvcnQgY29uc3QgREFUQV9BVFRSX0RFRkFVTFRfVEVYVCA9ICdkYXRhLWRlZmF1bHQtdGV4dCc7XG5leHBvcnQgY29uc3QgREFUQV9BVFRSX1NVQlNDUklQVElPTl9URVhUID0gJ2RhdGEtc3Vic2NyaXB0aW9uLXRleHQnO1xuXG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX0ZPUk0gPSAnY29tbWVyY2UtYWRkLXRvLWNhcnQtZm9ybSc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX0VSUk9SID1cbiAgJ2NvbW1lcmNlLWFkZC10by1jYXJ0LWVycm9yJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9FUlJPUiA9ICdjb21tZXJjZS1jYXJ0LWVycm9yJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfT1BUSU9OX1NFTEVDVCA9XG4gICdjb21tZXJjZS1hZGQtdG8tY2FydC1vcHRpb24tc2VsZWN0JztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfT1BUSU9OX0xJU1QgPVxuICAnY29tbWVyY2UtYWRkLXRvLWNhcnQtb3B0aW9uLWxpc3QnO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9QSUxMX0dST1VQID1cbiAgJ2NvbW1lcmNlLWFkZC10by1jYXJ0LXBpbGwtZ3JvdXAnO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9QSUxMID0gJ2NvbW1lcmNlLWFkZC10by1jYXJ0LXBpbGwnO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX1dSQVBQRVIgPSAnY29tbWVyY2UtY2FydC13cmFwcGVyJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9PUEVOX0xJTksgPSAnY29tbWVyY2UtY2FydC1vcGVuLWxpbmsnO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NMT1NFX0xJTksgPSAnY29tbWVyY2UtY2FydC1jbG9zZS1saW5rJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DT05UQUlORVJfV1JBUFBFUiA9XG4gICdjb21tZXJjZS1jYXJ0LWNvbnRhaW5lci13cmFwcGVyJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DT05UQUlORVIgPSAnY29tbWVyY2UtY2FydC1jb250YWluZXInO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0NIRUNLT1VUX0JVVFRPTiA9ICdjYXJ0LWNoZWNrb3V0LWJ1dHRvbic7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfRk9STSA9ICdjb21tZXJjZS1jYXJ0LWZvcm0nO1xuZXhwb3J0IGNvbnN0IE5PREVfTkFNRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9RVUFOVElUWV9JTlBVVCA9XG4gICdjb21tZXJjZS1hZGQtdG8tY2FydC1xdWFudGl0eS1pbnB1dCc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSID1cbiAgJ2NvbW1lcmNlLWNoZWNrb3V0LWZvcm0tY29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQ1VTVE9NRVJfSU5GT19XUkFQUEVSID1cbiAgJ2NvbW1lcmNlLWNoZWNrb3V0LWN1c3RvbWVyLWluZm8td3JhcHBlcic7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1NISVBQSU5HX0FERFJFU1NfV1JBUFBFUiA9XG4gICdjb21tZXJjZS1jaGVja291dC1zaGlwcGluZy1hZGRyZXNzLXdyYXBwZXInO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19BRERSRVNTX1pJUF9GSUVMRCA9XG4gICdjb21tZXJjZS1jaGVja291dC1zaGlwcGluZy16aXAtZmllbGQnO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfWklQX0ZJRUxEID1cbiAgJ2NvbW1lcmNlLWNoZWNrb3V0LWJpbGxpbmctemlwLWZpZWxkJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1dSQVBQRVIgPVxuICAnY29tbWVyY2UtY2hlY2tvdXQtYmlsbGluZy1hZGRyZXNzLXdyYXBwZXInO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX1dSQVBQRVIgPVxuICAnY29tbWVyY2UtY2hlY2tvdXQtc2hpcHBpbmctbWV0aG9kcy13cmFwcGVyJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19MSVNUID1cbiAgJ2NvbW1lcmNlLWNoZWNrb3V0LXNoaXBwaW5nLW1ldGhvZHMtbGlzdCc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1NISVBQSU5HX01FVEhPRFNfRU1QVFlfU1RBVEUgPVxuICAnY29tbWVyY2UtY2hlY2tvdXQtc2hpcHBpbmctbWV0aG9kcy1lbXB0eS1zdGF0ZSc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0JJTExJTkdfQUREUkVTU19UT0dHTEVfQ0hFQ0tCT1ggPVxuICAnY29tbWVyY2UtY2hlY2tvdXQtYmlsbGluZy1hZGRyZXNzLXRvZ2dsZS1jaGVja2JveCc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTiA9XG4gICdjb21tZXJjZS1jaGVja291dC1wbGFjZS1vcmRlci1idXR0b24nO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9FUlJPUl9TVEFURSA9XG4gICdjb21tZXJjZS1jaGVja291dC1lcnJvci1zdGF0ZSc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX09SREVSX0NPTkZJUk1BVElPTl9XUkFQUEVSID1cbiAgJ2NvbW1lcmNlLW9yZGVyLWNvbmZpcm1hdGlvbi13cmFwcGVyJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9BQ1RJT05TID1cbiAgJ2NvbW1lcmNlLWNhcnQtcXVpY2stY2hlY2tvdXQtYWN0aW9ucyc7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfUVVJQ0tfQ0hFQ0tPVVRfQlVUVE9OID1cbiAgJ2NvbW1lcmNlLWNhcnQtcXVpY2stY2hlY2tvdXQtYnV0dG9uJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9BUFBMRV9QQVlfQlVUVE9OID1cbiAgJ2NvbW1lcmNlLWNhcnQtYXBwbGUtcGF5LWJ1dHRvbic7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0FERElUSU9OQUxfSU5GTyA9XG4gICdjb21tZXJjZS1jaGVja291dC1hZGRpdGlvbmFsLWluZm8nO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9QQVlQQUxfQ0hFQ0tPVVRfRk9STV9DT05UQUlORVIgPVxuICAnY29tbWVyY2UtcGF5cGFsLWNoZWNrb3V0LWZvcm0tY29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfUEFZUEFMX0NIRUNLT1VUX0VSUk9SX1NUQVRFID1cbiAgJ2NvbW1lcmNlLWNoZWNrb3V0LWVycm9yLXN0YXRlJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRElTQ09VTlRfRk9STSA9XG4gICdjb21tZXJjZS1jaGVja291dC1kaXNjb3VudC1mb3JtJztcbmV4cG9ydCBjb25zdCBOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfRElTQ09VTlRfSU5QVVQgPVxuICAnY29tbWVyY2UtY2hlY2tvdXQtZGlzY291bnQtaW5wdXQnO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9DT01NRVJDRV9CVVlfTk9XX0JVVFRPTiA9ICdjb21tZXJjZS1idXktbm93LWJ1dHRvbic7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0RPV05MT0FEU19CVVRUT04gPSAnY29tbWVyY2UtZG93bmxvYWRzLWJ1dHRvbic7XG5leHBvcnQgY29uc3QgTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX0JVVFRPTiA9XG4gICdjb21tZXJjZS1hZGQtdG8tY2FydC1idXR0b24nO1xuZXhwb3J0IGNvbnN0IE5PREVfVFlQRV9BRERfVE9fQ0FSVF9FUlJPUiA9ICdjb21tZXJjZS1hZGQtdG8tY2FydC1lcnJvcic7XG5cbmV4cG9ydCBjb25zdCBBRERfVE9fQ0FSVF9TVEFURVMgPSB7XG4gIERFRkFVTFQ6ICdERUZBVUxUJyxcbiAgT1VUX09GX1NUT0NLOiAnT1VUX09GX1NUT0NLJyxcbiAgRVJST1I6ICdFUlJPUicsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQ0FSVF9TVEFURVMgPSB7XG4gIERFRkFVTFQ6ICdERUZBVUxUJyxcbiAgRU1QVFk6ICdFTVBUWScsXG4gIEVSUk9SOiAnRVJST1InLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IENBUlRfU1RBVEVTX0FVVE9NQVRJT04gPSB7XG4gIERFRkFVTFQ6ICdjYXJ0LWRlZmF1bHQtYnV0dG9uJyxcbiAgRU1QVFk6ICdjYXJ0LWVtcHR5LWJ1dHRvbicsXG4gIEVSUk9SOiAnY2FydC1lcnJvci1idXR0b24nLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IENIRUNLT1VUX1NUQVRFUyA9IHtcbiAgREVGQVVMVDogJ0RFRkFVTFQnLFxuICBFUlJPUjogJ0VSUk9SJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBTSElQUElOR19NRVRIT0RTX1NUQVRFUyA9IHtcbiAgREVGQVVMVDogJ0RFRkFVTFQnLFxuICBFTVBUWTogJ0VNUFRZJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBDQVJUX1RZUEVfRFJPUERPV05fT05fT1BFTiA9IHtcbiAgQ0xJQ0s6ICdDTElDSycsXG4gIEhPVkVSOiAnSE9WRVInLFxufSBhcyBjb25zdDtcblxuLy8gTmVlZCB0byBiZSBpbiBsb3dlciBjYXNlIHRvIGNvaW5jaWRlIHdpdGggdGhlIGtleXMgaW4gY29uZmlnLnN0eWxlLmNvbmRpdGlvbmFsXG4vLyBMRUZUX0RST1BET1dOIGFuZCBSSUdIVF9EUk9QRE9XTiBhcmUgbm8gbG9uZ2VyIHVzZWQgaW4gdGhlIENhcnQgVHlwZXMgRW51bVxuLy8gYnV0IGFyZSBuZWVkZWQgdG8ga2VlcCB0aGUgb2xkIGxvZ2ljIGluIHNpdGUgbW9kdWxlcyBmaWxlXG5leHBvcnQgY29uc3QgQ0FSVF9UWVBFUyA9IHtcbiAgTU9EQUw6ICdtb2RhbCcsXG4gIExFRlRfU0lERUJBUjogJ2xlZnRTaWRlYmFyJyxcbiAgUklHSFRfU0lERUJBUjogJ3JpZ2h0U2lkZWJhcicsXG4gIExFRlRfRFJPUERPV046ICdsZWZ0RHJvcGRvd24nLFxuICBSSUdIVF9EUk9QRE9XTjogJ3JpZ2h0RHJvcGRvd24nLFxuICBEUk9QRE9XTjogJ2Ryb3Bkb3duJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBDQVJUX0NPVU5UX0hJREVfUlVMRVMgPSB7XG4gIEFMV0FZUzogJ2Fsd2F5cycsXG4gIEVNUFRZOiAnZW1wdHknLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFFVSUNLX0NIRUNLT1VUX1NUQVRFUyA9IHtcbiAgTk9ORTogJ05PTkUnLFxuICBQQVlfTk9XOiAnUEFZX05PVycsXG4gIEFQUExFX1BBWTogJ0FQUExFX1BBWScsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgUVVJQ0tfQ0hFQ0tPVVRfQVVUT01BVElPTiA9IHtcbiAgUEFZX05PVzogJ3F1aWNrLWNoZWNrb3V0LWRlZmF1bHQtYnV0dG9uJyxcbiAgQVBQTEVfUEFZOiAncXVpY2stY2hlY2tvdXQtYXBwbGUtcGF5LWJ1dHRvbicsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgUFJFVklFV19JVEVNU19ERUZBVUxUID0gMztcbmV4cG9ydCBjb25zdCBQUkVWSUVXX0lURU1TX0tFWSA9ICdwcmV2aWV3SXRlbXMnO1xuZXhwb3J0IGNvbnN0IFBSRVZJRVdfSVRFTVNfS0VZUEFUSCA9IFtcbiAgJ2RhdGEnLFxuICAndGVtcCcsXG4gIFBSRVZJRVdfSVRFTVNfS0VZLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFFVQU5USVRZX0VOQUJMRUQgPSAncXVhbnRpdHlFbmFibGVkJztcblxuZXhwb3J0IGNvbnN0IFNUQVRFID0gJ3N0YXRlJztcblxuZXhwb3J0IGNvbnN0IENBUlRfU1RBVEUgPSAnc3RhdGUnO1xuXG5leHBvcnQgY29uc3QgUVVJQ0tfQ0hFQ0tPVVRfU1RBVEUgPSAnc3RhdGUnO1xuZXhwb3J0IGNvbnN0IFFVSUNLX0NIRUNLT1VUX1NUQVRFX0tFWVBBVEggPSBbXG4gICdkYXRhJyxcbiAgJ3RlbXAnLFxuICBRVUlDS19DSEVDS09VVF9TVEFURSxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBDSEVDS09VVF9TVEFURSA9ICdzdGF0ZSc7XG5cbmV4cG9ydCBjb25zdCBTSElQUElOR19NRVRIT0RTX1NUQVRFID0gJ3NoaXBwaW5nTWV0aG9kc1N0YXRlJztcblxuZXhwb3J0IGNvbnN0IE9QRU5fU1RBVEVfS0VZID0gJ2lzT3Blbic7XG5leHBvcnQgY29uc3QgT1BFTl9TVEFURV9LRVlQQVRIID0gWydkYXRhJywgJ3RlbXAnLCBPUEVOX1NUQVRFX0tFWV0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgT1BFTl9TVEFURV9ERUZBVUxUID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBCSUxMSU5HX0FERFJFU1NfVE9HR0xFX0tFWSA9ICdpc0JpbGxpbmdBZGRyZXNzT3Blbic7XG5leHBvcnQgY29uc3QgQklMTElOR19BRERSRVNTX1RPR0dMRV9LRVlQQVRIID0gW1xuICAnZGF0YScsXG4gICd0ZW1wJyxcbiAgQklMTElOR19BRERSRVNTX1RPR0dMRV9LRVksXG5dIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IEJJTExJTkdfQUREUkVTU19UT0dHTEVfREVGQVVMVCA9IHRydWU7XG5cbmV4cG9ydCBjb25zdCBISURFX0NBUlRfV0hFTl9FTVBUWV9LRVkgPSAnaGlkZUNhcnRXaGVuRW1wdHknO1xuZXhwb3J0IGNvbnN0IEhJREVfQ0FSVF9XSEVOX0VNUFRZX0tFWVBBVEggPSBbXG4gICdkYXRhJyxcbiAgJ2NvbW1lcmNlJyxcbiAgSElERV9DQVJUX1dIRU5fRU1QVFlfS0VZLFxuXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBISURFX0NBUlRfV0hFTl9FTVBUWV9ERUZBVUxUID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBISURFX0NBUlRfQ09VTlRfS0VZID0gJ2hpZGVDYXJ0Q291bnQnO1xuXG5leHBvcnQgY29uc3QgSElERV9DQVJUX0NPVU5UX0RFRkFVTFQgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IExPQURJTkdfVEVYVCA9ICdsb2FkaW5nVGV4dCc7XG5leHBvcnQgY29uc3QgTE9BRElOR19URVhUX0RFRkFVTFQgPSAnQWRkaW5nIHRvIGNhcnQuLi4nO1xuXG5leHBvcnQgY29uc3QgQ0FSVF9DSEVDS09VVF9CVVRUT05fVEVYVF9ERUZBVUxUID0gJ0NvbnRpbnVlIHRvIENoZWNrb3V0JztcbmV4cG9ydCBjb25zdCBDQVJUX0NIRUNLT1VUX0xPQURJTkdfVEVYVF9ERUZBVUxUID0gJ0hhbmcgVGlnaHQuLi4nO1xuXG5leHBvcnQgY29uc3QgQ0hFQ0tPVVRfUExBQ0VfT1JERVJfQlVUVE9OX1RFWFRfREVGQVVMVCA9ICdQbGFjZSBPcmRlcic7XG5leHBvcnQgY29uc3QgQ0hFQ0tPVVRfUExBQ0VfT1JERVJfTE9BRElOR19URVhUX0RFRkFVTFQgPSAnUGxhY2luZyBPcmRlci4uLic7XG5cbmV4cG9ydCBjb25zdCBDQVJUX1RZUEVfS0VZID0gJ2NhcnRUeXBlJztcbmV4cG9ydCBjb25zdCBBTElHTl9LRVkgPSAnYWxpZ24nO1xuZXhwb3J0IGNvbnN0IEFMSUdOX0RFRkFVTFQgPSAncmlnaHREcm9wZG93bic7XG5leHBvcnQgY29uc3QgQ0FSVF9UWVBFX0RST1BET1dOX09OX09QRU5fS0VZID0gJ29wZW5Pbic7XG5cbmV4cG9ydCBjb25zdCBDQVJUX1BST0RVQ1RfQURERURfS0VZID0gJ29wZW5XaGVuUHJvZHVjdEFkZGVkJztcbmV4cG9ydCBjb25zdCBDQVJUX1BST0RVQ1RfQURERURfS0VZUEFUSCA9IFtcbiAgJ2RhdGEnLFxuICAnY29tbWVyY2UnLFxuICBDQVJUX1BST0RVQ1RfQURERURfS0VZLFxuXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBDQVJUX1BST0RVQ1RfQURERURfREVGQVVMVCA9IHRydWU7XG5cbmV4cG9ydCB0eXBlIEFkZFRvQ2FydFN0YXRlID0ga2V5b2YgdHlwZW9mIEFERF9UT19DQVJUX1NUQVRFUztcbmV4cG9ydCB0eXBlIENhcnRTdGF0ZSA9IGtleW9mIHR5cGVvZiBDQVJUX1NUQVRFUztcbmV4cG9ydCB0eXBlIFNoaXBwaW5nTWV0aG9kc1N0YXRlID0ga2V5b2YgdHlwZW9mIFNISVBQSU5HX01FVEhPRFNfU1RBVEVTO1xuZXhwb3J0IHR5cGUgQ2FydFR5cGUgPSAodHlwZW9mIENBUlRfVFlQRVMpW2tleW9mIHR5cGVvZiBDQVJUX1RZUEVTXTtcbmV4cG9ydCB0eXBlIENhcnRUeXBlRHJvcGRvd25Pbk9wZW4gPVxuICAodHlwZW9mIENBUlRfVFlQRV9EUk9QRE9XTl9PTl9PUEVOKVtrZXlvZiB0eXBlb2YgQ0FSVF9UWVBFX0RST1BET1dOX09OX09QRU5dO1xuZXhwb3J0IGNvbnN0IENPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OX0FUVFIgPSAnZGF0YS13Zi1jYXJ0LWFjdGlvbic7XG5leHBvcnQgY29uc3QgQ09NTUVSQ0VfQ0FSVF9QVUJMSVNIRURfU0lURV9BQ1RJT05TID0ge1xuICBVUERBVEVfSVRFTV9RVUFOVElUWTogJ3VwZGF0ZS1pdGVtLXF1YW50aXR5JyxcbiAgUkVNT1ZFX0lURU06ICdyZW1vdmUtaXRlbScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IENPTU1FUkNFX0NBUlRfSVRFTV9JRF9BVFRSID0gJ2RhdGEtd2YtaXRlbS1pZCc7XG5cbmV4cG9ydCBjb25zdCBDT01NRVJDRV9TS1VfQ09MTEVDVElPTl9TTFVHID0gJ3NrdSc7XG5leHBvcnQgY29uc3QgQ09NTUVSQ0VfU0tVX0ZJRUxEX1NMVUcgPSAnc2t1JztcbmV4cG9ydCBjb25zdCBDT01NRVJDRV9QUk9EVUNUX0NPTExFQ1RJT05fU0xVRyA9ICdwcm9kdWN0JztcbmV4cG9ydCBjb25zdCBDT01NRVJDRV9QUk9EVUNUX0ZJRUxEX1NMVUcgPSAncHJvZHVjdCc7XG5leHBvcnQgY29uc3QgQ09NTUVSQ0VfQ0FURUdPUllfQ09MTEVDVElPTl9TTFVHID0gJ2NhdGVnb3J5JztcbmV4cG9ydCBjb25zdCBDT01NRVJDRV9QTFVHSU5fS0VZID0gJ2Vjb21tZXJjZSc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TS1VfU0xVRyA9ICdkZWZhdWx0LXNrdSc7XG5cbmV4cG9ydCBjb25zdCBXRl9CSU5ESU5HX0RBVEFfS0VZID0gJ2RhdGEtd2YtYmluZGluZ3MnO1xuZXhwb3J0IGNvbnN0IFdGX0NPTkRJVElPTl9EQVRBX0tFWSA9ICdkYXRhLXdmLWNvbmRpdGlvbnMnO1xuZXhwb3J0IGNvbnN0IFdGX0NPTExFQ1RJT05fREFUQV9LRVkgPSAnZGF0YS13Zi1jb2xsZWN0aW9uJztcbmV4cG9ydCBjb25zdCBXRl9URU1QTEFURV9JRF9EQVRBX0tFWSA9ICdkYXRhLXdmLXRlbXBsYXRlLWlkJztcbmV4cG9ydCBjb25zdCBXRl9TS1VfQklORElOR19EQVRBX0tFWSA9ICdkYXRhLXdmLXNrdS1iaW5kaW5ncyc7XG5leHBvcnQgY29uc3QgV0ZfU0tVX0NPTkRJVElPTl9EQVRBX0tFWSA9ICdkYXRhLXdmLXNrdS1jb25kaXRpb25zJztcblxuZXhwb3J0IGNvbnN0IFdGX1RFTVBMQVRFX1RZUEUgPSAndGV4dC94LXdmLXRlbXBsYXRlJztcblxuZXhwb3J0IHR5cGUgRXJyb3JUeXBlID0ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGNvcHk6IHN0cmluZztcbiAgbm90ZT86IHtcbiAgICBjb3B5OiBzdHJpbmc7XG4gICAgY3RhPzoge1xuICAgICAgY29weTogc3RyaW5nO1xuICAgICAgbGluazogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIHJlcXVpcmVzUmVmcmVzaD86IGJvb2xlYW47XG4gIGJldGE/OiBCZXRhRmVhdHVyZUZsYWc7XG4gIGNhdGVnb3J5OiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBsYWJlbDogc3RyaW5nO1xuICB9O1xufTtcblxuY29uc3QgSU5GT19FUlIgPSAnSU5GT19FUlJPUic7XG5jb25zdCBTSElQUElOR19FUlIgPSAnU0hJUFBJTkdfRVJST1InO1xuY29uc3QgQklMTElOR19FUlIgPSAnQklMTElOR19FUlJPUic7XG5jb25zdCBQQVlNRU5UX0VSUiA9ICdQQVlNRU5UX0VSUk9SJztcbmNvbnN0IFBSSUNJTkdfRVJSID0gJ1BSSUNJTkdfRVJST1InO1xuY29uc3QgT1JERVJfTUlOX0VSUiA9ICdPUkRFUl9NSU5JTVVNX0VSUk9SJztcbmNvbnN0IE9SREVSX0VYVFJBU19FUlIgPSAnT1JERVJfRVhUUkFTX0VSUk9SJztcbmNvbnN0IFBST0RVQ1RfRVJSID0gJ1BST0RVQ1RfRVJST1InO1xuY29uc3QgSU5WQUxJRF9ESVNDT1VOVF9FUlIgPSAnSU5WQUxJRF9ESVNDT1VOVF9FUlJPUic7XG5jb25zdCBFWFBJUkVEX0RJU0NPVU5UX0VSUiA9ICdFWFBJUkVEX0RJU0NPVU5UX0VSUk9SJztcbmNvbnN0IFVTQUdFX1JFQUNIRURfRElTQ09VTlRfRVJSID0gJ1VTQUdFX1JFQUNIRURfRElTQ09VTlRfRVJST1InO1xuY29uc3QgUkVRVUlSRU1FTlRTX05PVF9NRVRfRElTQ09VTlRfRVJSID0gJ1JFUVVJUkVNRU5UU19OT1RfTUVUX0RJU0NPVU5UX0VSUk9SJztcblxuZXhwb3J0IGNvbnN0IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZID0ge1xuICBHRU5FUkFMOiB7aWQ6ICdHRU5FUkFMJywgbGFiZWw6ICdHZW5lcmFsIEVycm9ycyd9LFxuICBQUk9EVUNUOiB7aWQ6ICdQUk9EVUNUJywgbGFiZWw6ICdQcm9kdWN0IEVycm9ycyd9LFxuICBCSUxMSU5HOiB7aWQ6ICdCSUxMSU5HJywgbGFiZWw6ICdCaWxsaW5nIEVycm9ycyd9LFxuICBESVNDT1VOVDoge2lkOiAnRElTQ09VTlQnLCBsYWJlbDogJ0Rpc2NvdW50IEVycm9ycyd9LFxuICBTVUJTQ1JJUFRJT046IHtpZDogJ1NVQlNDUklQVElPTicsIGxhYmVsOiAnU3Vic2NyaXB0aW9uIEVycm9ycyd9LFxufSBhcyBjb25zdDtcblxuLy8gVGhlIGtleXMgZm9yIHRoZXNlIGVycm9ycyBuZWVkIHRvIGJlIHN0YWJsZSBzaW5jZSB0aGV5J3JlIHVzZWQgaW4gY2hlY2tvdXRVdGlscy5qczo6dXBkYXRlRXJyb3JNZXNzYWdlXG5leHBvcnQgY29uc3QgQ0hFQ0tPVVRfRVJST1JTID0ge1xuICBJTkZPOiB7XG4gICAgaWQ6IElORk9fRVJSLFxuICAgIG5hbWU6ICdHZW5lcmFsIGN1c3RvbWVyIGluZm8gZXJyb3InLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5HRU5FUkFMLFxuICAgIGNvcHk6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB5b3VyIGN1c3RvbWVyIGluZm8uIFBsZWFzZSB0cnkgYWdhaW4sIG9yIGNvbnRhY3QgdXMgaWYgeW91IGNvbnRpbnVlIHRvIGhhdmUgcHJvYmxlbXMuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAnY29tbWVyY2UnLCBJTkZPX0VSUl0sXG4gIH0sXG4gIFNISVBQSU5HOiB7XG4gICAgaWQ6IFNISVBQSU5HX0VSUixcbiAgICBjYXRlZ29yeTogQ09NTUVSQ0VfRVJST1JfQ0FURUdPUlkuR0VORVJBTCxcbiAgICBuYW1lOiAnU2hpcHBpbmcgbm90IGF2YWlsYWJsZScsXG4gICAgY29weTogJ1NvcnJ5LiBXZSBjYW7igJl0IHNoaXAgeW91ciBvcmRlciB0byB0aGUgYWRkcmVzcyBwcm92aWRlZC4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIFNISVBQSU5HX0VSUl0sXG4gIH0sXG4gIEVYVFJBUzoge1xuICAgIGlkOiBPUkRFUl9FWFRSQVNfRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5HRU5FUkFMLFxuICAgIG5hbWU6ICdNZXJjaGFudCBzZXR0aW5nIGNoYW5nZWQnLFxuICAgIGNvcHk6ICdBIG1lcmNoYW50IHNldHRpbmcgaGFzIGNoYW5nZWQgdGhhdCBpbXBhY3RzIHlvdXIgY2FydC4gUGxlYXNlIHJlZnJlc2ggYW5kIHRyeSBhZ2Fpbi4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIE9SREVSX0VYVFJBU19FUlJdLFxuICAgIHJlcXVpcmVzUmVmcmVzaDogdHJ1ZSxcbiAgfSxcbiAgUFJJQ0lORzoge1xuICAgIGlkOiBQUklDSU5HX0VSUixcbiAgICBjYXRlZ29yeTogQ09NTUVSQ0VfRVJST1JfQ0FURUdPUlkuUFJPRFVDVCxcbiAgICBuYW1lOiAnUHJvZHVjdCBwcmljZSBjaGFuZ2VkJyxcbiAgICBjb3B5OiAnVGhlIHByaWNlcyBvZiBvbmUgb3IgbW9yZSBpdGVtcyBpbiB5b3VyIGNhcnQgaGF2ZSBjaGFuZ2VkLiBQbGVhc2UgcmVmcmVzaCB0aGlzIHBhZ2UgYW5kIHRyeSBhZ2Fpbi4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIFBSSUNJTkdfRVJSXSxcbiAgICByZXF1aXJlc1JlZnJlc2g6IHRydWUsXG4gIH0sXG4gIFBST0RVQ1Q6IHtcbiAgICBpZDogUFJPRFVDVF9FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLlBST0RVQ1QsXG4gICAgbmFtZTogJ1Byb2R1Y3QgcmVtb3ZlZCcsXG4gICAgY29weTogJ09uZSBvciBtb3JlIG9mIHRoZSBwcm9kdWN0cyBpbiB5b3VyIGNhcnQgaGF2ZSBiZWVuIHJlbW92ZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAnY29tbWVyY2UnLCBQUk9EVUNUX0VSUl0sXG4gICAgcmVxdWlyZXNSZWZyZXNoOiB0cnVlLFxuICB9LFxuICBQQVlNRU5UOiB7XG4gICAgaWQ6IFBBWU1FTlRfRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5CSUxMSU5HLFxuICAgIG5hbWU6ICdHZW5lcmFsIHBheW1lbnQgZXJyb3InLFxuICAgIGNvcHk6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB5b3VyIHBheW1lbnQuIFBsZWFzZSB0cnkgYWdhaW4sIG9yIGNvbnRhY3QgdXMgaWYgeW91IGNvbnRpbnVlIHRvIGhhdmUgcHJvYmxlbXMuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAnY29tbWVyY2UnLCBQQVlNRU5UX0VSUl0sXG4gIH0sXG4gIEJJTExJTkc6IHtcbiAgICBpZDogQklMTElOR19FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLkJJTExJTkcsXG4gICAgbmFtZTogJ0NhcmQgZGVjbGluZWQnLFxuICAgIGNvcHk6ICdZb3VyIHBheW1lbnQgY291bGQgbm90IGJlIGNvbXBsZXRlZCB3aXRoIHRoZSBwYXltZW50IGluZm9ybWF0aW9uIHByb3ZpZGVkLiBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgeW91ciBjYXJkIGFuZCBiaWxsaW5nIGFkZHJlc3MgaW5mb3JtYXRpb24gaXMgY29ycmVjdCwgb3IgdHJ5IGEgZGlmZmVyZW50IHBheW1lbnQgY2FyZCwgdG8gY29tcGxldGUgdGhpcyBvcmRlci4gQ29udGFjdCB1cyBpZiB5b3UgY29udGludWUgdG8gaGF2ZSBwcm9ibGVtcy4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIEJJTExJTkdfRVJSXSxcbiAgfSxcbiAgTUlOSU1VTToge1xuICAgIGlkOiBPUkRFUl9NSU5fRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5CSUxMSU5HLFxuICAgIG5hbWU6ICdPcmRlciBtaW5pbXVtIG5vdCBtZXQnLFxuICAgIGNvcHk6ICdUaGUgb3JkZXIgbWluaW11bSB3YXMgbm90IG1ldC4gQWRkIG1vcmUgaXRlbXMgdG8geW91ciBjYXJ0IHRvIGNvbnRpbnVlLicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgT1JERVJfTUlOX0VSUl0sXG4gICAgbm90ZToge1xuICAgICAgY29weTogXCJZb3UgY2FuIGN1c3RvbWl6ZSB0aGlzIG1lc3NhZ2Ugd2l0aCB0aGUgZXhhY3QgbWluaW11bSBiYXNlZCBvbiB5b3VyIFN0cmlwZSBhY2NvdW50J3Mgc2V0dGxlbWVudCBjdXJyZW5jeS5cIixcbiAgICAgIGN0YToge1xuICAgICAgICBjb3B5OiAnR28gdG8gU3RyaXBlIGRvY3MnLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvY3VycmVuY2llcyNtaW5pbXVtLWFuZC1tYXhpbXVtLWNoYXJnZS1hbW91bnRzJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgSU5WQUxJRF9ESVNDT1VOVDoge1xuICAgIGlkOiBJTlZBTElEX0RJU0NPVU5UX0VSUixcbiAgICBjYXRlZ29yeTogQ09NTUVSQ0VfRVJST1JfQ0FURUdPUlkuRElTQ09VTlQsXG4gICAgbmFtZTogJ0ludmFsaWQgZGlzY291bnQgZXJyb3InLFxuICAgIGNvcHk6ICdUaGlzIGRpc2NvdW50IGlzIGludmFsaWQuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAnY29tbWVyY2UnLCBJTlZBTElEX0RJU0NPVU5UX0VSUl0sXG4gIH0sXG4gIEVYUElSRURfRElTQ09VTlQ6IHtcbiAgICBpZDogRVhQSVJFRF9ESVNDT1VOVF9FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLkRJU0NPVU5ULFxuICAgIG5hbWU6ICdEaXNjb3VudCBleHBpcmVkJyxcbiAgICBjb3B5OiAnVGhpcyBkaXNjb3VudCBpcyBubyBsb25nZXIgYXZhaWxhYmxlLicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgRVhQSVJFRF9ESVNDT1VOVF9FUlJdLFxuICB9LFxuICBVU0FHRV9SRUFDSEVEX0RJU0NPVU5UOiB7XG4gICAgaWQ6IFVTQUdFX1JFQUNIRURfRElTQ09VTlRfRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5ESVNDT1VOVCxcbiAgICBuYW1lOiAnRGlzY291bnQgdXNhZ2UgbGltaXQgcmVhY2hlZCcsXG4gICAgY29weTogJ1RoaXMgZGlzY291bnQgaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZS4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIFVTQUdFX1JFQUNIRURfRElTQ09VTlRfRVJSXSxcbiAgfSxcbiAgUkVRVUlSRU1FTlRTX05PVF9NRVRfRElTQ09VTlQ6IHtcbiAgICBpZDogUkVRVUlSRU1FTlRTX05PVF9NRVRfRElTQ09VTlRfRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5ESVNDT1VOVCxcbiAgICBuYW1lOiAnRGlzY291bnQgcmVxdWlyZW1lbnRzIG5vdCBtZXQnLFxuICAgIGNvcHk6ICdZb3VyIG9yZGVyIGRvZXMgbm90IG1lZXQgdGhlIHJlcXVpcmVtZW50cyBmb3IgdGhpcyBkaXNjb3VudC4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIFJFUVVJUkVNRU5UU19OT1RfTUVUX0RJU0NPVU5UX0VSUl0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBRVUFOVElUWV9FUlIgPSAnUVVBTlRJVFlfRVJST1InO1xuY29uc3QgQ0hFQ0tPVVRfRVJSID0gJ0NIRUNLT1VUX0VSUk9SJztcbmNvbnN0IEdFTkVSQUxfRVJSID0gJ0dFTkVSQUxfRVJST1InO1xuY29uc3QgQ0FSVF9PUkRFUl9NSU5fRVJSID0gJ0NBUlRfT1JERVJfTUlOX0VSUk9SJztcbmNvbnN0IFNVQlNDUklQVElPTl9FUlIgPSAnU1VCU0NSSVBUSU9OX0VSUic7XG5cbmV4cG9ydCBjb25zdCBDQVJUX0VSUk9SUyA9IHtcbiAgUVVBTlRJVFk6IHtcbiAgICBpZDogUVVBTlRJVFlfRVJSLFxuICAgIG5hbWU6ICdRdWFudGl0eSBub3QgYXZhaWxhYmxlJyxcbiAgICBjYXRlZ29yeTogQ09NTUVSQ0VfRVJST1JfQ0FURUdPUlkuR0VORVJBTCxcbiAgICBjb3B5OiAnUHJvZHVjdCBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgcXVhbnRpdHkuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAnY29tbWVyY2UnLCBRVUFOVElUWV9FUlJdLFxuICB9LFxuICBHRU5FUkFMOiB7XG4gICAgaWQ6IEdFTkVSQUxfRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5HRU5FUkFMLFxuICAgIG5hbWU6ICdHZW5lcmFsIGVycm9yJyxcbiAgICBjb3B5OiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBhZGRpbmcgdGhpcyBpdGVtIHRvIHRoZSBjYXJ0LicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgR0VORVJBTF9FUlJdLFxuICB9LFxuICBDSEVDS09VVDoge1xuICAgIGlkOiBDSEVDS09VVF9FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLkdFTkVSQUwsXG4gICAgbmFtZTogJ0NoZWNrb3V0IGRpc2FibGVkJyxcbiAgICBjb3B5OiAnQ2hlY2tvdXQgaXMgZGlzYWJsZWQgb24gdGhpcyBzaXRlLicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgQ0hFQ0tPVVRfRVJSXSxcbiAgfSxcbiAgQ0FSVF9PUkRFUl9NSU46IHtcbiAgICBpZDogQ0FSVF9PUkRFUl9NSU5fRVJSLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5CSUxMSU5HLFxuICAgIG5hbWU6ICdPcmRlciBtaW5pbXVtIG5vdCBtZXQnLFxuICAgIGNvcHk6ICdUaGUgb3JkZXIgbWluaW11bSB3YXMgbm90IG1ldC4gQWRkIG1vcmUgaXRlbXMgdG8geW91ciBjYXJ0IHRvIGNvbnRpbnVlLicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgQ0FSVF9PUkRFUl9NSU5fRVJSXSxcbiAgfSxcbiAgU1VCU0NSSVBUSU9OX0VSUk9SOiB7XG4gICAgaWQ6IFNVQlNDUklQVElPTl9FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLlNVQlNDUklQVElPTixcbiAgICBuYW1lOiAnU3Vic2NyaXB0aW9uIG5vdCB2ZXJpZmllZCcsXG4gICAgY29weTogJ0JlZm9yZSB5b3UgcHVyY2hhc2UsIHBsZWFzZSB1c2UgeW91ciBlbWFpbCBpbnZpdGUgdG8gdmVyaWZ5IHlvdXIgYWRkcmVzcyBzbyB3ZSBjYW4gc2VuZCBvcmRlciB1cGRhdGVzLicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgU1VCU0NSSVBUSU9OX0VSUl0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBBRERfVE9fQ0FSVF9RVUFOVElUWV9FUlIgPSAnQUREX1RPX0NBUlRfUVVBTlRJVFlfRVJST1InO1xuY29uc3QgQUREX1RPX0NBUlRfR0VORVJBTF9FUlIgPSAnQUREX1RPX0NBUlRfR0VORVJBTF9FUlJPUic7XG5jb25zdCBBRERfVE9fQ0FSVF9NSVhFRF9FUlIgPSAnQUREX1RPX0NBUlRfTUlYRURfRVJST1InO1xuXG5leHBvcnQgY29uc3QgQUREX1RPX0NBUlRfRVJST1JTID0ge1xuICBRVUFOVElUWToge1xuICAgIGlkOiBBRERfVE9fQ0FSVF9RVUFOVElUWV9FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLkdFTkVSQUwsXG4gICAgbmFtZTogJ1F1YW50aXR5IG5vdCBhdmFpbGFibGUnLFxuICAgIGNvcHk6ICdQcm9kdWN0IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBxdWFudGl0eS4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsIEFERF9UT19DQVJUX1FVQU5USVRZX0VSUl0sXG4gIH0sXG4gIEdFTkVSQUw6IHtcbiAgICBpZDogQUREX1RPX0NBUlRfR0VORVJBTF9FUlIsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLkdFTkVSQUwsXG4gICAgbmFtZTogJ0FkZCB0byBDYXJ0IGVycm9yJyxcbiAgICBjb3B5OiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBhZGRpbmcgdGhpcyBpdGVtIHRvIHRoZSBjYXJ0LicsXG4gICAgcGF0aDogWydkYXRhJywgJ2NvbW1lcmNlJywgQUREX1RPX0NBUlRfR0VORVJBTF9FUlJdLFxuICB9LFxuICBNSVhFRF9DQVJUOiB7XG4gICAgaWQ6IEFERF9UT19DQVJUX01JWEVEX0VSUixcbiAgICBjYXRlZ29yeTogQ09NTUVSQ0VfRVJST1JfQ0FURUdPUlkuR0VORVJBTCxcbiAgICBuYW1lOiAnQWRkIHRvIG1peGVkIENhcnQgZXJyb3InLFxuICAgIGNvcHk6ICdZb3UgY2Fu4oCZdCBwdXJjaGFzZSBhbm90aGVyIHByb2R1Y3Qgd2l0aCBhIHN1YnNjcmlwdGlvbi4nLFxuICB9LFxuICBCVVlfTk9XOiB7XG4gICAgaWQ6ICdCVVlfTk9XX0VSUk9SJyxcbiAgICBjYXRlZ29yeTogQ09NTUVSQ0VfRVJST1JfQ0FURUdPUlkuR0VORVJBTCxcbiAgICBuYW1lOiAnQnV5IG5vdyBlcnJvcicsXG4gICAgY29weTogJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gdHJ5aW5nIHRvIHB1cmNoYXNlIHRoaXMgaXRlbS4nLFxuICB9LFxuICBDSEVDS09VVF9ESVNBQkxFRDoge1xuICAgIGlkOiAnQ0hFQ0tPVVRfRElTQUJMRURfRVJST1InLFxuICAgIGNhdGVnb3J5OiBDT01NRVJDRV9FUlJPUl9DQVRFR09SWS5HRU5FUkFMLFxuICAgIG5hbWU6ICdDaGVja291dCBkaXNhYmxlZCcsXG4gICAgY29weTogJ0NoZWNrb3V0IGlzIGRpc2FibGVkIG9uIHRoaXMgc2l0ZS4nLFxuICB9LFxuICBTRUxFQ1RfQUxMX09QVElPTlM6IHtcbiAgICBpZDogJ1NFTEVDVF9BTExfT1BUSU9OUycsXG4gICAgY2F0ZWdvcnk6IENPTU1FUkNFX0VSUk9SX0NBVEVHT1JZLkdFTkVSQUwsXG4gICAgbmFtZTogJ09wdGlvbiBzZWxlY3Rpb24gcmVxdWlyZWQnLFxuICAgIGNvcHk6ICdQbGVhc2Ugc2VsZWN0IGFuIG9wdGlvbiBpbiBlYWNoIHNldC4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdjb21tZXJjZScsICdTRUxFQ1RfQUxMX09QVElPTlMnXSxcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfQU5JTUFUSU9OX0VBU0lORyA9ICdkYXRhLXdmLWNhcnQtZWFzaW5nJztcbmV4cG9ydCBjb25zdCBBTklNQVRJT05fRUFTSU5HX0RFRkFVTFQgPSAnZWFzZS1vdXQtcXVhZCc7XG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX0VBU0lOR19LRVkgPSAnZWFzaW5nVHlwZSc7XG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX0VBU0lOR19LRVlQQVRIID0gW1xuICAnZGF0YScsXG4gICdjb21tZXJjZScsXG4gIEFOSU1BVElPTl9FQVNJTkdfS0VZLFxuXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfQU5JTUFUSU9OX0RVUkFUSU9OID0gJ2RhdGEtd2YtY2FydC1kdXJhdGlvbic7XG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OX0RFRkFVTFQgPSAzMDA7XG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OX0tFWSA9ICdkdXJhdGlvbic7XG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OX0tFWVBBVEggPSBbXG4gICdkYXRhJyxcbiAgJ2NvbW1lcmNlJyxcbiAgQU5JTUFUSU9OX0RVUkFUSU9OX0tFWSxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJfUFVCTElTSEFCTEVfS0VZID0gJ2RhdGEtcHVibGlzaGFibGUta2V5JztcblxuLy8gdGhpcyBpcyBhbGwgdGhlIHN0eWxlcyB0aGF0IGFyZSBpbW1lZGlhdGVseSBlZGl0YWJsZSBmcm9tIHRoZSBzdHlsZXMgcGFuZWxcbi8vIHRoaXMgZG9lc24ndCBpbmNsdWRlIHN0dWZmIGxpa2UgZ3JpZCBzcGVjaWZpYyBzZWN0aW9ucywgYXMgd2UgbG9jayBvdXQgYGRpc3BsYXlgXG4vLyBhbmQsIGFzc3VtaW5nIHdlIGRvbid0IGhhdmUgZGVmYXVsdCBkaXNwbGF5IGFzIGdyaWQsIHRob3NlIHNlY3Rpb25zIHdvdWxkbid0XG4vLyBiZSBhY2Nlc3NpYmxlIGluIHRoZSBmaXJzdCBwbGFjZS4gd2hlbiB3ZSBpbmV2aXRhYmx5IGhhdmUgYSBkZWZhdWx0IGdyaWQgc3R5bGUsXG4vLyB3ZSBjYW4gdXBkYXRlIHRoaXMgbGlzdFxuZXhwb3J0IGNvbnN0IEVESVRBQkxFX1NUWUxFX05BTUVTID0gW1xuICAnYmFja2dyb3VuZENvbG9yJyxcbiAgJ2JhY2tncm91bmRTaXplJyxcbiAgJ2JhY2tncm91bmRQb3NpdGlvbicsXG4gICdiYWNrZ3JvdW5kSW1hZ2UnLFxuICAnYmFja2dyb3VuZFJlcGVhdCcsXG4gICdib3JkZXInLFxuICAnYm9yZGVyUmFkaXVzJyxcbiAgJ2JveFNoYWRvdycsXG4gICdjbGVhcicsXG4gICdjb2xvcicsXG4gICdjdXJzb3InLFxuICAnZGlyZWN0aW9uJyxcbiAgJ2Rpc3BsYXknLFxuICAnZmlsdGVyJyxcbiAgJ2Zsb2F0JyxcbiAgJ2ZvbnRGYW1pbHknLFxuICAnZm9udFNpemUnLFxuICAnZm9udFN0eWxlJyxcbiAgJ2ZvbnRXZWlnaHQnLFxuICAnaGVpZ2h0JyxcbiAgJ2xpbmVIZWlnaHQnLFxuICAnbGV0dGVyU3BhY2luZycsXG4gICdsaXN0U3R5bGVUeXBlJyxcbiAgJ21hcmdpbkJvdHRvbScsXG4gICdtYXJnaW5MZWZ0JyxcbiAgJ21hcmdpblJpZ2h0JyxcbiAgJ21hcmdpblRvcCcsXG4gICdtYXhIZWlnaHQnLFxuICAnbWluSGVpZ2h0JyxcbiAgJ21heFdpZHRoJyxcbiAgJ21pbldpZHRoJyxcbiAgJ21peEJsZW5kTW9kZScsXG4gICdvcGFjaXR5JyxcbiAgJ292ZXJmbG93JyxcbiAgJ291dGxpbmVDb2xvcicsXG4gICdvdXRsaW5lT2Zmc2V0JyxcbiAgJ291dGxpbmVTdHlsZScsXG4gICdvdXRsaW5lV2lkdGgnLFxuICAncGFkZGluZ0JvdHRvbScsXG4gICdwYWRkaW5nTGVmdCcsXG4gICdwYWRkaW5nUmlnaHQnLFxuICAncGFkZGluZ1RvcCcsXG4gICdwb3NpdGlvbicsXG4gICd0ZXh0QWxpZ24nLFxuICAndGV4dENvbHVtbnMnLFxuICAndGV4dERlY29yYXRpb24nLFxuICAndGV4dEluZGVudCcsXG4gICd0ZXh0VHJhbnNmb3JtJyxcbiAgJ3RleHRTaGFkb3cnLFxuICAndHJhbnNmb3JtJyxcbiAgJ3RyYW5zaXRpb24nLFxuICAnd2hpdGVTcGFjZScsXG4gICd3aWR0aCcsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3Qgc3ltYm9sTWFwID0ge1xuICBhZWQ6ICfYry7YpScsXG4gIGFmbjogJ9iLJyxcbiAgYWxsOiAnTCcsXG4gIGFtZDogJ9aPJyxcbiAgYW5nOiAnxpInLFxuICBhb2E6ICdLeicsXG4gIGFyczogJyQnLFxuICBhdWQ6ICckJyxcbiAgYXdnOiAnxpInLFxuICBhem46ICfigrwnLFxuICBiYW06ICdLTScsXG4gIGJiZDogJyQnLFxuICBiZHQ6ICfgp7MnLFxuICBiZ246ICfQu9CyJyxcbiAgYmhkOiAnLtivLtioJyxcbiAgYmlmOiAnRkJ1JyxcbiAgYm1kOiAnJCcsXG4gIGJuZDogJyQnLFxuICBib2I6ICckYicsXG4gIGJybDogJ1IkJyxcbiAgYnNkOiAnJCcsXG4gIGJ0YzogJ+C4vycsXG4gIGJ0bjogJ051LicsXG4gIGJ3cDogJ1AnLFxuICBieXI6ICdCcicsXG4gIGJ5bjogJ0JyJyxcbiAgYnpkOiAnQlokJyxcbiAgY2FkOiAnJCcsXG4gIGNkZjogJ0ZDJyxcbiAgY2hmOiAnQ0hGJyxcbiAgY2xwOiAnJCcsXG4gIGNueTogJ8KlJyxcbiAgY29wOiAnJCcsXG4gIGNyYzogJ+KCoScsXG4gIGN1YzogJyQnLFxuICBjdXA6ICfigrEnLFxuICBjdmU6ICckJyxcbiAgY3prOiAnS8SNJyxcbiAgZGpmOiAnRmRqJyxcbiAgZGtrOiAna3InLFxuICBkb3A6ICdSRCQnLFxuICBkemQ6ICfYr9isJyxcbiAgZWVrOiAna3InLFxuICBlZ3A6ICfCoycsXG4gIGVybjogJ05maycsXG4gIGV0YjogJ0JyJyxcbiAgZXRoOiAnzp4nLFxuICBldXI6ICfigqwnLFxuICBmamQ6ICckJyxcbiAgZmtwOiAnwqMnLFxuICBnYnA6ICfCoycsXG4gIGdlbDogJ+KCvicsXG4gIGdncDogJ8KjJyxcbiAgZ2hjOiAn4oK1JyxcbiAgZ2hzOiAnR0jigrUnLFxuICBnaXA6ICfCoycsXG4gIGdtZDogJ0QnLFxuICBnbmY6ICdGRycsXG4gIGd0cTogJ1EnLFxuICBneWQ6ICckJyxcbiAgaGtkOiAnJCcsXG4gIGhubDogJ0wnLFxuICBocms6ICdrbicsXG4gIGh0ZzogJ0cnLFxuICBodWY6ICdGdCcsXG4gIGlkcjogJ1JwJyxcbiAgaWxzOiAn4oKqJyxcbiAgaW1wOiAnwqMnLFxuICBpbnI6ICfigrknLFxuICBpcWQ6ICfYuS7YrycsXG4gIGlycjogJ++3vCcsXG4gIGlzazogJ2tyJyxcbiAgamVwOiAnwqMnLFxuICBqbWQ6ICdKJCcsXG4gIGpvZDogJ0pEJyxcbiAganB5OiAnwqUnLFxuICBrZXM6ICdLU2gnLFxuICBrZ3M6ICfQu9CyJyxcbiAga2hyOiAn4Z+bJyxcbiAga21mOiAnQ0YnLFxuICBrcHc6ICfigqknLFxuICBrcnc6ICfigqknLFxuICBrd2Q6ICdLRCcsXG4gIGt5ZDogJyQnLFxuICBrenQ6ICfQu9CyJyxcbiAgbGFrOiAn4oKtJyxcbiAgbGJwOiAnwqMnLFxuICBsa3I6ICfigqgnLFxuICBscmQ6ICckJyxcbiAgbHNsOiAnTScsXG4gIGx0YzogJ8WBJyxcbiAgbHRsOiAnTHQnLFxuICBsdmw6ICdMcycsXG4gIGx5ZDogJ0xEJyxcbiAgbWFkOiAnTUFEJyxcbiAgbWRsOiAnbGVpJyxcbiAgbWdhOiAnQXInLFxuICBta2Q6ICfQtNC10L0nLFxuICBtbWs6ICdLJyxcbiAgbW50OiAn4oKuJyxcbiAgbW9wOiAnTU9QJCcsXG4gIG1ybzogJ1VNJyxcbiAgbXJ1OiAnVU0nLFxuICBtdXI6ICfigqgnLFxuICBtdnI6ICdSZicsXG4gIG13azogJ01LJyxcbiAgbXhuOiAnJCcsXG4gIG15cjogJ1JNJyxcbiAgbXpuOiAnTVQnLFxuICBuYWQ6ICckJyxcbiAgbmduOiAn4oKmJyxcbiAgbmlvOiAnQyQnLFxuICBub2s6ICdrcicsXG4gIG5wcjogJ+KCqCcsXG4gIG56ZDogJyQnLFxuICBvbXI6ICfvt7wnLFxuICBwYWI6ICdCLy4nLFxuICBwZW46ICdTLy4nLFxuICBwZ2s6ICdLJyxcbiAgcGhwOiAn4oKxJyxcbiAgcGtyOiAn4oKoJyxcbiAgcGxuOiAnesWCJyxcbiAgcHlnOiAnR3MnLFxuICBxYXI6ICfvt7wnLFxuICBybWI6ICfvv6UnLFxuICByb246ICdsZWknLFxuICByc2Q6ICfQlNC40L0uJyxcbiAgcnViOiAn4oK9JyxcbiAgcndmOiAnUuKCoycsXG4gIHNhcjogJ++3vCcsXG4gIHNiZDogJyQnLFxuICBzY3I6ICfigqgnLFxuICBzZGc6ICfYrC7Ysy4nLFxuICBzZWs6ICdrcicsXG4gIHNnZDogJyQnLFxuICBzaHA6ICfCoycsXG4gIHNsbDogJ0xlJyxcbiAgc29zOiAnUycsXG4gIHNyZDogJyQnLFxuICBzc3A6ICfCoycsXG4gIHN0ZDogJ0RiJyxcbiAgc3RuOiAnRGInLFxuICBzdmM6ICckJyxcbiAgc3lwOiAnwqMnLFxuICBzemw6ICdFJyxcbiAgdGhiOiAn4Li/JyxcbiAgdGpzOiAnU00nLFxuICB0bXQ6ICdUJyxcbiAgdG5kOiAn2K8u2KonLFxuICB0b3A6ICdUJCcsXG4gIHRybDogJ+KCpCcsXG4gIHRyeTogJ+KCuicsXG4gIHR0ZDogJ1RUJCcsXG4gIHR2ZDogJyQnLFxuICB0d2Q6ICdOVCQnLFxuICB0enM6ICdUU2gnLFxuICB1YWg6ICfigrQnLFxuICB1Z3g6ICdVU2gnLFxuICB1c2Q6ICckJyxcbiAgdXl1OiAnJFUnLFxuICB1enM6ICfQu9CyJyxcbiAgdmVmOiAnQnMnLFxuICB2bmQ6ICfigqsnLFxuICB2dXY6ICdWVCcsXG4gIHdzdDogJ1dTJCcsXG4gIHhhZjogJ0ZDRkEnLFxuICB4YnQ6ICfJgycsXG4gIHhjZDogJyQnLFxuICB4b2Y6ICdDRkEnLFxuICB4cGY6ICfigqMnLFxuICB5ZXI6ICfvt7wnLFxuICB6YXI6ICdSJyxcbiAgendkOiAnWiQnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IENIRUNLT1VUX0JJTkRJTkdfUk9PVF9RVUVSWV9QQVRIID0gW1xuICAnZGF0YWJhc2UnLFxuICAnY29tbWVyY2VPcmRlcicsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgT1JERVJfVFlQRSA9IHtcbiAgUkVRVUlSRV9TSElQUElORzogJ3NoaXBwaW5nJyxcbiAgTk9fU0hJUFBJTkc6ICdub1NoaXBwaW5nJyxcbn0gYXMgY29uc3Q7XG5cbi8vIEFsbCBvZiB0aGUgYmVsb3cgY29uc3RhbnRzIGFyZSBwdWxsZWQgaW4gdG8gcHVibGlzaGVkIHNpdGUgY29kZVxuLy8gY2hlY2tvdXRFdmVudHNcbmV4cG9ydCBjb25zdCBSRU5ERVJfVFJFRV9FVkVOVCA9ICd3Zi1yZW5kZXItdHJlZSc7XG5leHBvcnQgY29uc3QgTkVFRFNfUkVGUkVTSCA9ICdkYXRhLXdmLW5lZWRzLXJlZnJlc2gnO1xuZXhwb3J0IGNvbnN0IFJFUVVJUkVTX1NISVBQSU5HID0gJ2RhdGEtd2Ytb3JkZXItcmVxdWlyZXMtc2hpcHBpbmcnO1xuZXhwb3J0IGNvbnN0IFNUUklQRV9FTEVNRU5UX0lOU1RBTkNFID0gJ2RhdGEtd2Ytc3RyaXBlLWVsZW1lbnQtaW5zdGFuY2UnO1xuZXhwb3J0IGNvbnN0IFNUUklQRV9FTEVNRU5UX1RZUEUgPSAnZGF0YS13Zi1zdHJpcGUtZWxlbWVudC10eXBlJztcbmV4cG9ydCBjb25zdCBTVFJJUEVfRUxFTUVOVF9TVFlMRSA9ICdkYXRhLXdmLXN0cmlwZS1zdHlsZSc7XG5cbi8vIGFkZFRvQ2FydEV2ZW50c1xuZXhwb3J0IGNvbnN0IEFERF9UT19DQVJUX0xPQURJTkcgPSAnZGF0YS13Zi1hdGMtbG9hZGluZyc7XG5leHBvcnQgY29uc3QgQ0hBTkdFX0NBUlRfRVZFTlQgPSAnd2YtY2hhbmdlLWNhcnQtc3RhdGUnO1xuZXhwb3J0IGNvbnN0IEFERF9UT19DQVJUX0VSUk9SX01FU1NBR0UgPSAnLnctYWRkLXRvLWNhcnQtZXJyb3ItbXNnJztcbmV4cG9ydCBjb25zdCBnZXRBVENFcnJvck1lc3NhZ2VGb3JUeXBlID0gKGVycm9yVHlwZTogc3RyaW5nKSA9PlxuICBgZGF0YS13LWFkZC10by1jYXJ0LSR7ZXJyb3JUeXBlfS1lcnJvcmA7XG5leHBvcnQgY29uc3QgQ0hFQ0tPVVRfRElTQUJMRURfRVJST1JfTUVTU0FHRSA9XG4gICdkYXRhLXctYWRkLXRvLWNhcnQtY2hlY2tvdXQtZGlzYWJsZWQtZXJyb3InO1xuXG4vLyBjaGVja291dFV0aWxzXG5leHBvcnQgY29uc3QgQ0hFQ0tPVVRfUVVFUlkgPSAnZGF0YS13Zi1jaGVja291dC1xdWVyeSc7XG5leHBvcnQgY29uc3QgZ2V0Q2hlY2tvdXRFcnJvck1lc3NhZ2VGb3JUeXBlID0gKGVycm9yVHlwZTogc3RyaW5nKSA9PlxuICBgZGF0YS13LSR7ZXJyb3JUeXBlfS1lcnJvcmA7XG5leHBvcnQgY29uc3QgUkVRVUlSRVNfQUNUSU9OID0gJ3JlcXVpcmVzX2FjdGlvbic7XG5cbi8vIGNhcnRFdmVudHNcbmV4cG9ydCBjb25zdCBDQVJUX0dFTkVSQUxfRVJST1JfTUVTU0FHRSA9ICdkYXRhLXctY2FydC1nZW5lcmFsLWVycm9yJztcbmV4cG9ydCBjb25zdCBDQVJUX0NIRUNLT1VUX0VSUk9SX01FU1NBR0UgPSAnZGF0YS13LWNhcnQtY2hlY2tvdXQtZXJyb3InO1xuZXhwb3J0IGNvbnN0IENBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiA9ICcudy1jaGVja291dC1lcnJvci1tc2cnO1xuZXhwb3J0IGNvbnN0IENBUlRfRVJST1JfTUVTU0FHRSA9ICdjYXJ0LWVycm9yLW1zZyc7XG5leHBvcnQgY29uc3QgQ0FSVF9FUlJPUl9NRVNTQUdFX1NFTEVDVE9SID0gYC53LSR7Q0FSVF9FUlJPUl9NRVNTQUdFfWA7XG5leHBvcnQgY29uc3QgQ0FSVF9PUEVOID0gJ2RhdGEtY2FydC1vcGVuJztcbmV4cG9ydCBjb25zdCBDQVJUX1RZUEUgPSAnZGF0YS13Zi1jYXJ0LXR5cGUnO1xuZXhwb3J0IGNvbnN0IENBUlRfUVVFUlkgPSAnZGF0YS13Zi1jYXJ0LXF1ZXJ5JztcbmV4cG9ydCBjb25zdCBQQVlQQUxfRUxFTUVOVF9JTlNUQU5DRSA9ICdkYXRhLXdmLXBheXBhbC1lbGVtZW50JztcbmV4cG9ydCBjb25zdCBQQVlQQUxfQlVUVE9OX0VMRU1FTlRfSU5TVEFOQ0UgPSAnZGF0YS13Zi1wYXlwYWwtYnV0dG9uJztcbmV4cG9ydCBjb25zdCBnZXRDYXJ0RXJyb3JNZXNzYWdlRm9yVHlwZSA9IChlcnJvclR5cGU6IHN0cmluZykgPT5cbiAgYGRhdGEtdy1jYXJ0LSR7ZXJyb3JUeXBlfS1lcnJvcmA7XG5cbi8vIG9yZGVyQ29uZmlybWF0aW9uRXZlbnRzXG5leHBvcnQgY29uc3QgT1JERVJfUVVFUlkgPSAnZGF0YS13Zi1vcmRlci1xdWVyeSc7XG5cbi8vIHN0cmlwZVN0b3JlXG5leHBvcnQgY29uc3QgU1RSSVBFX0VDT01NRVJDRV9LRVkgPSAnZGF0YS13Zi1lY29tbS1rZXknO1xuZXhwb3J0IGNvbnN0IFNUUklQRV9FQ09NTUVSQ0VfQUNDT1VOVF9JRCA9ICdkYXRhLXdmLWVjb21tLWFjY3QtaWQnO1xuXG5leHBvcnQgY29uc3QgRUFTSU5HUyA9IHtcbiAgZWFzZTogJ0Vhc2UnLFxuICAnZWFzZS1pbic6ICdFYXNlIEluJyxcbiAgJ2Vhc2Utb3V0JzogJ0Vhc2UgT3V0JyxcbiAgJ2Vhc2UtaW4tb3V0JzogJ0Vhc2UgSW4gT3V0JyxcbiAgbGluZWFyOiAnTGluZWFyJyxcbiAgJ2Vhc2UtaW4tcXVhZCc6ICdFYXNlIEluIFF1YWQnLFxuICAnZWFzZS1pbi1jdWJpYyc6ICdFYXNlIEluIEN1YmljJyxcbiAgJ2Vhc2UtaW4tcXVhcnQnOiAnRWFzZSBJbiBRdWFydCcsXG4gICdlYXNlLWluLXF1aW50JzogJ0Vhc2UgSW4gUXVpbnQnLFxuICAnZWFzZS1pbi1zaW5lJzogJ0Vhc2UgSW4gU2luZScsXG4gICdlYXNlLWluLWV4cG8nOiAnRWFzZSBJbiBFeHBvJyxcbiAgJ2Vhc2UtaW4tY2lyYyc6ICdFYXNlIEluIENpcmMnLFxuICAnZWFzZS1pbi1iYWNrJzogJ0Vhc2UgSW4gQmFjaycsXG4gICdlYXNlLW91dC1xdWFkJzogJ0Vhc2UgT3V0IFF1YWQnLFxuICAnZWFzZS1vdXQtY3ViaWMnOiAnRWFzZSBPdXQgQ3ViaWMnLFxuICAnZWFzZS1vdXQtcXVhcnQnOiAnRWFzZSBPdXQgUXVhcnQnLFxuICAnZWFzZS1vdXQtcXVpbnQnOiAnRWFzZSBPdXQgUXVpbnQnLFxuICAnZWFzZS1vdXQtc2luZSc6ICdFYXNlIE91dCBTaW5lJyxcbiAgJ2Vhc2Utb3V0LWV4cG8nOiAnRWFzZSBPdXQgRXhwbycsXG4gICdlYXNlLW91dC1jaXJjJzogJ0Vhc2UgT3V0IENpcmMnLFxuICAnZWFzZS1vdXQtYmFjayc6ICdFYXNlIE91dCBCYWNrJyxcbiAgJ2Vhc2UtaW4tb3V0LXF1YWQnOiAnRWFzZSBJbiBPdXQgUXVhZCcsXG4gICdlYXNlLWluLW91dC1jdWJpYyc6ICdFYXNlIEluIE91dCBDdWJpYycsXG4gICdlYXNlLWluLW91dC1xdWFydCc6ICdFYXNlIEluIE91dCBRdWFydCcsXG4gICdlYXNlLWluLW91dC1xdWludCc6ICdFYXNlIEluIE91dCBRdWludCcsXG4gICdlYXNlLWluLW91dC1zaW5lJzogJ0Vhc2UgSW4gT3V0IFNpbmUnLFxuICAnZWFzZS1pbi1vdXQtZXhwbyc6ICdFYXNlIEluIE91dCBFeHBvJyxcbiAgJ2Vhc2UtaW4tb3V0LWNpcmMnOiAnRWFzZSBJbiBPdXQgQ2lyYycsXG4gICdlYXNlLWluLW91dC1iYWNrJzogJ0Vhc2UgSW4gT3V0IEJhY2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBFQVNFX0RFRkFVTFQgPSAnZWFzZS1vdXQtcXVhZCc7XG5cbmV4cG9ydCBjb25zdCBTRUNUSU9OX05BTUVTID0ge1xuICBFQ09NTUVSQ0U6ICdFY29tbWVyY2UnLFxuICBDSEVDS09VVF9QQUdFOiAnQ2hlY2tvdXQgUGFnZScsXG4gIE9SREVSX0NPTkZJUk1BVElPTl9QQUdFOiAnT3JkZXIgQ29uZmlybWF0aW9uIFBhZ2UnLFxuICBQQVlQQUxfQ0hFQ0tPVVRfUEFHRTogJ0NoZWNrb3V0IChQYXlQYWwpIFBhZ2UnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IENPTU1FUkNFX0RFRkFVTFRfQ09QWSA9IHtcbiAgSU5GT19FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLklORk8uY29weSxcbiAgU0hJUFBJTkdfRVJST1I6IENIRUNLT1VUX0VSUk9SUy5TSElQUElORy5jb3B5LFxuICBPUkRFUl9FWFRSQVNfRVJST1I6IENIRUNLT1VUX0VSUk9SUy5FWFRSQVMuY29weSxcbiAgUFJJQ0lOR19FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLlBSSUNJTkcuY29weSxcbiAgUFJPRFVDVF9FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLlBST0RVQ1QuY29weSxcbiAgUEFZTUVOVF9FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLlBBWU1FTlQuY29weSxcbiAgQklMTElOR19FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLkJJTExJTkcuY29weSxcbiAgT1JERVJfTUlOSU1VTV9FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLk1JTklNVU0uY29weSxcbiAgSU5WQUxJRF9ESVNDT1VOVF9FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLklOVkFMSURfRElTQ09VTlQuY29weSxcbiAgRVhQSVJFRF9ESVNDT1VOVF9FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLkVYUElSRURfRElTQ09VTlQuY29weSxcbiAgVVNBR0VfUkVBQ0hFRF9ESVNDT1VOVF9FUlJPUjogQ0hFQ0tPVVRfRVJST1JTLlVTQUdFX1JFQUNIRURfRElTQ09VTlQuY29weSxcbiAgUkVRVUlSRU1FTlRTX05PVF9NRVRfRElTQ09VTlRfRVJST1I6XG4gICAgQ0hFQ0tPVVRfRVJST1JTLlJFUVVJUkVNRU5UU19OT1RfTUVUX0RJU0NPVU5ULmNvcHksXG4gIENPTU1FUkNFX0FERF9UT19DQVJUX0JVVFRPTl9ERUZBVUxUOiAnQWRkIHRvIENhcnQnLFxuICBDT01NRVJDRV9BRERfVE9fQ0FSVF9CVVRUT05fV0FJVElORzogJ0FkZGluZyB0byBjYXJ0Li4uJyxcbiAgQ09NTUVSQ0VfQlVZX05PV19CVVRUT05fREVGQVVMVDogJ0J1eSBub3cnLFxuICBTVUJTQ1JJUFRJT05fQlVUVE9OX0RFRkFVTFQ6ICdTdWJzY3JpYmUgbm93JyxcbiAgUVVBTlRJVFlfRVJST1I6ICdQcm9kdWN0IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBxdWFudGl0eS4nLFxuICBHRU5FUkFMX0VSUk9SOiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBhZGRpbmcgdGhpcyBpdGVtIHRvIHRoZSBjYXJ0LicsXG4gIENIRUNLT1VUX0VSUk9SOiAnQ2hlY2tvdXQgaXMgZGlzYWJsZWQgb24gdGhpcyBzaXRlLicsXG4gIENBUlRfT1JERVJfTUlOX0VSUk9SOlxuICAgICdUaGUgb3JkZXIgbWluaW11bSB3YXMgbm90IG1ldC4gQWRkIG1vcmUgaXRlbXMgdG8geW91ciBjYXJ0IHRvIGNvbnRpbnVlLicsXG4gIFNVQlNDUklQVElPTl9FUlI6XG4gICAgJ0JlZm9yZSB5b3UgcHVyY2hhc2UsIHBsZWFzZSB1c2UgeW91ciBlbWFpbCBpbnZpdGUgdG8gdmVyaWZ5IHlvdXIgYWRkcmVzcyBzbyB3ZSBjYW4gc2VuZCBvcmRlciB1cGRhdGVzLicsXG4gIEFERF9UT19DQVJUX1FVQU5USVRZX0VSUk9SOiAnUHJvZHVjdCBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgcXVhbnRpdHkuJyxcbiAgQUREX1RPX0NBUlRfR0VORVJBTF9FUlJPUjpcbiAgICAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBhZGRpbmcgdGhpcyBpdGVtIHRvIHRoZSBjYXJ0LicsXG4gIEFERF9UT19DQVJUX01JWEVEX0VSUk9SOlxuICAgICdZb3UgY2Fu4oCZdCBwdXJjaGFzZSBhbm90aGVyIHByb2R1Y3Qgd2l0aCBhIHN1YnNjcmlwdGlvbi4nLFxuICBCVVlfTk9XX0VSUk9SOiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiB0cnlpbmcgdG8gcHVyY2hhc2UgdGhpcyBpdGVtLicsXG4gIENIRUNLT1VUX0RJU0FCTEVEX0VSUk9SOiAnQ2hlY2tvdXQgaXMgZGlzYWJsZWQgb24gdGhpcyBzaXRlLicsXG4gIFNFTEVDVF9BTExfT1BUSU9OUzogJ1BsZWFzZSBzZWxlY3QgYW4gb3B0aW9uIGluIGVhY2ggc2V0LicsXG59IGFzIGNvbnN0O1xuIl0sIm5hbWVzIjpbIkFERF9UT19DQVJUX0VSUk9SUyIsIkFERF9UT19DQVJUX0VSUk9SX01FU1NBR0UiLCJBRERfVE9fQ0FSVF9MT0FESU5HIiwiQUREX1RPX0NBUlRfU1RBVEVTIiwiQUxJR05fREVGQVVMVCIsIkFMSUdOX0tFWSIsIkFOSU1BVElPTl9EVVJBVElPTl9ERUZBVUxUIiwiQU5JTUFUSU9OX0RVUkFUSU9OX0tFWSIsIkFOSU1BVElPTl9EVVJBVElPTl9LRVlQQVRIIiwiQU5JTUFUSU9OX0VBU0lOR19ERUZBVUxUIiwiQU5JTUFUSU9OX0VBU0lOR19LRVkiLCJBTklNQVRJT05fRUFTSU5HX0tFWVBBVEgiLCJCSUxMSU5HX0FERFJFU1NfVE9HR0xFX0RFRkFVTFQiLCJCSUxMSU5HX0FERFJFU1NfVE9HR0xFX0tFWSIsIkJJTExJTkdfQUREUkVTU19UT0dHTEVfS0VZUEFUSCIsIkNBUlRfQ0hFQ0tPVVRfQlVUVE9OX1RFWFRfREVGQVVMVCIsIkNBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRSIsIkNBUlRfQ0hFQ0tPVVRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiIsIkNBUlRfQ0hFQ0tPVVRfTE9BRElOR19URVhUX0RFRkFVTFQiLCJDQVJUX0NPVU5UX0hJREVfUlVMRVMiLCJDQVJUX0VSUk9SUyIsIkNBUlRfRVJST1JfTUVTU0FHRSIsIkNBUlRfRVJST1JfTUVTU0FHRV9TRUxFQ1RPUiIsIkNBUlRfR0VORVJBTF9FUlJPUl9NRVNTQUdFIiwiQ0FSVF9PUEVOIiwiQ0FSVF9QUk9EVUNUX0FEREVEX0RFRkFVTFQiLCJDQVJUX1BST0RVQ1RfQURERURfS0VZIiwiQ0FSVF9QUk9EVUNUX0FEREVEX0tFWVBBVEgiLCJDQVJUX1FVRVJZIiwiQ0FSVF9TVEFURSIsIkNBUlRfU1RBVEVTIiwiQ0FSVF9TVEFURVNfQVVUT01BVElPTiIsIkNBUlRfVFlQRSIsIkNBUlRfVFlQRVMiLCJDQVJUX1RZUEVfRFJPUERPV05fT05fT1BFTiIsIkNBUlRfVFlQRV9EUk9QRE9XTl9PTl9PUEVOX0tFWSIsIkNBUlRfVFlQRV9LRVkiLCJDSEFOR0VfQ0FSVF9FVkVOVCIsIkNIRUNLT1VUX0JJTkRJTkdfUk9PVF9RVUVSWV9QQVRIIiwiQ0hFQ0tPVVRfRElTQUJMRURfRVJST1JfTUVTU0FHRSIsIkNIRUNLT1VUX0VSUk9SUyIsIkNIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTl9URVhUX0RFRkFVTFQiLCJDSEVDS09VVF9QTEFDRV9PUkRFUl9MT0FESU5HX1RFWFRfREVGQVVMVCIsIkNIRUNLT1VUX1FVRVJZIiwiQ0hFQ0tPVVRfU1RBVEUiLCJDSEVDS09VVF9TVEFURVMiLCJDT01NRVJDRV9DQVJUX0lURU1fSURfQVRUUiIsIkNPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OUyIsIkNPTU1FUkNFX0NBUlRfUFVCTElTSEVEX1NJVEVfQUNUSU9OX0FUVFIiLCJDT01NRVJDRV9DQVRFR09SWV9DT0xMRUNUSU9OX1NMVUciLCJDT01NRVJDRV9ERUZBVUxUX0NPUFkiLCJDT01NRVJDRV9FUlJPUl9DQVRFR09SWSIsIkNPTU1FUkNFX1BMVUdJTl9LRVkiLCJDT01NRVJDRV9QUk9EVUNUX0NPTExFQ1RJT05fU0xVRyIsIkNPTU1FUkNFX1BST0RVQ1RfRklFTERfU0xVRyIsIkNPTU1FUkNFX1NLVV9DT0xMRUNUSU9OX1NMVUciLCJDT01NRVJDRV9TS1VfRklFTERfU0xVRyIsIkRBVEFfQVRUUl9BTklNQVRJT05fRFVSQVRJT04iLCJEQVRBX0FUVFJfQU5JTUFUSU9OX0VBU0lORyIsIkRBVEFfQVRUUl9DT01NRVJDRV9PUFRJT05fU0VUX0lEIiwiREFUQV9BVFRSX0NPTU1FUkNFX1BST0RVQ1RfQ1VSUkVOVF9TS1VfVkFMVUVTIiwiREFUQV9BVFRSX0NPTU1FUkNFX1BST0RVQ1RfSUQiLCJEQVRBX0FUVFJfQ09NTUVSQ0VfU0tVX0lEIiwiREFUQV9BVFRSX0NPVU5UX0hJREVfUlVMRSIsIkRBVEFfQVRUUl9ERUZBVUxUX1RFWFQiLCJEQVRBX0FUVFJfTE9BRElOR19URVhUIiwiREFUQV9BVFRSX05PREVfVFlQRSIsIkRBVEFfQVRUUl9PUEVOX09OX0hPVkVSIiwiREFUQV9BVFRSX09QRU5fUFJPRFVDVCIsIkRBVEFfQVRUUl9QUkVTRUxFQ1RfREVGQVVMVF9WQVJJQU5UIiwiREFUQV9BVFRSX1BVQkxJU0hBQkxFX0tFWSIsIkRBVEFfQVRUUl9TVUJTQ1JJUFRJT05fVEVYVCIsIkRFRkFVTFRfU0tVX1NMVUciLCJFQVNFX0RFRkFVTFQiLCJFQVNJTkdTIiwiRURJVEFCTEVfU1RZTEVfTkFNRVMiLCJISURFX0NBUlRfQ09VTlRfREVGQVVMVCIsIkhJREVfQ0FSVF9DT1VOVF9LRVkiLCJISURFX0NBUlRfV0hFTl9FTVBUWV9ERUZBVUxUIiwiSElERV9DQVJUX1dIRU5fRU1QVFlfS0VZIiwiSElERV9DQVJUX1dIRU5fRU1QVFlfS0VZUEFUSCIsIkxPQURJTkdfVEVYVCIsIkxPQURJTkdfVEVYVF9ERUZBVUxUIiwiTkVFRFNfUkVGUkVTSCIsIk5PREVfTkFNRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9RVUFOVElUWV9JTlBVVCIsIk5PREVfVFlQRV9BRERfVE9fQ0FSVF9FUlJPUiIsIk5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9CVVRUT04iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRVJST1IiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfRk9STSIsIk5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9PUFRJT05fTElTVCIsIk5PREVfVFlQRV9DT01NRVJDRV9BRERfVE9fQ0FSVF9PUFRJT05fU0VMRUNUIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0FERF9UT19DQVJUX1BJTEwiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQUREX1RPX0NBUlRfUElMTF9HUk9VUCIsIk5PREVfVFlQRV9DT01NRVJDRV9CVVlfTk9XX0JVVFRPTiIsIk5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0FQUExFX1BBWV9CVVRUT04iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DSEVDS09VVF9CVVRUT04iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9DTE9TRV9MSU5LIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfQ09OVEFJTkVSX1dSQVBQRVIiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9FUlJPUiIsIk5PREVfVFlQRV9DT01NRVJDRV9DQVJUX0ZPUk0iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9PUEVOX0xJTksiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0FSVF9RVUlDS19DSEVDS09VVF9BQ1RJT05TIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfUVVJQ0tfQ0hFQ0tPVVRfQlVUVE9OIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NBUlRfV1JBUFBFUiIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9BRERJVElPTkFMX0lORk8iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfQklMTElOR19BRERSRVNTX1RPR0dMRV9DSEVDS0JPWCIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfV1JBUFBFUiIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9CSUxMSU5HX0FERFJFU1NfWklQX0ZJRUxEIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0NVU1RPTUVSX0lORk9fV1JBUFBFUiIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9ESVNDT1VOVF9GT1JNIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0RJU0NPVU5UX0lOUFVUIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0VSUk9SX1NUQVRFIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX0ZPUk1fQ09OVEFJTkVSIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0NIRUNLT1VUX1BMQUNFX09SREVSX0JVVFRPTiIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19BRERSRVNTX1dSQVBQRVIiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfQUREUkVTU19aSVBfRklFTEQiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19FTVBUWV9TVEFURSIsIk5PREVfVFlQRV9DT01NRVJDRV9DSEVDS09VVF9TSElQUElOR19NRVRIT0RTX0xJU1QiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfQ0hFQ0tPVVRfU0hJUFBJTkdfTUVUSE9EU19XUkFQUEVSIiwiTk9ERV9UWVBFX0NPTU1FUkNFX0RPV05MT0FEU19CVVRUT04iLCJOT0RFX1RZUEVfQ09NTUVSQ0VfT1JERVJfQ09ORklSTUFUSU9OX1dSQVBQRVIiLCJOT0RFX1RZUEVfQ09NTUVSQ0VfUEFZUEFMX0NIRUNLT1VUX0VSUk9SX1NUQVRFIiwiTk9ERV9UWVBFX0NPTU1FUkNFX1BBWVBBTF9DSEVDS09VVF9GT1JNX0NPTlRBSU5FUiIsIk9QRU5fU1RBVEVfREVGQVVMVCIsIk9QRU5fU1RBVEVfS0VZIiwiT1BFTl9TVEFURV9LRVlQQVRIIiwiT1JERVJfUVVFUlkiLCJPUkRFUl9UWVBFIiwiUEFZUEFMX0JVVFRPTl9FTEVNRU5UX0lOU1RBTkNFIiwiUEFZUEFMX0VMRU1FTlRfSU5TVEFOQ0UiLCJQUkVWSUVXX0lURU1TX0RFRkFVTFQiLCJQUkVWSUVXX0lURU1TX0tFWSIsIlBSRVZJRVdfSVRFTVNfS0VZUEFUSCIsIlFVQU5USVRZX0VOQUJMRUQiLCJRVUlDS19DSEVDS09VVF9BVVRPTUFUSU9OIiwiUVVJQ0tfQ0hFQ0tPVVRfU1RBVEUiLCJRVUlDS19DSEVDS09VVF9TVEFURVMiLCJRVUlDS19DSEVDS09VVF9TVEFURV9LRVlQQVRIIiwiUkVOREVSX1RSRUVfRVZFTlQiLCJSRVFVSVJFU19BQ1RJT04iLCJSRVFVSVJFU19TSElQUElORyIsIlNFQ1RJT05fTkFNRVMiLCJTSElQUElOR19NRVRIT0RTX1NUQVRFIiwiU0hJUFBJTkdfTUVUSE9EU19TVEFURVMiLCJTVEFURSIsIlNUUklQRV9FQ09NTUVSQ0VfQUNDT1VOVF9JRCIsIlNUUklQRV9FQ09NTUVSQ0VfS0VZIiwiU1RSSVBFX0VMRU1FTlRfSU5TVEFOQ0UiLCJTVFJJUEVfRUxFTUVOVF9TVFlMRSIsIlNUUklQRV9FTEVNRU5UX1RZUEUiLCJXRl9CSU5ESU5HX0RBVEFfS0VZIiwiV0ZfQ09MTEVDVElPTl9EQVRBX0tFWSIsIldGX0NPTkRJVElPTl9EQVRBX0tFWSIsIldGX1NLVV9CSU5ESU5HX0RBVEFfS0VZIiwiV0ZfU0tVX0NPTkRJVElPTl9EQVRBX0tFWSIsIldGX1RFTVBMQVRFX0lEX0RBVEFfS0VZIiwiV0ZfVEVNUExBVEVfVFlQRSIsImdldEFUQ0Vycm9yTWVzc2FnZUZvclR5cGUiLCJnZXRDYXJ0RXJyb3JNZXNzYWdlRm9yVHlwZSIsImdldENoZWNrb3V0RXJyb3JNZXNzYWdlRm9yVHlwZSIsInN5bWJvbE1hcCIsIkRFRkFVTFQiLCJPVVRfT0ZfU1RPQ0siLCJFUlJPUiIsIkVNUFRZIiwiQ0xJQ0siLCJIT1ZFUiIsIk1PREFMIiwiTEVGVF9TSURFQkFSIiwiUklHSFRfU0lERUJBUiIsIkxFRlRfRFJPUERPV04iLCJSSUdIVF9EUk9QRE9XTiIsIkRST1BET1dOIiwiQUxXQVlTIiwiTk9ORSIsIlBBWV9OT1ciLCJBUFBMRV9QQVkiLCJVUERBVEVfSVRFTV9RVUFOVElUWSIsIlJFTU9WRV9JVEVNIiwiSU5GT19FUlIiLCJTSElQUElOR19FUlIiLCJCSUxMSU5HX0VSUiIsIlBBWU1FTlRfRVJSIiwiUFJJQ0lOR19FUlIiLCJPUkRFUl9NSU5fRVJSIiwiT1JERVJfRVhUUkFTX0VSUiIsIlBST0RVQ1RfRVJSIiwiSU5WQUxJRF9ESVNDT1VOVF9FUlIiLCJFWFBJUkVEX0RJU0NPVU5UX0VSUiIsIlVTQUdFX1JFQUNIRURfRElTQ09VTlRfRVJSIiwiUkVRVUlSRU1FTlRTX05PVF9NRVRfRElTQ09VTlRfRVJSIiwiR0VORVJBTCIsImlkIiwibGFiZWwiLCJQUk9EVUNUIiwiQklMTElORyIsIkRJU0NPVU5UIiwiU1VCU0NSSVBUSU9OIiwiSU5GTyIsIm5hbWUiLCJjYXRlZ29yeSIsImNvcHkiLCJwYXRoIiwiU0hJUFBJTkciLCJFWFRSQVMiLCJyZXF1aXJlc1JlZnJlc2giLCJQUklDSU5HIiwiUEFZTUVOVCIsIk1JTklNVU0iLCJub3RlIiwiY3RhIiwibGluayIsIklOVkFMSURfRElTQ09VTlQiLCJFWFBJUkVEX0RJU0NPVU5UIiwiVVNBR0VfUkVBQ0hFRF9ESVNDT1VOVCIsIlJFUVVJUkVNRU5UU19OT1RfTUVUX0RJU0NPVU5UIiwiUVVBTlRJVFlfRVJSIiwiQ0hFQ0tPVVRfRVJSIiwiR0VORVJBTF9FUlIiLCJDQVJUX09SREVSX01JTl9FUlIiLCJTVUJTQ1JJUFRJT05fRVJSIiwiUVVBTlRJVFkiLCJDSEVDS09VVCIsIkNBUlRfT1JERVJfTUlOIiwiU1VCU0NSSVBUSU9OX0VSUk9SIiwiQUREX1RPX0NBUlRfUVVBTlRJVFlfRVJSIiwiQUREX1RPX0NBUlRfR0VORVJBTF9FUlIiLCJBRERfVE9fQ0FSVF9NSVhFRF9FUlIiLCJNSVhFRF9DQVJUIiwiQlVZX05PVyIsIkNIRUNLT1VUX0RJU0FCTEVEIiwiU0VMRUNUX0FMTF9PUFRJT05TIiwiYWVkIiwiYWZuIiwiYWxsIiwiYW1kIiwiYW5nIiwiYW9hIiwiYXJzIiwiYXVkIiwiYXdnIiwiYXpuIiwiYmFtIiwiYmJkIiwiYmR0IiwiYmduIiwiYmhkIiwiYmlmIiwiYm1kIiwiYm5kIiwiYm9iIiwiYnJsIiwiYnNkIiwiYnRjIiwiYnRuIiwiYndwIiwiYnlyIiwiYnluIiwiYnpkIiwiY2FkIiwiY2RmIiwiY2hmIiwiY2xwIiwiY255IiwiY29wIiwiY3JjIiwiY3VjIiwiY3VwIiwiY3ZlIiwiY3prIiwiZGpmIiwiZGtrIiwiZG9wIiwiZHpkIiwiZWVrIiwiZWdwIiwiZXJuIiwiZXRiIiwiZXRoIiwiZXVyIiwiZmpkIiwiZmtwIiwiZ2JwIiwiZ2VsIiwiZ2dwIiwiZ2hjIiwiZ2hzIiwiZ2lwIiwiZ21kIiwiZ25mIiwiZ3RxIiwiZ3lkIiwiaGtkIiwiaG5sIiwiaHJrIiwiaHRnIiwiaHVmIiwiaWRyIiwiaWxzIiwiaW1wIiwiaW5yIiwiaXFkIiwiaXJyIiwiaXNrIiwiamVwIiwiam1kIiwiam9kIiwianB5Iiwia2VzIiwia2dzIiwia2hyIiwia21mIiwia3B3Iiwia3J3Iiwia3dkIiwia3lkIiwia3p0IiwibGFrIiwibGJwIiwibGtyIiwibHJkIiwibHNsIiwibHRjIiwibHRsIiwibHZsIiwibHlkIiwibWFkIiwibWRsIiwibWdhIiwibWtkIiwibW1rIiwibW50IiwibW9wIiwibXJvIiwibXJ1IiwibXVyIiwibXZyIiwibXdrIiwibXhuIiwibXlyIiwibXpuIiwibmFkIiwibmduIiwibmlvIiwibm9rIiwibnByIiwibnpkIiwib21yIiwicGFiIiwicGVuIiwicGdrIiwicGhwIiwicGtyIiwicGxuIiwicHlnIiwicWFyIiwicm1iIiwicm9uIiwicnNkIiwicnViIiwicndmIiwic2FyIiwic2JkIiwic2NyIiwic2RnIiwic2VrIiwic2dkIiwic2hwIiwic2xsIiwic29zIiwic3JkIiwic3NwIiwic3RkIiwic3RuIiwic3ZjIiwic3lwIiwic3psIiwidGhiIiwidGpzIiwidG10IiwidG5kIiwidG9wIiwidHJsIiwidHJ5IiwidHRkIiwidHZkIiwidHdkIiwidHpzIiwidWFoIiwidWd4IiwidXNkIiwidXl1IiwidXpzIiwidmVmIiwidm5kIiwidnV2Iiwid3N0IiwieGFmIiwieGJ0IiwieGNkIiwieG9mIiwieHBmIiwieWVyIiwiemFyIiwiendkIiwiUkVRVUlSRV9TSElQUElORyIsIk5PX1NISVBQSU5HIiwiZXJyb3JUeXBlIiwiZWFzZSIsImxpbmVhciIsIkVDT01NRVJDRSIsIkNIRUNLT1VUX1BBR0UiLCJPUkRFUl9DT05GSVJNQVRJT05fUEFHRSIsIlBBWVBBTF9DSEVDS09VVF9QQUdFIiwiSU5GT19FUlJPUiIsIlNISVBQSU5HX0VSUk9SIiwiT1JERVJfRVhUUkFTX0VSUk9SIiwiUFJJQ0lOR19FUlJPUiIsIlBST0RVQ1RfRVJST1IiLCJQQVlNRU5UX0VSUk9SIiwiQklMTElOR19FUlJPUiIsIk9SREVSX01JTklNVU1fRVJST1IiLCJJTlZBTElEX0RJU0NPVU5UX0VSUk9SIiwiRVhQSVJFRF9ESVNDT1VOVF9FUlJPUiIsIlVTQUdFX1JFQUNIRURfRElTQ09VTlRfRVJST1IiLCJSRVFVSVJFTUVOVFNfTk9UX01FVF9ESVNDT1VOVF9FUlJPUiIsIkNPTU1FUkNFX0FERF9UT19DQVJUX0JVVFRPTl9ERUZBVUxUIiwiQ09NTUVSQ0VfQUREX1RPX0NBUlRfQlVUVE9OX1dBSVRJTkciLCJDT01NRVJDRV9CVVlfTk9XX0JVVFRPTl9ERUZBVUxUIiwiU1VCU0NSSVBUSU9OX0JVVFRPTl9ERUZBVUxUIiwiUVVBTlRJVFlfRVJST1IiLCJHRU5FUkFMX0VSUk9SIiwiQ0hFQ0tPVVRfRVJST1IiLCJDQVJUX09SREVSX01JTl9FUlJPUiIsIkFERF9UT19DQVJUX1FVQU5USVRZX0VSUk9SIiwiQUREX1RPX0NBUlRfR0VORVJBTF9FUlJPUiIsIkFERF9UT19DQVJUX01JWEVEX0VSUk9SIiwiQlVZX05PV19FUlJPUiIsIkNIRUNLT1VUX0RJU0FCTEVEX0VSUk9SIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXFiYUEsa0JBQWtCO2VBQWxCQTs7SUFnVUFDLHlCQUF5QjtlQUF6QkE7O0lBRkFDLG1CQUFtQjtlQUFuQkE7O0lBMXBCQUMsa0JBQWtCO2VBQWxCQTs7SUF5SEFDLGFBQWE7ZUFBYkE7O0lBREFDLFNBQVM7ZUFBVEE7O0lBdVJBQywwQkFBMEI7ZUFBMUJBOztJQUNBQyxzQkFBc0I7ZUFBdEJBOztJQUNBQywwQkFBMEI7ZUFBMUJBOztJQVZBQyx3QkFBd0I7ZUFBeEJBOztJQUNBQyxvQkFBb0I7ZUFBcEJBOztJQUNBQyx3QkFBd0I7ZUFBeEJBOztJQXpTQUMsOEJBQThCO2VBQTlCQTs7SUFOQUMsMEJBQTBCO2VBQTFCQTs7SUFDQUMsOEJBQThCO2VBQTlCQTs7SUFzQkFDLGlDQUFpQztlQUFqQ0E7O0lBeWpCQUMsMkJBQTJCO2VBQTNCQTs7SUFDQUMsb0NBQW9DO2VBQXBDQTs7SUF6akJBQyxrQ0FBa0M7ZUFBbENBOztJQXJFQUMscUJBQXFCO2VBQXJCQTs7SUFxUUFDLFdBQVc7ZUFBWEE7O0lBMFhBQyxrQkFBa0I7ZUFBbEJBOztJQUNBQywyQkFBMkI7ZUFBM0JBOztJQUpBQywwQkFBMEI7ZUFBMUJBOztJQUtBQyxTQUFTO2VBQVRBOztJQTVpQkFDLDBCQUEwQjtlQUExQkE7O0lBTkFDLHNCQUFzQjtlQUF0QkE7O0lBQ0FDLDBCQUEwQjtlQUExQkE7O0lBbWpCQUMsVUFBVTtlQUFWQTs7SUF2bUJBQyxVQUFVO2VBQVZBOztJQW5FQUMsV0FBVztlQUFYQTs7SUFNQUMsc0JBQXNCO2VBQXRCQTs7SUFtcUJBQyxTQUFTO2VBQVRBOztJQTNv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QUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRU0sTUFBTXNGLFlBQVk7SUFDdkJ3RSxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7QUFDUDtBQUVPLE1BQU0vVyxtQ0FBbUM7SUFDOUM7SUFDQTtDQUNEO0FBRU0sTUFBTTBGLGFBQWE7SUFDeEJzUixrQkFBa0I7SUFDbEJDLGFBQWE7QUFDZjtBQUlPLE1BQU01USxvQkFBb0I7QUFDMUIsTUFBTXhELGdCQUFnQjtBQUN0QixNQUFNMEQsb0JBQW9CO0FBQzFCLE1BQU1PLDBCQUEwQjtBQUNoQyxNQUFNRSxzQkFBc0I7QUFDNUIsTUFBTUQsdUJBQXVCO0FBRzdCLE1BQU1uSixzQkFBc0I7QUFDNUIsTUFBTW1DLG9CQUFvQjtBQUMxQixNQUFNcEMsNEJBQTRCO0FBQ2xDLE1BQU02Siw0QkFBNEIsQ0FBQzBQLFlBQ3hDLENBQUMsbUJBQW1CLEVBQUVBLFVBQVUsTUFBTSxDQUFDO0FBQ2xDLE1BQU1qWCxrQ0FDWDtBQUdLLE1BQU1JLGlCQUFpQjtBQUN2QixNQUFNcUgsaUNBQWlDLENBQUN3UCxZQUM3QyxDQUFDLE9BQU8sRUFBRUEsVUFBVSxNQUFNLENBQUM7QUFDdEIsTUFBTTVRLGtCQUFrQjtBQUd4QixNQUFNckgsNkJBQTZCO0FBQ25DLE1BQU1QLDhCQUE4QjtBQUNwQyxNQUFNQyx1Q0FBdUM7QUFDN0MsTUFBTUkscUJBQXFCO0FBQzNCLE1BQU1DLDhCQUE4QixDQUFDLEdBQUcsRUFBRUQsbUJBQW1CLENBQUM7QUFDOUQsTUFBTUcsWUFBWTtBQUNsQixNQUFNUSxZQUFZO0FBQ2xCLE1BQU1KLGFBQWE7QUFDbkIsTUFBTXNHLDBCQUEwQjtBQUNoQyxNQUFNRCxpQ0FBaUM7QUFDdkMsTUFBTThCLDZCQUE2QixDQUFDeVAsWUFDekMsQ0FBQyxZQUFZLEVBQUVBLFVBQVUsTUFBTSxDQUFDO0FBRzNCLE1BQU16UixjQUFjO0FBR3BCLE1BQU1vQix1QkFBdUI7QUFDN0IsTUFBTUQsOEJBQThCO0FBRXBDLE1BQU14RSxVQUFVO0lBQ3JCK1UsTUFBTTtJQUNOLFdBQVc7SUFDWCxZQUFZO0lBQ1osZUFBZTtJQUNmQyxRQUFRO0lBQ1IsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQixvQkFBb0I7SUFDcEIsb0JBQW9CO0lBQ3BCLG9CQUFvQjtJQUNwQixvQkFBb0I7QUFDdEI7QUFDTyxNQUFNalYsZUFBZTtBQUVyQixNQUFNcUUsZ0JBQWdCO0lBQzNCNlEsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLHlCQUF5QjtJQUN6QkMsc0JBQXNCO0FBQ3hCO0FBRU8sTUFBTTVXLHdCQUF3QjtJQUNuQzZXLFlBQVl2WCxnQkFBZ0IrSixJQUFJLENBQUNHLElBQUk7SUFDckNzTixnQkFBZ0J4WCxnQkFBZ0JvSyxRQUFRLENBQUNGLElBQUk7SUFDN0N1TixvQkFBb0J6WCxnQkFBZ0JxSyxNQUFNLENBQUNILElBQUk7SUFDL0N3TixlQUFlMVgsZ0JBQWdCdUssT0FBTyxDQUFDTCxJQUFJO0lBQzNDeU4sZUFBZTNYLGdCQUFnQjJKLE9BQU8sQ0FBQ08sSUFBSTtJQUMzQzBOLGVBQWU1WCxnQkFBZ0J3SyxPQUFPLENBQUNOLElBQUk7SUFDM0MyTixlQUFlN1gsZ0JBQWdCNEosT0FBTyxDQUFDTSxJQUFJO0lBQzNDNE4scUJBQXFCOVgsZ0JBQWdCeUssT0FBTyxDQUFDUCxJQUFJO0lBQ2pENk4sd0JBQXdCL1gsZ0JBQWdCNkssZ0JBQWdCLENBQUNYLElBQUk7SUFDN0Q4Tix3QkFBd0JoWSxnQkFBZ0I4SyxnQkFBZ0IsQ0FBQ1osSUFBSTtJQUM3RCtOLDhCQUE4QmpZLGdCQUFnQitLLHNCQUFzQixDQUFDYixJQUFJO0lBQ3pFZ08scUNBQ0VsWSxnQkFBZ0JnTCw2QkFBNkIsQ0FBQ2QsSUFBSTtJQUNwRGlPLHFDQUFxQztJQUNyQ0MscUNBQXFDO0lBQ3JDQyxpQ0FBaUM7SUFDakNDLDZCQUE2QjtJQUM3QkMsZ0JBQWdCO0lBQ2hCQyxlQUFlO0lBQ2ZDLGdCQUFnQjtJQUNoQkMsc0JBQ0U7SUFDRnJOLGtCQUNFO0lBQ0ZzTiw0QkFBNEI7SUFDNUJDLDJCQUNFO0lBQ0ZDLHlCQUNFO0lBQ0ZDLGVBQWU7SUFDZkMseUJBQXlCO0lBQ3pCL00sb0JBQW9CO0FBQ3RCIn0=

}),
37693: (function (__unused_webpack_module, exports) {
"use strict";
// Note: These currencies are extracted by getting Stripe compatible currencies with:
//
// curl https://api.stripe.com/v1/country_specs\?limit\=100 -u $STRIPE_TEST_KEY: -G \
//   | jq '.data|.[]|.supported_payment_currencies|.[]' \
//   | sort \
//   | uniq
//
// And then populating in the names from ISO 4217:
//
// Digit counts are also added. Stripe is treated as the source-of-truth for that number, even though their
// numbers are often at odds with ISO 4217. Notes:
//
//  - CVE had a subunit (centavo), that has been discontinued. The ISO reflects this, but stripe sticks
//    with 2 digits, since the currency is still commonly formatted as "1$00". \_()_/
//  - ISK had a subunit (eyrir) that was obsoleted in 2003, but Stripe sticks with 2 digits instead of
//    the ISO's 0.
//  - MGA is strange, since its smallest denomination is a 1/5th piece (the Iraimbilanja), but is
//    represented as a decimal, so the currency goes "1.3, 1.4, 2.0, ...". Stripe dodges this strangeness
//    by ignoring that minimum unit, and so do we, since it has so little value.
//  - UGX had a subunit (cent) that was discontinued in 2013. Stripe still counts it, tho, even though
//    that cent is work 1/350000th of a penny.

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "stripeCurrencyList", ({
    enumerable: true,
    get: function() {
        return stripeCurrencyList;
    }
}));
const stripeCurrencyList = [
    /*
   * ----------------------------------------------------------------------------
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   *
   * This const is duplicated to @packages/systems/core/constants/SharedConfig.js
   * to avoid bundling this entire SharedConfig file in the webflow.js published
   * site bundle. Once we have support for bundling for the Dashboard (this
   * config is injected in to window.SharedConfig for angular), we should
   * be able to delete the const in SharedConfig and use the commerce/consts
   * package whenever `stripeCurrencyList` const is needed.
   *
   * In the meantime, if you make changes to this const, please make sure to
   * update in the other location as well.
   *
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE
   * ----------------------------------------------------------------------------
   */ {
        code: 'AED',
        digits: 2,
        minCharge: 0,
        name: 'United Arab Emirates Dirham'
    },
    {
        code: 'AFN',
        digits: 2,
        minCharge: 0,
        name: 'Afghanistan Afghani'
    },
    {
        code: 'ALL',
        digits: 2,
        minCharge: 0,
        name: 'Albanian Lek'
    },
    {
        code: 'AMD',
        digits: 2,
        minCharge: 0,
        name: 'Armenia Dram'
    },
    {
        code: 'ANG',
        digits: 2,
        minCharge: 0,
        name: 'Netherlands Antillean Gulden'
    },
    {
        code: 'AOA',
        digits: 2,
        minCharge: 0,
        name: 'Angola Kwanza'
    },
    {
        code: 'ARS',
        digits: 2,
        minCharge: 0,
        name: 'Argentine Peso'
    },
    {
        code: 'AUD',
        digits: 2,
        minCharge: 50,
        name: 'Australian Dollar'
    },
    {
        code: 'AWG',
        digits: 2,
        minCharge: 0,
        name: 'Aruban Florin'
    },
    {
        code: 'AZN',
        digits: 2,
        minCharge: 0,
        name: 'Azerbaijan Manat'
    },
    {
        code: 'BAM',
        digits: 2,
        minCharge: 0,
        name: 'Bosnia and Herzegovina Convertible Marka'
    },
    {
        code: 'BBD',
        digits: 2,
        minCharge: 0,
        name: 'Barbadian Dollar'
    },
    {
        code: 'BDT',
        digits: 2,
        minCharge: 0,
        name: 'Bangladeshi Taka'
    },
    {
        code: 'BGN',
        digits: 2,
        minCharge: 0,
        name: 'Bulgaria Lev'
    },
    {
        code: 'BIF',
        digits: 0,
        minCharge: 0,
        name: 'Burundian Franc'
    },
    {
        code: 'BMD',
        digits: 2,
        minCharge: 0,
        name: 'Bermudian Dollar'
    },
    {
        code: 'BND',
        digits: 2,
        minCharge: 0,
        name: 'Brunei Dollar'
    },
    {
        code: 'BOB',
        digits: 2,
        minCharge: 0,
        name: 'Bolivian Boliviano'
    },
    {
        code: 'BRL',
        digits: 2,
        minCharge: 50,
        name: 'Brazilian Real'
    },
    {
        code: 'BSD',
        digits: 2,
        minCharge: 0,
        name: 'Bahamian Dollar'
    },
    {
        code: 'BWP',
        digits: 2,
        minCharge: 0,
        name: 'Botswana Pula'
    },
    {
        code: 'BZD',
        digits: 2,
        minCharge: 0,
        name: 'Belize Dollar'
    },
    {
        code: 'CAD',
        digits: 2,
        minCharge: 50,
        name: 'Canadian Dollar'
    },
    {
        code: 'CDF',
        digits: 2,
        minCharge: 0,
        name: 'Congo/Kinshasa Franc'
    },
    {
        code: 'CHF',
        digits: 2,
        minCharge: 50,
        name: 'Swiss Franc'
    },
    {
        code: 'CLP',
        digits: 0,
        minCharge: 0,
        name: 'Chilean Peso'
    },
    {
        code: 'CNY',
        digits: 2,
        minCharge: 0,
        name: 'Chinese Renminbi Yuan'
    },
    {
        code: 'COP',
        digits: 2,
        minCharge: 0,
        name: 'Colombian Peso'
    },
    {
        code: 'CRC',
        digits: 2,
        minCharge: 0,
        name: 'Costa Rican Coln'
    },
    {
        code: 'CVE',
        digits: 2,
        minCharge: 0,
        name: 'Cape Verdean Escudo'
    },
    {
        code: 'CZK',
        digits: 2,
        minCharge: 0,
        name: 'Czech Koruna'
    },
    {
        code: 'DJF',
        digits: 0,
        minCharge: 0,
        name: 'Djiboutian Franc'
    },
    {
        code: 'DKK',
        digits: 2,
        minCharge: 250,
        name: 'Danish Krone'
    },
    {
        code: 'DOP',
        digits: 2,
        minCharge: 0,
        name: 'Dominican Peso'
    },
    {
        code: 'DZD',
        digits: 2,
        minCharge: 0,
        name: 'Algerian Dinar'
    },
    {
        code: 'EGP',
        digits: 2,
        minCharge: 0,
        name: 'Egyptian Pound'
    },
    {
        code: 'ETB',
        digits: 2,
        minCharge: 0,
        name: 'Ethiopian Birr'
    },
    {
        code: 'EUR',
        digits: 2,
        minCharge: 50,
        name: 'Euro'
    },
    {
        code: 'FJD',
        digits: 2,
        minCharge: 0,
        name: 'Fijian Dollar'
    },
    {
        code: 'FKP',
        digits: 2,
        minCharge: 0,
        name: 'Falkland Islands Pound'
    },
    {
        code: 'GBP',
        digits: 2,
        minCharge: 30,
        name: 'British Pound'
    },
    {
        code: 'GEL',
        digits: 2,
        minCharge: 0,
        name: 'Georgia Lari'
    },
    {
        code: 'GIP',
        digits: 2,
        minCharge: 0,
        name: 'Gibraltar Pound'
    },
    {
        code: 'GMD',
        digits: 2,
        minCharge: 0,
        name: 'Gambian Dalasi'
    },
    {
        code: 'GNF',
        digits: 0,
        minCharge: 0,
        name: 'Guinean Franc'
    },
    {
        code: 'GTQ',
        digits: 2,
        minCharge: 0,
        name: 'Guatemalan Quetzal'
    },
    {
        code: 'GYD',
        digits: 2,
        minCharge: 0,
        name: 'Guyanese Dollar'
    },
    {
        code: 'HKD',
        digits: 2,
        minCharge: 400,
        name: 'Hong Kong Dollar'
    },
    {
        code: 'HNL',
        digits: 2,
        minCharge: 0,
        name: 'Honduran Lempira'
    },
    {
        code: 'HRK',
        digits: 2,
        minCharge: 0,
        name: 'Croatian Kuna'
    },
    {
        code: 'HTG',
        digits: 2,
        minCharge: 0,
        name: 'Haitian Gourde'
    },
    {
        code: 'HUF',
        digits: 2,
        minCharge: 0,
        name: 'Hungarian Forint'
    },
    {
        code: 'IDR',
        digits: 2,
        minCharge: 0,
        name: 'Indonesian Rupiah'
    },
    {
        code: 'ILS',
        digits: 2,
        minCharge: 0,
        name: 'Israeli New Sheqel'
    },
    {
        code: 'INR',
        digits: 2,
        minCharge: 50,
        name: 'Indian Rupee'
    },
    {
        code: 'ISK',
        digits: 2,
        minCharge: 0,
        name: 'Icelandic Krna'
    },
    {
        code: 'JMD',
        digits: 2,
        minCharge: 0,
        name: 'Jamaican Dollar'
    },
    {
        code: 'JPY',
        digits: 0,
        minCharge: 50,
        name: 'Japanese Yen'
    },
    {
        code: 'KES',
        digits: 2,
        minCharge: 0,
        name: 'Kenyan Shilling'
    },
    {
        code: 'KGS',
        digits: 2,
        minCharge: 0,
        name: 'Kyrgyzstan Som'
    },
    {
        code: 'KHR',
        digits: 2,
        minCharge: 0,
        name: 'Cambodian Riel'
    },
    {
        code: 'KMF',
        digits: 0,
        minCharge: 0,
        name: 'Comorian Franc'
    },
    {
        code: 'KRW',
        digits: 0,
        minCharge: 0,
        name: 'South Korean Won'
    },
    {
        code: 'KYD',
        digits: 2,
        minCharge: 0,
        name: 'Cayman Islands Dollar'
    },
    {
        code: 'KZT',
        digits: 2,
        minCharge: 0,
        name: 'Kazakhstani Tenge'
    },
    {
        code: 'LAK',
        digits: 2,
        minCharge: 0,
        name: 'Lao Kip'
    },
    {
        code: 'LBP',
        digits: 2,
        minCharge: 0,
        name: 'Lebanese Pound'
    },
    {
        code: 'LKR',
        digits: 2,
        minCharge: 0,
        name: 'Sri Lankan Rupee'
    },
    {
        code: 'LRD',
        digits: 2,
        minCharge: 0,
        name: 'Liberian Dollar'
    },
    {
        code: 'LSL',
        digits: 2,
        minCharge: 0,
        name: 'Lesotho Loti'
    },
    {
        code: 'MAD',
        digits: 2,
        minCharge: 0,
        name: 'Moroccan Dirham'
    },
    {
        code: 'MDL',
        digits: 2,
        minCharge: 0,
        name: 'Moldovan Leu'
    },
    {
        code: 'MGA',
        digits: 0,
        minCharge: 0,
        name: 'Madagascar Ariary'
    },
    {
        code: 'MKD',
        digits: 2,
        minCharge: 0,
        name: 'Macedonia Denar'
    },
    {
        code: 'MMK',
        digits: 2,
        minCharge: 0,
        name: 'Myanmar (Burma) Kyat'
    },
    {
        code: 'MNT',
        digits: 2,
        minCharge: 0,
        name: 'Mongolian Tgrg'
    },
    {
        code: 'MOP',
        digits: 2,
        minCharge: 0,
        name: 'Macanese Pataca'
    },
    {
        code: 'MRO',
        digits: 2,
        minCharge: 0,
        name: 'Mauritanian Ouguiya'
    },
    {
        code: 'MUR',
        digits: 2,
        minCharge: 0,
        name: 'Mauritian Rupee'
    },
    {
        code: 'MVR',
        digits: 2,
        minCharge: 0,
        name: 'Maldivian Rufiyaa'
    },
    {
        code: 'MWK',
        digits: 2,
        minCharge: 0,
        name: 'Malawian Kwacha'
    },
    {
        code: 'MXN',
        digits: 2,
        minCharge: 1000,
        name: 'Mexican Peso'
    },
    {
        code: 'MYR',
        digits: 2,
        minCharge: 200,
        name: 'Malaysian Ringgit'
    },
    {
        code: 'MZN',
        digits: 2,
        minCharge: 0,
        name: 'Mozambique Metical'
    },
    {
        code: 'NAD',
        digits: 2,
        minCharge: 0,
        name: 'Namibian Dollar'
    },
    {
        code: 'NGN',
        digits: 2,
        minCharge: 0,
        name: 'Nigerian Naira'
    },
    {
        code: 'NIO',
        digits: 2,
        minCharge: 0,
        name: 'Nicaraguan Crdoba'
    },
    {
        code: 'NOK',
        digits: 2,
        minCharge: 300,
        name: 'Norwegian Krone'
    },
    {
        code: 'NPR',
        digits: 2,
        minCharge: 0,
        name: 'Nepalese Rupee'
    },
    {
        code: 'NZD',
        digits: 2,
        minCharge: 50,
        name: 'New Zealand Dollar'
    },
    {
        code: 'PAB',
        digits: 2,
        minCharge: 0,
        name: 'Panamanian Balboa'
    },
    {
        code: 'PEN',
        digits: 2,
        minCharge: 0,
        name: 'Peruvian Nuevo Sol'
    },
    {
        code: 'PGK',
        digits: 2,
        minCharge: 0,
        name: 'Papua New Guinean Kina'
    },
    {
        code: 'PHP',
        digits: 2,
        minCharge: 0,
        name: 'Philippine Peso'
    },
    {
        code: 'PKR',
        digits: 2,
        minCharge: 0,
        name: 'Pakistani Rupee'
    },
    {
        code: 'PLN',
        digits: 2,
        minCharge: 200,
        name: 'Polish Zoty'
    },
    {
        code: 'PYG',
        digits: 0,
        minCharge: 0,
        name: 'Paraguayan Guaran'
    },
    {
        code: 'QAR',
        digits: 2,
        minCharge: 0,
        name: 'Qatari Riyal'
    },
    {
        code: 'RON',
        digits: 2,
        minCharge: 0,
        name: 'Romania Leu'
    },
    {
        code: 'RSD',
        digits: 2,
        minCharge: 0,
        name: 'Serbia Dinar'
    },
    {
        code: 'RUB',
        digits: 2,
        minCharge: 0,
        name: 'Russian Ruble'
    },
    {
        code: 'RWF',
        digits: 0,
        minCharge: 0,
        name: 'Rwanda Franc'
    },
    {
        code: 'SAR',
        digits: 2,
        minCharge: 0,
        name: 'Saudi Riyal'
    },
    {
        code: 'SBD',
        digits: 2,
        minCharge: 0,
        name: 'Solomon Islands Dollar'
    },
    {
        code: 'SCR',
        digits: 2,
        minCharge: 0,
        name: 'Seychellois Rupee'
    },
    {
        code: 'SEK',
        digits: 2,
        minCharge: 300,
        name: 'Swedish Krona'
    },
    {
        code: 'SGD',
        digits: 2,
        minCharge: 50,
        name: 'Singapore Dollar'
    },
    {
        code: 'SHP',
        digits: 2,
        minCharge: 0,
        name: 'Saint Helenian Pound'
    },
    {
        code: 'SLL',
        digits: 2,
        minCharge: 0,
        name: 'Sierra Leonean Leone'
    },
    {
        code: 'SOS',
        digits: 2,
        minCharge: 0,
        name: 'Somali Shilling'
    },
    {
        code: 'SRD',
        digits: 2,
        minCharge: 0,
        name: 'Suriname Dollar'
    },
    {
        code: 'STD',
        digits: 2,
        minCharge: 0,
        name: 'So Tom and Prncipe Dobra'
    },
    {
        code: 'SZL',
        digits: 2,
        minCharge: 0,
        name: 'Swazi Lilangeni'
    },
    {
        code: 'THB',
        digits: 2,
        minCharge: 0,
        name: 'Thai Baht'
    },
    {
        code: 'TJS',
        digits: 2,
        minCharge: 0,
        name: 'Tajikistan Somoni'
    },
    {
        code: 'TOP',
        digits: 2,
        minCharge: 0,
        name: 'Tongan Paanga'
    },
    {
        code: 'TRY',
        digits: 2,
        minCharge: 0,
        name: 'Turkey Lira'
    },
    {
        code: 'TTD',
        digits: 2,
        minCharge: 0,
        name: 'Trinidad and Tobago Dollar'
    },
    {
        code: 'TWD',
        digits: 2,
        minCharge: 0,
        name: 'New Taiwan Dollar'
    },
    {
        code: 'TZS',
        digits: 2,
        minCharge: 0,
        name: 'Tanzanian Shilling'
    },
    {
        code: 'UAH',
        digits: 2,
        minCharge: 0,
        name: 'Ukrainian Hryvnia'
    },
    {
        code: 'UGX',
        digits: 0,
        minCharge: 0,
        name: 'Ugandan Shilling'
    },
    {
        code: 'USD',
        digits: 2,
        minCharge: 50,
        name: 'United States Dollar'
    },
    {
        code: 'UYU',
        digits: 2,
        minCharge: 0,
        name: 'Uruguayan Peso'
    },
    {
        code: 'UZS',
        digits: 2,
        minCharge: 0,
        name: 'Uzbekistani Som'
    },
    {
        code: 'VND',
        digits: 0,
        minCharge: 0,
        name: 'Vietnamese ng'
    },
    {
        code: 'VUV',
        digits: 0,
        minCharge: 0,
        name: 'Vanuatu Vatu'
    },
    {
        code: 'WST',
        digits: 2,
        minCharge: 0,
        name: 'Samoan Tala'
    },
    {
        code: 'XAF',
        digits: 0,
        minCharge: 0,
        name: 'Central African Cfa Franc'
    },
    {
        code: 'XCD',
        digits: 2,
        minCharge: 0,
        name: 'East Caribbean Dollar'
    },
    {
        code: 'XOF',
        digits: 0,
        minCharge: 0,
        name: 'West African Cfa Franc'
    },
    {
        code: 'XPF',
        digits: 0,
        minCharge: 0,
        name: 'Cfp Franc'
    },
    {
        code: 'YER',
        digits: 2,
        minCharge: 0,
        name: 'Yemeni Rial'
    },
    {
        code: 'ZAR',
        digits: 2,
        minCharge: 0,
        name: 'South African Rand'
    },
    {
        code: 'ZMW',
        digits: 2,
        minCharge: 0,
        name: 'Zambia Kwacha'
    }
];

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmlwZUN1cnJlbmN5TGlzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOb3RlOiBUaGVzZSBjdXJyZW5jaWVzIGFyZSBleHRyYWN0ZWQgYnkgZ2V0dGluZyBTdHJpcGUgY29tcGF0aWJsZSBjdXJyZW5jaWVzIHdpdGg6XG4vL1xuLy8gY3VybCBodHRwczovL2FwaS5zdHJpcGUuY29tL3YxL2NvdW50cnlfc3BlY3NcXD9saW1pdFxcPTEwMCAtdSAkU1RSSVBFX1RFU1RfS0VZOiAtRyBcXFxuLy8gICB8IGpxICcuZGF0YXwuW118LnN1cHBvcnRlZF9wYXltZW50X2N1cnJlbmNpZXN8LltdJyBcXFxuLy8gICB8IHNvcnQgXFxcbi8vICAgfCB1bmlxXG4vL1xuLy8gQW5kIHRoZW4gcG9wdWxhdGluZyBpbiB0aGUgbmFtZXMgZnJvbSBJU08gNDIxNzpcbi8vXG4vLyBEaWdpdCBjb3VudHMgYXJlIGFsc28gYWRkZWQuIFN0cmlwZSBpcyB0cmVhdGVkIGFzIHRoZSBzb3VyY2Utb2YtdHJ1dGggZm9yIHRoYXQgbnVtYmVyLCBldmVuIHRob3VnaCB0aGVpclxuLy8gbnVtYmVycyBhcmUgb2Z0ZW4gYXQgb2RkcyB3aXRoIElTTyA0MjE3LiBOb3Rlczpcbi8vXG4vLyAgLSBDVkUgaGFkIGEgc3VidW5pdCAoY2VudGF2byksIHRoYXQgaGFzIGJlZW4gZGlzY29udGludWVkLiBUaGUgSVNPIHJlZmxlY3RzIHRoaXMsIGJ1dCBzdHJpcGUgc3RpY2tzXG4vLyAgICB3aXRoIDIgZGlnaXRzLCBzaW5jZSB0aGUgY3VycmVuY3kgaXMgc3RpbGwgY29tbW9ubHkgZm9ybWF0dGVkIGFzIFwiMSQwMFwiLiDCr1xcXyjjg4QpXy/Cr1xuLy8gIC0gSVNLIGhhZCBhIHN1YnVuaXQgKGV5cmlyKSB0aGF0IHdhcyBvYnNvbGV0ZWQgaW4gMjAwMywgYnV0IFN0cmlwZSBzdGlja3Mgd2l0aCAyIGRpZ2l0cyBpbnN0ZWFkIG9mXG4vLyAgICB0aGUgSVNPJ3MgMC5cbi8vICAtIE1HQSBpcyBzdHJhbmdlLCBzaW5jZSBpdHMgc21hbGxlc3QgZGVub21pbmF0aW9uIGlzIGEgMS81dGggcGllY2UgKHRoZSBJcmFpbWJpbGFuamEpLCBidXQgaXNcbi8vICAgIHJlcHJlc2VudGVkIGFzIGEgZGVjaW1hbCwgc28gdGhlIGN1cnJlbmN5IGdvZXMgXCIxLjMsIDEuNCwgMi4wLCAuLi5cIi4gU3RyaXBlIGRvZGdlcyB0aGlzIHN0cmFuZ2VuZXNzXG4vLyAgICBieSBpZ25vcmluZyB0aGF0IG1pbmltdW0gdW5pdCwgYW5kIHNvIGRvIHdlLCBzaW5jZSBpdCBoYXMgc28gbGl0dGxlIHZhbHVlLlxuLy8gIC0gVUdYIGhhZCBhIHN1YnVuaXQgKGNlbnQpIHRoYXQgd2FzIGRpc2NvbnRpbnVlZCBpbiAyMDEzLiBTdHJpcGUgc3RpbGwgY291bnRzIGl0LCB0aG8sIGV2ZW4gdGhvdWdoXG4vLyAgICB0aGF0IGNlbnQgaXMgd29yayAxLzM1MDAwMHRoIG9mIGEgcGVubnkuXG5leHBvcnQgY29uc3Qgc3RyaXBlQ3VycmVuY3lMaXN0ID0gW1xuICAvKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFXG4gICAqIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFXG4gICAqIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFXG4gICAqIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFXG4gICAqXG4gICAqIFRoaXMgY29uc3QgaXMgZHVwbGljYXRlZCB0byBAcGFja2FnZXMvc3lzdGVtcy9jb3JlL2NvbnN0YW50cy9TaGFyZWRDb25maWcuanNcbiAgICogdG8gYXZvaWQgYnVuZGxpbmcgdGhpcyBlbnRpcmUgU2hhcmVkQ29uZmlnIGZpbGUgaW4gdGhlIHdlYmZsb3cuanMgcHVibGlzaGVkXG4gICAqIHNpdGUgYnVuZGxlLiBPbmNlIHdlIGhhdmUgc3VwcG9ydCBmb3IgYnVuZGxpbmcgZm9yIHRoZSBEYXNoYm9hcmQgKHRoaXNcbiAgICogY29uZmlnIGlzIGluamVjdGVkIGluIHRvIHdpbmRvdy5TaGFyZWRDb25maWcgZm9yIGFuZ3VsYXIpLCB3ZSBzaG91bGRcbiAgICogYmUgYWJsZSB0byBkZWxldGUgdGhlIGNvbnN0IGluIFNoYXJlZENvbmZpZyBhbmQgdXNlIHRoZSBjb21tZXJjZS9jb25zdHNcbiAgICogcGFja2FnZSB3aGVuZXZlciBgc3RyaXBlQ3VycmVuY3lMaXN0YCBjb25zdCBpcyBuZWVkZWQuXG4gICAqXG4gICAqIEluIHRoZSBtZWFudGltZSwgaWYgeW91IG1ha2UgY2hhbmdlcyB0byB0aGlzIGNvbnN0LCBwbGVhc2UgbWFrZSBzdXJlIHRvXG4gICAqIHVwZGF0ZSBpbiB0aGUgb3RoZXIgbG9jYXRpb24gYXMgd2VsbC5cbiAgICpcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEUgTk9URSBOT1RFIE5PVEVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAge2NvZGU6ICdBRUQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1VuaXRlZCBBcmFiIEVtaXJhdGVzIERpcmhhbSd9LFxuICB7Y29kZTogJ0FGTicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQWZnaGFuaXN0YW4gQWZnaGFuaSd9LFxuICB7Y29kZTogJ0FMTCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQWxiYW5pYW4gTGVrJ30sXG4gIHtjb2RlOiAnQU1EJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdBcm1lbmlhIERyYW0nfSxcbiAge1xuICAgIGNvZGU6ICdBTkcnLFxuICAgIGRpZ2l0czogMixcbiAgICBtaW5DaGFyZ2U6IDAsXG4gICAgbmFtZTogJ05ldGhlcmxhbmRzIEFudGlsbGVhbiBHdWxkZW4nLFxuICB9LFxuICB7Y29kZTogJ0FPQScsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQW5nb2xhIEt3YW56YSd9LFxuICB7Y29kZTogJ0FSUycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQXJnZW50aW5lIFBlc28nfSxcbiAge2NvZGU6ICdBVUQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogNTAsIG5hbWU6ICdBdXN0cmFsaWFuIERvbGxhcid9LFxuICB7Y29kZTogJ0FXRycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQXJ1YmFuIEZsb3Jpbid9LFxuICB7Y29kZTogJ0FaTicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQXplcmJhaWphbiBNYW5hdCd9LFxuICB7XG4gICAgY29kZTogJ0JBTScsXG4gICAgZGlnaXRzOiAyLFxuICAgIG1pbkNoYXJnZTogMCxcbiAgICBuYW1lOiAnQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSBDb252ZXJ0aWJsZSBNYXJrYScsXG4gIH0sXG4gIHtjb2RlOiAnQkJEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdCYXJiYWRpYW4gRG9sbGFyJ30sXG4gIHtjb2RlOiAnQkRUJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdCYW5nbGFkZXNoaSBUYWthJ30sXG4gIHtjb2RlOiAnQkdOJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdCdWxnYXJpYSBMZXYnfSxcbiAge2NvZGU6ICdCSUYnLCBkaWdpdHM6IDAsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0J1cnVuZGlhbiBGcmFuYyd9LFxuICB7Y29kZTogJ0JNRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQmVybXVkaWFuIERvbGxhcid9LFxuICB7Y29kZTogJ0JORCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQnJ1bmVpIERvbGxhcid9LFxuICB7Y29kZTogJ0JPQicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQm9saXZpYW4gQm9saXZpYW5vJ30sXG4gIHtjb2RlOiAnQlJMJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDUwLCBuYW1lOiAnQnJhemlsaWFuIFJlYWwnfSxcbiAge2NvZGU6ICdCU0QnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0JhaGFtaWFuIERvbGxhcid9LFxuICB7Y29kZTogJ0JXUCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQm90c3dhbmEgUHVsYSd9LFxuICB7Y29kZTogJ0JaRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQmVsaXplIERvbGxhcid9LFxuICB7Y29kZTogJ0NBRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiA1MCwgbmFtZTogJ0NhbmFkaWFuIERvbGxhcid9LFxuICB7Y29kZTogJ0NERicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQ29uZ28vS2luc2hhc2EgRnJhbmMnfSxcbiAge2NvZGU6ICdDSEYnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogNTAsIG5hbWU6ICdTd2lzcyBGcmFuYyd9LFxuICB7Y29kZTogJ0NMUCcsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQ2hpbGVhbiBQZXNvJ30sXG4gIHtjb2RlOiAnQ05ZJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdDaGluZXNlIFJlbm1pbmJpIFl1YW4nfSxcbiAge2NvZGU6ICdDT1AnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0NvbG9tYmlhbiBQZXNvJ30sXG4gIHtjb2RlOiAnQ1JDJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdDb3N0YSBSaWNhbiBDb2zDs24nfSxcbiAge2NvZGU6ICdDVkUnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0NhcGUgVmVyZGVhbiBFc2N1ZG8nfSwgLy8gU2VlIGFib3ZlLlxuICB7Y29kZTogJ0NaSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQ3plY2ggS29ydW5hJ30sXG4gIHtjb2RlOiAnREpGJywgZGlnaXRzOiAwLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdEamlib3V0aWFuIEZyYW5jJ30sXG4gIHtjb2RlOiAnREtLJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDI1MCwgbmFtZTogJ0RhbmlzaCBLcm9uZSd9LFxuICB7Y29kZTogJ0RPUCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnRG9taW5pY2FuIFBlc28nfSxcbiAge2NvZGU6ICdEWkQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0FsZ2VyaWFuIERpbmFyJ30sXG4gIHtjb2RlOiAnRUdQJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdFZ3lwdGlhbiBQb3VuZCd9LFxuICB7Y29kZTogJ0VUQicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnRXRoaW9waWFuIEJpcnInfSxcbiAge2NvZGU6ICdFVVInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogNTAsIG5hbWU6ICdFdXJvJ30sXG4gIHtjb2RlOiAnRkpEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdGaWppYW4gRG9sbGFyJ30sXG4gIHtjb2RlOiAnRktQJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdGYWxrbGFuZCBJc2xhbmRzIFBvdW5kJ30sXG4gIHtjb2RlOiAnR0JQJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDMwLCBuYW1lOiAnQnJpdGlzaCBQb3VuZCd9LFxuICB7Y29kZTogJ0dFTCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnR2VvcmdpYSBMYXJpJ30sXG4gIHtjb2RlOiAnR0lQJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdHaWJyYWx0YXIgUG91bmQnfSxcbiAge2NvZGU6ICdHTUQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0dhbWJpYW4gRGFsYXNpJ30sXG4gIHtjb2RlOiAnR05GJywgZGlnaXRzOiAwLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdHdWluZWFuIEZyYW5jJ30sXG4gIHtjb2RlOiAnR1RRJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdHdWF0ZW1hbGFuIFF1ZXR6YWwnfSxcbiAge2NvZGU6ICdHWUQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0d1eWFuZXNlIERvbGxhcid9LFxuICB7Y29kZTogJ0hLRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiA0MDAsIG5hbWU6ICdIb25nIEtvbmcgRG9sbGFyJ30sXG4gIHtjb2RlOiAnSE5MJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdIb25kdXJhbiBMZW1waXJhJ30sXG4gIHtjb2RlOiAnSFJLJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdDcm9hdGlhbiBLdW5hJ30sXG4gIHtjb2RlOiAnSFRHJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdIYWl0aWFuIEdvdXJkZSd9LFxuICB7Y29kZTogJ0hVRicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnSHVuZ2FyaWFuIEZvcmludCd9LFxuICB7Y29kZTogJ0lEUicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnSW5kb25lc2lhbiBSdXBpYWgnfSxcbiAge2NvZGU6ICdJTFMnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0lzcmFlbGkgTmV3IFNoZXFlbCd9LFxuICB7Y29kZTogJ0lOUicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiA1MCwgbmFtZTogJ0luZGlhbiBSdXBlZSd9LFxuICB7Y29kZTogJ0lTSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnSWNlbGFuZGljIEtyw7NuYSd9LCAvLyBTZWUgYWJvdmUuXG4gIHtjb2RlOiAnSk1EJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdKYW1haWNhbiBEb2xsYXInfSxcbiAge2NvZGU6ICdKUFknLCBkaWdpdHM6IDAsIG1pbkNoYXJnZTogNTAsIG5hbWU6ICdKYXBhbmVzZSBZZW4nfSxcbiAge2NvZGU6ICdLRVMnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0tlbnlhbiBTaGlsbGluZyd9LFxuICB7Y29kZTogJ0tHUycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnS3lyZ3l6c3RhbiBTb20nfSxcbiAge2NvZGU6ICdLSFInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0NhbWJvZGlhbiBSaWVsJ30sXG4gIHtjb2RlOiAnS01GJywgZGlnaXRzOiAwLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdDb21vcmlhbiBGcmFuYyd9LFxuICB7Y29kZTogJ0tSVycsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnU291dGggS29yZWFuIFdvbid9LFxuICB7Y29kZTogJ0tZRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQ2F5bWFuIElzbGFuZHMgRG9sbGFyJ30sXG4gIHtjb2RlOiAnS1pUJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdLYXpha2hzdGFuaSBUZW5nZSd9LFxuICB7Y29kZTogJ0xBSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTGFvIEtpcCd9LFxuICB7Y29kZTogJ0xCUCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTGViYW5lc2UgUG91bmQnfSxcbiAge2NvZGU6ICdMS1InLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1NyaSBMYW5rYW4gUnVwZWUnfSxcbiAge2NvZGU6ICdMUkQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ0xpYmVyaWFuIERvbGxhcid9LFxuICB7Y29kZTogJ0xTTCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTGVzb3RobyBMb3RpJ30sXG4gIHtjb2RlOiAnTUFEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdNb3JvY2NhbiBEaXJoYW0nfSxcbiAge2NvZGU6ICdNREwnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ01vbGRvdmFuIExldSd9LFxuICB7Y29kZTogJ01HQScsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTWFkYWdhc2NhciBBcmlhcnknfSwgLy8gU2VlIGFib3ZlLlxuICB7Y29kZTogJ01LRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTWFjZWRvbmlhIERlbmFyJ30sXG4gIHtjb2RlOiAnTU1LJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdNeWFubWFyIChCdXJtYSkgS3lhdCd9LFxuICB7Y29kZTogJ01OVCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTW9uZ29saWFuIFTDtmdyw7ZnJ30sXG4gIHtjb2RlOiAnTU9QJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdNYWNhbmVzZSBQYXRhY2EnfSxcbiAge2NvZGU6ICdNUk8nLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ01hdXJpdGFuaWFuIE91Z3VpeWEnfSxcbiAge2NvZGU6ICdNVVInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ01hdXJpdGlhbiBSdXBlZSd9LFxuICB7Y29kZTogJ01WUicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTWFsZGl2aWFuIFJ1Zml5YWEnfSxcbiAge2NvZGU6ICdNV0snLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ01hbGF3aWFuIEt3YWNoYSd9LFxuICB7Y29kZTogJ01YTicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAxMDAwLCBuYW1lOiAnTWV4aWNhbiBQZXNvJ30sXG4gIHtjb2RlOiAnTVlSJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDIwMCwgbmFtZTogJ01hbGF5c2lhbiBSaW5nZ2l0J30sXG4gIHtjb2RlOiAnTVpOJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdNb3phbWJpcXVlIE1ldGljYWwnfSxcbiAge2NvZGU6ICdOQUQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ05hbWliaWFuIERvbGxhcid9LFxuICB7Y29kZTogJ05HTicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnTmlnZXJpYW4gTmFpcmEnfSxcbiAge2NvZGU6ICdOSU8nLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ05pY2FyYWd1YW4gQ8OzcmRvYmEnfSxcbiAge2NvZGU6ICdOT0snLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMzAwLCBuYW1lOiAnTm9yd2VnaWFuIEtyb25lJ30sXG4gIHtjb2RlOiAnTlBSJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdOZXBhbGVzZSBSdXBlZSd9LFxuICB7Y29kZTogJ05aRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiA1MCwgbmFtZTogJ05ldyBaZWFsYW5kIERvbGxhcid9LFxuICB7Y29kZTogJ1BBQicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnUGFuYW1hbmlhbiBCYWxib2EnfSxcbiAge2NvZGU6ICdQRU4nLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1BlcnV2aWFuIE51ZXZvIFNvbCd9LFxuICB7Y29kZTogJ1BHSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnUGFwdWEgTmV3IEd1aW5lYW4gS2luYSd9LFxuICB7Y29kZTogJ1BIUCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnUGhpbGlwcGluZSBQZXNvJ30sXG4gIHtjb2RlOiAnUEtSJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdQYWtpc3RhbmkgUnVwZWUnfSxcbiAge2NvZGU6ICdQTE4nLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMjAwLCBuYW1lOiAnUG9saXNoIFrFgm90eSd9LFxuICB7Y29kZTogJ1BZRycsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnUGFyYWd1YXlhbiBHdWFyYW7DrSd9LFxuICB7Y29kZTogJ1FBUicsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnUWF0YXJpIFJpeWFsJ30sXG4gIHtjb2RlOiAnUk9OJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdSb21hbmlhIExldSd9LFxuICB7Y29kZTogJ1JTRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnU2VyYmlhIERpbmFyJ30sXG4gIHtjb2RlOiAnUlVCJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdSdXNzaWFuIFJ1YmxlJ30sXG4gIHtjb2RlOiAnUldGJywgZGlnaXRzOiAwLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdSd2FuZGEgRnJhbmMnfSxcbiAge2NvZGU6ICdTQVInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1NhdWRpIFJpeWFsJ30sXG4gIHtjb2RlOiAnU0JEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdTb2xvbW9uIElzbGFuZHMgRG9sbGFyJ30sXG4gIHtjb2RlOiAnU0NSJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdTZXljaGVsbG9pcyBSdXBlZSd9LFxuICB7Y29kZTogJ1NFSycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAzMDAsIG5hbWU6ICdTd2VkaXNoIEtyb25hJ30sXG4gIHtjb2RlOiAnU0dEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDUwLCBuYW1lOiAnU2luZ2Fwb3JlIERvbGxhcid9LFxuICB7Y29kZTogJ1NIUCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnU2FpbnQgSGVsZW5pYW4gUG91bmQnfSxcbiAge2NvZGU6ICdTTEwnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1NpZXJyYSBMZW9uZWFuIExlb25lJ30sXG4gIHtjb2RlOiAnU09TJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdTb21hbGkgU2hpbGxpbmcnfSxcbiAge2NvZGU6ICdTUkQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1N1cmluYW1lIERvbGxhcid9LFxuICB7Y29kZTogJ1NURCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnU8OjbyBUb23DqSBhbmQgUHLDrW5jaXBlIERvYnJhJ30sXG4gIHtjb2RlOiAnU1pMJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdTd2F6aSBMaWxhbmdlbmknfSxcbiAge2NvZGU6ICdUSEInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1RoYWkgQmFodCd9LFxuICB7Y29kZTogJ1RKUycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnVGFqaWtpc3RhbiBTb21vbmknfSxcbiAge2NvZGU6ICdUT1AnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1RvbmdhbiBQYcq7YW5nYSd9LFxuICB7Y29kZTogJ1RSWScsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnVHVya2V5IExpcmEnfSxcbiAge2NvZGU6ICdUVEQnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1RyaW5pZGFkIGFuZCBUb2JhZ28gRG9sbGFyJ30sXG4gIHtjb2RlOiAnVFdEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdOZXcgVGFpd2FuIERvbGxhcid9LFxuICB7Y29kZTogJ1RaUycsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnVGFuemFuaWFuIFNoaWxsaW5nJ30sXG4gIHtjb2RlOiAnVUFIJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdVa3JhaW5pYW4gSHJ5dm5pYSd9LFxuICB7Y29kZTogJ1VHWCcsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnVWdhbmRhbiBTaGlsbGluZyd9LCAvLyBTZWUgYWJvdmUuXG4gIHtjb2RlOiAnVVNEJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDUwLCBuYW1lOiAnVW5pdGVkIFN0YXRlcyBEb2xsYXInfSxcbiAge2NvZGU6ICdVWVUnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1VydWd1YXlhbiBQZXNvJ30sXG4gIHtjb2RlOiAnVVpTJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdVemJla2lzdGFuaSBTb20nfSxcbiAge2NvZGU6ICdWTkQnLCBkaWdpdHM6IDAsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1ZpZXRuYW1lc2UgxJDhu5NuZyd9LFxuICB7Y29kZTogJ1ZVVicsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnVmFudWF0dSBWYXR1J30sXG4gIHtjb2RlOiAnV1NUJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdTYW1vYW4gVGFsYSd9LFxuICB7Y29kZTogJ1hBRicsIGRpZ2l0czogMCwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnQ2VudHJhbCBBZnJpY2FuIENmYSBGcmFuYyd9LFxuICB7Y29kZTogJ1hDRCcsIGRpZ2l0czogMiwgbWluQ2hhcmdlOiAwLCBuYW1lOiAnRWFzdCBDYXJpYmJlYW4gRG9sbGFyJ30sXG4gIHtjb2RlOiAnWE9GJywgZGlnaXRzOiAwLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdXZXN0IEFmcmljYW4gQ2ZhIEZyYW5jJ30sXG4gIHtjb2RlOiAnWFBGJywgZGlnaXRzOiAwLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdDZnAgRnJhbmMnfSxcbiAge2NvZGU6ICdZRVInLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1llbWVuaSBSaWFsJ30sXG4gIHtjb2RlOiAnWkFSJywgZGlnaXRzOiAyLCBtaW5DaGFyZ2U6IDAsIG5hbWU6ICdTb3V0aCBBZnJpY2FuIFJhbmQnfSxcbiAge2NvZGU6ICdaTVcnLCBkaWdpdHM6IDIsIG1pbkNoYXJnZTogMCwgbmFtZTogJ1phbWJpYSBLd2FjaGEnfSxcbl0gYXMgY29uc3Q7XG4iXSwibmFtZXMiOlsic3RyaXBlQ3VycmVuY3lMaXN0IiwiY29kZSIsImRpZ2l0cyIsIm1pbkNoYXJnZSIsIm5hbWUiXSwibWFwcGluZ3MiOiJBQUFBLHFGQUFxRjtBQUNyRixFQUFFO0FBQ0YscUZBQXFGO0FBQ3JGLHlEQUF5RDtBQUN6RCxhQUFhO0FBQ2IsV0FBVztBQUNYLEVBQUU7QUFDRixrREFBa0Q7QUFDbEQsRUFBRTtBQUNGLDJHQUEyRztBQUMzRyxrREFBa0Q7QUFDbEQsRUFBRTtBQUNGLHVHQUF1RztBQUN2Ryx3RkFBd0Y7QUFDeEYsc0dBQXNHO0FBQ3RHLGtCQUFrQjtBQUNsQixpR0FBaUc7QUFDakcseUdBQXlHO0FBQ3pHLGdGQUFnRjtBQUNoRixzR0FBc0c7QUFDdEcsOENBQThDOzs7OzsrQkFDakNBOzs7ZUFBQUE7OztBQUFOLE1BQU1BLHFCQUFxQjtJQUNoQzs7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

}),
82988: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    _invalid: function() {
        return _invalid;
    },
    convertPaypalAmountToWFPrice: function() {
        return convertPaypalAmountToWFPrice;
    },
    convertWFPriceToPaypalAmount: function() {
        return convertWFPriceToPaypalAmount;
    },
    convertWFPriceToPaypalAmountWithBreakdown: function() {
        return convertWFPriceToPaypalAmountWithBreakdown;
    },
    currencyInfoByCode: function() {
        return currencyInfoByCode;
    },
    currencyInfoByCodePaypal: function() {
        return currencyInfoByCodePaypal;
    },
    equalPrice: function() {
        return equalPrice;
    },
    formatPrice: function() {
        return formatPrice;
    },
    getCurrencyInfo: function() {
        return getCurrencyInfo;
    },
    getCurrencyInfoPaypal: function() {
        return getCurrencyInfoPaypal;
    },
    getCurrencySymbol: function() {
        return getCurrencySymbol;
    },
    intToUnsafeFloat: function() {
        return intToUnsafeFloat;
    },
    parsePrice: function() {
        return parsePrice;
    },
    renderPrice: function() {
        return renderPrice;
    },
    scalePrice: function() {
        return scalePrice;
    },
    subtractPrice: function() {
        return subtractPrice;
    },
    sumPrice: function() {
        return sumPrice;
    },
    unsafeFloatToInt: function() {
        return unsafeFloatToInt;
    },
    validatePrice: function() {
        return validatePrice;
    },
    zeroUnitPaypal: function() {
        return zeroUnitPaypal;
    },
    zeroUnitWF: function() {
        return zeroUnitWF;
    }
});
const _keyBy = /*#__PURE__*/ _interop_require_default(__webpack_require__(3350));
const _memoize = /*#__PURE__*/ _interop_require_default(__webpack_require__(84984));
const _isString = /*#__PURE__*/ _interop_require_default(__webpack_require__(81098));
const _isNumber = /*#__PURE__*/ _interop_require_default(__webpack_require__(91464));
const _constants = __webpack_require__(10873);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const currencyInfoByCode = (0, _keyBy.default)(_constants.stripeCurrencyList, 'code');
const currencyInfoByCodePaypal = (0, _keyBy.default)(_constants.paypalCurrencyList, 'code');
function getCurrencyInfo(code, platform = 'stripe') {
    if (isValidCurrency(code)) {
        return platform === 'stripe' ? // @ts-expect-error
        currencyInfoByCode[code.toUpperCase()] : // @ts-expect-error
        currencyInfoByCodePaypal[code.toUpperCase()];
    }
    return {
        code: '???',
        digits: 2,
        minCharge: 0,
        name: `Unknown currency`
    };
}
function getCurrencyInfoPaypal(code) {
    return getCurrencyInfo(code, 'paypal');
}
const isValidCurrency = (currencyCode)=>typeof currencyCode === 'string' && currencyInfoByCode.hasOwnProperty(currencyCode.toUpperCase());
class NullNumberFormat {
    format(_value) {
        return 'NaN';
    }
}
// @ts-expect-error - TS2322 - Type '((unit?: string | null | undefined, currencyDisplay?: CurrencyDisplayType) => NullNumberFormat) & MemoizedFunction' is not assignable to type '(unit?: string | null | undefined, arg2?: CurrencyDisplayType | null | undefined) => NullNumberFormat | NumberFormat'.
const getNumberFormat = (0, _memoize.default)((unit, currencyDisplay = 'symbol')=>// HACK: for some reason, GraphQL is returning a currency of '???' for null
    // prices; we're temporarily glossing over this fact, and will address the
    // backend at a later time..
    unit != null && isValidCurrency(unit) ? new Intl.NumberFormat('en-US', {
        currency: unit,
        style: 'currency',
        currencyDisplay
    }) : new NullNumberFormat(), /* cache key function **/ (unit, currencyDisplay = 'symbol')=>{
    return [
        String(unit),
        currencyDisplay
    ].join('::');
});
const getCurrencySymbol = (unit)=>{
    // As Intl.Numberformat.prototype.formatToParts is still experimental
    const symbol = String(getNumberFormat(unit).format(0)).match(/^([^0-9\s]*)/);
    return symbol ? symbol[0] : unit;
};
const unsafeFloatToInt = (floatValue, currency, round = Math.round)=>{
    const currencyInfo = typeof currency === 'object' ? currency : getCurrencyInfo(currency);
    return round(floatValue * Math.pow(10, currencyInfo.digits));
};
const intToUnsafeFloat = (intValue, currency)=>{
    const currencyInfo = typeof currency === 'object' ? currency : getCurrencyInfo(currency);
    return intValue / Math.pow(10, currencyInfo.digits);
};
function renderPrice(price, opts = {}) {
    const { isoFormat = false, noCurrency = false } = opts;
    price = validatePrice(price) ? price : _invalid();
    const normal_value = Number(price.value);
    const currencyInfo = getCurrencyInfo(price.unit);
    const float_value = intToUnsafeFloat(normal_value, currencyInfo);
    if (Number.isNaN(float_value)) {
        return 'NaN';
    }
    if (noCurrency) {
        return String(float_value);
    }
    const fmt = getNumberFormat(price.unit, isoFormat ? 'code' : 'symbol');
    return fmt.format(float_value);
}
function formatPrice(price) {
    price = validatePrice(price) ? price : _invalid();
    const string = renderPrice(price);
    return {
        unit: price.unit,
        value: price.value,
        string
    };
}
function validatePrice(a) {
    if (!a || typeof a !== 'object') {
        return false;
    }
    // @ts-expect-error - TS2339 - Property 'value' does not exist on type 'object'.
    if (!(0, _isNumber.default)(a.value)) {
        return false;
    }
    // @ts-expect-error - TS2339 - Property 'unit' does not exist on type 'object'.
    if (!(0, _isString.default)(a.unit)) {
        return false;
    }
    // @ts-expect-error - TS2339 - Property 'unit' does not exist on type 'object'.
    if (!isValidCurrency(a.unit)) {
        return false;
    }
    return true;
}
function sumPrice(a, b) {
    if (!validatePrice(a) || !validatePrice(b)) {
        return _invalid();
    }
    // No defined behavior, if the Prices don't have a common currency...
    if (a.unit !== b.unit) {
        return _invalid();
    }
    return {
        value: a.value + b.value,
        unit: a.unit
    };
}
function subtractPrice(a, b) {
    if (!validatePrice(a) || !validatePrice(b)) {
        return _invalid();
    }
    // No defined behavior, if the Prices don't have a common currency...
    if (a.unit !== b.unit) {
        return _invalid();
    }
    return {
        value: a.value - b.value,
        unit: a.unit
    };
}
function scalePrice(a, scalar) {
    if (!validatePrice(a) || !(0, _isNumber.default)(scalar)) {
        return _invalid();
    }
    const value = Math.round(a.value * scalar);
    const unit = a.unit;
    return {
        value,
        unit
    };
}
function equalPrice(a, b) {
    return Boolean(a && b && a.value === b.value && a.unit === b.unit);
}
function parsePrice(priceString, unit, fallback) {
    if (typeof priceString !== 'string') {
        throw new Error('parsePrice must be called with a string');
    }
    if (!isValidCurrency(unit)) {
        throw new Error(`parsePrice called with invalid currency ${unit}`);
    }
    if (!priceString) {
        return fallback;
    }
    // TODO: Fails on
    // 1,000.00 -> NaN
    // 0,99 -> NaN
    // Also it passes numbers we shouldn't allow:
    // 0x11 -> 17
    // 0b11 -> 3
    const rawNumber = Number(priceString);
    if (Number.isNaN(rawNumber)) {
        return fallback;
    }
    return {
        value: unsafeFloatToInt(rawNumber, unit),
        unit
    };
}
function _invalid() {
    return {
        value: NaN,
        unit: '???'
    };
}
function zeroUnitWF(unit) {
    return {
        unit,
        value: 0
    };
}
function zeroUnitPaypal(unit) {
    return convertWFPriceToPaypalAmount(zeroUnitWF(unit));
}
function convertWFPriceToPaypalAmountWithBreakdown(orderPrices) {
    const { total, subtotal, shipping, tax, discount, discountShipping } = orderPrices;
    const convertOrZero = (price, scalar)=>price ? convertWFPriceToPaypalAmount(price, scalar) : zeroUnitPaypal(total.unit);
    return {
        ...convertWFPriceToPaypalAmount(total),
        breakdown: {
            item_total: convertOrZero(subtotal),
            shipping: convertOrZero(shipping),
            tax_total: convertOrZero(tax),
            discount: convertOrZero(discount, -1),
            shipping_discount: convertOrZero(discountShipping, -1)
        }
    };
}
function convertWFPriceToPaypalAmount(a, scalar) {
    // TODO:
    // - May have to account for in-country PayPal accounts only support for some currencies
    const unitInfo = getCurrencyInfoPaypal(a.unit);
    const wfValue = scalar ? scalePrice(a, scalar).value : a.value;
    const value = intToUnsafeFloat(wfValue, unitInfo).toFixed(unitInfo.digits);
    return {
        currency_code: a.unit,
        value
    };
}
function convertPaypalAmountToWFPrice(a) {
    // TODO:
    // - May have to account for in-country PayPal accounts only support for some currencies
    const unitInfo = getCurrencyInfoPaypal(a.currency_code);
    const value = unsafeFloatToInt(parseFloat(a.value), unitInfo);
    return {
        unit: a.currency_code,
        value
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkN1cnJlbmN5VXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtleUJ5IGZyb20gJ2xvZGFzaC9rZXlCeSc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdsb2Rhc2gvbWVtb2l6ZSc7XG5pbXBvcnQgaXNTdHJpbmcgZnJvbSAnbG9kYXNoL2lzU3RyaW5nJztcbmltcG9ydCBpc051bWJlciBmcm9tICdsb2Rhc2gvaXNOdW1iZXInO1xuaW1wb3J0IHR5cGUge1xuICBWYWxpZEN1cnJlbmNpZXNUeXBlLFxuICBWYWxpZEN1cnJlbmNpZXNQYXlwYWxUeXBlLFxuICBQcmljZSxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29yZSc7XG5pbXBvcnQge1xuICBwYXlwYWxDdXJyZW5jeUxpc3QsXG4gIHN0cmlwZUN1cnJlbmN5TGlzdCxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29uc3RhbnRzJztcblxuZXhwb3J0IHR5cGUgVmFsaWRDdXJyZW5jeUluZm8gPSB7XG4gIGNvZGU6IFZhbGlkQ3VycmVuY2llc1R5cGU7XG4gIGRpZ2l0czogMCB8IDEgfCAyO1xuICBtaW5DaGFyZ2U6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xufTtcbmV4cG9ydCB0eXBlIFZhbGlkQ3VycmVuY3lQYXlwYWxJbmZvID0ge1xuICBjb2RlOiBWYWxpZEN1cnJlbmNpZXNQYXlwYWxUeXBlO1xuICBkaWdpdHM6IDAgfCAxIHwgMjtcbiAgbWluQ2hhcmdlOiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbn07XG5leHBvcnQgdHlwZSBJbnZhbGlkQ3VycmVuY3lJbmZvID0ge1xuICBjb2RlOiBzdHJpbmc7XG4gIGRpZ2l0czogMCB8IDEgfCAyO1xuICBtaW5DaGFyZ2U6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xufTtcbnR5cGUgQ3VycmVuY3lJbmZvID0gVmFsaWRDdXJyZW5jeUluZm8gfCBJbnZhbGlkQ3VycmVuY3lJbmZvO1xudHlwZSBDdXJyZW5jeUluZm9QYXlwYWwgPSBWYWxpZEN1cnJlbmN5UGF5cGFsSW5mbyB8IEludmFsaWRDdXJyZW5jeUluZm87XG5cbnR5cGUgQ3VycmVuY3lJbmZvQnlDb2RlID0gUGFydGlhbDxcbiAgUmVjb3JkPFZhbGlkQ3VycmVuY2llc1R5cGUsIFZhbGlkQ3VycmVuY3lJbmZvPlxuPjtcbnR5cGUgQ3VycmVuY3lJbmZvUGF5cGFsQnlDb2RlID0gUGFydGlhbDxcbiAgUmVjb3JkPFZhbGlkQ3VycmVuY2llc1BheXBhbFR5cGUsIFZhbGlkQ3VycmVuY3lJbmZvPlxuPjtcbmV4cG9ydCBjb25zdCBjdXJyZW5jeUluZm9CeUNvZGU6IEN1cnJlbmN5SW5mb0J5Q29kZSA9IGtleUJ5KFxuICBzdHJpcGVDdXJyZW5jeUxpc3QsXG4gICdjb2RlJ1xuKTtcblxuZXhwb3J0IGNvbnN0IGN1cnJlbmN5SW5mb0J5Q29kZVBheXBhbDogQ3VycmVuY3lJbmZvUGF5cGFsQnlDb2RlID0ga2V5QnkoXG4gIHBheXBhbEN1cnJlbmN5TGlzdCxcbiAgJ2NvZGUnXG4pO1xuXG50eXBlIFJlbmRlck9wdHMgPSB7XG4gIGlzb0Zvcm1hdD86IGJvb2xlYW47XG4gIG5vQ3VycmVuY3k/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbmN5SW5mbyhcbiAgY29kZT86IHN0cmluZyB8IG51bGwsXG4gIHBsYXRmb3JtOiBzdHJpbmcgPSAnc3RyaXBlJ1xuKTogVmFsaWRDdXJyZW5jeUluZm8gfCBWYWxpZEN1cnJlbmN5UGF5cGFsSW5mbyB8IEludmFsaWRDdXJyZW5jeUluZm8ge1xuICBpZiAoaXNWYWxpZEN1cnJlbmN5KGNvZGUpKSB7XG4gICAgcmV0dXJuIHBsYXRmb3JtID09PSAnc3RyaXBlJ1xuICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgY3VycmVuY3lJbmZvQnlDb2RlW2NvZGUudG9VcHBlckNhc2UoKV1cbiAgICAgIDogLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIGN1cnJlbmN5SW5mb0J5Q29kZVBheXBhbFtjb2RlLnRvVXBwZXJDYXNlKCldO1xuICB9XG4gIHJldHVybiB7XG4gICAgY29kZTogJz8/PycsXG4gICAgZGlnaXRzOiAyLFxuICAgIG1pbkNoYXJnZTogMCxcbiAgICBuYW1lOiBgVW5rbm93biBjdXJyZW5jeWAsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW5jeUluZm9QYXlwYWwoXG4gIGNvZGU/OiBzdHJpbmcgfCBudWxsXG4pOiBWYWxpZEN1cnJlbmN5UGF5cGFsSW5mbyB8IEludmFsaWRDdXJyZW5jeUluZm8ge1xuICByZXR1cm4gZ2V0Q3VycmVuY3lJbmZvKGNvZGUsICdwYXlwYWwnKTtcbn1cblxuY29uc3QgaXNWYWxpZEN1cnJlbmN5ID0gKGN1cnJlbmN5Q29kZTogdW5rbm93bik6IGJvb2xlYW4gPT5cbiAgdHlwZW9mIGN1cnJlbmN5Q29kZSA9PT0gJ3N0cmluZycgJiZcbiAgY3VycmVuY3lJbmZvQnlDb2RlLmhhc093blByb3BlcnR5KGN1cnJlbmN5Q29kZS50b1VwcGVyQ2FzZSgpKTtcblxuZXhwb3J0IHR5cGUgRm9ybWF0dGVkUHJpY2UgPSB7XG4gIHZhbHVlOiBudW1iZXI7XG4gIHVuaXQ6IHN0cmluZztcbiAgc3RyaW5nOiBzdHJpbmc7XG59O1xuXG50eXBlIFBheXBhbEJyZWFrZG93biA9IHtcbiAgaXRlbV90b3RhbDogUGF5cGFsQW1vdW50O1xuICBzaGlwcGluZz86IFBheXBhbEFtb3VudDtcbiAgaGFuZGxpbmc/OiBQYXlwYWxBbW91bnQ7XG4gIHRheF90b3RhbD86IFBheXBhbEFtb3VudDtcbiAgaW5zdXJhbmNlPzogUGF5cGFsQW1vdW50O1xuICBzaGlwcGluZ19kaXNjb3VudD86IFBheXBhbEFtb3VudDtcbiAgZGlzY291bnQ/OiBQYXlwYWxBbW91bnQ7XG59O1xuXG5leHBvcnQgdHlwZSBQYXlwYWxBbW91bnQgPSB7XG4gIGN1cnJlbmN5X2NvZGU6IHN0cmluZzsgLy8gdGhyZWUtY2hhcmFjdGVyIElTTy00MjE3IGN1cnJlbmN5IGNvZGU7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIGJyZWFrZG93bj86IFBheXBhbEJyZWFrZG93bjtcbn07XG5cbmV4cG9ydCB0eXBlIENvbW1lcmNlQ3VycmVuY3lTZXR0aW5ncyA9IHtcbiAgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gIHN5bWJvbD86IHN0cmluZztcbiAgZGVjaW1hbD86IHN0cmluZztcbiAgZnJhY3Rpb25EaWdpdHM/OiBudW1iZXI7XG4gIGdyb3VwPzogc3RyaW5nO1xuICB0ZW1wbGF0ZT86IHN0cmluZztcbiAgaGlkZURlY2ltYWxGb3JXaG9sZU51bWJlcnM/OiBib29sZWFuO1xufTtcblxuY2xhc3MgTnVsbE51bWJlckZvcm1hdCB7XG4gIGZvcm1hdChfdmFsdWU6IG51bWJlcikge1xuICAgIHJldHVybiAnTmFOJztcbiAgfVxufVxuXG50eXBlIEN1cnJlbmN5RGlzcGxheVR5cGUgPSAnc3ltYm9sJyB8ICdjb2RlJyB8ICduYW1lJztcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJygodW5pdD86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQsIGN1cnJlbmN5RGlzcGxheT86IEN1cnJlbmN5RGlzcGxheVR5cGUpID0+IE51bGxOdW1iZXJGb3JtYXQpICYgTWVtb2l6ZWRGdW5jdGlvbicgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnKHVuaXQ/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkLCBhcmcyPzogQ3VycmVuY3lEaXNwbGF5VHlwZSB8IG51bGwgfCB1bmRlZmluZWQpID0+IE51bGxOdW1iZXJGb3JtYXQgfCBOdW1iZXJGb3JtYXQnLlxuY29uc3QgZ2V0TnVtYmVyRm9ybWF0OiAoXG4gIHVuaXQ/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBhcmcyPzogQ3VycmVuY3lEaXNwbGF5VHlwZSB8IG51bGwgfCB1bmRlZmluZWRcbikgPT4gSW50bC5OdW1iZXJGb3JtYXQgfCBOdWxsTnVtYmVyRm9ybWF0ID0gbWVtb2l6ZShcbiAgKHVuaXQ/OiBzdHJpbmcgfCBudWxsLCBjdXJyZW5jeURpc3BsYXk6IEN1cnJlbmN5RGlzcGxheVR5cGUgPSAnc3ltYm9sJykgPT5cbiAgICAvLyBIQUNLOiBmb3Igc29tZSByZWFzb24sIEdyYXBoUUwgaXMgcmV0dXJuaW5nIGEgY3VycmVuY3kgb2YgJz8/PycgZm9yIG51bGxcbiAgICAvLyBwcmljZXM7IHdlJ3JlIHRlbXBvcmFyaWx5IGdsb3NzaW5nIG92ZXIgdGhpcyBmYWN0LCBhbmQgd2lsbCBhZGRyZXNzIHRoZVxuICAgIC8vIGJhY2tlbmQgYXQgYSBsYXRlciB0aW1lLi5cbiAgICB1bml0ICE9IG51bGwgJiYgaXNWYWxpZEN1cnJlbmN5KHVuaXQpXG4gICAgICA/IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XG4gICAgICAgICAgY3VycmVuY3k6IHVuaXQsXG4gICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICAgICAgY3VycmVuY3lEaXNwbGF5LFxuICAgICAgICB9KVxuICAgICAgOiBuZXcgTnVsbE51bWJlckZvcm1hdCgpLFxuXG4gIC8qIGNhY2hlIGtleSBmdW5jdGlvbiAqKi9cbiAgKHVuaXQ/OiBzdHJpbmcgfCBudWxsLCBjdXJyZW5jeURpc3BsYXk6IEN1cnJlbmN5RGlzcGxheVR5cGUgPSAnc3ltYm9sJykgPT4ge1xuICAgIHJldHVybiBbU3RyaW5nKHVuaXQpLCBjdXJyZW5jeURpc3BsYXldLmpvaW4oJzo6Jyk7XG4gIH1cbik7XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW5jeVN5bWJvbCA9ICh1bml0OiBWYWxpZEN1cnJlbmNpZXNUeXBlKSA9PiB7XG4gIC8vIEFzIEludGwuTnVtYmVyZm9ybWF0LnByb3RvdHlwZS5mb3JtYXRUb1BhcnRzIGlzIHN0aWxsIGV4cGVyaW1lbnRhbFxuICBjb25zdCBzeW1ib2wgPSBTdHJpbmcoZ2V0TnVtYmVyRm9ybWF0KHVuaXQpLmZvcm1hdCgwKSkubWF0Y2goL14oW14wLTlcXHNdKikvKTtcblxuICByZXR1cm4gc3ltYm9sID8gc3ltYm9sWzBdIDogdW5pdDtcbn07XG5leHBvcnQgY29uc3QgdW5zYWZlRmxvYXRUb0ludCA9IChcbiAgZmxvYXRWYWx1ZTogbnVtYmVyLFxuICBjdXJyZW5jeTpcbiAgICB8IFZhbGlkQ3VycmVuY2llc1R5cGVcbiAgICB8IFZhbGlkQ3VycmVuY2llc1BheXBhbFR5cGVcbiAgICB8IEN1cnJlbmN5SW5mb1xuICAgIHwgQ3VycmVuY3lJbmZvUGF5cGFsLFxuICByb3VuZDogKGFyZzE6IG51bWJlcikgPT4gbnVtYmVyID0gTWF0aC5yb3VuZFxuKTogbnVtYmVyIC8qIGludGVnZXIgdmFsdWUgKi8gPT4ge1xuICBjb25zdCBjdXJyZW5jeUluZm8gPVxuICAgIHR5cGVvZiBjdXJyZW5jeSA9PT0gJ29iamVjdCcgPyBjdXJyZW5jeSA6IGdldEN1cnJlbmN5SW5mbyhjdXJyZW5jeSk7XG4gIHJldHVybiByb3VuZChmbG9hdFZhbHVlICogTWF0aC5wb3coMTAsIGN1cnJlbmN5SW5mby5kaWdpdHMpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbnRUb1Vuc2FmZUZsb2F0ID0gKFxuICBpbnRWYWx1ZTogbnVtYmVyLFxuICBjdXJyZW5jeTpcbiAgICB8IFZhbGlkQ3VycmVuY2llc1R5cGVcbiAgICB8IFZhbGlkQ3VycmVuY2llc1BheXBhbFR5cGVcbiAgICB8IEN1cnJlbmN5SW5mb1xuICAgIHwgQ3VycmVuY3lJbmZvUGF5cGFsXG4pOiBudW1iZXIgLyogZmxvYXQgdmFsdWUgKi8gPT4ge1xuICBjb25zdCBjdXJyZW5jeUluZm8gPVxuICAgIHR5cGVvZiBjdXJyZW5jeSA9PT0gJ29iamVjdCcgPyBjdXJyZW5jeSA6IGdldEN1cnJlbmN5SW5mbyhjdXJyZW5jeSk7XG4gIHJldHVybiBpbnRWYWx1ZSAvIE1hdGgucG93KDEwLCBjdXJyZW5jeUluZm8uZGlnaXRzKTtcbn07XG5cbi8qKlxuICogV2lsbCBjb252ZXJ0IGEgUHJpY2Ugb2JqZWN0IChpZTogb2JqZWN0IHdpdGggdmFsdWUgYW5kIHVuaXQpIGludG8gYSBmb3JtYXR0ZWQgc3RyaW5nLiBVc2VzIEludGwuTnVtYmVyRm9ybWF0IGZvclxuICogYWxsIGl0cyBudW1iZXIgZm9ybWF0ZXkgZ29vZG5lc3MuXG4gKlxuICogQHBhcmFtICB7TnVtYmVyfSAgcHJpY2UudmFsdWUgVGhlIGludGVnZXIgdmFsdWUsIGluIHRoZSBjdXJyZW5jeSdzIHNtYWxsZXN0IGRlbm9taW5hdGlvbi4gKFRoaXMgc21hbGxlc3QgZGVub21pbmF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBkZWZpbmVkIGJ5IHN0cmlwZSwgYW5kIGRvY3VtZW50ZWQgaW4gb3VyIFNoYXJlZENvbmZpZy5qcylcbiAqIEBwYXJhbSAge1N0cmluZ30gIHByaWNlLnVuaXQgIEFuIElTTyA0MjE3IGN1cnJlbmN5IGNvZGUuIFdlIGRlZmluZSB3aGljaCBvbmVzIGFyZSBhdmFpbGFibGUgaW4gU2hhcmVkQ29uZmlnLmpzXG4gKiBAcGFyYW0gIHtib29sZWFufSBpc29Gb3JtYXQgICBJZiB0cnVlIGl0IHdpbGwgcmVuZGVyIHRoZSBwcmljZSB3aXRoIElTTyA0MjE3IGN1cnJlbmN5IGNvZGUgaW5zdGVhZCBvZiBjdXJyZW5jeSBzeW1ib2xcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgICAgIEEgZm9ybWF0dGVkIGN1cnJlbmN5IHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclByaWNlKHByaWNlOiBQcmljZSwgb3B0czogUmVuZGVyT3B0cyA9IHt9KTogc3RyaW5nIHtcbiAgY29uc3Qge2lzb0Zvcm1hdCA9IGZhbHNlLCBub0N1cnJlbmN5ID0gZmFsc2V9ID0gb3B0cztcbiAgcHJpY2UgPSB2YWxpZGF0ZVByaWNlKHByaWNlKSA/IHByaWNlIDogX2ludmFsaWQoKTtcbiAgY29uc3Qgbm9ybWFsX3ZhbHVlID0gTnVtYmVyKHByaWNlLnZhbHVlKTtcbiAgY29uc3QgY3VycmVuY3lJbmZvID0gZ2V0Q3VycmVuY3lJbmZvKHByaWNlLnVuaXQpO1xuICBjb25zdCBmbG9hdF92YWx1ZSA9IGludFRvVW5zYWZlRmxvYXQobm9ybWFsX3ZhbHVlLCBjdXJyZW5jeUluZm8pO1xuXG4gIGlmIChOdW1iZXIuaXNOYU4oZmxvYXRfdmFsdWUpKSB7XG4gICAgcmV0dXJuICdOYU4nO1xuICB9XG5cbiAgaWYgKG5vQ3VycmVuY3kpIHtcbiAgICByZXR1cm4gU3RyaW5nKGZsb2F0X3ZhbHVlKTtcbiAgfVxuICBjb25zdCBmbXQgPSBnZXROdW1iZXJGb3JtYXQocHJpY2UudW5pdCwgaXNvRm9ybWF0ID8gJ2NvZGUnIDogJ3N5bWJvbCcpO1xuICByZXR1cm4gZm10LmZvcm1hdChmbG9hdF92YWx1ZSk7XG59XG5cbi8qKlxuICogV2lsbCBjb252ZXJ0IGEgUHJpY2UgKHsgdmFsdWUsIHVuaXQgfSkgaW50byBhIEZvcm1hdHRlZFByaWNlICh7IHZhbHVlLCB1bml0LCBzdHJpbmcgfSkuXG4gKlxuICogQHBhcmFtICB7UHJpY2V9IHByaWNlIEEgYmFzaWMgcHJpY2Ugb2JqZWN0LlxuICogQHJldHVybiB7Rm9ybWF0dGVkUHJpY2V9IFRoYXQgc2FtZSBwcmljZSBvYmplY3QsIGV4dGVuZGVkIHdpdGggYSBzdHJpbmcgdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFByaWNlKHByaWNlOiBQcmljZSk6IEZvcm1hdHRlZFByaWNlIHtcbiAgcHJpY2UgPSB2YWxpZGF0ZVByaWNlKHByaWNlKSA/IHByaWNlIDogX2ludmFsaWQoKTtcbiAgY29uc3Qgc3RyaW5nID0gcmVuZGVyUHJpY2UocHJpY2UpO1xuICByZXR1cm4ge1xuICAgIHVuaXQ6IHByaWNlLnVuaXQsXG4gICAgdmFsdWU6IHByaWNlLnZhbHVlLFxuICAgIHN0cmluZyxcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgSUZGIHRoZSBwcm92aWRlZCBvYmplY3QgaXMgYSBjb21wYXRpYmxlIHByaWNlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGEgIFRoZSBvYmplY3QgdW5kZXIgcXVlc3Rpb24uXG4gKiBAcmV0dXJuIHtCb29sZWFufSAgIFRydWUgSUZGIHRoYXQgb2JqZWN0IGlzIGEgUHJpY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVByaWNlKGE6IHVua25vd24pOiBib29sZWFuIHtcbiAgaWYgKCFhIHx8IHR5cGVvZiBhICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ3ZhbHVlJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdvYmplY3QnLlxuICBpZiAoIWlzTnVtYmVyKGEudmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAndW5pdCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnb2JqZWN0Jy5cbiAgaWYgKCFpc1N0cmluZyhhLnVuaXQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAndW5pdCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnb2JqZWN0Jy5cbiAgaWYgKCFpc1ZhbGlkQ3VycmVuY3koYS51bml0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBXaWxsIGFkZCB0d28gcHJpY2VzIHRvZ2V0aGVyLiBSZXR1cm5zIGludmFsaWQgaWYgdGhleSBhcmVuJ3QgdGhlIHNhbWUgY3VycmVuY3kuXG4gKlxuICogQHBhcmFtICB7UHJpY2V9IGEgIE9uZSBvZiB0aGUgcHJpY2VzLlxuICogQHBhcmFtICB7UHJpY2V9IGIgIFRoZSBvdGhlciBvZiB0aGUgcHJpY2VzLlxuICogQHJldHVybiB7UHJpY2V9ICAgIFRoZSBzdW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW1QcmljZShcbiAgYTogUHJpY2UgfCBGb3JtYXR0ZWRQcmljZSxcbiAgYjogUHJpY2UgfCBGb3JtYXR0ZWRQcmljZVxuKTogUHJpY2Uge1xuICBpZiAoIXZhbGlkYXRlUHJpY2UoYSkgfHwgIXZhbGlkYXRlUHJpY2UoYikpIHtcbiAgICByZXR1cm4gX2ludmFsaWQoKTtcbiAgfVxuXG4gIC8vIE5vIGRlZmluZWQgYmVoYXZpb3IsIGlmIHRoZSBQcmljZXMgZG9uJ3QgaGF2ZSBhIGNvbW1vbiBjdXJyZW5jeS4uLlxuICBpZiAoYS51bml0ICE9PSBiLnVuaXQpIHtcbiAgICByZXR1cm4gX2ludmFsaWQoKTtcbiAgfVxuXG4gIHJldHVybiB7dmFsdWU6IGEudmFsdWUgKyBiLnZhbHVlLCB1bml0OiBhLnVuaXR9O1xufVxuXG4vKipcbiAqIFdpbGwgc3VidHJhY3QgdHdvIHByaWNlcy4gUmV0dXJucyBpbnZhbGlkIGlmIHRoZXkgYXJlbid0IHRoZSBzYW1lIGN1cnJlbmN5LlxuICpcbiAqIEBwYXJhbSAge1ByaWNlfSBhICBPbmUgb2YgdGhlIHByaWNlcy5cbiAqIEBwYXJhbSAge1ByaWNlfSBiICBUaGUgb3RoZXIgb2YgdGhlIHByaWNlcy5cbiAqIEByZXR1cm4ge1ByaWNlfSAgICBUaGUgc3VtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3RQcmljZShhOiBQcmljZSwgYjogUHJpY2UpOiBQcmljZSB7XG4gIGlmICghdmFsaWRhdGVQcmljZShhKSB8fCAhdmFsaWRhdGVQcmljZShiKSkge1xuICAgIHJldHVybiBfaW52YWxpZCgpO1xuICB9XG5cbiAgLy8gTm8gZGVmaW5lZCBiZWhhdmlvciwgaWYgdGhlIFByaWNlcyBkb24ndCBoYXZlIGEgY29tbW9uIGN1cnJlbmN5Li4uXG4gIGlmIChhLnVuaXQgIT09IGIudW5pdCkge1xuICAgIHJldHVybiBfaW52YWxpZCgpO1xuICB9XG5cbiAgcmV0dXJuIHt2YWx1ZTogYS52YWx1ZSAtIGIudmFsdWUsIHVuaXQ6IGEudW5pdH07XG59XG5cbi8qKlxuICogV2lsbCBtdWx0aXBseSBhIFByaWNlIGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSAge1ByaWNlfSAgYSAgICAgICBUaGUgcHJpY2UuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHNjYWxhciAgQSB1bml0bGVzcyB2YWx1ZSB0aGF0IHdlJ3JlIG11bHRpcGx5aW5nIHRoZSBwcmljZSBieS5cbiAqIEByZXR1cm4ge1ByaWNlfSAgICAgICAgICBUaGUgbXVsdGlwbGllZCBwcmljZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlUHJpY2UoYTogUHJpY2UsIHNjYWxhcjogbnVtYmVyKTogUHJpY2Uge1xuICBpZiAoIXZhbGlkYXRlUHJpY2UoYSkgfHwgIWlzTnVtYmVyKHNjYWxhcikpIHtcbiAgICByZXR1cm4gX2ludmFsaWQoKTtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0gTWF0aC5yb3VuZChhLnZhbHVlICogc2NhbGFyKTtcbiAgY29uc3QgdW5pdCA9IGEudW5pdDtcblxuICByZXR1cm4ge3ZhbHVlLCB1bml0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgSUZGIGJvdGggcHJpY2VzIGV4aXN0LCBhbmQgYXJlIGVxdWl2YWxlbnQgdG8gZWFjaCBvdGhlci5cbiAqXG4gKiBAcGFyYW0gIHtQcmljZX0gYSAgT25lIHByaWNlLlxuICogQHBhcmFtICB7UHJpY2V9IGIgIFRoZSBvdGhlciBwcmljZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIElGRiB0aGV5IGJvdGggZXhpc3QgYW5kIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsUHJpY2UoYTogUHJpY2UsIGI6IFByaWNlKTogYm9vbGVhbiB7XG4gIHJldHVybiBCb29sZWFuKGEgJiYgYiAmJiBhLnZhbHVlID09PSBiLnZhbHVlICYmIGEudW5pdCA9PT0gYi51bml0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUHJpY2U8VD4oXG4gIHByaWNlU3RyaW5nOiBzdHJpbmcsXG4gIHVuaXQ6IFZhbGlkQ3VycmVuY2llc1R5cGUsXG4gIGZhbGxiYWNrOiBUXG4pOiBQcmljZSB8IFQge1xuICBpZiAodHlwZW9mIHByaWNlU3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFyc2VQcmljZSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgc3RyaW5nJyk7XG4gIH1cbiAgaWYgKCFpc1ZhbGlkQ3VycmVuY3kodW5pdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHBhcnNlUHJpY2UgY2FsbGVkIHdpdGggaW52YWxpZCBjdXJyZW5jeSAke3VuaXR9YCk7XG4gIH1cbiAgaWYgKCFwcmljZVN0cmluZykge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuICAvLyBUT0RPOiBGYWlscyBvblxuICAvLyAxLDAwMC4wMCAtPiBOYU5cbiAgLy8gMCw5OSAtPiBOYU5cbiAgLy8gQWxzbyBpdCBwYXNzZXMgbnVtYmVycyB3ZSBzaG91bGRuJ3QgYWxsb3c6XG4gIC8vIDB4MTEgLT4gMTdcbiAgLy8gMGIxMSAtPiAzXG4gIGNvbnN0IHJhd051bWJlciA9IE51bWJlcihwcmljZVN0cmluZyk7XG4gIGlmIChOdW1iZXIuaXNOYU4ocmF3TnVtYmVyKSkge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHVuc2FmZUZsb2F0VG9JbnQocmF3TnVtYmVyLCB1bml0KSxcbiAgICB1bml0LFxuICB9O1xufVxuXG4vLyBTaW1wbGUgaGVscGVyIG1ldGhvZCwgd2hpY2ggZ2l2ZXMgdGhlIFwiaW52YWxpZFwiIGN1cnJlbmN5LiAoTmFOIGFzIHZhbHVlLCBcIj8/P1wiIGFzIGN1cnJlbmN5LilcbmV4cG9ydCBmdW5jdGlvbiBfaW52YWxpZCgpOiBQcmljZSB7XG4gIHJldHVybiB7dmFsdWU6IE5hTiwgdW5pdDogJz8/Pyd9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQcmljZSBvYmplY3Qgd2l0aCBhIHZhbHVlIG9mIHplcm8uXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSB1bml0ICAgIEN1cnJlbmN5IGNvZGVcbiAqIEByZXR1cm4ge1ByaWNlfSAgICAgICAgICBQcmljZSBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHplcm9Vbml0V0YodW5pdDogc3RyaW5nKTogUHJpY2Uge1xuICByZXR1cm4ge3VuaXQsIHZhbHVlOiAwfTtcbn1cblxuLy8gUGF5cGFsXG5cbi8qKlxuICogUmV0dXJucyBhIFBheXBhbCBBbW91bnQgKHByaWNlIG9iamVjdCkgd2l0aCBhIHZhbHVlIG9mIHplcm8uXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSB1bml0ICAgIEN1cnJlbmN5IGNvZGVcbiAqIEByZXR1cm4ge1BheXBhbEFtb3VudH0gICBQYXlwYWwgcHJpY2Ugb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvVW5pdFBheXBhbCh1bml0OiBzdHJpbmcpOiBQYXlwYWxBbW91bnQge1xuICByZXR1cm4gY29udmVydFdGUHJpY2VUb1BheXBhbEFtb3VudCh6ZXJvVW5pdFdGKHVuaXQpKTtcbn1cblxudHlwZSBPcmRlclByaWNlcyA9IHtcbiAgdG90YWw6IFByaWNlO1xuICBzdWJ0b3RhbD86IFByaWNlO1xuICBzaGlwcGluZz86IFByaWNlO1xuICB0YXg/OiBQcmljZTtcbiAgZGlzY291bnQ/OiBQcmljZTtcbiAgZGlzY291bnRTaGlwcGluZz86IFByaWNlO1xufTtcbi8qKlxuICogUmV0dXJucyBhIFBheXBhbCBBbW91bnQgd2l0aCBCcmVha2Rvd24uXG4gKlxuICogQHBhcmFtICB7T3JkZXJQcmljZXN9ICAgIG9yZGVyUHJpY2VzICAgICBPYmplY3Qgb2Ygd2ViZmxvdyBvcmRlciBwcmljZXMuXG4gKiBAcmV0dXJuIHtQYXlwYWxBbW91bnR9ICAgUGF5cGFsIHByaWNlIG9iamVjdCAod2l0aCBicmVha2Rvd24pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0V0ZQcmljZVRvUGF5cGFsQW1vdW50V2l0aEJyZWFrZG93bihcbiAgb3JkZXJQcmljZXM6IE9yZGVyUHJpY2VzXG4pOiBQYXlwYWxBbW91bnQge1xuICBjb25zdCB7dG90YWwsIHN1YnRvdGFsLCBzaGlwcGluZywgdGF4LCBkaXNjb3VudCwgZGlzY291bnRTaGlwcGluZ30gPVxuICAgIG9yZGVyUHJpY2VzO1xuXG4gIGNvbnN0IGNvbnZlcnRPclplcm8gPSAoXG4gICAgcHJpY2U/OiBQcmljZSxcbiAgICBzY2FsYXI/OiBudW1iZXIgfCBudWxsXG4gICk6IFBheXBhbEFtb3VudCA9PlxuICAgIHByaWNlXG4gICAgICA/IGNvbnZlcnRXRlByaWNlVG9QYXlwYWxBbW91bnQocHJpY2UsIHNjYWxhcilcbiAgICAgIDogemVyb1VuaXRQYXlwYWwodG90YWwudW5pdCk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5jb252ZXJ0V0ZQcmljZVRvUGF5cGFsQW1vdW50KHRvdGFsKSxcbiAgICBicmVha2Rvd246IHtcbiAgICAgIGl0ZW1fdG90YWw6IGNvbnZlcnRPclplcm8oc3VidG90YWwpLFxuICAgICAgc2hpcHBpbmc6IGNvbnZlcnRPclplcm8oc2hpcHBpbmcpLFxuICAgICAgdGF4X3RvdGFsOiBjb252ZXJ0T3JaZXJvKHRheCksXG4gICAgICBkaXNjb3VudDogY29udmVydE9yWmVybyhkaXNjb3VudCwgLTEpLFxuICAgICAgc2hpcHBpbmdfZGlzY291bnQ6IGNvbnZlcnRPclplcm8oZGlzY291bnRTaGlwcGluZywgLTEpLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFBheXBhbCBBbW91bnQgKHByaWNlIG9iamVjdCkuXG4gKlxuICogQHBhcmFtICB7UHJpY2V9IGEgICAgICAgIFdlYmZsb3cgcHJpY2Ugb2JqZWN0LlxuICogQHBhcmFtICB7TnVtYmVyfSBzY2FsYXIgIEEgdW5pdGxlc3MgdmFsdWUgdGhhdCB3ZSdyZSBtdWx0aXBseWluZyB0aGUgcHJpY2UgYnkuXG4gKiBAcmV0dXJuIHtQYXlwYWxBbW91bnR9ICAgUGF5cGFsIHByaWNlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFdGUHJpY2VUb1BheXBhbEFtb3VudChcbiAgYTogUHJpY2UsXG4gIHNjYWxhcj86IG51bWJlciB8IG51bGxcbik6IFBheXBhbEFtb3VudCB7XG4gIC8vIFRPRE86XG4gIC8vIC0gTWF5IGhhdmUgdG8gYWNjb3VudCBmb3IgaW4tY291bnRyeSBQYXlQYWwgYWNjb3VudHMgb25seSBzdXBwb3J0IGZvciBzb21lIGN1cnJlbmNpZXNcbiAgY29uc3QgdW5pdEluZm8gPSBnZXRDdXJyZW5jeUluZm9QYXlwYWwoYS51bml0KTtcbiAgY29uc3Qgd2ZWYWx1ZSA9IHNjYWxhciA/IHNjYWxlUHJpY2UoYSwgc2NhbGFyKS52YWx1ZSA6IGEudmFsdWU7XG4gIGNvbnN0IHZhbHVlID0gaW50VG9VbnNhZmVGbG9hdCh3ZlZhbHVlLCB1bml0SW5mbykudG9GaXhlZCh1bml0SW5mby5kaWdpdHMpO1xuXG4gIHJldHVybiB7Y3VycmVuY3lfY29kZTogYS51bml0LCB2YWx1ZX07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFdGIFByaWNlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gIHtQYXlwYWxBbW91bnR9IGEgICBBIHBheXBhbCBwcmljZSBvYmplY3QuXG4gKiBAcmV0dXJuIHtQcmljZX0gICAgICAgICAgICBXZWJmbG93IHByaWNlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBheXBhbEFtb3VudFRvV0ZQcmljZShhOiBQYXlwYWxBbW91bnQpOiBQcmljZSB7XG4gIC8vIFRPRE86XG4gIC8vIC0gTWF5IGhhdmUgdG8gYWNjb3VudCBmb3IgaW4tY291bnRyeSBQYXlQYWwgYWNjb3VudHMgb25seSBzdXBwb3J0IGZvciBzb21lIGN1cnJlbmNpZXNcbiAgY29uc3QgdW5pdEluZm8gPSBnZXRDdXJyZW5jeUluZm9QYXlwYWwoYS5jdXJyZW5jeV9jb2RlKTtcbiAgY29uc3QgdmFsdWUgPSB1bnNhZmVGbG9hdFRvSW50KHBhcnNlRmxvYXQoYS52YWx1ZSksIHVuaXRJbmZvKTtcblxuICByZXR1cm4ge3VuaXQ6IGEuY3VycmVuY3lfY29kZSwgdmFsdWV9O1xufVxuIl0sIm5hbWVzIjpbIl9pbnZhbGlkIiwiY29udmVydFBheXBhbEFtb3VudFRvV0ZQcmljZSIsImNvbnZlcnRXRlByaWNlVG9QYXlwYWxBbW91bnQiLCJjb252ZXJ0V0ZQcmljZVRvUGF5cGFsQW1vdW50V2l0aEJyZWFrZG93biIsImN1cnJlbmN5SW5mb0J5Q29kZSIsImN1cnJlbmN5SW5mb0J5Q29kZVBheXBhbCIsImVxdWFsUHJpY2UiLCJmb3JtYXRQcmljZSIsImdldEN1cnJlbmN5SW5mbyIsImdldEN1cnJlbmN5SW5mb1BheXBhbCIsImdldEN1cnJlbmN5U3ltYm9sIiwiaW50VG9VbnNhZmVGbG9hdCIsInBhcnNlUHJpY2UiLCJyZW5kZXJQcmljZSIsInNjYWxlUHJpY2UiLCJzdWJ0cmFjdFByaWNlIiwic3VtUHJpY2UiLCJ1bnNhZmVGbG9hdFRvSW50IiwidmFsaWRhdGVQcmljZSIsInplcm9Vbml0UGF5cGFsIiwiemVyb1VuaXRXRiIsImtleUJ5Iiwic3RyaXBlQ3VycmVuY3lMaXN0IiwicGF5cGFsQ3VycmVuY3lMaXN0IiwiY29kZSIsInBsYXRmb3JtIiwiaXNWYWxpZEN1cnJlbmN5IiwidG9VcHBlckNhc2UiLCJkaWdpdHMiLCJtaW5DaGFyZ2UiLCJuYW1lIiwiY3VycmVuY3lDb2RlIiwiaGFzT3duUHJvcGVydHkiLCJOdWxsTnVtYmVyRm9ybWF0IiwiZm9ybWF0IiwiX3ZhbHVlIiwiZ2V0TnVtYmVyRm9ybWF0IiwibWVtb2l6ZSIsInVuaXQiLCJjdXJyZW5jeURpc3BsYXkiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwiY3VycmVuY3kiLCJzdHlsZSIsIlN0cmluZyIsImpvaW4iLCJzeW1ib2wiLCJtYXRjaCIsImZsb2F0VmFsdWUiLCJyb3VuZCIsIk1hdGgiLCJjdXJyZW5jeUluZm8iLCJwb3ciLCJpbnRWYWx1ZSIsInByaWNlIiwib3B0cyIsImlzb0Zvcm1hdCIsIm5vQ3VycmVuY3kiLCJub3JtYWxfdmFsdWUiLCJOdW1iZXIiLCJ2YWx1ZSIsImZsb2F0X3ZhbHVlIiwiaXNOYU4iLCJmbXQiLCJzdHJpbmciLCJhIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsImIiLCJzY2FsYXIiLCJCb29sZWFuIiwicHJpY2VTdHJpbmciLCJmYWxsYmFjayIsIkVycm9yIiwicmF3TnVtYmVyIiwiTmFOIiwib3JkZXJQcmljZXMiLCJ0b3RhbCIsInN1YnRvdGFsIiwic2hpcHBpbmciLCJ0YXgiLCJkaXNjb3VudCIsImRpc2NvdW50U2hpcHBpbmciLCJjb252ZXJ0T3JaZXJvIiwiYnJlYWtkb3duIiwiaXRlbV90b3RhbCIsInRheF90b3RhbCIsInNoaXBwaW5nX2Rpc2NvdW50IiwidW5pdEluZm8iLCJ3ZlZhbHVlIiwidG9GaXhlZCIsImN1cnJlbmN5X2NvZGUiLCJwYXJzZUZsb2F0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXFXZ0JBLFFBQVE7ZUFBUkE7O0lBNEZBQyw0QkFBNEI7ZUFBNUJBOztJQW5CQUMsNEJBQTRCO2VBQTVCQTs7SUFqQ0FDLHlDQUF5QztlQUF6Q0E7O0lBcFdIQyxrQkFBa0I7ZUFBbEJBOztJQUtBQyx3QkFBd0I7ZUFBeEJBOztJQW1SR0MsVUFBVTtlQUFWQTs7SUF2R0FDLFdBQVc7ZUFBWEE7O0lBbEtBQyxlQUFlO2VBQWZBOztJQXFCQUMscUJBQXFCO2VBQXJCQTs7SUF5RUhDLGlCQUFpQjtlQUFqQkE7O0lBb0JBQyxnQkFBZ0I7ZUFBaEJBOztJQTJKR0MsVUFBVTtlQUFWQTs7SUFuSUFDLFdBQVc7ZUFBWEE7O0lBNkdBQyxVQUFVO2VBQVZBOztJQXBCQUMsYUFBYTtlQUFiQTs7SUF2QkFDLFFBQVE7ZUFBUkE7O0lBeEdIQyxnQkFBZ0I7ZUFBaEJBOztJQThFR0MsYUFBYTtlQUFiQTs7SUFp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

}),
60937: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(82988), exports);
_export_star(__webpack_require__(9807), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vQ3VycmVuY3lVdGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3JlbmRlclByaWNlJztcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFjO3FCQUNBIn0=

}),
9807: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    formatPriceFromSettings: function() {
        return formatPriceFromSettings;
    },
    getCurrencySettingsFromCommerceSettings: function() {
        return getCurrencySettingsFromCommerceSettings;
    },
    renderAmountFromSettings: function() {
        return renderAmountFromSettings;
    },
    renderPriceFromSettings: function() {
        return renderPriceFromSettings;
    }
});
const _get = /*#__PURE__*/ _interop_require_default(__webpack_require__(24738));
const _isInteger = /*#__PURE__*/ _interop_require_default(__webpack_require__(80023));
const _accounting = __webpack_require__(41471);
const _simpleReplaceTokens = __webpack_require__(30805);
const _CurrencyUtils = __webpack_require__(82988);
const _memo = __webpack_require__(23056);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function formatPriceFromSettings(price, currencySettings) {
    price = (0, _CurrencyUtils.validatePrice)(price) ? price : (0, _CurrencyUtils._invalid)();
    const string = renderPriceFromSettings(price, currencySettings);
    return {
        unit: price.unit,
        value: price.value,
        string
    };
}
const getCurrencySettingsFromCommerceSettings = (0, _memo.weakMemo)((commerceSettings)=>{
    const getTheStuff = typeof commerceSettings.getIn === 'function' ? (keyPath, defaultValue)=>// @ts-expect-error - TS2722 - Cannot invoke an object which is possibly 'undefined'.
        commerceSettings.getIn(keyPath, defaultValue) : (keyPath, defaultValue)=>(0, _get.default)(commerceSettings, keyPath, defaultValue);
    return {
        hideDecimalForWholeNumbers: getTheStuff([
            'defaultCurrencyFormat',
            'hideDecimalForWholeNumbers'
        ], false),
        fractionDigits: getTheStuff([
            'defaultCurrencyFormat',
            'fractionDigits'
        ], 2),
        template: getTheStuff([
            'defaultCurrencyFormat',
            'template'
        ], ''),
        decimal: getTheStuff([
            'defaultCurrencyFormat',
            'decimal'
        ], '.'),
        group: getTheStuff([
            'defaultCurrencyFormat',
            'group'
        ], ','),
        symbol: getTheStuff([
            'defaultCurrencyFormat',
            'symbol'
        ], '$'),
        currencyCode: getTheStuff([
            'defaultCurrency'
        ], 'USD')
    };
});
const _nonBreakingSpace = String.fromCharCode(160);
const _replaceAllSpaceWithNBSP = (str)=>str.replace(/\s/g, _nonBreakingSpace);
function renderAmountFromSettings(amount, // @ts-expect-error - TS2739 - Type '{}' is missing the following properties from type '{ fractionDigits: number; hideDecimalForWholeNumbers: boolean; decimal: string; group: string; }': fractionDigits, hideDecimalForWholeNumbers, decimal, group
amountSettings = {}) {
    if (typeof amount === 'undefined') {
        return '';
    }
    if (typeof amount === 'string') {
        if (amount === '') {
            return amount;
        }
        // This should most likely never happen, but it's a flow guard for the rest of the function
        throw new Error(`amount has type string: got ${amount}, expected `);
    }
    // Price.value is always whole number. For example, USD is represented in cents
    // this is because fractionDigits = 2. To convert to a jsNumber we need to move
    // the decimal to the left fractionDigits number of times. (we can do this
    // with division)
    const jsValue = amount / parseFloat(`1${'0'.repeat(amountSettings.fractionDigits || 0)}`);
    const precision = (0, _isInteger.default)(jsValue) && amountSettings.hideDecimalForWholeNumbers ? 0 : amountSettings.fractionDigits;
    return (0, _accounting.formatMoney)(jsValue, {
        symbol: '',
        decimal: amountSettings.decimal,
        precision,
        thousand: amountSettings.group
    });
}
function renderPriceFromSettings(price, // @ts-expect-error - TS2740 - Type '{}' is missing the following properties from type 'CurrencySettings': hideDecimalForWholeNumbers, fractionDigits, template, decimal, and 3 more.
currencySettings = {}, renderOpts = {}) {
    const { template, currencyCode } = currencySettings;
    // fall back to old renderPrice if some currency settings don't exist
    // snapshots > ecommerce > ecommerceIsOn for Cypress tests currently doesn't have currency settings
    // we also want to fallback to the old renderPrice in the event that a price's unit
    // does not match the currencyCode for the currency settings
    if (!template || price.unit !== currencyCode) {
        return (0, _CurrencyUtils.renderPrice)(price);
    }
    return (price.value < 0 ? '' : '') + // negative sign to appear before currency symbol e.g., -$ 5.00 USD
    (0, _simpleReplaceTokens.simpleReplaceTokens)((renderOpts.breakingWhitespace ? currencySettings.template : _replaceAllSpaceWithNBSP(currencySettings.template)) || '', {
        amount: renderAmountFromSettings(Math.abs(price.value), currencySettings),
        symbol: currencySettings.symbol,
        currencyCode: currencySettings.currencyCode
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbmRlclByaWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgaXNJbnRlZ2VyIGZyb20gJ2xvZGFzaC9pc0ludGVnZXInO1xuaW1wb3J0IHtmb3JtYXRNb25leX0gZnJvbSAnYWNjb3VudGluZyc7XG5pbXBvcnQge3NpbXBsZVJlcGxhY2VUb2tlbnN9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvcmUvdXRpbHMvRW1iZWRVdGlscy9zaW1wbGVSZXBsYWNlVG9rZW5zJztcbmltcG9ydCB7dHlwZSBQcmljZX0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29yZSc7XG5pbXBvcnQge1xuICB0eXBlIEZvcm1hdHRlZFByaWNlLFxuICB2YWxpZGF0ZVByaWNlLFxuICBfaW52YWxpZCxcbiAgcmVuZGVyUHJpY2UsXG59IGZyb20gJy4vQ3VycmVuY3lVdGlscyc7XG5pbXBvcnQge3dlYWtNZW1vfSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL21lbW8nO1xuXG4vKipcbiAqIFdpbGwgY29udmVydCBhIFByaWNlICh7IHZhbHVlLCB1bml0IH0pIGludG8gYSBGb3JtYXR0ZWRQcmljZSAoeyB2YWx1ZSwgdW5pdCwgc3RyaW5nIH0pIHdpdGggdGhlIHN0cmluZ1xuICogZm9ybWF0dGVkIGJhc2VkIG9uIGN1cnJlbmN5IHNldHRpbmdzLlxuICpcbiAqIEBwYXJhbSAge1ByaWNlfSBwcmljZSBBIGJhc2ljIHByaWNlIG9iamVjdC5cbiAqIEByZXR1cm4ge0Zvcm1hdHRlZFByaWNlfSBUaGF0IHNhbWUgcHJpY2Ugb2JqZWN0LCBleHRlbmRlZCB3aXRoIGEgc3RyaW5nIHZlcnNpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRQcmljZUZyb21TZXR0aW5ncyhcbiAgcHJpY2U6IFByaWNlLFxuICBjdXJyZW5jeVNldHRpbmdzOiBDdXJyZW5jeVNldHRpbmdzXG4pOiBGb3JtYXR0ZWRQcmljZSB7XG4gIHByaWNlID0gdmFsaWRhdGVQcmljZShwcmljZSkgPyBwcmljZSA6IF9pbnZhbGlkKCk7XG4gIGNvbnN0IHN0cmluZyA9IHJlbmRlclByaWNlRnJvbVNldHRpbmdzKHByaWNlLCBjdXJyZW5jeVNldHRpbmdzKTtcbiAgcmV0dXJuIHtcbiAgICB1bml0OiBwcmljZS51bml0LFxuICAgIHZhbHVlOiBwcmljZS52YWx1ZSxcbiAgICBzdHJpbmcsXG4gIH07XG59XG5cbmV4cG9ydCB0eXBlIEN1cnJlbmN5U2V0dGluZ3MgPSB7XG4gIGhpZGVEZWNpbWFsRm9yV2hvbGVOdW1iZXJzOiBib29sZWFuO1xuICBmcmFjdGlvbkRpZ2l0czogbnVtYmVyO1xuICB0ZW1wbGF0ZTogc3RyaW5nO1xuICBkZWNpbWFsOiBzdHJpbmc7XG4gIGdyb3VwOiBzdHJpbmc7XG4gIHN5bWJvbDogc3RyaW5nO1xuICBjdXJyZW5jeUNvZGU6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW5jeVNldHRpbmdzRnJvbUNvbW1lcmNlU2V0dGluZ3MgPSB3ZWFrTWVtbyhcbiAgKGNvbW1lcmNlU2V0dGluZ3M6IHtcbiAgICBnZXRJbj86IChhcmcxOiBzdHJpbmdbXSwgYXJnMj86IGFueSkgPT4gYW55O1xuICB9KTogQ3VycmVuY3lTZXR0aW5ncyA9PiB7XG4gICAgY29uc3QgZ2V0VGhlU3R1ZmYgPVxuICAgICAgdHlwZW9mIGNvbW1lcmNlU2V0dGluZ3MuZ2V0SW4gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAoa2V5UGF0aDogQXJyYXk8c3RyaW5nPiwgZGVmYXVsdFZhbHVlOiBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuKSA9PlxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjcyMiAtIENhbm5vdCBpbnZva2UgYW4gb2JqZWN0IHdoaWNoIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgICAgICAgICAgY29tbWVyY2VTZXR0aW5ncy5nZXRJbihrZXlQYXRoLCBkZWZhdWx0VmFsdWUpXG4gICAgICAgIDogKGtleVBhdGg6IEFycmF5PHN0cmluZz4sIGRlZmF1bHRWYWx1ZTogbnVtYmVyIHwgc3RyaW5nIHwgYm9vbGVhbikgPT5cbiAgICAgICAgICAgIGdldChjb21tZXJjZVNldHRpbmdzLCBrZXlQYXRoLCBkZWZhdWx0VmFsdWUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGVEZWNpbWFsRm9yV2hvbGVOdW1iZXJzOiBnZXRUaGVTdHVmZihcbiAgICAgICAgWydkZWZhdWx0Q3VycmVuY3lGb3JtYXQnLCAnaGlkZURlY2ltYWxGb3JXaG9sZU51bWJlcnMnXSxcbiAgICAgICAgZmFsc2VcbiAgICAgICksXG4gICAgICBmcmFjdGlvbkRpZ2l0czogZ2V0VGhlU3R1ZmYoXG4gICAgICAgIFsnZGVmYXVsdEN1cnJlbmN5Rm9ybWF0JywgJ2ZyYWN0aW9uRGlnaXRzJ10sXG4gICAgICAgIDJcbiAgICAgICksXG4gICAgICB0ZW1wbGF0ZTogZ2V0VGhlU3R1ZmYoWydkZWZhdWx0Q3VycmVuY3lGb3JtYXQnLCAndGVtcGxhdGUnXSwgJycpLFxuICAgICAgZGVjaW1hbDogZ2V0VGhlU3R1ZmYoWydkZWZhdWx0Q3VycmVuY3lGb3JtYXQnLCAnZGVjaW1hbCddLCAnLicpLFxuICAgICAgZ3JvdXA6IGdldFRoZVN0dWZmKFsnZGVmYXVsdEN1cnJlbmN5Rm9ybWF0JywgJ2dyb3VwJ10sICcsJyksXG4gICAgICBzeW1ib2w6IGdldFRoZVN0dWZmKFsnZGVmYXVsdEN1cnJlbmN5Rm9ybWF0JywgJ3N5bWJvbCddLCAnJCcpLFxuICAgICAgY3VycmVuY3lDb2RlOiBnZXRUaGVTdHVmZihbJ2RlZmF1bHRDdXJyZW5jeSddLCAnVVNEJyksXG4gICAgfTtcbiAgfVxuKTtcblxuY29uc3QgX25vbkJyZWFraW5nU3BhY2UgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCk7XG5jb25zdCBfcmVwbGFjZUFsbFNwYWNlV2l0aE5CU1AgPSAoc3RyOiBzdHJpbmcpID0+XG4gIHN0ci5yZXBsYWNlKC9cXHMvZywgX25vbkJyZWFraW5nU3BhY2UpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQW1vdW50RnJvbVNldHRpbmdzKFxuICBhbW91bnQ/OiBudW1iZXIgfCBzdHJpbmcsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI3MzkgLSBUeXBlICd7fScgaXMgbWlzc2luZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgZnJvbSB0eXBlICd7IGZyYWN0aW9uRGlnaXRzOiBudW1iZXI7IGhpZGVEZWNpbWFsRm9yV2hvbGVOdW1iZXJzOiBib29sZWFuOyBkZWNpbWFsOiBzdHJpbmc7IGdyb3VwOiBzdHJpbmc7IH0nOiBmcmFjdGlvbkRpZ2l0cywgaGlkZURlY2ltYWxGb3JXaG9sZU51bWJlcnMsIGRlY2ltYWwsIGdyb3VwXG4gIGFtb3VudFNldHRpbmdzOiB7XG4gICAgZnJhY3Rpb25EaWdpdHM6IG51bWJlcjtcbiAgICBoaWRlRGVjaW1hbEZvcldob2xlTnVtYmVyczogYm9vbGVhbjtcbiAgICBkZWNpbWFsOiBzdHJpbmc7XG4gICAgZ3JvdXA6IHN0cmluZztcbiAgfSA9IHt9XG4pIHtcbiAgaWYgKHR5cGVvZiBhbW91bnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhbW91bnQgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGFtb3VudCA9PT0gJ+KInicpIHtcbiAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBzaG91bGQgbW9zdCBsaWtlbHkgbmV2ZXIgaGFwcGVuLCBidXQgaXQncyBhIGZsb3cgZ3VhcmQgZm9yIHRoZSByZXN0IG9mIHRoZSBmdW5jdGlvblxuICAgIHRocm93IG5ldyBFcnJvcihgYW1vdW50IGhhcyB0eXBlIHN0cmluZzogZ290ICR7YW1vdW50fSwgZXhwZWN0ZWQg4oieYCk7XG4gIH1cblxuICAvLyBQcmljZS52YWx1ZSBpcyBhbHdheXMgd2hvbGUgbnVtYmVyLiBGb3IgZXhhbXBsZSwgVVNEIGlzIHJlcHJlc2VudGVkIGluIGNlbnRzXG4gIC8vIHRoaXMgaXMgYmVjYXVzZSBmcmFjdGlvbkRpZ2l0cyA9IDIuIFRvIGNvbnZlcnQgdG8gYSBqc051bWJlciB3ZSBuZWVkIHRvIG1vdmVcbiAgLy8gdGhlIGRlY2ltYWwgdG8gdGhlIGxlZnQgZnJhY3Rpb25EaWdpdHMgbnVtYmVyIG9mIHRpbWVzLiAod2UgY2FuIGRvIHRoaXNcbiAgLy8gd2l0aCBkaXZpc2lvbilcbiAgY29uc3QganNWYWx1ZSA9XG4gICAgYW1vdW50IC8gcGFyc2VGbG9hdChgMSR7JzAnLnJlcGVhdChhbW91bnRTZXR0aW5ncy5mcmFjdGlvbkRpZ2l0cyB8fCAwKX1gKTtcblxuICBjb25zdCBwcmVjaXNpb24gPVxuICAgIGlzSW50ZWdlcihqc1ZhbHVlKSAmJiBhbW91bnRTZXR0aW5ncy5oaWRlRGVjaW1hbEZvcldob2xlTnVtYmVyc1xuICAgICAgPyAwXG4gICAgICA6IGFtb3VudFNldHRpbmdzLmZyYWN0aW9uRGlnaXRzO1xuXG4gIHJldHVybiBmb3JtYXRNb25leShqc1ZhbHVlLCB7XG4gICAgc3ltYm9sOiAnJyxcbiAgICBkZWNpbWFsOiBhbW91bnRTZXR0aW5ncy5kZWNpbWFsLFxuICAgIHByZWNpc2lvbixcbiAgICB0aG91c2FuZDogYW1vdW50U2V0dGluZ3MuZ3JvdXAsXG4gIH0pO1xufVxuXG50eXBlIFJlbmRlck9wdHMgPSB7XG4gIGJyZWFraW5nV2hpdGVzcGFjZT86IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIFdpbGwgY29udmVydCBhIFByaWNlIG9iamVjdCAoaWU6IG9iamVjdCB3aXRoIHZhbHVlIGFuZCB1bml0KSBpbnRvIGEgZm9ybWF0dGVkXG4gKiBzdHJpbmcgYmFzZWQgb24gdGhlIGN1cnJlbmN5U2V0dGluZ3MgcGFzc2VkIGluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJQcmljZUZyb21TZXR0aW5ncyhcbiAgcHJpY2U6IFByaWNlLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNzQwIC0gVHlwZSAne30nIGlzIG1pc3NpbmcgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGZyb20gdHlwZSAnQ3VycmVuY3lTZXR0aW5ncyc6IGhpZGVEZWNpbWFsRm9yV2hvbGVOdW1iZXJzLCBmcmFjdGlvbkRpZ2l0cywgdGVtcGxhdGUsIGRlY2ltYWwsIGFuZCAzIG1vcmUuXG4gIGN1cnJlbmN5U2V0dGluZ3M6IEN1cnJlbmN5U2V0dGluZ3MgPSB7fSxcbiAgcmVuZGVyT3B0czogUmVuZGVyT3B0cyA9IHt9XG4pOiBzdHJpbmcge1xuICBjb25zdCB7dGVtcGxhdGUsIGN1cnJlbmN5Q29kZX0gPSBjdXJyZW5jeVNldHRpbmdzO1xuICAvLyBmYWxsIGJhY2sgdG8gb2xkIHJlbmRlclByaWNlIGlmIHNvbWUgY3VycmVuY3kgc2V0dGluZ3MgZG9uJ3QgZXhpc3RcbiAgLy8gc25hcHNob3RzID4gZWNvbW1lcmNlID4gZWNvbW1lcmNlSXNPbiBmb3IgQ3lwcmVzcyB0ZXN0cyBjdXJyZW50bHkgZG9lc24ndCBoYXZlIGN1cnJlbmN5IHNldHRpbmdzXG4gIC8vIHdlIGFsc28gd2FudCB0byBmYWxsYmFjayB0byB0aGUgb2xkIHJlbmRlclByaWNlIGluIHRoZSBldmVudCB0aGF0IGEgcHJpY2UncyB1bml0XG4gIC8vIGRvZXMgbm90IG1hdGNoIHRoZSBjdXJyZW5jeUNvZGUgZm9yIHRoZSBjdXJyZW5jeSBzZXR0aW5nc1xuICBpZiAoIXRlbXBsYXRlIHx8IHByaWNlLnVuaXQgIT09IGN1cnJlbmN5Q29kZSkge1xuICAgIHJldHVybiByZW5kZXJQcmljZShwcmljZSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIChwcmljZS52YWx1ZSA8IDAgPyAn4oiSJyA6ICcnKSArIC8vIG5lZ2F0aXZlIHNpZ24gdG8gYXBwZWFyIGJlZm9yZSBjdXJyZW5jeSBzeW1ib2wgZS5nLiwgLSQgNS4wMCBVU0RcbiAgICBzaW1wbGVSZXBsYWNlVG9rZW5zKFxuICAgICAgKHJlbmRlck9wdHMuYnJlYWtpbmdXaGl0ZXNwYWNlXG4gICAgICAgID8gY3VycmVuY3lTZXR0aW5ncy50ZW1wbGF0ZVxuICAgICAgICA6IF9yZXBsYWNlQWxsU3BhY2VXaXRoTkJTUChjdXJyZW5jeVNldHRpbmdzLnRlbXBsYXRlKSkgfHwgJycsXG4gICAgICB7XG4gICAgICAgIGFtb3VudDogcmVuZGVyQW1vdW50RnJvbVNldHRpbmdzKFxuICAgICAgICAgIE1hdGguYWJzKHByaWNlLnZhbHVlKSxcbiAgICAgICAgICBjdXJyZW5jeVNldHRpbmdzXG4gICAgICAgICksXG4gICAgICAgIHN5bWJvbDogY3VycmVuY3lTZXR0aW5ncy5zeW1ib2wsXG4gICAgICAgIGN1cnJlbmN5Q29kZTogY3VycmVuY3lTZXR0aW5ncy5jdXJyZW5jeUNvZGUsXG4gICAgICB9XG4gICAgKVxuICApO1xufVxuIl0sIm5hbWVzIjpbImZvcm1hdFByaWNlRnJvbVNldHRpbmdzIiwiZ2V0Q3VycmVuY3lTZXR0aW5nc0Zyb21Db21tZXJjZVNldHRpbmdzIiwicmVuZGVyQW1vdW50RnJvbVNldHRpbmdzIiwicmVuZGVyUHJpY2VGcm9tU2V0dGluZ3MiLCJwcmljZSIsImN1cnJlbmN5U2V0dGluZ3MiLCJ2YWxpZGF0ZVByaWNlIiwiX2ludmFsaWQiLCJzdHJpbmciLCJ1bml0IiwidmFsdWUiLCJ3ZWFrTWVtbyIsImNvbW1lcmNlU2V0dGluZ3MiLCJnZXRUaGVTdHVmZiIsImdldEluIiwia2V5UGF0aCIsImRlZmF1bHRWYWx1ZSIsImdldCIsImhpZGVEZWNpbWFsRm9yV2hvbGVOdW1iZXJzIiwiZnJhY3Rpb25EaWdpdHMiLCJ0ZW1wbGF0ZSIsImRlY2ltYWwiLCJncm91cCIsInN5bWJvbCIsImN1cnJlbmN5Q29kZSIsIl9ub25CcmVha2luZ1NwYWNlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiX3JlcGxhY2VBbGxTcGFjZVdpdGhOQlNQIiwic3RyIiwicmVwbGFjZSIsImFtb3VudCIsImFtb3VudFNldHRpbmdzIiwiRXJyb3IiLCJqc1ZhbHVlIiwicGFyc2VGbG9hdCIsInJlcGVhdCIsInByZWNpc2lvbiIsImlzSW50ZWdlciIsImZvcm1hdE1vbmV5IiwidGhvdXNhbmQiLCJyZW5kZXJPcHRzIiwicmVuZGVyUHJpY2UiLCJzaW1wbGVSZXBsYWNlVG9rZW5zIiwiYnJlYWtpbmdXaGl0ZXNwYWNlIiwiTWF0aCIsImFicyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUFvQmdCQSx1QkFBdUI7ZUFBdkJBOztJQXVCSEMsdUNBQXVDO2VBQXZDQTs7SUFrQ0dDLHdCQUF3QjtlQUF4QkE7O0lBbURBQyx1QkFBdUI7ZUFBdkJBOzs7NERBaElBO2tFQUNNOzRCQUNJO3FDQUNROytCQU8zQjtzQkFDZ0I7Ozs7OztBQVNoQixTQUFTSCx3QkFDZEksS0FBWSxFQUNaQyxnQkFBa0M7SUFFbENELFFBQVFFLElBQUFBLDRCQUFhLEVBQUNGLFNBQVNBLFFBQVFHLElBQUFBLHVCQUFRO0lBQy9DLE1BQU1DLFNBQVNMLHdCQUF3QkMsT0FBT0M7SUFDOUMsT0FBTztRQUNMSSxNQUFNTCxNQUFNSyxJQUFJO1FBQ2hCQyxPQUFPTixNQUFNTSxLQUFLO1FBQ2xCRjtJQUNGO0FBQ0Y7QUFZTyxNQUFNUCwwQ0FBMENVLElBQUFBLGNBQVEsRUFDN0QsQ0FBQ0M7SUFHQyxNQUFNQyxjQUNKLE9BQU9ELGlCQUFpQkUsS0FBSyxLQUFLLGFBQzlCLENBQUNDLFNBQXdCQyxlQUN2QixxRkFBcUY7UUFDckZKLGlCQUFpQkUsS0FBSyxDQUFDQyxTQUFTQyxnQkFDbEMsQ0FBQ0QsU0FBd0JDLGVBQ3ZCQyxJQUFBQSxZQUFHLEVBQUNMLGtCQUFrQkcsU0FBU0M7SUFFdkMsT0FBTztRQUNMRSw0QkFBNEJMLFlBQzFCO1lBQUM7WUFBeUI7U0FBNkIsRUFDdkQ7UUFFRk0sZ0JBQWdCTixZQUNkO1lBQUM7WUFBeUI7U0FBaUIsRUFDM0M7UUFFRk8sVUFBVVAsWUFBWTtZQUFDO1lBQXlCO1NBQVcsRUFBRTtRQUM3RFEsU0FBU1IsWUFBWTtZQUFDO1lBQXlCO1NBQVUsRUFBRTtRQUMzRFMsT0FBT1QsWUFBWTtZQUFDO1lBQXlCO1NBQVEsRUFBRTtRQUN2RFUsUUFBUVYsWUFBWTtZQUFDO1lBQXlCO1NBQVMsRUFBRTtRQUN6RFcsY0FBY1gsWUFBWTtZQUFDO1NBQWtCLEVBQUU7SUFDakQ7QUFDRjtBQUdGLE1BQU1ZLG9CQUFvQkMsT0FBT0MsWUFBWSxDQUFDO0FBQzlDLE1BQU1DLDJCQUEyQixDQUFDQyxNQUNoQ0EsSUFBSUMsT0FBTyxDQUFDLE9BQU9MO0FBRWQsU0FBU3ZCLHlCQUNkNkIsTUFBd0IsRUFDeEIscVBBQXFQO0FBQ3JQQyxpQkFLSSxDQUFDLENBQUM7SUFFTixJQUFJLE9BQU9ELFdBQVcsYUFBYTtRQUNqQyxPQUFPO0lBQ1Q7SUFFQSxJQUFJLE9BQU9BLFdBQVcsVUFBVTtRQUM5QixJQUFJQSxXQUFXLEtBQUs7WUFDbEIsT0FBT0E7UUFDVDtRQUVBLDJGQUEyRjtRQUMzRixNQUFNLElBQUlFLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRUYsT0FBTyxZQUFZLENBQUM7SUFDckU7SUFFQSwrRUFBK0U7SUFDL0UsK0VBQStFO0lBQy9FLDBFQUEwRTtJQUMxRSxpQkFBaUI7SUFDakIsTUFBTUcsVUFDSkgsU0FBU0ksV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJQyxNQUFNLENBQUNKLGVBQWViLGNBQWMsSUFBSSxHQUFHLENBQUM7SUFFMUUsTUFBTWtCLFlBQ0pDLElBQUFBLGtCQUFTLEVBQUNKLFlBQVlGLGVBQWVkLDBCQUEwQixHQUMzRCxJQUNBYyxlQUFlYixjQUFjO0lBRW5DLE9BQU9vQixJQUFBQSx1QkFBVyxFQUFDTCxTQUFTO1FBQzFCWCxRQUFRO1FBQ1JGLFNBQVNXLGVBQWVYLE9BQU87UUFDL0JnQjtRQUNBRyxVQUFVUixlQUFlVixLQUFLO0lBQ2hDO0FBQ0Y7QUFVTyxTQUFTbkIsd0JBQ2RDLEtBQVksRUFDWixxTEFBcUw7QUFDckxDLG1CQUFxQyxDQUFDLENBQUMsRUFDdkNvQyxhQUF5QixDQUFDLENBQUM7SUFFM0IsTUFBTSxFQUFDckIsUUFBUSxFQUFFSSxZQUFZLEVBQUMsR0FBR25CO0lBQ2pDLHFFQUFxRTtJQUNyRSxtR0FBbUc7SUFDbkcsbUZBQW1GO0lBQ25GLDREQUE0RDtJQUM1RCxJQUFJLENBQUNlLFlBQVloQixNQUFNSyxJQUFJLEtBQUtlLGNBQWM7UUFDNUMsT0FBT2tCLElBQUFBLDBCQUFXLEVBQUN0QztJQUNyQjtJQUVBLE9BQ0UsQUFBQ0EsQ0FBQUEsTUFBTU0sS0FBSyxHQUFHLElBQUksTUFBTSxFQUFDLElBQUssbUVBQW1FO0lBQ2xHaUMsSUFBQUEsd0NBQW1CLEVBQ2pCLEFBQUNGLENBQUFBLFdBQVdHLGtCQUFrQixHQUMxQnZDLGlCQUFpQmUsUUFBUSxHQUN6QlEseUJBQXlCdkIsaUJBQWlCZSxRQUFRLENBQUEsS0FBTSxJQUM1RDtRQUNFVyxRQUFRN0IseUJBQ04yQyxLQUFLQyxHQUFHLENBQUMxQyxNQUFNTSxLQUFLLEdBQ3BCTDtRQUVGa0IsUUFBUWxCLGlCQUFpQmtCLE1BQU07UUFDL0JDLGNBQWNuQixpQkFBaUJtQixZQUFZO0lBQzdDO0FBR04ifQ==

}),
71847: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    extractToken: function() {
        return extractToken;
    },
    getAmountTokenPattern: function() {
        return getAmountTokenPattern;
    },
    getCatchAllTokenPattern: function() {
        return getCatchAllTokenPattern;
    },
    getExternalTokenPattern: function() {
        return getExternalTokenPattern;
    },
    getWfTokenPattern: function() {
        return getWfTokenPattern;
    },
    parseTokenJson: function() {
        return parseTokenJson;
    },
    parseTokenJsonFromMatch: function() {
        return parseTokenJsonFromMatch;
    },
    stripLegacyShorthandSuffix: function() {
        return stripLegacyShorthandSuffix;
    }
});
const _unescape = /*#__PURE__*/ _interop_require_default(__webpack_require__(94891));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const getWfTokenPattern = function() {
    return /{{\s*wf\s*({.*?})\s*}}/g;
};
const getCatchAllTokenPattern = function() {
    return /{{\s*(.*?)\s*}}/g;
};
const getExternalTokenPattern = function() {
    return /{\\{(\s*.*?\s*)}}/g;
};
const getAmountTokenPattern = ()=>{
    return /{{\s*wf\s*({&quot;path&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;CommercePrice&quot;\\})\s*}}/;
};
function parseTokenJsonFromMatch(match) {
    let token;
    let isEscaped = false;
    try {
        const replacedTrailing = match.replace(/\\}/g, '}');
        const unescaped = (0, _unescape.default)(replacedTrailing);
        // If the trailing backslash is not present in the original match, or if unescaping the match causes it to be
        // different, then the original match is not escaped
        if (match !== replacedTrailing && unescaped !== replacedTrailing) {
            isEscaped = true;
        }
        token = JSON.parse(unescaped);
    } catch (err) {
        return;
    }
    if (!token?.path || !token.type) {
        return; // If path doesn't exist, this JSON string is not a token
    }
    token.isEscaped = isEscaped;
    return token;
}
function parseTokenJson(string) {
    if (string.match(getWfTokenPattern())) {
        let token;
        try {
            token = JSON.parse((0, _unescape.default)(extractToken(string).replace(/\\}/g, '}')));
        } catch (err) {
            return null;
        }
        if (!token || !token.path || !token.type) {
            // If path doesn't exist, this JSON string is not a token
            return null;
        } else {
            return token;
        }
    } else {
        return null;
    }
}
function extractToken(string, { shortHand } = {}) {
    return shortHand ? string.replace(getCatchAllTokenPattern(), (match, subMatch)=>{
        return stripLegacyShorthandSuffix(subMatch);
    }) : string.replace(getWfTokenPattern(), '$1');
}
function stripLegacyShorthandSuffix(tokenPath) {
    return tokenPath.split(':').map((part)=>part.split('.')[0]).join(':');
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1bmVzY2FwZSBmcm9tICdsb2Rhc2gvdW5lc2NhcGUnO1xuXG5leHBvcnQgdHlwZSBUb2tlblRyYW5zZm9ybWVycyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBhcmd1bWVudHM/OiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCB0eXBlIFRva2VuID0ge1xuICBwYXRoOiBzdHJpbmc7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIHRyYW5zZm9ybWVycz86IFRva2VuVHJhbnNmb3JtZXJzW107XG4gIGlzRXNjYXBlZD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0V2ZUb2tlblBhdHRlcm4gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAve3tcXHMqd2ZcXHMqKHsuKj99KVxccyp9fS9nO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENhdGNoQWxsVG9rZW5QYXR0ZXJuID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gL3t7XFxzKiguKj8pXFxzKn19L2c7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RXh0ZXJuYWxUb2tlblBhdHRlcm4gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAve1xcXFx7KFxccyouKj9cXHMqKX19L2c7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QW1vdW50VG9rZW5QYXR0ZXJuID0gKCkgPT4ge1xuICByZXR1cm4gL3t7XFxzKndmXFxzKih7JnF1b3Q7cGF0aCZxdW90OzomcXVvdDthbW91bnQmcXVvdDssJnF1b3Q7dHlwZSZxdW90OzomcXVvdDtDb21tZXJjZVByaWNlJnF1b3Q7XFxcXH0pXFxzKn19Lztcbn07XG5cbi8qKlxuICogU2ltaWxhciB0byBgcGFyc2VUb2tlbkpzb25gLCBidXQgdGhpcyBmdW5jdGlvbiBhc3N1bWVzIHRoZSBpbnB1dCBpcyB0aGUgaW5uZXIgbWF0Y2ggZnJvbSBgZ2V0V2ZUb2tlblBhdHRlcm5gLlxuICogRS5nLiBgey4uLn1gIGluIGB7eyB3ZiB7Li4ufSB9fWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVG9rZW5Kc29uRnJvbU1hdGNoKG1hdGNoOiBzdHJpbmcpOiBUb2tlbiB8IHVuZGVmaW5lZCB7XG4gIGxldCB0b2tlbjogVG9rZW47XG4gIGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBsYWNlZFRyYWlsaW5nID0gbWF0Y2gucmVwbGFjZSgvXFxcXH0vZywgJ30nKTtcbiAgICBjb25zdCB1bmVzY2FwZWQgPSB1bmVzY2FwZShyZXBsYWNlZFRyYWlsaW5nKTtcblxuICAgIC8vIElmIHRoZSB0cmFpbGluZyBiYWNrc2xhc2ggaXMgbm90IHByZXNlbnQgaW4gdGhlIG9yaWdpbmFsIG1hdGNoLCBvciBpZiB1bmVzY2FwaW5nIHRoZSBtYXRjaCBjYXVzZXMgaXQgdG8gYmVcbiAgICAvLyBkaWZmZXJlbnQsIHRoZW4gdGhlIG9yaWdpbmFsIG1hdGNoIGlzIG5vdCBlc2NhcGVkXG4gICAgaWYgKG1hdGNoICE9PSByZXBsYWNlZFRyYWlsaW5nICYmIHVuZXNjYXBlZCAhPT0gcmVwbGFjZWRUcmFpbGluZykge1xuICAgICAgaXNFc2NhcGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdG9rZW4gPSBKU09OLnBhcnNlKHVuZXNjYXBlZCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXRva2VuPy5wYXRoIHx8ICF0b2tlbi50eXBlKSB7XG4gICAgcmV0dXJuOyAvLyBJZiBwYXRoIGRvZXNuJ3QgZXhpc3QsIHRoaXMgSlNPTiBzdHJpbmcgaXMgbm90IGEgdG9rZW5cbiAgfVxuICB0b2tlbi5pc0VzY2FwZWQgPSBpc0VzY2FwZWQ7XG4gIHJldHVybiB0b2tlbjtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHRva2VuIHN0cmluZyBhbmQgcGFyc2VzIGl0IHRvIGEgdG9rZW4gb2JqZWN0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZyBBIHRva2VuIHN0cmluZywgZS5nLiAne3sgd2YgeyZxdW90O3BhdGgmcXVvdDs6JnF1b3Q7bmFtZSZxdW90O1xcfSB9fSdcbiAqIEByZXR1cm4ge09iamVjdH0gICAgICAgIEEgcGFyc2VkIHRva2VuIG9iamVjdCBvciBudWxsIGlmIHN0cmluZyBpcyBub3QgYSB2YWxpZCB0b2tlbiBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVG9rZW5Kc29uKHN0cmluZzogc3RyaW5nKTogVG9rZW4gfCBudWxsIHtcbiAgaWYgKHN0cmluZy5tYXRjaChnZXRXZlRva2VuUGF0dGVybigpKSkge1xuICAgIGxldCB0b2tlbjtcbiAgICB0cnkge1xuICAgICAgdG9rZW4gPSBKU09OLnBhcnNlKHVuZXNjYXBlKGV4dHJhY3RUb2tlbihzdHJpbmcpLnJlcGxhY2UoL1xcXFx9L2csICd9JykpKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCF0b2tlbiB8fCAhdG9rZW4ucGF0aCB8fCAhdG9rZW4udHlwZSkge1xuICAgICAgLy8gSWYgcGF0aCBkb2Vzbid0IGV4aXN0LCB0aGlzIEpTT04gc3RyaW5nIGlzIG5vdCBhIHRva2VuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFRva2VuKFxuICBzdHJpbmc6IHN0cmluZyxcbiAge1xuICAgIHNob3J0SGFuZCxcbiAgfToge1xuICAgIHNob3J0SGFuZD86IGJvb2xlYW47XG4gIH0gPSB7fVxuKSB7XG4gIHJldHVybiBzaG9ydEhhbmRcbiAgICA/IHN0cmluZy5yZXBsYWNlKGdldENhdGNoQWxsVG9rZW5QYXR0ZXJuKCksIChtYXRjaCwgc3ViTWF0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIHN0cmlwTGVnYWN5U2hvcnRoYW5kU3VmZml4KHN1Yk1hdGNoKTtcbiAgICAgIH0pXG4gICAgOiBzdHJpbmcucmVwbGFjZShnZXRXZlRva2VuUGF0dGVybigpLCAnJDEnKTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIGxlZ2FjeSBzaG9ydGhhbmQgdG9rZW4gcGF0aCBhbmQgc3RyaXBzXG4gKiBzdWZmaWNlcyB0aGF0IHdlIHVzZWQgdG8gaGF2ZSBpbiBJbWFnZVJlZiBhbmQgT3B0aW9uIHRva2Vuc1xuICpcbiAqIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgbGVnYWN5IGJpbmRpbmdzOlxuICogT3B0aW9uOiB7eyBvcHRpb246bmFtZSB9fSBhbmQge3sgYXV0aG9yOm9wdGlvbi5uYW1lIH19XG4gKiBJbWFnZVJlZjoge3sgaW1hZ2UudXJsIH19IGFuZCB7eyBhdXRob3I6aW1hZ2UudXJsIH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcExlZ2FjeVNob3J0aGFuZFN1ZmZpeCh0b2tlblBhdGg6IHN0cmluZykge1xuICByZXR1cm4gdG9rZW5QYXRoXG4gICAgLnNwbGl0KCc6JylcbiAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LnNwbGl0KCcuJylbMF0pXG4gICAgLmpvaW4oJzonKTtcbn1cbiJdLCJuYW1lcyI6WyJleHRyYWN0VG9rZW4iLCJnZXRBbW91bnRUb2tlblBhdHRlcm4iLCJnZXRDYXRjaEFsbFRva2VuUGF0dGVybiIsImdldEV4dGVybmFsVG9rZW5QYXR0ZXJuIiwiZ2V0V2ZUb2tlblBhdHRlcm4iLCJwYXJzZVRva2VuSnNvbiIsInBhcnNlVG9rZW5Kc29uRnJvbU1hdGNoIiwic3RyaXBMZWdhY3lTaG9ydGhhbmRTdWZmaXgiLCJtYXRjaCIsInRva2VuIiwiaXNFc2NhcGVkIiwicmVwbGFjZWRUcmFpbGluZyIsInJlcGxhY2UiLCJ1bmVzY2FwZWQiLCJ1bmVzY2FwZSIsIkpTT04iLCJwYXJzZSIsImVyciIsInBhdGgiLCJ0eXBlIiwic3RyaW5nIiwic2hvcnRIYW5kIiwic3ViTWF0Y2giLCJ0b2tlblBhdGgiLCJzcGxpdCIsIm1hcCIsInBhcnQiLCJqb2luIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWtGZ0JBLFlBQVk7ZUFBWkE7O0lBeERIQyxxQkFBcUI7ZUFBckJBOztJQVJBQyx1QkFBdUI7ZUFBdkJBOztJQUlBQyx1QkFBdUI7ZUFBdkJBOztJQVJBQyxpQkFBaUI7ZUFBakJBOztJQWdER0MsY0FBYztlQUFkQTs7SUE1QkFDLHVCQUF1QjtlQUF2QkE7O0lBdUVBQywwQkFBMEI7ZUFBMUJBOzs7aUVBekdLOzs7Ozs7QUFjZCxNQUFNSCxvQkFBb0I7SUFDL0IsT0FBTztBQUNUO0FBRU8sTUFBTUYsMEJBQTBCO0lBQ3JDLE9BQU87QUFDVDtBQUVPLE1BQU1DLDBCQUEwQjtJQUNyQyxPQUFPO0FBQ1Q7QUFFTyxNQUFNRix3QkFBd0I7SUFDbkMsT0FBTztBQUNUO0FBTU8sU0FBU0ssd0JBQXdCRSxLQUFhO0lBQ25ELElBQUlDO0lBQ0osSUFBSUMsWUFBWTtJQUNoQixJQUFJO1FBQ0YsTUFBTUMsbUJBQW1CSCxNQUFNSSxPQUFPLENBQUMsUUFBUTtRQUMvQyxNQUFNQyxZQUFZQyxJQUFBQSxpQkFBUSxFQUFDSDtRQUUzQiw2R0FBNkc7UUFDN0csb0RBQW9EO1FBQ3BELElBQUlILFVBQVVHLG9CQUFvQkUsY0FBY0Ysa0JBQWtCO1lBQ2hFRCxZQUFZO1FBQ2Q7UUFDQUQsUUFBUU0sS0FBS0MsS0FBSyxDQUFDSDtJQUNyQixFQUFFLE9BQU9JLEtBQUs7UUFDWjtJQUNGO0lBQ0EsSUFBSSxDQUFDUixPQUFPUyxRQUFRLENBQUNULE1BQU1VLElBQUksRUFBRTtRQUMvQixRQUFRLHlEQUF5RDtJQUNuRTtJQUNBVixNQUFNQyxTQUFTLEdBQUdBO0lBQ2xCLE9BQU9EO0FBQ1Q7QUFPTyxTQUFTSixlQUFlZSxNQUFjO0lBQzNDLElBQUlBLE9BQU9aLEtBQUssQ0FBQ0osc0JBQXNCO1FBQ3JDLElBQUlLO1FBQ0osSUFBSTtZQUNGQSxRQUFRTSxLQUFLQyxLQUFLLENBQUNGLElBQUFBLGlCQUFRLEVBQUNkLGFBQWFvQixRQUFRUixPQUFPLENBQUMsUUFBUTtRQUNuRSxFQUFFLE9BQU9LLEtBQVU7WUFDakIsT0FBTztRQUNUO1FBRUEsSUFBSSxDQUFDUixTQUFTLENBQUNBLE1BQU1TLElBQUksSUFBSSxDQUFDVCxNQUFNVSxJQUFJLEVBQUU7WUFDeEMseURBQXlEO1lBQ3pELE9BQU87UUFDVCxPQUFPO1lBQ0wsT0FBT1Y7UUFDVDtJQUNGLE9BQU87UUFDTCxPQUFPO0lBQ1Q7QUFDRjtBQUVPLFNBQVNULGFBQ2RvQixNQUFjLEVBQ2QsRUFDRUMsU0FBUyxFQUdWLEdBQUcsQ0FBQyxDQUFDO0lBRU4sT0FBT0EsWUFDSEQsT0FBT1IsT0FBTyxDQUFDViwyQkFBMkIsQ0FBQ00sT0FBT2M7UUFDaEQsT0FBT2YsMkJBQTJCZTtJQUNwQyxLQUNBRixPQUFPUixPQUFPLENBQUNSLHFCQUFxQjtBQUMxQztBQVVPLFNBQVNHLDJCQUEyQmdCLFNBQWlCO0lBQzFELE9BQU9BLFVBQ0pDLEtBQUssQ0FBQyxLQUNOQyxHQUFHLENBQUMsQ0FBQ0MsT0FBU0EsS0FBS0YsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQ2hDRyxJQUFJLENBQUM7QUFDViJ9

}),
30805: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "simpleReplaceTokens", ({
    enumerable: true,
    get: function() {
        return simpleReplaceTokens;
    }
}));
const _isFunction = /*#__PURE__*/ _interop_require_default(__webpack_require__(56644));
const _get = /*#__PURE__*/ _interop_require_default(__webpack_require__(24738));
const _shared = __webpack_require__(71847);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function simpleReplaceTokens(replaceable, item) {
    return replaceable.replace((0, _shared.getWfTokenPattern)(), function(match) {
        const token = (0, _shared.parseTokenJson)(match) || {};
        // @ts-expect-error - TS2339 - Property 'path' does not exist on type '{}'.
        const path = token.path.split('.');
        return (0, _isFunction.default)(item.getIn) ? item.getIn(path, '') : (0, _get.default)(item, path, '');
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJ2xvZGFzaC9pc0Z1bmN0aW9uJztcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQge1xuICBnZXRXZlRva2VuUGF0dGVybixcbiAgcGFyc2VUb2tlbkpzb24sXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvcmUvdXRpbHMvRW1iZWRVdGlscy9zaGFyZWQnO1xuXG4vLyBzaW1wbGVSZXBsYWNlVG9rZW5zIGlzIGluIGl0J3Mgb3duIGZpbGUgdG8gZml4IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuXG4vKipcbiAqIFJlcGxhY2VzIHRva2VucyBpbiB0ZXh0IHdpdGggcmVsYXRpbmcgZmllbGQgdmFsdWVzLiBUaGlzIGlzIGEgc2ltcGxlIHZlcnNpb25cbiAqIG9mIHJlcGxhY2VUb2tlbnMuIEl0IGlzIGEgY2xlYW4gZmluZC9yZXBsYWNlIGFuZCBkb2Vzbid0IGluY2x1ZGUgYW55IG90aGVyXG4gKiBsb2dpYy5cbiAqIEBwYXJhbSAge1N0cmluZ30gcmVwbGFjZWFibGUgICBUaGUgc3RyaW5nIHdpdGggV0YgdG9rZW5zXG4gKiBAcGFyYW0gIHtPYmplY3R9IGl0ZW0gICAgICAgICAgVGhlIGl0ZW0gdG8gYmUgdXNlZCB0byByZXBsYWNlIHRoZSB0b2tlbnMgd2l0aFxuICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgICAgICAgIFRoZSBzdHJpbmcgd2l0aCB0aGUgV0YgdG9rZW5zIHJlcGxhY2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGVSZXBsYWNlVG9rZW5zKFxuICByZXBsYWNlYWJsZTogc3RyaW5nLFxuICBpdGVtOiBSZWNvcmQ8YW55LCBhbnk+XG4pOiBzdHJpbmcge1xuICByZXR1cm4gcmVwbGFjZWFibGUucmVwbGFjZShnZXRXZlRva2VuUGF0dGVybigpLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBjb25zdCB0b2tlbiA9IHBhcnNlVG9rZW5Kc29uKG1hdGNoKSB8fCB7fTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ3BhdGgnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ3t9Jy5cbiAgICBjb25zdCBwYXRoID0gdG9rZW4ucGF0aC5zcGxpdCgnLicpO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGl0ZW0uZ2V0SW4pID8gaXRlbS5nZXRJbihwYXRoLCAnJykgOiBnZXQoaXRlbSwgcGF0aCwgJycpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJzaW1wbGVSZXBsYWNlVG9rZW5zIiwicmVwbGFjZWFibGUiLCJpdGVtIiwicmVwbGFjZSIsImdldFdmVG9rZW5QYXR0ZXJuIiwibWF0Y2giLCJ0b2tlbiIsInBhcnNlVG9rZW5Kc29uIiwicGF0aCIsInNwbGl0IiwiaXNGdW5jdGlvbiIsImdldEluIiwiZ2V0Il0sIm1hcHBpbmdzIjoiOzs7OytCQWlCZ0JBOzs7ZUFBQUE7OzttRUFqQk87NERBQ1A7d0JBSVQ7Ozs7OztBQVlBLFNBQVNBLG9CQUNkQyxXQUFtQixFQUNuQkMsSUFBc0I7SUFFdEIsT0FBT0QsWUFBWUUsT0FBTyxDQUFDQyxJQUFBQSx5QkFBaUIsS0FBSSxTQUFVQyxLQUFLO1FBQzdELE1BQU1DLFFBQVFDLElBQUFBLHNCQUFjLEVBQUNGLFVBQVUsQ0FBQztRQUN4QywyRUFBMkU7UUFDM0UsTUFBTUcsT0FBT0YsTUFBTUUsSUFBSSxDQUFDQyxLQUFLLENBQUM7UUFDOUIsT0FBT0MsSUFBQUEsbUJBQVUsRUFBQ1IsS0FBS1MsS0FBSyxJQUFJVCxLQUFLUyxLQUFLLENBQUNILE1BQU0sTUFBTUksSUFBQUEsWUFBRyxFQUFDVixNQUFNTSxNQUFNO0lBQ3pFO0FBQ0YifQ==

}),
29197: (function (__unused_webpack_module, exports) {
"use strict";
// Internal useful constants.

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    CLASS_NAME_W_DYN_BIND_EMPTY: function() {
        return CLASS_NAME_W_DYN_BIND_EMPTY;
    },
    COLLECTION_LIST_QUERY_MODES: function() {
        return COLLECTION_LIST_QUERY_MODES;
    },
    COLLECTION_TYPES: function() {
        return COLLECTION_TYPES;
    },
    CONDITION_INVISIBLE_CLASS: function() {
        return CONDITION_INVISIBLE_CLASS;
    },
    DATETIME_FORMAT_OPTIONS: function() {
        return DATETIME_FORMAT_OPTIONS;
    },
    DATE_FORMAT_OPTIONS: function() {
        return DATE_FORMAT_OPTIONS;
    },
    DEFAULT_NESTED_COLLECTION_LIST_LIMIT: function() {
        return DEFAULT_NESTED_COLLECTION_LIST_LIMIT;
    },
    FUTURE: function() {
        return FUTURE;
    },
    MIN_COLLECTION_LIST_OFFSET: function() {
        return MIN_COLLECTION_LIST_OFFSET;
    },
    NON_EXISTING_ITEM_ID: function() {
        return NON_EXISTING_ITEM_ID;
    },
    PAST: function() {
        return PAST;
    },
    QUERY_FILTER_FOR_STATES: function() {
        return QUERY_FILTER_FOR_STATES;
    },
    SCHEDULED_PUBLISH_GRACE_PERIOD_IN_MS: function() {
        return SCHEDULED_PUBLISH_GRACE_PERIOD_IN_MS;
    },
    SCHEDULED_PUBLISH_GRANULARITY_IN_MIN: function() {
        return SCHEDULED_PUBLISH_GRANULARITY_IN_MIN;
    },
    SCHEDULED_PUBLISH_LIMIT_IN_MS: function() {
        return SCHEDULED_PUBLISH_LIMIT_IN_MS;
    },
    SET_FIELD_MAX_ITEMS: function() {
        return SET_FIELD_MAX_ITEMS;
    },
    SHARED_ALLOWED_FIELD_TYPES: function() {
        return SHARED_ALLOWED_FIELD_TYPES;
    },
    TENSES_ENUM: function() {
        return TENSES_ENUM;
    },
    TENSES_TO_HUMAN_PHRASES_MAP: function() {
        return TENSES_TO_HUMAN_PHRASES_MAP;
    },
    TIME_INTERVALS_ENUM: function() {
        return TIME_INTERVALS_ENUM;
    }
});
const SECOND = 1000;
const MINUTE = 60 * SECOND;
const HOUR = 60 * MINUTE;
const DAY = 24 * HOUR;
const YEAR = 365 * DAY;
const TIME_INTERVALS_ENUM = {
    days: 'days',
    weeks: 'weeks',
    months: 'months',
    years: 'years'
};
const FUTURE = 'FUTURE';
const PAST = 'PAST';
const TENSES_ENUM = {
    FUTURE,
    PAST
};
const TENSES_TO_HUMAN_PHRASES_MAP = {
    FUTURE: 'in the future',
    PAST: 'in the past'
};
const CLASS_NAME_W_DYN_BIND_EMPTY = 'w-dyn-bind-empty';
const CONDITION_INVISIBLE_CLASS = 'w-condition-invisible';
const NON_EXISTING_ITEM_ID = '000000000000000000000000';
const QUERY_FILTER_FOR_STATES = {
    ALL: 'ALL',
    ANY: 'ANY'
};
const SET_FIELD_MAX_ITEMS = 25;
const DEFAULT_NESTED_COLLECTION_LIST_LIMIT = 5;
const COLLECTION_LIST_QUERY_MODES = {
    CURATED: 'curated',
    DYNAMIC: 'dynamic'
};
const SCHEDULED_PUBLISH_GRANULARITY_IN_MIN = 5;
const SCHEDULED_PUBLISH_LIMIT_IN_MS = 5 * YEAR;
const SCHEDULED_PUBLISH_GRACE_PERIOD_IN_MS = 30 * MINUTE;
const COLLECTION_TYPES = {
    CATEGORIES: 'CATEGORIES',
    CMS_COLLECTIONS: 'CMS_COLLECTIONS',
    PRODUCTS: 'PRODUCTS',
    SKUS: 'SKUS'
};
const MIN_COLLECTION_LIST_OFFSET = 0;
const SHARED_ALLOWED_FIELD_TYPES = {
    innerHTML: {
        PlainText: 'innerText',
        HighlightedText: 'innerText',
        RichText: 'innerHTML',
        Number: 'innerText',
        Video: 'innerHTML',
        Option: 'innerText',
        Date: 'innerText',
        Phone: 'innerText',
        Email: 'innerText',
        CommercePrice: 'innerHTML',
        Link: 'innerText',
        ImageRef: false,
        FileRef: false,
        ItemRef: false,
        CommercePropValues: 'innerText'
    },
    'style.color': {
        Color: true
    },
    'style.background-color': {
        Color: true
    },
    'style.border-color': {
        Color: true
    },
    'style.background-image': {
        ImageRef: true
    },
    src: [
        'ImageRef'
    ],
    alt: [
        'PlainText',
        'Option',
        'Number',
        'Date',
        'Phone',
        'Email',
        'Video',
        'Link'
    ],
    href: [
        'Phone',
        'Email',
        'Video',
        'Link',
        'FileRef'
    ],
    id: [
        'PlainText'
    ],
    for: [
        'PlainText'
    ],
    value: [
        'Number',
        'PlainText'
    ],
    checked: [
        'Bool'
    ],
    dataWHref: [
        'PlainText',
        'FullSlug'
    ]
};
const DATETIME_FORMAT_OPTIONS = [
    'MMMM D, YYYY',
    'MMMM D, YYYY h:mm A',
    'MMMM D, YYYY H:mm',
    'MMM D, YYYY',
    'MMM D, YYYY h:mm A',
    'MMM D, YYYY H:mm',
    'dddd, MMMM D, YYYY',
    'DD MMMM YYYY',
    'DD MMM YYYY',
    'DD MMM YY',
    'D MMMM YYYY',
    'MMM Do, YYYY',
    'MMMM Do, YYYY',
    'DD.MM.YYYY',
    'M/D/YYYY',
    'M.D.YYYY',
    'D/M/YYYY',
    'D.M.YYYY',
    'M/D/YYYY h:mm A',
    'M/D/YYYY H:mm',
    'M.D.YYYY h:mm A',
    'M.D.YYYY H:mm',
    'D/M/YYYY h:mm A',
    'D/M/YYYY H:mm',
    'D.M.YYYY h:mm A',
    'D.M.YYYY H:mm',
    'M/D/YY',
    'M.D.YY',
    'D/M/YY',
    'D.M.YY',
    'M/D/YY h:mm a',
    'M/D/YY H:mm',
    'M.D.YY h:mm a',
    'M.D.YY H:mm',
    'D/M/YY h:mm a',
    'D/M/YY H:mm',
    'D.M.YY h:mm a',
    'D.M.YY H:mm',
    'YYYY-MM-DD',
    'YYYY-MM-DD h:mm a',
    'YYYY-MM-DD H:mm',
    'MMM D',
    'D MMM',
    'MMMM YYYY',
    'MMM YYYY',
    'MM/YYYY',
    'h:mm a',
    'H:mm',
    'D',
    'DD',
    'ddd',
    'dddd',
    'M',
    'MM',
    'MMM',
    'MMMM',
    'YY',
    'YYYY'
];
const DATE_FORMAT_OPTIONS = DATETIME_FORMAT_OPTIONS.filter((format)=>!/[hHmaA]/.test(format));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEludGVybmFsIHVzZWZ1bCBjb25zdGFudHMuXG5jb25zdCBTRUNPTkQgPSAxMDAwO1xuY29uc3QgTUlOVVRFID0gNjAgKiBTRUNPTkQ7XG5jb25zdCBIT1VSID0gNjAgKiBNSU5VVEU7XG5jb25zdCBEQVkgPSAyNCAqIEhPVVI7XG5jb25zdCBZRUFSID0gMzY1ICogREFZO1xuXG4vLyBJbnRlcnZhbHMgb2YgdGltZSByZWxhdGVkIHRvIERhdGVzIGluIENvbGxlY3Rpb24gTGlzdCBGaWx0ZXJzXG5leHBvcnQgY29uc3QgVElNRV9JTlRFUlZBTFNfRU5VTSA9IHtcbiAgZGF5czogJ2RheXMnLFxuICB3ZWVrczogJ3dlZWtzJyxcbiAgbW9udGhzOiAnbW9udGhzJyxcbiAgeWVhcnM6ICd5ZWFycycsXG59IGFzIGNvbnN0O1xuXG4vLyBUZW5zZXMgb2YgdGltZSByZWxhdGVkIHRvIERhdGVzIGZvciBDb2xsZWN0aW9uIExpc3QgRmlsdGVyc1xuZXhwb3J0IGNvbnN0IEZVVFVSRSA9ICdGVVRVUkUnIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IFBBU1QgPSAnUEFTVCcgYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBURU5TRVNfRU5VTSA9IHtcbiAgRlVUVVJFLFxuICBQQVNULFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFRFTlNFU19UT19IVU1BTl9QSFJBU0VTX01BUCA9IHtcbiAgRlVUVVJFOiAnaW4gdGhlIGZ1dHVyZScsXG4gIFBBU1Q6ICdpbiB0aGUgcGFzdCcsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQ0xBU1NfTkFNRV9XX0RZTl9CSU5EX0VNUFRZID0gJ3ctZHluLWJpbmQtZW1wdHknO1xuXG5leHBvcnQgY29uc3QgQ09ORElUSU9OX0lOVklTSUJMRV9DTEFTUyA9ICd3LWNvbmRpdGlvbi1pbnZpc2libGUnIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgTk9OX0VYSVNUSU5HX0lURU1fSUQgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFFVRVJZX0ZJTFRFUl9GT1JfU1RBVEVTID0ge1xuICBBTEw6ICdBTEwnIGFzIGNvbnN0LFxuICBBTlk6ICdBTlknIGFzIGNvbnN0LFxufSBhcyBjb25zdDtcblxuLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIGEgc2V0IGZpZWxkIGNhbiBjb250YWluLlxuZXhwb3J0IGNvbnN0IFNFVF9GSUVMRF9NQVhfSVRFTVMgPSAyNTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBudW1iZXIgb2YgaXRlbXMgdG8gc2hvdyBpbiBhIG5lc3RlZCBjb2xsZWN0aW9uIGxpc3QgaWYgaXQgZG9lc1xuICogbm90IGhhdmUgYSBsaW1pdCBzZXQuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX05FU1RFRF9DT0xMRUNUSU9OX0xJU1RfTElNSVQgPSA1O1xuXG5leHBvcnQgY29uc3QgQ09MTEVDVElPTl9MSVNUX1FVRVJZX01PREVTID0ge1xuICBDVVJBVEVEOiAnY3VyYXRlZCcgYXMgY29uc3QsXG4gIERZTkFNSUM6ICdkeW5hbWljJyBhcyBjb25zdCxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIENvbGxlY3Rpb25MaXN0UXVlcnlNb2RlID1cbiAgKHR5cGVvZiBDT0xMRUNUSU9OX0xJU1RfUVVFUllfTU9ERVMpW2tleW9mIHR5cGVvZiBDT0xMRUNUSU9OX0xJU1RfUVVFUllfTU9ERVNdO1xuXG4vKipcbiAqIEdyYW51bGFyaXR5IGluIG1pbnV0ZXMgdXNlZCB0byBzY2hlZHVsZSBwdWJsaXNoZXMuIEZvciBleGFtcGxlOiA4OjAwLCA4OjA1LFxuICogZXRjLlxuICovXG5leHBvcnQgY29uc3QgU0NIRURVTEVEX1BVQkxJU0hfR1JBTlVMQVJJVFlfSU5fTUlOID0gNTtcblxuLyoqXG4gKiBIb3cgZmFyIGluIHRoZSBmdXR1cmUgYW4gaXRlbSBjYW4gYmUgc2NoZWR1bGVkIGZvciBTSVAuXG4gKi9cbmV4cG9ydCBjb25zdCBTQ0hFRFVMRURfUFVCTElTSF9MSU1JVF9JTl9NUyA9IDUgKiBZRUFSO1xuXG4vKipcbiAqIEdyYWNlIHBlcmlvZCB0byBleGVjdXRlIGEgc2NoZWR1bGVkIHB1Ymxpc2guIExldCdzIHNheSBzb21ldGhpbmcgaXMgc2NoZWR1bGVkXG4gKiB0byBwdWJsaXNoIGF0IDg6MTAgYW5kIGl0J3MgODoyMC4gSXMgaXQgc3RpbGwgb2sgdG8gcHVibGlzaD9cbiAqL1xuZXhwb3J0IGNvbnN0IFNDSEVEVUxFRF9QVUJMSVNIX0dSQUNFX1BFUklPRF9JTl9NUyA9IDMwICogTUlOVVRFO1xuXG4vKiBBbiBlbnVtIG9mIHRoZSB0eXBlcyBvZiBjb2xsZWN0aW9ucyBpbiBvdXIgYXBwLiBUaGlzIGFsbG93cyB1cyB0byBoYW5kbGVcbiAqIGNhc2VzIGJhc2VkIG9uIGNvbGxlY3Rpb24gdHlwZSBieSB1c2luZyB0aGUgZnVuY3Rpb24gZ2V0Q29sbGVjdGlvblR5cGVcbiAqL1xuZXhwb3J0IGNvbnN0IENPTExFQ1RJT05fVFlQRVMgPSB7XG4gIENBVEVHT1JJRVM6ICdDQVRFR09SSUVTJyBhcyBjb25zdCxcbiAgQ01TX0NPTExFQ1RJT05TOiAnQ01TX0NPTExFQ1RJT05TJyBhcyBjb25zdCxcbiAgUFJPRFVDVFM6ICdQUk9EVUNUUycgYXMgY29uc3QsXG4gIFNLVVM6ICdTS1VTJyBhcyBjb25zdCxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBNSU5fQ09MTEVDVElPTl9MSVNUX09GRlNFVCA9IDA7XG5cbmV4cG9ydCBjb25zdCBTSEFSRURfQUxMT1dFRF9GSUVMRF9UWVBFUyA9IHtcbiAgaW5uZXJIVE1MOiB7XG4gICAgUGxhaW5UZXh0OiAnaW5uZXJUZXh0JyxcbiAgICBIaWdobGlnaHRlZFRleHQ6ICdpbm5lclRleHQnLFxuICAgIFJpY2hUZXh0OiAnaW5uZXJIVE1MJyxcbiAgICBOdW1iZXI6ICdpbm5lclRleHQnLFxuICAgIFZpZGVvOiAnaW5uZXJIVE1MJyxcbiAgICBPcHRpb246ICdpbm5lclRleHQnLFxuICAgIERhdGU6ICdpbm5lclRleHQnLFxuICAgIFBob25lOiAnaW5uZXJUZXh0JyxcbiAgICBFbWFpbDogJ2lubmVyVGV4dCcsXG4gICAgQ29tbWVyY2VQcmljZTogJ2lubmVySFRNTCcsXG4gICAgTGluazogJ2lubmVyVGV4dCcsXG4gICAgSW1hZ2VSZWY6IGZhbHNlLFxuICAgIEZpbGVSZWY6IGZhbHNlLFxuICAgIEl0ZW1SZWY6IGZhbHNlLFxuICAgIENvbW1lcmNlUHJvcFZhbHVlczogJ2lubmVyVGV4dCcsXG4gIH0sXG4gICdzdHlsZS5jb2xvcic6IHtcbiAgICBDb2xvcjogdHJ1ZSxcbiAgfSxcbiAgJ3N0eWxlLmJhY2tncm91bmQtY29sb3InOiB7XG4gICAgQ29sb3I6IHRydWUsXG4gIH0sXG4gICdzdHlsZS5ib3JkZXItY29sb3InOiB7XG4gICAgQ29sb3I6IHRydWUsXG4gIH0sXG4gICdzdHlsZS5iYWNrZ3JvdW5kLWltYWdlJzoge1xuICAgIEltYWdlUmVmOiB0cnVlLFxuICB9LFxuICBzcmM6IFsnSW1hZ2VSZWYnXSxcbiAgYWx0OiBbXG4gICAgJ1BsYWluVGV4dCcsXG4gICAgJ09wdGlvbicsXG4gICAgJ051bWJlcicsXG4gICAgJ0RhdGUnLFxuICAgICdQaG9uZScsXG4gICAgJ0VtYWlsJyxcbiAgICAnVmlkZW8nLFxuICAgICdMaW5rJyxcbiAgXSxcbiAgaHJlZjogWydQaG9uZScsICdFbWFpbCcsICdWaWRlbycsICdMaW5rJywgJ0ZpbGVSZWYnXSxcbiAgaWQ6IFsnUGxhaW5UZXh0J10sXG4gIGZvcjogWydQbGFpblRleHQnXSxcbiAgdmFsdWU6IFsnTnVtYmVyJywgJ1BsYWluVGV4dCddLFxuICBjaGVja2VkOiBbJ0Jvb2wnXSxcbiAgZGF0YVdIcmVmOiBbJ1BsYWluVGV4dCcsICdGdWxsU2x1ZyddLFxufTtcblxuZXhwb3J0IGNvbnN0IERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TOiBzdHJpbmdbXSA9IFtcbiAgJ01NTU0gRCwgWVlZWScsIC8vIEp1bmUgMjksIDIwMjRcbiAgJ01NTU0gRCwgWVlZWSBoOm1tIEEnLCAvLyBKdW5lIDI5LCAyMDI0IDEyOjAwIEFNXG4gICdNTU1NIEQsIFlZWVkgSDptbScsIC8vIEp1bmUgMjksIDIwMjQgMDA6MDBcbiAgJ01NTSBELCBZWVlZJywgLy8gSnVuIDI5LCAyMDI0XG4gICdNTU0gRCwgWVlZWSBoOm1tIEEnLCAvLyBKdW4gMjksIDIwMjQgMTI6MDAgQU1cbiAgJ01NTSBELCBZWVlZIEg6bW0nLCAvLyBKdW4gMjksIDIwMjQgMDA6MDBcbiAgJ2RkZGQsIE1NTU0gRCwgWVlZWScsIC8vIE1vbmRheSwgSnVuZSAyOSwgMjAyNFxuICAnREQgTU1NTSBZWVlZJywgLy8gMDYgMjkgMjAyNFxuICAnREQgTU1NIFlZWVknLCAvLyAwNiBKdW4gMjAyNFxuICAnREQgTU1NIFlZJywgLy8gMDYgSnVuIDI0XG4gICdEIE1NTU0gWVlZWScsIC8vIDI5IEp1bmUgMjAyNFxuICAnTU1NIERvLCBZWVlZJywgLy8gSnVuIDI5dGgsIDIwMjRcbiAgJ01NTU0gRG8sIFlZWVknLCAvLyBKdW5lIDI5dGgsIDIwMjRcbiAgJ0RELk1NLllZWVknLCAvLyAwNi4yOS4yMDI0XG4gICdNL0QvWVlZWScsIC8vIDYvMjkvMjAyNFxuICAnTS5ELllZWVknLCAvLyA2LjI5LjIwMjRcbiAgJ0QvTS9ZWVlZJywgLy8gMjkvNi8yMDI0XG4gICdELk0uWVlZWScsIC8vIDI5LjYuMjAyNFxuICAnTS9EL1lZWVkgaDptbSBBJywgLy8gNi8yOS8yMDI0IDEyOjAwIEFNXG4gICdNL0QvWVlZWSBIOm1tJywgLy8gNi8yOS8yMDI0IDAwOjAwXG4gICdNLkQuWVlZWSBoOm1tIEEnLCAvLyA2LjI5LjIwMjQgMTI6MDAgQU1cbiAgJ00uRC5ZWVlZIEg6bW0nLCAvLyA2LjI5LjIwMjQgMDA6MDBcbiAgJ0QvTS9ZWVlZIGg6bW0gQScsIC8vIDI5LzYvMjAyNCAxMjowMCBBTVxuICAnRC9NL1lZWVkgSDptbScsIC8vIDI5LzYvMjAyNCAwMDowMFxuICAnRC5NLllZWVkgaDptbSBBJywgLy8gMjkuNi4yMDI0IDEyOjAwIEFNXG4gICdELk0uWVlZWSBIOm1tJywgLy8gMjkuNi4yMDI0IDAwOjAwXG4gICdNL0QvWVknLCAvLyA2LzI5LzI0XG4gICdNLkQuWVknLCAvLyA2LjI5LjI0XG4gICdEL00vWVknLCAvLyAyOS82LzI0XG4gICdELk0uWVknLCAvLyAyOS42LjI0XG4gICdNL0QvWVkgaDptbSBhJywgLy8gNi8yOS8yNCAxMjowMCBBTVxuICAnTS9EL1lZIEg6bW0nLCAvLyA2LzI5LzI0IDAwOjAwXG4gICdNLkQuWVkgaDptbSBhJywgLy8gNi4yOS4yNCAxMjowMCBBTVxuICAnTS5ELllZIEg6bW0nLCAvLyA2LjI5LjI0IDAwOjAwXG4gICdEL00vWVkgaDptbSBhJywgLy8gMjkvNi8yNCAxMjowMCBBTVxuICAnRC9NL1lZIEg6bW0nLCAvLyAyOS82LzI0IDAwOjAwXG4gICdELk0uWVkgaDptbSBhJywgLy8gMjkuNi4yNCAxMjowMCBBTVxuICAnRC5NLllZIEg6bW0nLCAvLyAyOS42LjI0IDAwOjAwXG4gICdZWVlZLU1NLUREJywgLy8gMjAyNC0wNi0yOVxuICAnWVlZWS1NTS1ERCBoOm1tIGEnLCAvLyAyMDI0LTA2LTI5IDEyOjAwIEFNXG4gICdZWVlZLU1NLUREIEg6bW0nLCAvLyAyMDI0LTA2LTI5IDAwOjAwXG4gICdNTU0gRCcsIC8vIEp1biAyOVxuICAnRCBNTU0nLCAvLyAyOSBKdW5cbiAgJ01NTU0gWVlZWScsIC8vIEp1bmUgMjAyNFxuICAnTU1NIFlZWVknLCAvLyBKdW4gMjAyNFxuICAnTU0vWVlZWScsIC8vIDA2LzIwMjRcbiAgJ2g6bW0gYScsIC8vIDEyOjAwIEFNXG4gICdIOm1tJywgLy8gMDA6MDBcbiAgJ0QnLCAvLyAyOVxuICAnREQnLCAvLyAwNjI5XG4gICdkZGQnLCAvLyBNb25cbiAgJ2RkZGQnLCAvLyBNb25kYXlcbiAgJ00nLCAvLyA2XG4gICdNTScsIC8vIDA2XG4gICdNTU0nLCAvLyBKdW5cbiAgJ01NTU0nLCAvLyBKdW5lXG4gICdZWScsIC8vIDI0XG4gICdZWVlZJywgLy8gMjAyNFxuXTtcblxuZXhwb3J0IGNvbnN0IERBVEVfRk9STUFUX09QVElPTlM6IHN0cmluZ1tdID0gREFURVRJTUVfRk9STUFUX09QVElPTlMuZmlsdGVyKFxuICAoZm9ybWF0KSA9PiAhL1toSG1hQV0vLnRlc3QoZm9ybWF0KVxuKTtcbiJdLCJuYW1lcyI6WyJDTEFTU19OQU1FX1dfRFlOX0JJTkRfRU1QVFkiLCJDT0xMRUNUSU9OX0xJU1RfUVVFUllfTU9ERVMiLCJDT0xMRUNUSU9OX1RZUEVTIiwiQ09ORElUSU9OX0lOVklTSUJMRV9DTEFTUyIsIkRBVEVUSU1FX0ZPUk1BVF9PUFRJT05TIiwiREFURV9GT1JNQVRfT1BUSU9OUyIsIkRFRkFVTFRfTkVTVEVEX0NPTExFQ1RJT05fTElTVF9MSU1JVCIsIkZVVFVSRSIsIk1JTl9DT0xMRUNUSU9OX0xJU1RfT0ZGU0VUIiwiTk9OX0VYSVNUSU5HX0lURU1fSUQiLCJQQVNUIiwiUVVFUllfRklMVEVSX0ZPUl9TVEFURVMiLCJTQ0hFRFVMRURfUFVCTElTSF9HUkFDRV9QRVJJT0RfSU5fTVMiLCJTQ0hFRFVMRURfUFVCTElTSF9HUkFOVUxBUklUWV9JTl9NSU4iLCJTQ0hFRFVMRURfUFVCTElTSF9MSU1JVF9JTl9NUyIsIlNFVF9GSUVMRF9NQVhfSVRFTVMiLCJTSEFSRURfQUxMT1dFRF9GSUVMRF9UWVBFUyIsIlRFTlNFU19FTlVNIiwiVEVOU0VTX1RPX0hVTUFOX1BIUkFTRVNfTUFQIiwiVElNRV9JTlRFUlZBTFNfRU5VTSIsIlNFQ09ORCIsIk1JTlVURSIsIkhPVVIiLCJEQVkiLCJZRUFSIiwiZGF5cyIsIndlZWtzIiwibW9udGhzIiwieWVhcnMiLCJBTEwiLCJBTlkiLCJDVVJBVEVEIiwiRFlOQU1JQyIsIkNBVEVHT1JJRVMiLCJDTVNfQ09MTEVDVElPTlMiLCJQUk9EVUNUUyIsIlNLVVMiLCJpbm5lckhUTUwiLCJQbGFpblRleHQiLCJIaWdobGlnaHRlZFRleHQiLCJSaWNoVGV4dCIsIk51bWJlciIsIlZpZGVvIiwiT3B0aW9uIiwiRGF0ZSIsIlBob25lIiwiRW1haWwiLCJDb21tZXJjZVByaWNlIiwiTGluayIsIkltYWdlUmVmIiwiRmlsZVJlZiIsIkl0ZW1SZWYiLCJDb21tZXJjZVByb3BWYWx1ZXMiLCJDb2xvciIsInNyYyIsImFsdCIsImhyZWYiLCJpZCIsImZvciIsInZhbHVlIiwiY2hlY2tlZCIsImRhdGFXSHJlZiIsImZpbHRlciIsImZvcm1hdCIsInRlc3QiXSwibWFwcGluZ3MiOiJBQUFBLDZCQUE2Qjs7Ozs7Ozs7Ozs7O0lBNkJoQkEsMkJBQTJCO2VBQTNCQTs7SUFvQkFDLDJCQUEyQjtlQUEzQkE7O0lBNEJBQyxnQkFBZ0I7ZUFBaEJBOztJQTlDQUMseUJBQXlCO2VBQXpCQTs7SUF3R0FDLHVCQUF1QjtlQUF2QkE7O0lBNkRBQyxtQkFBbUI7ZUFBbkJBOztJQXJKQUMsb0NBQW9DO2VBQXBDQTs7SUEvQkFDLE1BQU07ZUFBTkE7O0lBb0VBQywwQkFBMEI7ZUFBMUJBOztJQW5EQUMsb0JBQW9CO2VBQXBCQTs7SUFoQkFDLElBQUk7ZUFBSkE7O0lBa0JBQyx1QkFBdUI7ZUFBdkJBOztJQXFDQUMsb0NBQW9DO2VBQXBDQTs7SUFYQUMsb0NBQW9DO2VBQXBDQTs7SUFLQUMsNkJBQTZCO2VBQTdCQTs7SUF6QkFDLG1CQUFtQjtlQUFuQkE7O0lBNkNBQywwQkFBMEI7ZUFBMUJBOztJQW5FQUMsV0FBVztlQUFYQTs7SUFLQUMsMkJBQTJCO2VBQTNCQTs7SUFoQkFDLG1CQUFtQjtlQUFuQkE7OztBQVBiLE1BQU1DLFNBQVM7QUFDZixNQUFNQyxTQUFTLEtBQUtEO0FBQ3BCLE1BQU1FLE9BQU8sS0FBS0Q7QUFDbEIsTUFBTUUsTUFBTSxLQUFLRDtBQUNqQixNQUFNRSxPQUFPLE1BQU1EO0FBR1osTUFBTUosc0JBQXNCO0lBQ2pDTSxNQUFNO0lBQ05DLE9BQU87SUFDUEMsUUFBUTtJQUNSQyxPQUFPO0FBQ1Q7QUFHTyxNQUFNckIsU0FBUztBQUNmLE1BQU1HLE9BQU87QUFFYixNQUFNTyxjQUFjO0lBQ3pCVjtJQUNBRztBQUNGO0FBRU8sTUFBTVEsOEJBQThCO0lBQ3pDWCxRQUFRO0lBQ1JHLE1BQU07QUFDUjtBQUVPLE1BQU1WLDhCQUE4QjtBQUVwQyxNQUFNRyw0QkFBNEI7QUFFbEMsTUFBTU0sdUJBQXVCO0FBRTdCLE1BQU1FLDBCQUEwQjtJQUNyQ2tCLEtBQUs7SUFDTEMsS0FBSztBQUNQO0FBR08sTUFBTWYsc0JBQXNCO0FBTTVCLE1BQU1ULHVDQUF1QztBQUU3QyxNQUFNTCw4QkFBOEI7SUFDekM4QixTQUFTO0lBQ1RDLFNBQVM7QUFDWDtBQVNPLE1BQU1uQix1Q0FBdUM7QUFLN0MsTUFBTUMsZ0NBQWdDLElBQUlVO0FBTTFDLE1BQU1aLHVDQUF1QyxLQUFLUztBQUtsRCxNQUFNbkIsbUJBQW1CO0lBQzlCK0IsWUFBWTtJQUNaQyxpQkFBaUI7SUFDakJDLFVBQVU7SUFDVkMsTUFBTTtBQUNSO0FBRU8sTUFBTTVCLDZCQUE2QjtBQUVuQyxNQUFNUSw2QkFBNkI7SUFDeENxQixXQUFXO1FBQ1RDLFdBQVc7UUFDWEMsaUJBQWlCO1FBQ2pCQyxVQUFVO1FBQ1ZDLFFBQVE7UUFDUkMsT0FBTztRQUNQQyxRQUFRO1FBQ1JDLE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLGVBQWU7UUFDZkMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLFNBQVM7UUFDVEMsU0FBUztRQUNUQyxvQkFBb0I7SUFDdEI7SUFDQSxlQUFlO1FBQ2JDLE9BQU87SUFDVDtJQUNBLDBCQUEwQjtRQUN4QkEsT0FBTztJQUNUO0lBQ0Esc0JBQXNCO1FBQ3BCQSxPQUFPO0lBQ1Q7SUFDQSwwQkFBMEI7UUFDeEJKLFVBQVU7SUFDWjtJQUNBSyxLQUFLO1FBQUM7S0FBVztJQUNqQkMsS0FBSztRQUNIO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUNEQyxNQUFNO1FBQUM7UUFBUztRQUFTO1FBQVM7UUFBUTtLQUFVO0lBQ3BEQyxJQUFJO1FBQUM7S0FBWTtJQUNqQkMsS0FBSztRQUFDO0tBQVk7SUFDbEJDLE9BQU87UUFBQztRQUFVO0tBQVk7SUFDOUJDLFNBQVM7UUFBQztLQUFPO0lBQ2pCQyxXQUFXO1FBQUM7UUFBYTtLQUFXO0FBQ3RDO0FBRU8sTUFBTXpELDBCQUFvQztJQUMvQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRU0sTUFBTUMsc0JBQWdDRCx3QkFBd0IwRCxNQUFNLENBQ3pFLENBQUNDLFNBQVcsQ0FBQyxVQUFVQyxJQUFJLENBQUNEIn0=

}),
99369: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
// Avoid adding unnecessary code or imports to this file,
// because it will directly affect the webflow.js bundle size.

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "testCondition", ({
    enumerable: true,
    get: function() {
        return testCondition;
    }
}));
const _DynamoConditionUtils = __webpack_require__(95253);
const _momenttimezone = /*#__PURE__*/ _interop_require_default(__webpack_require__(47636));
const _SlugUtils = __webpack_require__(82985);
const _memo = __webpack_require__(23056);
const _ParamFieldPathUtils = __webpack_require__(68490);
const _constants = __webpack_require__(29197);
const _FilterUtils = __webpack_require__(20574);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// inlined from `@packages/systems/core/utils/RecordUtils` to keep bundle size minimal
const getId = (record)=>{
    return record._id || record.id || (record.get ? record.get('_id', record.get('id')) : null);
};
const isDateStringWithoutTime = (dateString)=>/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(dateString);
const toGraphQLSlug = (originalSlug)=>{
    const slug = handleId(originalSlug);
    return slug === 'id' || (0, _SlugUtils.isDynamoGraphQLFieldSlug)(slug) || // Don't want to namespace field slug when retrieving product inventory data
    slug === 'ecSkuInventoryQuantity' ? slug : (0, _SlugUtils.fieldSlug)(slug);
};
const handleId = (slug)=>slug === '_id' ? 'id' : slug;
const isObj = (x)=>x !== null && typeof x === 'object' && !Array.isArray(x);
// A simple, non-comprehensive way of detecting Maps and Lists
const isMap = (x)=>x && Boolean(x['@@__IMMUTABLE_MAP__@@']);
const isList = (x)=>x && Boolean(x['@@__IMMUTABLE_LIST__@@']);
const isRecord = (x)=>x && Boolean(x['@@__IMMUTABLE_RECORD__@@']);
const memoizedToJS = (0, _memo.weakMemo)((imm)=>imm.toJS());
// This is purposefully an `any`. It avoids about 9 Flow errors below
// that derive from 1) the impossibility of inferring that many different
// data types and 2) the challenge of enumerating all the possible ones.
// `mixed` is not very well suited for this, because it still requires enumeration
// for types before operating on those values.
const convertImmutableDataStructure = (value)=>{
    if (isMap(value) || isList(value) || isRecord(value)) {
        return memoizedToJS(value);
    }
    return value;
};
const getFieldsFromConditions = (conditions)=>isMap(conditions) ? conditions.get('fields') : conditions.fields;
const testCondition = ({ item, contextItem, timezone, condition, graphQLSlugs })=>{
    const cleanSlug = graphQLSlugs ? toGraphQLSlug : handleId;
    const plainCondition = convertImmutableDataStructure(condition);
    const plainItem = withCleanedSlugs(convertImmutableDataStructure(item), cleanSlug);
    const conditionData = reifyConditions(plainCondition, contextItem, cleanSlug);
    const conditionFields = (0, _FilterUtils.normalizeConditionFields)(conditionData.fields);
    const itemData = conditionFields.reduce((acc, field)=>{
        const { fieldPath, type } = field;
        const itemFieldValue = (0, _DynamoConditionUtils.getItemFieldValue)(plainItem, fieldPath);
        if (itemFieldValue == null) {
            return acc;
        }
        acc[fieldPath] = castFieldValue(itemFieldValue, type, timezone);
        return acc;
    }, {});
    return (0, _DynamoConditionUtils.test)(itemData, conditionData, timezone);
};
const fieldConditionsUpdater = (contextItem, cleanSlug)=>(fields)=>{
        const plainFields = convertImmutableDataStructure(fields);
        // Handles the new data shape of `data.dyn.query.filter.fields`
        if (Array.isArray(fields)) {
            return plainFields.map(reifyQueryField(contextItem, cleanSlug));
        }
        return Object.entries(plainFields).reduce((acc, plainField)=>{
            const [path, item] = reifyCondition(contextItem, cleanSlug)(plainField);
            // @ts-expect-error - TS2538 - Type 'Record<string, any>' cannot be used as an index type.
            acc[path] = item;
            return acc;
        }, {});
    };
const withCleanedSlugs = (obj, cleanSlug)=>{
    return Object.keys(obj).reduce((objWithCleanSlugs, slug)=>{
        objWithCleanSlugs[cleanSlug(slug)] = obj[slug];
        return objWithCleanSlugs;
    }, {});
};
const reifyConditions = (conditions, contextItem, cleanSlug)=>({
        ...conditions,
        fields: fieldConditionsUpdater(contextItem, cleanSlug)(getFieldsFromConditions(conditions))
    });
const createNewFieldPath = (fieldPath, cleanSlug)=>{
    const itemRefFieldSlug = (0, _ParamFieldPathUtils.getItemRefSlug)(fieldPath);
    const valueFieldSlug = (0, _ParamFieldPathUtils.getValueFieldSlug)(fieldPath);
    return itemRefFieldSlug ? (0, _ParamFieldPathUtils.createFieldPath)(cleanSlug(itemRefFieldSlug), cleanSlug(valueFieldSlug)) : (0, _ParamFieldPathUtils.createFieldPath)(cleanSlug(valueFieldSlug));
};
const reifyCondition = (contextItem, cleanSlug)=>(fieldEntry)=>{
        const [fieldPath, operation] = fieldEntry;
        const newFieldPath = createNewFieldPath(fieldPath, cleanSlug);
        const pageItemDataReducer = replacePageItemData(contextItem, cleanSlug);
        return [
            newFieldPath,
            Object.entries(operation).reduce((acc, entry)=>{
                const [key, value] = entry;
                return pageItemDataReducer(acc, value, key);
            }, {})
        ];
    };
const reifyQueryField = (contextItem, cleanSlug)=>(field)=>{
        const { fieldPath, value } = field;
        const newFieldPath = createNewFieldPath(fieldPath, cleanSlug);
        return {
            ...field,
            fieldPath: newFieldPath,
            value: replaceValueBasedOnPageItemData(contextItem, cleanSlug, value)
        };
    };
const replacePageItemData = (contextItem, cleanSlug)=>(acc, value, key)=>{
        acc[key] = replaceValueBasedOnPageItemData(contextItem, cleanSlug, value);
        return acc;
    };
const replaceValueBasedOnPageItemData = (contextItem, cleanSlug, value)=>{
    const plainPageItem = convertImmutableDataStructure(contextItem);
    const pageItemId = plainPageItem ? getId(plainPageItem) : null;
    if (typeof value === 'string') {
        if (value === 'DYN_CONTEXT') {
            if (pageItemId) {
                return pageItemId;
            }
        }
        if (/^DYN_CONTEXT/.test(value)) {
            const dynContextFieldSlug = value.replace(/^DYN_CONTEXT\./, '');
            const dynContextFieldValue = plainPageItem && plainPageItem[cleanSlug(dynContextFieldSlug)];
            const conditionValue = Array.isArray(dynContextFieldValue) ? dynContextFieldValue.map(dynContextFieldValueId) : dynContextFieldValueId(dynContextFieldValue);
            if (plainPageItem) {
                return conditionValue || _constants.NON_EXISTING_ITEM_ID;
            }
        }
    }
    return value;
};
const dynContextFieldValueId = (dynContextFieldValue)=>{
    return isObj(dynContextFieldValue) ? getId(dynContextFieldValue) : dynContextFieldValue;
};
const castFieldValue = (fieldValue, fieldType, timezone)=>{
    switch(fieldType){
        case 'Date':
            {
                // GraphQL api returns date-times as ISO strings and simple dates as YYYY-MM-DD format
                // We know that fieldValue is a string if the itemType is date
                const dateString = fieldValue;
                const dateStringWithoutTime = isDateStringWithoutTime(dateString);
                return dateStringWithoutTime ? _momenttimezone.default.tz(fieldValue, timezone).toDate() : _momenttimezone.default.utc(dateString).toDate();
            }
        case 'Option':
        case 'ItemRef':
            {
                return isObj(fieldValue) ? getId(fieldValue) : fieldValue;
            }
        case 'ItemRefSet':
            {
                return Array.isArray(fieldValue) && fieldValue.length ? Object.values(fieldValue).map((ref)=>{
                    if (typeof ref === 'string') {
                        return {
                            _id: ref
                        };
                    }
                    // @ts-expect-error Unknown type
                    const { id: _, ...restOfRef } = ref;
                    return {
                        ...restOfRef,
                        _id: getId(ref)
                    };
                }) : null;
            }
        default:
            {
                return fieldValue;
            }
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbmRpdGlvblV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEF2b2lkIGFkZGluZyB1bm5lY2Vzc2FyeSBjb2RlIG9yIGltcG9ydHMgdG8gdGhpcyBmaWxlLFxuLy8gYmVjYXVzZSBpdCB3aWxsIGRpcmVjdGx5IGFmZmVjdCB0aGUgd2ViZmxvdy5qcyBidW5kbGUgc2l6ZS5cbmltcG9ydCB7XG4gIHRlc3QgYXMgZHluYW1vVGVzdCxcbiAgZ2V0SXRlbUZpZWxkVmFsdWUsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby91dGlscy9EeW5hbW9Db25kaXRpb25VdGlscyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC10aW1lem9uZSc7XG5pbXBvcnQge1xuICBmaWVsZFNsdWcsXG4gIGlzRHluYW1vR3JhcGhRTEZpZWxkU2x1Zyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL1NsdWdVdGlscyc7XG5pbXBvcnQge3dlYWtNZW1vfSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL21lbW8nO1xuaW1wb3J0IHtcbiAgZ2V0SXRlbVJlZlNsdWcsXG4gIGNyZWF0ZUZpZWxkUGF0aCxcbiAgZ2V0VmFsdWVGaWVsZFNsdWcsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby91dGlscy9QYXJhbUZpZWxkUGF0aFV0aWxzJztcbmltcG9ydCB7Tk9OX0VYSVNUSU5HX0lURU1fSUR9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby9jb25zdGFudHMnO1xuaW1wb3J0IHt0eXBlIENvbmRpdGlvbnNXaXRoVHlwZVR9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby90eXBlcyc7XG5pbXBvcnQge25vcm1hbGl6ZUNvbmRpdGlvbkZpZWxkc30gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL0ZpbHRlclV0aWxzJztcbmltcG9ydCB7dHlwZSBNYXB9IGZyb20gJ2ltbXV0YWJsZSc7XG5cbi8vIGlubGluZWQgZnJvbSBgQHBhY2thZ2VzL3N5c3RlbXMvY29yZS91dGlscy9SZWNvcmRVdGlsc2AgdG8ga2VlcCBidW5kbGUgc2l6ZSBtaW5pbWFsXG5jb25zdCBnZXRJZCA9IChyZWNvcmQ6IGFueSk6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgPT4ge1xuICByZXR1cm4gKFxuICAgIHJlY29yZC5faWQgfHxcbiAgICByZWNvcmQuaWQgfHxcbiAgICAocmVjb3JkLmdldCA/IHJlY29yZC5nZXQoJ19pZCcsIHJlY29yZC5nZXQoJ2lkJykpIDogbnVsbClcbiAgKTtcbn07XG5cbmNvbnN0IGlzRGF0ZVN0cmluZ1dpdGhvdXRUaW1lID0gKGRhdGVTdHJpbmc6IHN0cmluZyk6IGJvb2xlYW4gPT5cbiAgL15bMC05XXs0fS1bMC05XXsyfS1bMC05XXsyfSQvLnRlc3QoZGF0ZVN0cmluZyk7XG5cbmNvbnN0IHRvR3JhcGhRTFNsdWcgPSAob3JpZ2luYWxTbHVnOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBzbHVnID0gaGFuZGxlSWQob3JpZ2luYWxTbHVnKTtcbiAgcmV0dXJuIHNsdWcgPT09ICdpZCcgfHxcbiAgICBpc0R5bmFtb0dyYXBoUUxGaWVsZFNsdWcoc2x1ZykgfHxcbiAgICAvLyBEb24ndCB3YW50IHRvIG5hbWVzcGFjZSBmaWVsZCBzbHVnIHdoZW4gcmV0cmlldmluZyBwcm9kdWN0IGludmVudG9yeSBkYXRhXG4gICAgc2x1ZyA9PT0gJ2VjU2t1SW52ZW50b3J5UXVhbnRpdHknXG4gICAgPyBzbHVnXG4gICAgOiBmaWVsZFNsdWcoc2x1Zyk7XG59O1xuXG5jb25zdCBoYW5kbGVJZCA9IChzbHVnOiBzdHJpbmcpID0+IChzbHVnID09PSAnX2lkJyA/ICdpZCcgOiBzbHVnKTtcblxuY29uc3QgaXNPYmogPSAoeDogdW5rbm93bikgPT5cbiAgeCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoeCk7XG5cbi8vIEEgc2ltcGxlLCBub24tY29tcHJlaGVuc2l2ZSB3YXkgb2YgZGV0ZWN0aW5nIE1hcHMgYW5kIExpc3RzXG5jb25zdCBpc01hcCA9ICh4OiBhbnkpID0+IHggJiYgQm9vbGVhbih4WydAQF9fSU1NVVRBQkxFX01BUF9fQEAnXSk7XG5jb25zdCBpc0xpc3QgPSAoeDogYW55KSA9PiB4ICYmIEJvb2xlYW4oeFsnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCddKTtcbmNvbnN0IGlzUmVjb3JkID0gKHg6IGFueSkgPT4geCAmJiBCb29sZWFuKHhbJ0BAX19JTU1VVEFCTEVfUkVDT1JEX19AQCddKTtcblxuY29uc3QgbWVtb2l6ZWRUb0pTID0gd2Vha01lbW8oKGltbTogYW55KSA9PiBpbW0udG9KUygpKTtcblxuLy8gVGhpcyBpcyBwdXJwb3NlZnVsbHkgYW4gYGFueWAuIEl0IGF2b2lkcyBhYm91dCA5IEZsb3cgZXJyb3JzIGJlbG93XG4vLyB0aGF0IGRlcml2ZSBmcm9tIDEpIHRoZSBpbXBvc3NpYmlsaXR5IG9mIGluZmVycmluZyB0aGF0IG1hbnkgZGlmZmVyZW50XG4vLyBkYXRhIHR5cGVzIGFuZCAyKSB0aGUgY2hhbGxlbmdlIG9mIGVudW1lcmF0aW5nIGFsbCB0aGUgcG9zc2libGUgb25lcy5cbi8vIGBtaXhlZGAgaXMgbm90IHZlcnkgd2VsbCBzdWl0ZWQgZm9yIHRoaXMsIGJlY2F1c2UgaXQgc3RpbGwgcmVxdWlyZXMgZW51bWVyYXRpb25cbi8vIGZvciB0eXBlcyBiZWZvcmUgb3BlcmF0aW5nIG9uIHRob3NlIHZhbHVlcy5cbmNvbnN0IGNvbnZlcnRJbW11dGFibGVEYXRhU3RydWN0dXJlID0gKHZhbHVlOiBhbnkpOiBhbnkgPT4ge1xuICBpZiAoaXNNYXAodmFsdWUpIHx8IGlzTGlzdCh2YWx1ZSkgfHwgaXNSZWNvcmQodmFsdWUpKSB7XG4gICAgcmV0dXJuIG1lbW9pemVkVG9KUyh2YWx1ZSk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCBnZXRGaWVsZHNGcm9tQ29uZGl0aW9ucyA9IChjb25kaXRpb25zOiBhbnkpID0+XG4gIGlzTWFwKGNvbmRpdGlvbnMpID8gY29uZGl0aW9ucy5nZXQoJ2ZpZWxkcycpIDogY29uZGl0aW9ucy5maWVsZHM7XG5cbnR5cGUgSXRlbSA9IFJlYWRvbmx5PHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn0+O1xuXG5leHBvcnQgdHlwZSBUZXN0Q29uZGl0aW9uQXJnc1QgPSB7XG4gIGNvbmRpdGlvbjpcbiAgICB8IE1hcDxzdHJpbmcsIGFueT5cbiAgICB8IHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xuICAgICAgfTtcbiAgZ3JhcGhRTFNsdWdzOiBib29sZWFuO1xuICBpdGVtOiBJdGVtO1xuICBjb250ZXh0SXRlbTogSXRlbSB8IG51bGw7XG4gIHRpbWV6b25lOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgdGVzdENvbmRpdGlvbiA9ICh7XG4gIGl0ZW0sXG4gIGNvbnRleHRJdGVtLFxuICB0aW1lem9uZSxcbiAgY29uZGl0aW9uLFxuICBncmFwaFFMU2x1Z3MsXG59OiBUZXN0Q29uZGl0aW9uQXJnc1QpID0+IHtcbiAgY29uc3QgY2xlYW5TbHVnID0gZ3JhcGhRTFNsdWdzID8gdG9HcmFwaFFMU2x1ZyA6IGhhbmRsZUlkO1xuICBjb25zdCBwbGFpbkNvbmRpdGlvbiA9IGNvbnZlcnRJbW11dGFibGVEYXRhU3RydWN0dXJlKGNvbmRpdGlvbik7XG4gIGNvbnN0IHBsYWluSXRlbSA9IHdpdGhDbGVhbmVkU2x1Z3MoXG4gICAgY29udmVydEltbXV0YWJsZURhdGFTdHJ1Y3R1cmUoaXRlbSksXG4gICAgY2xlYW5TbHVnXG4gICk7XG4gIGNvbnN0IGNvbmRpdGlvbkRhdGEgPSByZWlmeUNvbmRpdGlvbnMocGxhaW5Db25kaXRpb24sIGNvbnRleHRJdGVtLCBjbGVhblNsdWcpO1xuICBjb25zdCBjb25kaXRpb25GaWVsZHMgPSBub3JtYWxpemVDb25kaXRpb25GaWVsZHMoY29uZGl0aW9uRGF0YS5maWVsZHMpO1xuXG4gIGNvbnN0IGl0ZW1EYXRhID0gY29uZGl0aW9uRmllbGRzLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PigoYWNjLCBmaWVsZCkgPT4ge1xuICAgIGNvbnN0IHtmaWVsZFBhdGgsIHR5cGV9ID0gZmllbGQ7XG4gICAgY29uc3QgaXRlbUZpZWxkVmFsdWUgPSBnZXRJdGVtRmllbGRWYWx1ZShwbGFpbkl0ZW0sIGZpZWxkUGF0aCk7XG5cbiAgICBpZiAoaXRlbUZpZWxkVmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG5cbiAgICBhY2NbZmllbGRQYXRoXSA9IGNhc3RGaWVsZFZhbHVlKGl0ZW1GaWVsZFZhbHVlLCB0eXBlLCB0aW1lem9uZSk7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIGR5bmFtb1Rlc3QoaXRlbURhdGEsIGNvbmRpdGlvbkRhdGEsIHRpbWV6b25lKTtcbn07XG5cbmNvbnN0IGZpZWxkQ29uZGl0aW9uc1VwZGF0ZXIgPVxuICAoXG4gICAgY29udGV4dEl0ZW06IG51bGwgfCBJdGVtLFxuICAgIGNsZWFuU2x1ZzogKChvcmlnaW5hbFNsdWc6IHN0cmluZykgPT4gc3RyaW5nKSB8ICgoc2x1Zzogc3RyaW5nKSA9PiBzdHJpbmcpXG4gICkgPT5cbiAgKGZpZWxkczogYW55KTogQ29uZGl0aW9uc1dpdGhUeXBlVCB8IFJlY29yZDxhbnksIGFueT4gPT4ge1xuICAgIGNvbnN0IHBsYWluRmllbGRzID0gY29udmVydEltbXV0YWJsZURhdGFTdHJ1Y3R1cmUoZmllbGRzKTtcblxuICAgIC8vIEhhbmRsZXMgdGhlIG5ldyBkYXRhIHNoYXBlIG9mIGBkYXRhLmR5bi5xdWVyeS5maWx0ZXIuZmllbGRzYFxuICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgIHJldHVybiBwbGFpbkZpZWxkcy5tYXAocmVpZnlRdWVyeUZpZWxkKGNvbnRleHRJdGVtLCBjbGVhblNsdWcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMocGxhaW5GaWVsZHMpLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PihcbiAgICAgIChhY2MsIHBsYWluRmllbGQpID0+IHtcbiAgICAgICAgY29uc3QgW3BhdGgsIGl0ZW1dID0gcmVpZnlDb25kaXRpb24oY29udGV4dEl0ZW0sIGNsZWFuU2x1ZykocGxhaW5GaWVsZCk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI1MzggLSBUeXBlICdSZWNvcmQ8c3RyaW5nLCBhbnk+JyBjYW5ub3QgYmUgdXNlZCBhcyBhbiBpbmRleCB0eXBlLlxuICAgICAgICBhY2NbcGF0aF0gPSBpdGVtO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIHt9XG4gICAgKTtcbiAgfTtcblxuY29uc3Qgd2l0aENsZWFuZWRTbHVncyA9IChcbiAgb2JqOiBhbnksXG4gIGNsZWFuU2x1ZzogKChvcmlnaW5hbFNsdWc6IHN0cmluZykgPT4gc3RyaW5nKSB8ICgoc2x1Zzogc3RyaW5nKSA9PiBzdHJpbmcpXG4pID0+IHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlPFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgIChvYmpXaXRoQ2xlYW5TbHVncywgc2x1ZykgPT4ge1xuICAgICAgb2JqV2l0aENsZWFuU2x1Z3NbY2xlYW5TbHVnKHNsdWcpXSA9IG9ialtzbHVnXTtcbiAgICAgIHJldHVybiBvYmpXaXRoQ2xlYW5TbHVncztcbiAgICB9LFxuICAgIHt9XG4gICk7XG59O1xuXG5jb25zdCByZWlmeUNvbmRpdGlvbnMgPSAoXG4gIGNvbmRpdGlvbnM6IGFueSxcbiAgY29udGV4dEl0ZW06IG51bGwgfCBJdGVtLFxuICBjbGVhblNsdWc6ICgob3JpZ2luYWxTbHVnOiBzdHJpbmcpID0+IHN0cmluZykgfCAoKHNsdWc6IHN0cmluZykgPT4gc3RyaW5nKVxuKToge1xuICBmaWVsZHM6IFJlY29yZDxhbnksIGFueT4gfCBDb25kaXRpb25zV2l0aFR5cGVUIHwgdW5kZWZpbmVkO1xufSA9PiAoe1xuICAuLi5jb25kaXRpb25zLFxuICBmaWVsZHM6IGZpZWxkQ29uZGl0aW9uc1VwZGF0ZXIoXG4gICAgY29udGV4dEl0ZW0sXG4gICAgY2xlYW5TbHVnXG4gICkoZ2V0RmllbGRzRnJvbUNvbmRpdGlvbnMoY29uZGl0aW9ucykpLFxufSk7XG5cbmNvbnN0IGNyZWF0ZU5ld0ZpZWxkUGF0aCA9IChcbiAgZmllbGRQYXRoOiBzdHJpbmcsXG4gIGNsZWFuU2x1ZzogKChvcmlnaW5hbFNsdWc6IHN0cmluZykgPT4gc3RyaW5nKSB8ICgoc2x1Zzogc3RyaW5nKSA9PiBzdHJpbmcpXG4pID0+IHtcbiAgY29uc3QgaXRlbVJlZkZpZWxkU2x1ZyA9IGdldEl0ZW1SZWZTbHVnKGZpZWxkUGF0aCk7XG4gIGNvbnN0IHZhbHVlRmllbGRTbHVnID0gZ2V0VmFsdWVGaWVsZFNsdWcoZmllbGRQYXRoKTtcblxuICByZXR1cm4gaXRlbVJlZkZpZWxkU2x1Z1xuICAgID8gY3JlYXRlRmllbGRQYXRoKGNsZWFuU2x1ZyhpdGVtUmVmRmllbGRTbHVnKSwgY2xlYW5TbHVnKHZhbHVlRmllbGRTbHVnKSlcbiAgICA6IGNyZWF0ZUZpZWxkUGF0aChjbGVhblNsdWcodmFsdWVGaWVsZFNsdWcpKTtcbn07XG5cbmNvbnN0IHJlaWZ5Q29uZGl0aW9uID1cbiAgKFxuICAgIGNvbnRleHRJdGVtOiBudWxsIHwgSXRlbSxcbiAgICBjbGVhblNsdWc6ICgob3JpZ2luYWxTbHVnOiBzdHJpbmcpID0+IHN0cmluZykgfCAoKHNsdWc6IHN0cmluZykgPT4gc3RyaW5nKVxuICApID0+XG4gIChmaWVsZEVudHJ5OiBbc3RyaW5nLCBhbnldKSA9PiB7XG4gICAgY29uc3QgW2ZpZWxkUGF0aCwgb3BlcmF0aW9uXSA9IGZpZWxkRW50cnk7XG4gICAgY29uc3QgbmV3RmllbGRQYXRoID0gY3JlYXRlTmV3RmllbGRQYXRoKGZpZWxkUGF0aCwgY2xlYW5TbHVnKTtcblxuICAgIGNvbnN0IHBhZ2VJdGVtRGF0YVJlZHVjZXIgPSByZXBsYWNlUGFnZUl0ZW1EYXRhKGNvbnRleHRJdGVtLCBjbGVhblNsdWcpO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIG5ld0ZpZWxkUGF0aCxcbiAgICAgIE9iamVjdC5lbnRyaWVzKG9wZXJhdGlvbikucmVkdWNlPFJlY29yZDxzdHJpbmcsIGFueT4+KChhY2MsIGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGVudHJ5O1xuICAgICAgICByZXR1cm4gcGFnZUl0ZW1EYXRhUmVkdWNlcihhY2MsIHZhbHVlLCBrZXkpO1xuICAgICAgfSwge30pLFxuICAgIF07XG4gIH07XG5cbmNvbnN0IHJlaWZ5UXVlcnlGaWVsZCA9XG4gIChcbiAgICBjb250ZXh0SXRlbTogbnVsbCB8IEl0ZW0sXG4gICAgY2xlYW5TbHVnOiAoKG9yaWdpbmFsU2x1Zzogc3RyaW5nKSA9PiBzdHJpbmcpIHwgKChzbHVnOiBzdHJpbmcpID0+IHN0cmluZylcbiAgKSA9PlxuICAoZmllbGQ6IGFueSkgPT4ge1xuICAgIGNvbnN0IHtmaWVsZFBhdGgsIHZhbHVlfSA9IGZpZWxkO1xuICAgIGNvbnN0IG5ld0ZpZWxkUGF0aCA9IGNyZWF0ZU5ld0ZpZWxkUGF0aChmaWVsZFBhdGgsIGNsZWFuU2x1Zyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZmllbGQsXG4gICAgICBmaWVsZFBhdGg6IG5ld0ZpZWxkUGF0aCxcbiAgICAgIHZhbHVlOiByZXBsYWNlVmFsdWVCYXNlZE9uUGFnZUl0ZW1EYXRhKGNvbnRleHRJdGVtLCBjbGVhblNsdWcsIHZhbHVlKSxcbiAgICB9O1xuICB9O1xuXG5jb25zdCByZXBsYWNlUGFnZUl0ZW1EYXRhID1cbiAgKFxuICAgIGNvbnRleHRJdGVtOiBJdGVtIHwgbnVsbCxcbiAgICBjbGVhblNsdWc6ICgob3JpZ2luYWxTbHVnOiBzdHJpbmcpID0+IHN0cmluZykgfCAoKHNsdWc6IHN0cmluZykgPT4gc3RyaW5nKVxuICApID0+XG4gIChcbiAgICBhY2M6IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gICAgfSxcbiAgICB2YWx1ZTogdW5rbm93bixcbiAgICBrZXk6IHN0cmluZ1xuICApID0+IHtcbiAgICBhY2Nba2V5XSA9IHJlcGxhY2VWYWx1ZUJhc2VkT25QYWdlSXRlbURhdGEoY29udGV4dEl0ZW0sIGNsZWFuU2x1ZywgdmFsdWUpO1xuICAgIHJldHVybiBhY2M7XG4gIH07XG5cbmNvbnN0IHJlcGxhY2VWYWx1ZUJhc2VkT25QYWdlSXRlbURhdGEgPSAoXG4gIGNvbnRleHRJdGVtOiBudWxsIHwgSXRlbSxcbiAgY2xlYW5TbHVnOiAoKG9yaWdpbmFsU2x1Zzogc3RyaW5nKSA9PiBzdHJpbmcpIHwgKChzbHVnOiBzdHJpbmcpID0+IHN0cmluZyksXG4gIHZhbHVlOiB1bmtub3duXG4pID0+IHtcbiAgY29uc3QgcGxhaW5QYWdlSXRlbSA9IGNvbnZlcnRJbW11dGFibGVEYXRhU3RydWN0dXJlKGNvbnRleHRJdGVtKTtcbiAgY29uc3QgcGFnZUl0ZW1JZCA9IHBsYWluUGFnZUl0ZW0gPyBnZXRJZChwbGFpblBhZ2VJdGVtKSA6IG51bGw7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodmFsdWUgPT09ICdEWU5fQ09OVEVYVCcpIHtcbiAgICAgIGlmIChwYWdlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybiBwYWdlSXRlbUlkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgvXkRZTl9DT05URVhULy50ZXN0KHZhbHVlKSkge1xuICAgICAgY29uc3QgZHluQ29udGV4dEZpZWxkU2x1ZyA9IHZhbHVlLnJlcGxhY2UoL15EWU5fQ09OVEVYVFxcLi8sICcnKTtcbiAgICAgIGNvbnN0IGR5bkNvbnRleHRGaWVsZFZhbHVlID1cbiAgICAgICAgcGxhaW5QYWdlSXRlbSAmJiBwbGFpblBhZ2VJdGVtW2NsZWFuU2x1ZyhkeW5Db250ZXh0RmllbGRTbHVnKV07XG4gICAgICBjb25zdCBjb25kaXRpb25WYWx1ZSA9IEFycmF5LmlzQXJyYXkoZHluQ29udGV4dEZpZWxkVmFsdWUpXG4gICAgICAgID8gZHluQ29udGV4dEZpZWxkVmFsdWUubWFwKGR5bkNvbnRleHRGaWVsZFZhbHVlSWQpXG4gICAgICAgIDogZHluQ29udGV4dEZpZWxkVmFsdWVJZChkeW5Db250ZXh0RmllbGRWYWx1ZSk7XG5cbiAgICAgIGlmIChwbGFpblBhZ2VJdGVtKSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25WYWx1ZSB8fCBOT05fRVhJU1RJTkdfSVRFTV9JRDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCBkeW5Db250ZXh0RmllbGRWYWx1ZUlkID0gKGR5bkNvbnRleHRGaWVsZFZhbHVlOiBhbnkpID0+IHtcbiAgcmV0dXJuIGlzT2JqKGR5bkNvbnRleHRGaWVsZFZhbHVlKVxuICAgID8gZ2V0SWQoZHluQ29udGV4dEZpZWxkVmFsdWUpXG4gICAgOiBkeW5Db250ZXh0RmllbGRWYWx1ZTtcbn07XG5cbmNvbnN0IGNhc3RGaWVsZFZhbHVlID0gKFxuICBmaWVsZFZhbHVlOiB1bmtub3duLFxuICBmaWVsZFR5cGU6IHN0cmluZyxcbiAgdGltZXpvbmU6IHN0cmluZ1xuKTogdW5rbm93biA9PiB7XG4gIHN3aXRjaCAoZmllbGRUeXBlKSB7XG4gICAgY2FzZSAnRGF0ZSc6IHtcbiAgICAgIC8vIEdyYXBoUUwgYXBpIHJldHVybnMgZGF0ZS10aW1lcyBhcyBJU08gc3RyaW5ncyBhbmQgc2ltcGxlIGRhdGVzIGFzIFlZWVktTU0tREQgZm9ybWF0XG4gICAgICAvLyBXZSBrbm93IHRoYXQgZmllbGRWYWx1ZSBpcyBhIHN0cmluZyBpZiB0aGUgaXRlbVR5cGUgaXMgZGF0ZVxuICAgICAgY29uc3QgZGF0ZVN0cmluZyA9IGZpZWxkVmFsdWUgYXMgc3RyaW5nO1xuXG4gICAgICBjb25zdCBkYXRlU3RyaW5nV2l0aG91dFRpbWUgPSBpc0RhdGVTdHJpbmdXaXRob3V0VGltZShkYXRlU3RyaW5nKTtcbiAgICAgIHJldHVybiBkYXRlU3RyaW5nV2l0aG91dFRpbWVcbiAgICAgICAgPyBtb21lbnQudHooZmllbGRWYWx1ZSwgdGltZXpvbmUpLnRvRGF0ZSgpXG4gICAgICAgIDogbW9tZW50LnV0YyhkYXRlU3RyaW5nKS50b0RhdGUoKTtcbiAgICB9XG4gICAgY2FzZSAnT3B0aW9uJzpcbiAgICBjYXNlICdJdGVtUmVmJzoge1xuICAgICAgcmV0dXJuIGlzT2JqKGZpZWxkVmFsdWUpID8gZ2V0SWQoZmllbGRWYWx1ZSkgOiBmaWVsZFZhbHVlO1xuICAgIH1cbiAgICBjYXNlICdJdGVtUmVmU2V0Jzoge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZmllbGRWYWx1ZSkgJiYgZmllbGRWYWx1ZS5sZW5ndGhcbiAgICAgICAgPyBPYmplY3QudmFsdWVzKGZpZWxkVmFsdWUgYXMgYW55KS5tYXAoKHJlZikgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7X2lkOiByZWZ9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFVua25vd24gdHlwZVxuICAgICAgICAgICAgY29uc3Qge2lkOiBfLCAuLi5yZXN0T2ZSZWZ9ID0gcmVmO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5yZXN0T2ZSZWYsXG4gICAgICAgICAgICAgIF9pZDogZ2V0SWQocmVmKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICByZXR1cm4gZmllbGRWYWx1ZTtcbiAgICB9XG4gIH1cbn07XG4iXSwibmFtZXMiOlsidGVzdENvbmRpdGlvbiIsImdldElkIiwicmVjb3JkIiwiX2lkIiwiaWQiLCJnZXQiLCJpc0RhdGVTdHJpbmdXaXRob3V0VGltZSIsImRhdGVTdHJpbmciLCJ0ZXN0IiwidG9HcmFwaFFMU2x1ZyIsIm9yaWdpbmFsU2x1ZyIsInNsdWciLCJoYW5kbGVJZCIsImlzRHluYW1vR3JhcGhRTEZpZWxkU2x1ZyIsImZpZWxkU2x1ZyIsImlzT2JqIiwieCIsIkFycmF5IiwiaXNBcnJheSIsImlzTWFwIiwiQm9vbGVhbiIsImlzTGlzdCIsImlzUmVjb3JkIiwibWVtb2l6ZWRUb0pTIiwid2Vha01lbW8iLCJpbW0iLCJ0b0pTIiwiY29udmVydEltbXV0YWJsZURhdGFTdHJ1Y3R1cmUiLCJ2YWx1ZSIsImdldEZpZWxkc0Zyb21Db25kaXRpb25zIiwiY29uZGl0aW9ucyIsImZpZWxkcyIsIml0ZW0iLCJjb250ZXh0SXRlbSIsInRpbWV6b25lIiwiY29uZGl0aW9uIiwiZ3JhcGhRTFNsdWdzIiwiY2xlYW5TbHVnIiwicGxhaW5Db25kaXRpb24iLCJwbGFpbkl0ZW0iLCJ3aXRoQ2xlYW5lZFNsdWdzIiwiY29uZGl0aW9uRGF0YSIsInJlaWZ5Q29uZGl0aW9ucyIsImNvbmRpdGlvbkZpZWxkcyIsIm5vcm1hbGl6ZUNvbmRpdGlvbkZpZWxkcyIsIml0ZW1EYXRhIiwicmVkdWNlIiwiYWNjIiwiZmllbGQiLCJmaWVsZFBhdGgiLCJ0eXBlIiwiaXRlbUZpZWxkVmFsdWUiLCJnZXRJdGVtRmllbGRWYWx1ZSIsImNhc3RGaWVsZFZhbHVlIiwiZHluYW1vVGVzdCIsImZpZWxkQ29uZGl0aW9uc1VwZGF0ZXIiLCJwbGFpbkZpZWxkcyIsIm1hcCIsInJlaWZ5UXVlcnlGaWVsZCIsIk9iamVjdCIsImVudHJpZXMiLCJwbGFpbkZpZWxkIiwicGF0aCIsInJlaWZ5Q29uZGl0aW9uIiwib2JqIiwia2V5cyIsIm9ialdpdGhDbGVhblNsdWdzIiwiY3JlYXRlTmV3RmllbGRQYXRoIiwiaXRlbVJlZkZpZWxkU2x1ZyIsImdldEl0ZW1SZWZTbHVnIiwidmFsdWVGaWVsZFNsdWciLCJnZXRWYWx1ZUZpZWxkU2x1ZyIsImNyZWF0ZUZpZWxkUGF0aCIsImZpZWxkRW50cnkiLCJvcGVyYXRpb24iLCJuZXdGaWVsZFBhdGgiLCJwYWdlSXRlbURhdGFSZWR1Y2VyIiwicmVwbGFjZVBhZ2VJdGVtRGF0YSIsImVudHJ5Iiwia2V5IiwicmVwbGFjZVZhbHVlQmFzZWRPblBhZ2VJdGVtRGF0YSIsInBsYWluUGFnZUl0ZW0iLCJwYWdlSXRlbUlkIiwiZHluQ29udGV4dEZpZWxkU2x1ZyIsInJlcGxhY2UiLCJkeW5Db250ZXh0RmllbGRWYWx1ZSIsImNvbmRpdGlvblZhbHVlIiwiZHluQ29udGV4dEZpZWxkVmFsdWVJZCIsIk5PTl9FWElTVElOR19JVEVNX0lEIiwiZmllbGRWYWx1ZSIsImZpZWxkVHlwZSIsImRhdGVTdHJpbmdXaXRob3V0VGltZSIsIm1vbWVudCIsInR6IiwidG9EYXRlIiwidXRjIiwibGVuZ3RoIiwidmFsdWVzIiwicmVmIiwiXyIsInJlc3RPZlJlZiJdLCJtYXBwaW5ncyI6IkFBQUEseURBQXlEO0FBQ3pELDhEQUE4RDs7Ozs7K0JBdUZqREE7OztlQUFBQTs7O3NDQW5GTjt1RUFDWTsyQkFJWjtzQkFDZ0I7cUNBS2hCOzJCQUM0Qjs2QkFFSTs7Ozs7O0FBR3ZDLHNGQUFzRjtBQUN0RixNQUFNQyxRQUFRLENBQUNDO0lBQ2IsT0FDRUEsT0FBT0MsR0FBRyxJQUNWRCxPQUFPRSxFQUFFLElBQ1JGLENBQUFBLE9BQU9HLEdBQUcsR0FBR0gsT0FBT0csR0FBRyxDQUFDLE9BQU9ILE9BQU9HLEdBQUcsQ0FBQyxTQUFTLElBQUc7QUFFM0Q7QUFFQSxNQUFNQywwQkFBMEIsQ0FBQ0MsYUFDL0IsK0JBQStCQyxJQUFJLENBQUNEO0FBRXRDLE1BQU1FLGdCQUFnQixDQUFDQztJQUNyQixNQUFNQyxPQUFPQyxTQUFTRjtJQUN0QixPQUFPQyxTQUFTLFFBQ2RFLElBQUFBLG1DQUF3QixFQUFDRixTQUN6Qiw0RUFBNEU7SUFDNUVBLFNBQVMsMkJBQ1BBLE9BQ0FHLElBQUFBLG9CQUFTLEVBQUNIO0FBQ2hCO0FBRUEsTUFBTUMsV0FBVyxDQUFDRCxPQUFrQkEsU0FBUyxRQUFRLE9BQU9BO0FBRTVELE1BQU1JLFFBQVEsQ0FBQ0MsSUFDYkEsTUFBTSxRQUFR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

}),
44557: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(99369), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vQ29uZGl0aW9uVXRpbHMnO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWMifQ==

}),
95253: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    EXAMPLE_IMG_URL: function() {
        return EXAMPLE_IMG_URL;
    },
    castConditionValue: function() {
        return castConditionValue;
    },
    castItemValue: function() {
        return castItemValue;
    },
    getItemFieldValue: function() {
        return getItemFieldValue;
    },
    parseDate: function() {
        return parseDate;
    },
    test: function() {
        return test;
    }
});
const _momenttimezone = /*#__PURE__*/ _interop_require_default(__webpack_require__(47636));
const _ParamFieldPathUtils = __webpack_require__(68490);
const _FilterUtils = __webpack_require__(20574);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const EXAMPLE_IMG_URL = 'https://d3e54v103j8qbb.cloudfront.net/img/image-placeholder.svg';
const OPERATOR_FNS = {
    eq: function(a, b) {
        return a == b; // eslint-disable-line eqeqeq
    },
    ne: function(a, b) {
        return a != b; // eslint-disable-line eqeqeq
    },
    gt: function(a, b) {
        return a > b;
    },
    lt: function(a, b) {
        return a < b;
    },
    gte: function(a, b) {
        return a >= b;
    },
    lte: function(a, b) {
        return a <= b;
    },
    exists: function(a, b) {
        function getATruthiness() {
            if (a != null) {
                if (Array.isArray(a)) {
                    return a.length > 0;
                } else if (typeof a === 'object') {
                    return !('url' in a) || a.url !== EXAMPLE_IMG_URL;
                } else if (typeof a === 'number') {
                    return !Number.isNaN(a);
                } else {
                    return true;
                }
            } else {
                return false;
            }
        }
        function getBTruthiness() {
            return b === 'yes';
        }
        const aIsTruthy = getATruthiness();
        const bIsTruthy = getBTruthiness();
        return aIsTruthy === bIsTruthy;
    },
    idin: function(a, b) {
        return containsResolver(a, b);
    },
    idnin: function(a, b) {
        return !containsResolver(a, b);
    },
    type: false
};
const containsResolver = (a, b)=>{
    if (Array.isArray(a) && typeof b === 'string') {
        // A contains B
        return a.includes(b);
    }
    if (Array.isArray(a) && Array.isArray(b)) {
        // A contains any of B
        return b.some((id)=>a.includes(id));
    }
    if (typeof a === 'string' && Array.isArray(b)) {
        // A equals any of B
        return b.includes(a);
    }
    return false;
};
function test(itemData, conditionData, timezone) {
    const conditionFields = (0, _FilterUtils.normalizeConditionFields)(conditionData.fields);
    // We use for..of to exit as early as possible
    for (const conditionField of conditionFields){
        const result = testSingleCondition({
            conditionField,
            itemData,
            timezone
        });
        // if a condition does not pass, we return false as quickly as possible
        if (!result) {
            return false;
        }
    }
    return true;
}
function testSingleCondition({ conditionField, itemData, timezone }) {
    const { fieldPath, operatorName, value, type } = conditionField;
    const opFn = OPERATOR_FNS[operatorName];
    if (!opFn) {
        console.warn(`Ignoring unsupported condition operator: ${operatorName}`);
        // The condition "passes" because there is no operation to test
        return true;
    }
    /*
    The renderer send out item data in different forms.
    Here, we first try to retrive the item field value in the current format,
    if that fails, we fall back to the legacy format.

    The main difference is in how item references are treated in itemData
    Current: { 'author:name': 'Author Name' }
    Legacy: { author: { name: 'Author Name } }
  */ const itemFieldValue = itemData.hasOwnProperty(fieldPath) ? itemData[fieldPath] : getItemFieldValue(itemData, fieldPath);
    // if field type is available in the condition, we use it to determine the item field type
    // otherwise we use the field value to determine item field type
    const itemFieldType = type ? convertFieldTypeToLegacyItemType(type) : _getLegacyItemType(fieldPath, itemFieldValue);
    const resolvedFieldValue = castItemFieldValue(itemFieldValue, itemFieldType);
    const resolvedConditionValue = castConditionValue(value, operatorName, itemFieldType, timezone);
    return opFn(resolvedFieldValue, resolvedConditionValue);
}
function castItemValue({ operator, value, type, timezone }) {
    if (value !== undefined) {
        switch(type){
            case 'Bool':
                return function() {
                    if (typeof value === 'boolean') {
                        return value;
                    } else if (typeof value === 'string') {
                        // Yes. Some sites have "True"
                        return value.toLowerCase() === 'true';
                    } else {
                        return Boolean(value);
                    }
                }();
            case 'Number':
                return parseFloat(value);
            case 'Date':
                return parseDate({
                    operator,
                    value,
                    timezone
                });
            default:
                return value;
        }
    } else {
        return value;
    }
}
function castConditionValue(value, op, type, timezone) {
    if (op === 'exists') {
        return value;
    } else {
        return castItemValue({
            operator: op,
            timezone,
            type,
            value
        });
    }
}
// TODO: swap with imported constant once OperatorTypes is lifted to dynamo package
// tech debt tracked in: https://github.com/webflow/webflow/issues/29496
const OPERATOR_LTE_NAME = 'lte';
// RegEx Patterns required for `parseDate`
///////////////////////////////////////////////
const NOW_REGEX = /^now$/i;
// The END_OF_TODAY_REGEX pattern collects up to two groups of matches
// Group 1: if the string begins with "end of "
// Group 2: if the string contains "today"
const END_OF_TODAY_REGEX = /^(end of )?(today)$/i;
// The DEPRECATED_END_OF_TOMORROW_YESTERDAY_REGEX pattern is to handle parsing older date filters
// that depended up on an "excluding today" boolean. It collects two groups
// Group 1: if the string begins with "end of "
// Group 2: if the string contains "tomorrow" or "yesterday"
const DEPRECATED_END_OF_TOMORROW_YESTERDAY_REGEX = /^(end of )?(tomorrow|yesterday)$/i;
// The DEPRECATED_RELATIVE_TIME_COMPLEX_REGEX pattern is designed to handle parsing older complex date filters
// It captures 4 groups
// Group 1: A string combining time lengths and time intervals
//   Example: 2 days 17 hours 4 minutes
// Group 2: A string containing either "ago" or "from now"
// Group 3: A string containing "starting" with either "now" or "end of"
// Group 4: A string of either "today", "yesterday" or "tomorrow"
const DEPRECATED_RELATIVE_TIME_COMPLEX_REGEX = /^((?:\d+ (?:year|quarter|month|week|day|hour|minute|second)s? )+)(ago|from now)(?: (?:starting (?:now|(?:(end of )?(today|yesterday|tomorrow)))))?$/i;
// The RELATIVE_TIME_COMPLEX_REGEX pattern collects two groups of matches
// Group 1: A string combining time lengths and time intervals.
//   Example: 2 days 17 hours 4 minutes
// Group 2: a string of either 'future' or 'past'
const RELATIVE_TIME_COMPLEX_REGEX = /^((?:\d+ (?:year|quarter|month|week|day|hour|minute|second)s? )+)in the (future|past)$/i;
// The FULL_TIME_LENGTH_INTERVAL_STRING_REGEX pattern collects all the matches found in
// Group 1 of RELATIVE_TIME_COMPLEX_REGEX and returns them as an array
//   Example: '2 days 17 hours 4 minutes' returns a matches array
//   of ['2 days', '17 hours', '4 minutes']
const FULL_TIME_LENGTH_INTERVAL_STRING_REGEX = /\d+ (?:year|quarter|month|week|day|hour|minute|second)s?/gi;
const isDeprecatedDatePattern = (str)=>DEPRECATED_END_OF_TOMORROW_YESTERDAY_REGEX.test(str) || DEPRECATED_RELATIVE_TIME_COMPLEX_REGEX.test(str);
function handleDeprecatedParseDate({ value, timezone, momentNowUtc }) {
    function getToday() {
        return momentNowUtc.tz(timezone).startOf('day');
    }
    function getEndOfToday() {
        return momentNowUtc.tz(timezone).endOf('day');
    }
    function getNow() {
        return momentNowUtc.tz(timezone);
    }
    const simpleResults = value.match(DEPRECATED_END_OF_TOMORROW_YESTERDAY_REGEX);
    if (simpleResults) {
        // handle deprecated end of tomorrow/yesterday scenarios
        const [, endOf, relativeDate] = simpleResults;
        const getStart = endOf ? getEndOfToday : getToday;
        if (relativeDate === 'tomorrow') {
            return getStart().add(1, 'day').toDate();
        }
        if (relativeDate === 'yesterday') {
            return getStart().subtract(1, 'day').toDate();
        }
    }
    const complexResults = value.match(DEPRECATED_RELATIVE_TIME_COMPLEX_REGEX);
    if (complexResults) {
        // handle deprecated complex results
        const [, values, mode, endOf, relativeDate] = complexResults;
        const getStart = endOf ? getEndOfToday : getToday;
        let time;
        switch(relativeDate){
            case 'today':
                time = getStart();
                break;
            case 'tomorrow':
                time = getStart().add(1, 'day');
                break;
            case 'yesterday':
                time = getStart().subtract(1, 'day');
                break;
            default:
                time = getNow();
                break;
        }
        // @ts-expect-error - TS18048 - 'values' is possibly 'undefined'.
        const timeLengthIntervalItems = values.match(FULL_TIME_LENGTH_INTERVAL_STRING_REGEX);
        if (!timeLengthIntervalItems) {
            return null;
        }
        const method = mode === 'from now' ? 'add' : 'subtract';
        // Loop through each length-interval item, ex '14 days', and mutate `time` with each one
        timeLengthIntervalItems.forEach((item)=>{
            const [length, interval] = item.split(' ');
            // @ts-expect-error - TS2345 - Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
            time[method](parseInt(length, 10), interval);
        });
        return time.toDate();
    }
}
function parseDate({ operator, value, timezone = 'UTC', nowUtcString }) {
    const momentNowUtc = nowUtcString ? _momenttimezone.default.utc(nowUtcString) : _momenttimezone.default.utc();
    function getToday() {
        return momentNowUtc.tz(timezone).startOf('day');
    }
    function getEndOfToday() {
        return momentNowUtc.tz(timezone).endOf('day');
    }
    function getNow() {
        return momentNowUtc.tz(timezone);
    }
    const stringValue = String(value).toLowerCase();
    if (NOW_REGEX.test(stringValue)) {
        return getNow().toDate();
    }
    // Capture and handle deprecated date patterns, this code will/should eventually be removed
    if (isDeprecatedDatePattern(stringValue)) {
        return handleDeprecatedParseDate({
            value: stringValue,
            timezone,
            momentNowUtc
        });
    }
    const simpleResults = stringValue.match(END_OF_TODAY_REGEX);
    if (simpleResults) {
        const [, endOf] = simpleResults;
        return endOf ? getEndOfToday().toDate() : getToday().toDate();
    }
    const complexResults = stringValue.match(RELATIVE_TIME_COMPLEX_REGEX);
    if (complexResults) {
        const [, fullTimeLengthIntervalString, tense] = complexResults;
        // @ts-expect-error - TS18048 - 'fullTimeLengthIntervalString' is possibly 'undefined'.
        const timeLengthIntervalItems = fullTimeLengthIntervalString.match(FULL_TIME_LENGTH_INTERVAL_STRING_REGEX);
        if (!timeLengthIntervalItems) {
            return null;
        }
        // We want LTE operators to include everything up to the end of the day
        const getStart = operator && operator === OPERATOR_LTE_NAME ? getEndOfToday : getToday;
        const TENSE_METHODS_MAP = {
            future: 'add',
            past: 'subtract'
        };
        const tenseMethod = TENSE_METHODS_MAP[tense];
        // This loops through each item and accumulatively adds or subtracts
        // the length and intervals from today's date
        const reducedDateTime = timeLengthIntervalItems.reduce((accumulatedMoment, item)=>{
            // `item` is a string in the shape of "2 days" or "14 years"
            const [length, interval] = item.split(' ');
            return accumulatedMoment[tenseMethod](// @ts-expect-error - TS2345 - Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
            parseInt(length, 10), interval);
        }, getStart());
        return reducedDateTime.toDate();
    }
    // Else, fall back on standard ISO 8601 parsing:
    const isoMoment = _momenttimezone.default.utc(value, _momenttimezone.default.ISO_8601).tz(timezone);
    if (!isoMoment || !isoMoment.isValid()) {
        return null;
    }
    // Ok!
    return isoMoment.toDate();
}
function castItemFieldValue(fieldValue, fieldType) {
    switch(fieldType){
        case 'CommercePrice':
            {
                // typeof null equals 'object' so we need to guard against that
                return fieldValue !== null && typeof fieldValue === 'object' && typeof fieldValue.value === 'number' ? fieldValue.value / 100 : NaN;
            }
        case 'ItemRef':
            {
                return fieldValue !== null && typeof fieldValue === 'object' ? fieldValue._id : fieldValue;
            }
        case 'ItemRefSet':
            {
                return Array.isArray(fieldValue) ? fieldValue.map(function(itemRef) {
                    return itemRef._id;
                }) : [];
            }
        case 'Option':
            {
                return fieldValue !== null && typeof fieldValue === 'object' ? fieldValue.id : fieldValue;
            }
        case 'Number':
            {
                return fieldValue === null ? NaN : fieldValue;
            }
        default:
            {
                return fieldValue;
            }
    }
}
function getItemFieldValue(itemData, fieldPath) {
    const itemRefSlug = (0, _ParamFieldPathUtils.getItemRefSlug)(fieldPath);
    const valueFieldSlug = (0, _ParamFieldPathUtils.getValueFieldSlug)(fieldPath);
    return itemRefSlug ? itemData[itemRefSlug] && itemData[itemRefSlug][valueFieldSlug] : itemData[valueFieldSlug];
}
/*
 * Converts CMS Field Type into legacy item types used in this file
 *
 * This function maps Field types to the appropriate legacy field type.
 *
 * The legacy field types are `Bool`, `CommercePrice`, `Date`, `Id`,
 * `ImageRef`, `ItemRef`, `ItemRefSet`, `Number`, `Option` and `String`.
 *
 * Of these, only `Bool`, `CommercePrice`, `Date`, `ItemRef`,
 * `ItemRefSet`, `Number` and `Option` are consequential,
 * because condition and item field values are cast based on them
 * in `castConditionValue` and `castItemValue`.
 */ function convertFieldTypeToLegacyItemType(fieldType) {
    switch(fieldType){
        case 'Bool':
        case 'CommercePrice':
        case 'Date':
        case 'ImageRef':
        case 'ItemRef':
        case 'ItemRefSet':
        case 'Number':
        case 'Option':
        case 'Set':
            {
                return fieldType;
            }
        case 'FileRef':
        case 'Video':
            {
                return 'ImageRef';
            }
        case 'Email':
        case 'Phone':
        case 'PlainText':
        case 'RichText':
        case 'Link':
            {
                return 'String';
            }
        default:
            {
                return 'String';
            }
    }
}
/*
 * LEGACY function that derives the field type from field name and value.
 *
 * This way of deriving field type is only used with the Legacy Renderer,
 * where the field type is not added to the associated condition data.
 */ function _getLegacyItemType(name, value) {
    if (name === '_id') {
        return 'Id';
    } else {
        switch(typeof value){
            case 'number':
                return 'Number';
            case 'boolean':
                return 'Bool';
            case 'object':
                return function() {
                    if (value) {
                        if (value instanceof Date) {
                            return 'Date';
                        } else if ('_id' in value && '_cid' in value) {
                            return 'ItemRef';
                        } else if (Array.isArray(value)) {
                            // Do not need to worry about `Set` fields here,
                            // because this function is used only for legacy conditions.
                            return 'ItemRefSet';
                        } else if ('url' in value) {
                            // technically this could be a video as well; we use 'ImageRef' as a stand-in for 'Asset'-type
                            return 'ImageRef';
                        } else if ('value' in value && 'unit' in value) {
                            return 'CommercePrice';
                        } else {
                            return 'Option';
                        }
                    } else {
                        return 'Option';
                    }
                }();
            default:
                return 'String';
        }
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LXRpbWV6b25lJztcblxuaW1wb3J0IHtcbiAgZ2V0SXRlbVJlZlNsdWcsXG4gIGdldFZhbHVlRmllbGRTbHVnLFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vdXRpbHMvUGFyYW1GaWVsZFBhdGhVdGlscyc7XG5pbXBvcnQgdHlwZSB7XG4gIENvbmRpdGlvbldpdGhUeXBlVCxcbiAgQ29uZGl0aW9uc1dpdGhUeXBlVCxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3R5cGVzJztcbmltcG9ydCB7bm9ybWFsaXplQ29uZGl0aW9uRmllbGRzfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vdXRpbHMvRmlsdGVyVXRpbHMnO1xuXG4vKipcbiAqIENvbnRhaW5zIHN0YXRpYyB1dGlsaXRpZXMgdG8gZGVhbCB3aXRoIER5bmFtbyBjb25kaXRpb25hbCB2aXNpYmlsaXR5IGZvciBET00gbm9kZXMuXG4gKi9cblxuZXhwb3J0IGNvbnN0IEVYQU1QTEVfSU1HX1VSTCA9XG4gICdodHRwczovL2QzZTU0djEwM2o4cWJiLmNsb3VkZnJvbnQubmV0L2ltZy9pbWFnZS1wbGFjZWhvbGRlci5zdmcnO1xuXG5jb25zdCBPUEVSQVRPUl9GTlMgPSB7XG4gIGVxOiBmdW5jdGlvbiAoYTogdW5rbm93biwgYjogdW5rbm93bikge1xuICAgIHJldHVybiBhID09IGI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gIH0sXG4gIG5lOiBmdW5jdGlvbiAoYTogdW5rbm93biwgYjogdW5rbm93bikge1xuICAgIHJldHVybiBhICE9IGI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gIH0sXG4gIGd0OiBmdW5jdGlvbiAoYTogYW55LCBiOiBhbnkpIHtcbiAgICByZXR1cm4gYSA+IGI7XG4gIH0sXG4gIGx0OiBmdW5jdGlvbiAoYTogYW55LCBiOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYSA8IGI7XG4gIH0sXG4gIGd0ZTogZnVuY3Rpb24gKGE6IGFueSwgYjogYW55KSB7XG4gICAgcmV0dXJuIGEgPj0gYjtcbiAgfSxcbiAgbHRlOiBmdW5jdGlvbiAoYTogYW55LCBiOiBhbnkpIHtcbiAgICByZXR1cm4gYSA8PSBiO1xuICB9LFxuICBleGlzdHM6IGZ1bmN0aW9uIChhOiB1bmtub3duLCBiOiB1bmtub3duKSB7XG4gICAgZnVuY3Rpb24gZ2V0QVRydXRoaW5lc3MoKSB7XG4gICAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICAgICAgcmV0dXJuIGEubGVuZ3RoID4gMDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICByZXR1cm4gISgndXJsJyBpbiBhKSB8fCBhLnVybCAhPT0gRVhBTVBMRV9JTUdfVVJMO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJldHVybiAhTnVtYmVyLmlzTmFOKGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0QlRydXRoaW5lc3MoKSB7XG4gICAgICByZXR1cm4gYiA9PT0gJ3llcyc7XG4gICAgfVxuXG4gICAgY29uc3QgYUlzVHJ1dGh5ID0gZ2V0QVRydXRoaW5lc3MoKTtcbiAgICBjb25zdCBiSXNUcnV0aHkgPSBnZXRCVHJ1dGhpbmVzcygpO1xuXG4gICAgcmV0dXJuIGFJc1RydXRoeSA9PT0gYklzVHJ1dGh5O1xuICB9LFxuICBpZGluOiBmdW5jdGlvbiAoYTogdW5rbm93biwgYjogdW5rbm93bikge1xuICAgIHJldHVybiBjb250YWluc1Jlc29sdmVyKGEsIGIpO1xuICB9LFxuICBpZG5pbjogZnVuY3Rpb24gKGE6IHVua25vd24sIGI6IHVua25vd24pIHtcbiAgICByZXR1cm4gIWNvbnRhaW5zUmVzb2x2ZXIoYSwgYik7XG4gIH0sXG4gIHR5cGU6IGZhbHNlLCAvLyBlbnN1cmUgdGhlIGB0eXBlYCBwcm9wZXJ0eSB3aWxsIG5ldmVyIHJlc29sdmUgdG8gYSBmdW5jdGlvblxufSBhcyBjb25zdDtcblxuY29uc3QgY29udGFpbnNSZXNvbHZlciA9IChhOiB1bmtub3duLCBiOiB1bmtub3duKSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KGEpICYmIHR5cGVvZiBiID09PSAnc3RyaW5nJykge1xuICAgIC8vIEEgY29udGFpbnMgQlxuICAgIHJldHVybiBhLmluY2x1ZGVzKGIpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAvLyBBIGNvbnRhaW5zIGFueSBvZiBCXG4gICAgcmV0dXJuIGIuc29tZSgoaWQpID0+IGEuaW5jbHVkZXMoaWQpKTtcbiAgfVxuICBpZiAodHlwZW9mIGEgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAvLyBBIGVxdWFscyBhbnkgb2YgQlxuICAgIHJldHVybiBiLmluY2x1ZGVzKGEpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbnR5cGUgSXRlbURhdGFUID0ge1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGVzdChcbiAgaXRlbURhdGE6IEl0ZW1EYXRhVCxcbiAgY29uZGl0aW9uRGF0YToge1xuICAgIGZpZWxkcz86IEl0ZW1EYXRhVCB8IENvbmRpdGlvbnNXaXRoVHlwZVQ7XG4gIH0sXG4gIHRpbWV6b25lPzogc3RyaW5nXG4pIHtcbiAgY29uc3QgY29uZGl0aW9uRmllbGRzID0gbm9ybWFsaXplQ29uZGl0aW9uRmllbGRzKGNvbmRpdGlvbkRhdGEuZmllbGRzKTtcblxuICAvLyBXZSB1c2UgZm9yLi5vZiB0byBleGl0IGFzIGVhcmx5IGFzIHBvc3NpYmxlXG4gIGZvciAoY29uc3QgY29uZGl0aW9uRmllbGQgb2YgY29uZGl0aW9uRmllbGRzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGVzdFNpbmdsZUNvbmRpdGlvbih7XG4gICAgICBjb25kaXRpb25GaWVsZCxcbiAgICAgIGl0ZW1EYXRhLFxuICAgICAgdGltZXpvbmUsXG4gICAgfSk7XG5cbiAgICAvLyBpZiBhIGNvbmRpdGlvbiBkb2VzIG5vdCBwYXNzLCB3ZSByZXR1cm4gZmFsc2UgYXMgcXVpY2tseSBhcyBwb3NzaWJsZVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRlc3RTaW5nbGVDb25kaXRpb24oe1xuICBjb25kaXRpb25GaWVsZCxcbiAgaXRlbURhdGEsXG4gIHRpbWV6b25lLFxufToge1xuICBjb25kaXRpb25GaWVsZDogQ29uZGl0aW9uV2l0aFR5cGVUO1xuICBpdGVtRGF0YTogSXRlbURhdGFUO1xuICB0aW1lem9uZT86IHN0cmluZztcbn0pIHtcbiAgY29uc3Qge2ZpZWxkUGF0aCwgb3BlcmF0b3JOYW1lLCB2YWx1ZSwgdHlwZX0gPSBjb25kaXRpb25GaWVsZDtcbiAgY29uc3Qgb3BGbiA9IE9QRVJBVE9SX0ZOU1tvcGVyYXRvck5hbWUgYXMga2V5b2YgdHlwZW9mIE9QRVJBVE9SX0ZOU107XG5cbiAgaWYgKCFvcEZuKSB7XG4gICAgY29uc29sZS53YXJuKGBJZ25vcmluZyB1bnN1cHBvcnRlZCBjb25kaXRpb24gb3BlcmF0b3I6ICR7b3BlcmF0b3JOYW1lfWApO1xuICAgIC8vIFRoZSBjb25kaXRpb24gXCJwYXNzZXNcIiBiZWNhdXNlIHRoZXJlIGlzIG5vIG9wZXJhdGlvbiB0byB0ZXN0XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKlxuICAgIFRoZSByZW5kZXJlciBzZW5kIG91dCBpdGVtIGRhdGEgaW4gZGlmZmVyZW50IGZvcm1zLlxuICAgIEhlcmUsIHdlIGZpcnN0IHRyeSB0byByZXRyaXZlIHRoZSBpdGVtIGZpZWxkIHZhbHVlIGluIHRoZSBjdXJyZW50IGZvcm1hdCxcbiAgICBpZiB0aGF0IGZhaWxzLCB3ZSBmYWxsIGJhY2sgdG8gdGhlIGxlZ2FjeSBmb3JtYXQuXG5cbiAgICBUaGUgbWFpbiBkaWZmZXJlbmNlIGlzIGluIGhvdyBpdGVtIHJlZmVyZW5jZXMgYXJlIHRyZWF0ZWQgaW4gaXRlbURhdGFcbiAgICBDdXJyZW50OiB7ICdhdXRob3I6bmFtZSc6ICdBdXRob3IgTmFtZScgfVxuICAgIExlZ2FjeTogeyBhdXRob3I6IHsgbmFtZTogJ0F1dGhvciBOYW1lIH0gfVxuICAqL1xuICBjb25zdCBpdGVtRmllbGRWYWx1ZSA9IGl0ZW1EYXRhLmhhc093blByb3BlcnR5KGZpZWxkUGF0aClcbiAgICA/IGl0ZW1EYXRhW2ZpZWxkUGF0aF1cbiAgICA6IGdldEl0ZW1GaWVsZFZhbHVlKGl0ZW1EYXRhLCBmaWVsZFBhdGgpO1xuXG4gIC8vIGlmIGZpZWxkIHR5cGUgaXMgYXZhaWxhYmxlIGluIHRoZSBjb25kaXRpb24sIHdlIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGl0ZW0gZmllbGQgdHlwZVxuICAvLyBvdGhlcndpc2Ugd2UgdXNlIHRoZSBmaWVsZCB2YWx1ZSB0byBkZXRlcm1pbmUgaXRlbSBmaWVsZCB0eXBlXG4gIGNvbnN0IGl0ZW1GaWVsZFR5cGUgPSB0eXBlXG4gICAgPyBjb252ZXJ0RmllbGRUeXBlVG9MZWdhY3lJdGVtVHlwZSh0eXBlKVxuICAgIDogX2dldExlZ2FjeUl0ZW1UeXBlKGZpZWxkUGF0aCwgaXRlbUZpZWxkVmFsdWUpO1xuXG4gIGNvbnN0IHJlc29sdmVkRmllbGRWYWx1ZSA9IGNhc3RJdGVtRmllbGRWYWx1ZShpdGVtRmllbGRWYWx1ZSwgaXRlbUZpZWxkVHlwZSk7XG4gIGNvbnN0IHJlc29sdmVkQ29uZGl0aW9uVmFsdWUgPSBjYXN0Q29uZGl0aW9uVmFsdWUoXG4gICAgdmFsdWUsXG4gICAgb3BlcmF0b3JOYW1lLFxuICAgIGl0ZW1GaWVsZFR5cGUsXG4gICAgdGltZXpvbmVcbiAgKTtcblxuICByZXR1cm4gb3BGbihyZXNvbHZlZEZpZWxkVmFsdWUsIHJlc29sdmVkQ29uZGl0aW9uVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FzdEl0ZW1WYWx1ZSh7XG4gIG9wZXJhdG9yLFxuICB2YWx1ZSxcbiAgdHlwZSxcbiAgdGltZXpvbmUsXG59OiB7XG4gIG9wZXJhdG9yPzogc3RyaW5nO1xuICB2YWx1ZTogYW55O1xuICB0aW1lem9uZT86IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xufSkge1xuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnQm9vbCc6XG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gWWVzLiBTb21lIHNpdGVzIGhhdmUgXCJUcnVlXCJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgcmV0dXJuIHBhcnNlRGF0ZSh7b3BlcmF0b3IsIHZhbHVlLCB0aW1lem9uZX0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhc3RDb25kaXRpb25WYWx1ZShcbiAgdmFsdWU6IGFueSxcbiAgb3A6IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICB0aW1lem9uZT86IHN0cmluZ1xuKSB7XG4gIGlmIChvcCA9PT0gJ2V4aXN0cycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNhc3RJdGVtVmFsdWUoe29wZXJhdG9yOiBvcCwgdGltZXpvbmUsIHR5cGUsIHZhbHVlfSk7XG4gIH1cbn1cblxuLy8gVE9ETzogc3dhcCB3aXRoIGltcG9ydGVkIGNvbnN0YW50IG9uY2UgT3BlcmF0b3JUeXBlcyBpcyBsaWZ0ZWQgdG8gZHluYW1vIHBhY2thZ2Vcbi8vIHRlY2ggZGVidCB0cmFja2VkIGluOiBodHRwczovL2dpdGh1Yi5jb20vd2ViZmxvdy93ZWJmbG93L2lzc3Vlcy8yOTQ5NlxuY29uc3QgT1BFUkFUT1JfTFRFX05BTUUgPSAnbHRlJztcblxuLy8gUmVnRXggUGF0dGVybnMgcmVxdWlyZWQgZm9yIGBwYXJzZURhdGVgXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBOT1dfUkVHRVggPSAvXm5vdyQvaTtcblxuLy8gVGhlIEVORF9PRl9UT0RBWV9SRUdFWCBwYXR0ZXJuIGNvbGxlY3RzIHVwIHRvIHR3byBncm91cHMgb2YgbWF0Y2hlc1xuLy8gR3JvdXAgMTogaWYgdGhlIHN0cmluZyBiZWdpbnMgd2l0aCBcImVuZCBvZiBcIlxuLy8gR3JvdXAgMjogaWYgdGhlIHN0cmluZyBjb250YWlucyBcInRvZGF5XCJcbmNvbnN0IEVORF9PRl9UT0RBWV9SRUdFWCA9IC9eKGVuZCBvZiApPyh0b2RheSkkL2k7XG5cbi8vIFRoZSBERVBSRUNBVEVEX0VORF9PRl9UT01PUlJPV19ZRVNURVJEQVlfUkVHRVggcGF0dGVybiBpcyB0byBoYW5kbGUgcGFyc2luZyBvbGRlciBkYXRlIGZpbHRlcnNcbi8vIHRoYXQgZGVwZW5kZWQgdXAgb24gYW4gXCJleGNsdWRpbmcgdG9kYXlcIiBib29sZWFuLiBJdCBjb2xsZWN0cyB0d28gZ3JvdXBzXG4vLyBHcm91cCAxOiBpZiB0aGUgc3RyaW5nIGJlZ2lucyB3aXRoIFwiZW5kIG9mIFwiXG4vLyBHcm91cCAyOiBpZiB0aGUgc3RyaW5nIGNvbnRhaW5zIFwidG9tb3Jyb3dcIiBvciBcInllc3RlcmRheVwiXG5jb25zdCBERVBSRUNBVEVEX0VORF9PRl9UT01PUlJPV19ZRVNURVJEQVlfUkVHRVggPVxuICAvXihlbmQgb2YgKT8odG9tb3Jyb3d8eWVzdGVyZGF5KSQvaTtcblxuLy8gVGhlIERFUFJFQ0FURURfUkVMQVRJVkVfVElNRV9DT01QTEVYX1JFR0VYIHBhdHRlcm4gaXMgZGVzaWduZWQgdG8gaGFuZGxlIHBhcnNpbmcgb2xkZXIgY29tcGxleCBkYXRlIGZpbHRlcnNcbi8vIEl0IGNhcHR1cmVzIDQgZ3JvdXBzXG4vLyBHcm91cCAxOiBBIHN0cmluZyBjb21iaW5pbmcgdGltZSBsZW5ndGhzIGFuZCB0aW1lIGludGVydmFsc1xuLy8gICBFeGFtcGxlOiAyIGRheXMgMTcgaG91cnMgNCBtaW51dGVzXG4vLyBHcm91cCAyOiBBIHN0cmluZyBjb250YWluaW5nIGVpdGhlciBcImFnb1wiIG9yIFwiZnJvbSBub3dcIlxuLy8gR3JvdXAgMzogQSBzdHJpbmcgY29udGFpbmluZyBcInN0YXJ0aW5nXCIgd2l0aCBlaXRoZXIgXCJub3dcIiBvciBcImVuZCBvZlwiXG4vLyBHcm91cCA0OiBBIHN0cmluZyBvZiBlaXRoZXIgXCJ0b2RheVwiLCBcInllc3RlcmRheVwiIG9yIFwidG9tb3Jyb3dcIlxuY29uc3QgREVQUkVDQVRFRF9SRUxBVElWRV9USU1FX0NPTVBMRVhfUkVHRVggPVxuICAvXigoPzpcXGQrICg/OnllYXJ8cXVhcnRlcnxtb250aHx3ZWVrfGRheXxob3VyfG1pbnV0ZXxzZWNvbmQpcz8gKSspKGFnb3xmcm9tIG5vdykoPzogKD86c3RhcnRpbmcgKD86bm93fCg/OihlbmQgb2YgKT8odG9kYXl8eWVzdGVyZGF5fHRvbW9ycm93KSkpKSk/JC9pO1xuXG4vLyBUaGUgUkVMQVRJVkVfVElNRV9DT01QTEVYX1JFR0VYIHBhdHRlcm4gY29sbGVjdHMgdHdvIGdyb3VwcyBvZiBtYXRjaGVzXG4vLyBHcm91cCAxOiBBIHN0cmluZyBjb21iaW5pbmcgdGltZSBsZW5ndGhzIGFuZCB0aW1lIGludGVydmFscy5cbi8vICAgRXhhbXBsZTogMiBkYXlzIDE3IGhvdXJzIDQgbWludXRlc1xuLy8gR3JvdXAgMjogYSBzdHJpbmcgb2YgZWl0aGVyICdmdXR1cmUnIG9yICdwYXN0J1xuY29uc3QgUkVMQVRJVkVfVElNRV9DT01QTEVYX1JFR0VYID1cbiAgL14oKD86XFxkKyAoPzp5ZWFyfHF1YXJ0ZXJ8bW9udGh8d2Vla3xkYXl8aG91cnxtaW51dGV8c2Vjb25kKXM/ICkrKWluIHRoZSAoZnV0dXJlfHBhc3QpJC9pO1xuXG4vLyBUaGUgRlVMTF9USU1FX0xFTkdUSF9JTlRFUlZBTF9TVFJJTkdfUkVHRVggcGF0dGVybiBjb2xsZWN0cyBhbGwgdGhlIG1hdGNoZXMgZm91bmQgaW5cbi8vIEdyb3VwIDEgb2YgUkVMQVRJVkVfVElNRV9DT01QTEVYX1JFR0VYIGFuZCByZXR1cm5zIHRoZW0gYXMgYW4gYXJyYXlcbi8vICAgRXhhbXBsZTogJzIgZGF5cyAxNyBob3VycyA0IG1pbnV0ZXMnIHJldHVybnMgYSBtYXRjaGVzIGFycmF5XG4vLyAgIG9mIFsnMiBkYXlzJywgJzE3IGhvdXJzJywgJzQgbWludXRlcyddXG5jb25zdCBGVUxMX1RJTUVfTEVOR1RIX0lOVEVSVkFMX1NUUklOR19SRUdFWCA9XG4gIC9cXGQrICg/OnllYXJ8cXVhcnRlcnxtb250aHx3ZWVrfGRheXxob3VyfG1pbnV0ZXxzZWNvbmQpcz8vZ2k7XG5cbmNvbnN0IGlzRGVwcmVjYXRlZERhdGVQYXR0ZXJuID0gKHN0cjogc3RyaW5nKTogYm9vbGVhbiA9PlxuICBERVBSRUNBVEVEX0VORF9PRl9UT01PUlJPV19ZRVNURVJEQVlfUkVHRVgudGVzdChzdHIpIHx8XG4gIERFUFJFQ0FURURfUkVMQVRJVkVfVElNRV9DT01QTEVYX1JFR0VYLnRlc3Qoc3RyKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVwcmVjYXRlZFBhcnNlRGF0ZSh7XG4gIHZhbHVlLFxuICB0aW1lem9uZSxcbiAgbW9tZW50Tm93VXRjLFxufToge1xuICB2YWx1ZTogc3RyaW5nO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBtb21lbnROb3dVdGM6IGFueTsgLy8gYSBtb21lbnQgaW5zdGFuY2U7XG59KTogRGF0ZSB8IG51bGwgfCB1bmRlZmluZWQge1xuICBmdW5jdGlvbiBnZXRUb2RheSgpIHtcbiAgICByZXR1cm4gbW9tZW50Tm93VXRjLnR6KHRpbWV6b25lKS5zdGFydE9mKCdkYXknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVuZE9mVG9kYXkoKSB7XG4gICAgcmV0dXJuIG1vbWVudE5vd1V0Yy50eih0aW1lem9uZSkuZW5kT2YoJ2RheScpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Tm93KCkge1xuICAgIHJldHVybiBtb21lbnROb3dVdGMudHoodGltZXpvbmUpO1xuICB9XG5cbiAgY29uc3Qgc2ltcGxlUmVzdWx0cyA9IHZhbHVlLm1hdGNoKERFUFJFQ0FURURfRU5EX09GX1RPTU9SUk9XX1lFU1RFUkRBWV9SRUdFWCk7XG5cbiAgaWYgKHNpbXBsZVJlc3VsdHMpIHtcbiAgICAvLyBoYW5kbGUgZGVwcmVjYXRlZCBlbmQgb2YgdG9tb3Jyb3cveWVzdGVyZGF5IHNjZW5hcmlvc1xuICAgIGNvbnN0IFssIGVuZE9mLCByZWxhdGl2ZURhdGVdID0gc2ltcGxlUmVzdWx0cztcbiAgICBjb25zdCBnZXRTdGFydCA9IGVuZE9mID8gZ2V0RW5kT2ZUb2RheSA6IGdldFRvZGF5O1xuXG4gICAgaWYgKHJlbGF0aXZlRGF0ZSA9PT0gJ3RvbW9ycm93Jykge1xuICAgICAgcmV0dXJuIGdldFN0YXJ0KCkuYWRkKDEsICdkYXknKS50b0RhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAocmVsYXRpdmVEYXRlID09PSAneWVzdGVyZGF5Jykge1xuICAgICAgcmV0dXJuIGdldFN0YXJ0KCkuc3VidHJhY3QoMSwgJ2RheScpLnRvRGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNvbXBsZXhSZXN1bHRzID0gdmFsdWUubWF0Y2goREVQUkVDQVRFRF9SRUxBVElWRV9USU1FX0NPTVBMRVhfUkVHRVgpO1xuXG4gIGlmIChjb21wbGV4UmVzdWx0cykge1xuICAgIC8vIGhhbmRsZSBkZXByZWNhdGVkIGNvbXBsZXggcmVzdWx0c1xuICAgIGNvbnN0IFssIHZhbHVlcywgbW9kZSwgZW5kT2YsIHJlbGF0aXZlRGF0ZV0gPSBjb21wbGV4UmVzdWx0cztcbiAgICBjb25zdCBnZXRTdGFydCA9IGVuZE9mID8gZ2V0RW5kT2ZUb2RheSA6IGdldFRvZGF5O1xuXG4gICAgbGV0IHRpbWU6IG1vbWVudC5Nb21lbnQ7XG4gICAgc3dpdGNoIChyZWxhdGl2ZURhdGUpIHtcbiAgICAgIGNhc2UgJ3RvZGF5JzpcbiAgICAgICAgdGltZSA9IGdldFN0YXJ0KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0b21vcnJvdyc6XG4gICAgICAgIHRpbWUgPSBnZXRTdGFydCgpLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd5ZXN0ZXJkYXknOlxuICAgICAgICB0aW1lID0gZ2V0U3RhcnQoKS5zdWJ0cmFjdCgxLCAnZGF5Jyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aW1lID0gZ2V0Tm93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ3ZhbHVlcycgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gICAgY29uc3QgdGltZUxlbmd0aEludGVydmFsSXRlbXMgPSB2YWx1ZXMubWF0Y2goXG4gICAgICBGVUxMX1RJTUVfTEVOR1RIX0lOVEVSVkFMX1NUUklOR19SRUdFWFxuICAgICk7XG5cbiAgICBpZiAoIXRpbWVMZW5ndGhJbnRlcnZhbEl0ZW1zKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRob2QgPSBtb2RlID09PSAnZnJvbSBub3cnID8gJ2FkZCcgOiAnc3VidHJhY3QnO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggbGVuZ3RoLWludGVydmFsIGl0ZW0sIGV4ICcxNCBkYXlzJywgYW5kIG11dGF0ZSBgdGltZWAgd2l0aCBlYWNoIG9uZVxuICAgIHRpbWVMZW5ndGhJbnRlcnZhbEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IFtsZW5ndGgsIGludGVydmFsXSA9IGl0ZW0uc3BsaXQoJyAnKTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZyB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycuXG4gICAgICB0aW1lW21ldGhvZF0ocGFyc2VJbnQobGVuZ3RoLCAxMCksIGludGVydmFsIGFzIG1vbWVudC5EdXJhdGlvbklucHV0QXJnMik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGltZS50b0RhdGUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlKHtcbiAgb3BlcmF0b3IsXG4gIHZhbHVlLFxuICB0aW1lem9uZSA9ICdVVEMnLFxuICBub3dVdGNTdHJpbmcsXG59OiB7XG4gIG9wZXJhdG9yPzogc3RyaW5nO1xuICB2YWx1ZTogYW55O1xuICB0aW1lem9uZT86IHN0cmluZztcbiAgbm93VXRjU3RyaW5nPzogc3RyaW5nO1xufSk6IERhdGUgfCBudWxsIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgbW9tZW50Tm93VXRjID0gbm93VXRjU3RyaW5nID8gbW9tZW50LnV0Yyhub3dVdGNTdHJpbmcpIDogbW9tZW50LnV0YygpO1xuXG4gIGZ1bmN0aW9uIGdldFRvZGF5KCkge1xuICAgIHJldHVybiBtb21lbnROb3dVdGMudHoodGltZXpvbmUpLnN0YXJ0T2YoJ2RheScpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW5kT2ZUb2RheSgpIHtcbiAgICByZXR1cm4gbW9tZW50Tm93VXRjLnR6KHRpbWV6b25lKS5lbmRPZignZGF5Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb3coKSB7XG4gICAgcmV0dXJuIG1vbWVudE5vd1V0Yy50eih0aW1lem9uZSk7XG4gIH1cblxuICBjb25zdCBzdHJpbmdWYWx1ZSA9IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcblxuICBpZiAoTk9XX1JFR0VYLnRlc3Qoc3RyaW5nVmFsdWUpKSB7XG4gICAgcmV0dXJuIGdldE5vdygpLnRvRGF0ZSgpO1xuICB9XG5cbiAgLy8gQ2FwdHVyZSBhbmQgaGFuZGxlIGRlcHJlY2F0ZWQgZGF0ZSBwYXR0ZXJucywgdGhpcyBjb2RlIHdpbGwvc2hvdWxkIGV2ZW50dWFsbHkgYmUgcmVtb3ZlZFxuICBpZiAoaXNEZXByZWNhdGVkRGF0ZVBhdHRlcm4oc3RyaW5nVmFsdWUpKSB7XG4gICAgcmV0dXJuIGhhbmRsZURlcHJlY2F0ZWRQYXJzZURhdGUoe1xuICAgICAgdmFsdWU6IHN0cmluZ1ZhbHVlLFxuICAgICAgdGltZXpvbmUsXG4gICAgICBtb21lbnROb3dVdGMsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaW1wbGVSZXN1bHRzID0gc3RyaW5nVmFsdWUubWF0Y2goRU5EX09GX1RPREFZX1JFR0VYKTtcbiAgaWYgKHNpbXBsZVJlc3VsdHMpIHtcbiAgICBjb25zdCBbLCBlbmRPZl0gPSBzaW1wbGVSZXN1bHRzO1xuICAgIHJldHVybiBlbmRPZiA/IGdldEVuZE9mVG9kYXkoKS50b0RhdGUoKSA6IGdldFRvZGF5KCkudG9EYXRlKCk7XG4gIH1cblxuICBjb25zdCBjb21wbGV4UmVzdWx0cyA9IHN0cmluZ1ZhbHVlLm1hdGNoKFJFTEFUSVZFX1RJTUVfQ09NUExFWF9SRUdFWCk7XG4gIGlmIChjb21wbGV4UmVzdWx0cykge1xuICAgIGNvbnN0IFssIGZ1bGxUaW1lTGVuZ3RoSW50ZXJ2YWxTdHJpbmcsIHRlbnNlXSA9IGNvbXBsZXhSZXN1bHRzO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ2Z1bGxUaW1lTGVuZ3RoSW50ZXJ2YWxTdHJpbmcnIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgIGNvbnN0IHRpbWVMZW5ndGhJbnRlcnZhbEl0ZW1zID0gZnVsbFRpbWVMZW5ndGhJbnRlcnZhbFN0cmluZy5tYXRjaChcbiAgICAgIEZVTExfVElNRV9MRU5HVEhfSU5URVJWQUxfU1RSSU5HX1JFR0VYXG4gICAgKTtcblxuICAgIGlmICghdGltZUxlbmd0aEludGVydmFsSXRlbXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFdlIHdhbnQgTFRFIG9wZXJhdG9ycyB0byBpbmNsdWRlIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIGVuZCBvZiB0aGUgZGF5XG4gICAgY29uc3QgZ2V0U3RhcnQgPVxuICAgICAgb3BlcmF0b3IgJiYgb3BlcmF0b3IgPT09IE9QRVJBVE9SX0xURV9OQU1FID8gZ2V0RW5kT2ZUb2RheSA6IGdldFRvZGF5O1xuXG4gICAgY29uc3QgVEVOU0VfTUVUSE9EU19NQVAgPSB7XG4gICAgICBmdXR1cmU6ICdhZGQnLFxuICAgICAgcGFzdDogJ3N1YnRyYWN0JyxcbiAgICB9IGFzIGNvbnN0O1xuICAgIGNvbnN0IHRlbnNlTWV0aG9kID1cbiAgICAgIFRFTlNFX01FVEhPRFNfTUFQW3RlbnNlIGFzIGtleW9mIHR5cGVvZiBURU5TRV9NRVRIT0RTX01BUF07XG5cbiAgICAvLyBUaGlzIGxvb3BzIHRocm91Z2ggZWFjaCBpdGVtIGFuZCBhY2N1bXVsYXRpdmVseSBhZGRzIG9yIHN1YnRyYWN0c1xuICAgIC8vIHRoZSBsZW5ndGggYW5kIGludGVydmFscyBmcm9tIHRvZGF5J3MgZGF0ZVxuICAgIGNvbnN0IHJlZHVjZWREYXRlVGltZSA9IHRpbWVMZW5ndGhJbnRlcnZhbEl0ZW1zLnJlZHVjZShcbiAgICAgIChhY2N1bXVsYXRlZE1vbWVudCwgaXRlbSkgPT4ge1xuICAgICAgICAvLyBgaXRlbWAgaXMgYSBzdHJpbmcgaW4gdGhlIHNoYXBlIG9mIFwiMiBkYXlzXCIgb3IgXCIxNCB5ZWFyc1wiXG4gICAgICAgIGNvbnN0IFtsZW5ndGgsIGludGVydmFsXSA9IGl0ZW0uc3BsaXQoJyAnKTtcbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVkTW9tZW50W3RlbnNlTWV0aG9kXShcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnc3RyaW5nIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJy5cbiAgICAgICAgICBwYXJzZUludChsZW5ndGgsIDEwKSxcbiAgICAgICAgICBpbnRlcnZhbCBhcyBtb21lbnQuRHVyYXRpb25JbnB1dEFyZzJcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBnZXRTdGFydCgpXG4gICAgKTtcblxuICAgIHJldHVybiByZWR1Y2VkRGF0ZVRpbWUudG9EYXRlKCk7XG4gIH1cblxuICAvLyBFbHNlLCBmYWxsIGJhY2sgb24gc3RhbmRhcmQgSVNPIDg2MDEgcGFyc2luZzpcbiAgY29uc3QgaXNvTW9tZW50ID0gbW9tZW50LnV0Yyh2YWx1ZSwgbW9tZW50LklTT184NjAxKS50eih0aW1lem9uZSk7XG5cbiAgaWYgKCFpc29Nb21lbnQgfHwgIWlzb01vbWVudC5pc1ZhbGlkKCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE9rIVxuICByZXR1cm4gaXNvTW9tZW50LnRvRGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBjYXN0SXRlbUZpZWxkVmFsdWUoZmllbGRWYWx1ZTogYW55LCBmaWVsZFR5cGU6IHN0cmluZyk6IGFueSB7XG4gIHN3aXRjaCAoZmllbGRUeXBlKSB7XG4gICAgY2FzZSAnQ29tbWVyY2VQcmljZSc6IHtcbiAgICAgIC8vIHR5cGVvZiBudWxsIGVxdWFscyAnb2JqZWN0JyBzbyB3ZSBuZWVkIHRvIGd1YXJkIGFnYWluc3QgdGhhdFxuICAgICAgcmV0dXJuIGZpZWxkVmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGZpZWxkVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBmaWVsZFZhbHVlLnZhbHVlID09PSAnbnVtYmVyJ1xuICAgICAgICA/IGZpZWxkVmFsdWUudmFsdWUgLyAxMDBcbiAgICAgICAgOiBOYU47XG4gICAgfVxuICAgIGNhc2UgJ0l0ZW1SZWYnOiB7XG4gICAgICByZXR1cm4gZmllbGRWYWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgZmllbGRWYWx1ZSA9PT0gJ29iamVjdCdcbiAgICAgICAgPyBmaWVsZFZhbHVlLl9pZFxuICAgICAgICA6IGZpZWxkVmFsdWU7XG4gICAgfVxuICAgIGNhc2UgJ0l0ZW1SZWZTZXQnOiB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShmaWVsZFZhbHVlKVxuICAgICAgICA/IGZpZWxkVmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtUmVmKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbVJlZi5faWQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG4gICAgY2FzZSAnT3B0aW9uJzoge1xuICAgICAgcmV0dXJuIGZpZWxkVmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIGZpZWxkVmFsdWUgPT09ICdvYmplY3QnXG4gICAgICAgID8gZmllbGRWYWx1ZS5pZFxuICAgICAgICA6IGZpZWxkVmFsdWU7XG4gICAgfVxuICAgIGNhc2UgJ051bWJlcic6IHtcbiAgICAgIHJldHVybiBmaWVsZFZhbHVlID09PSBudWxsID8gTmFOIDogZmllbGRWYWx1ZTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgcmV0dXJuIGZpZWxkVmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtRmllbGRWYWx1ZShpdGVtRGF0YTogYW55LCBmaWVsZFBhdGg6IHN0cmluZyk6IGFueSB7XG4gIGNvbnN0IGl0ZW1SZWZTbHVnID0gZ2V0SXRlbVJlZlNsdWcoZmllbGRQYXRoKTtcbiAgY29uc3QgdmFsdWVGaWVsZFNsdWcgPSBnZXRWYWx1ZUZpZWxkU2x1ZyhmaWVsZFBhdGgpO1xuICByZXR1cm4gaXRlbVJlZlNsdWdcbiAgICA/IGl0ZW1EYXRhW2l0ZW1SZWZTbHVnXSAmJiBpdGVtRGF0YVtpdGVtUmVmU2x1Z11bdmFsdWVGaWVsZFNsdWddXG4gICAgOiBpdGVtRGF0YVt2YWx1ZUZpZWxkU2x1Z107XG59XG5cbi8qXG4gKiBDb252ZXJ0cyBDTVMgRmllbGQgVHlwZSBpbnRvIGxlZ2FjeSBpdGVtIHR5cGVzIHVzZWQgaW4gdGhpcyBmaWxlXG4gKlxuICogVGhpcyBmdW5jdGlvbiBtYXBzIEZpZWxkIHR5cGVzIHRvIHRoZSBhcHByb3ByaWF0ZSBsZWdhY3kgZmllbGQgdHlwZS5cbiAqXG4gKiBUaGUgbGVnYWN5IGZpZWxkIHR5cGVzIGFyZSBgQm9vbGAsIGBDb21tZXJjZVByaWNlYCwgYERhdGVgLCBgSWRgLFxuICogYEltYWdlUmVmYCwgYEl0ZW1SZWZgLCBgSXRlbVJlZlNldGAsIGBOdW1iZXJgLCBgT3B0aW9uYCBhbmQgYFN0cmluZ2AuXG4gKlxuICogT2YgdGhlc2UsIG9ubHkgYEJvb2xgLCBgQ29tbWVyY2VQcmljZWAsIGBEYXRlYCwgYEl0ZW1SZWZgLFxuICogYEl0ZW1SZWZTZXRgLCBgTnVtYmVyYCBhbmQgYE9wdGlvbmAgYXJlIGNvbnNlcXVlbnRpYWwsXG4gKiBiZWNhdXNlIGNvbmRpdGlvbiBhbmQgaXRlbSBmaWVsZCB2YWx1ZXMgYXJlIGNhc3QgYmFzZWQgb24gdGhlbVxuICogaW4gYGNhc3RDb25kaXRpb25WYWx1ZWAgYW5kIGBjYXN0SXRlbVZhbHVlYC5cbiAqL1xuZnVuY3Rpb24gY29udmVydEZpZWxkVHlwZVRvTGVnYWN5SXRlbVR5cGUoZmllbGRUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBzd2l0Y2ggKGZpZWxkVHlwZSkge1xuICAgIGNhc2UgJ0Jvb2wnOlxuICAgIGNhc2UgJ0NvbW1lcmNlUHJpY2UnOlxuICAgIGNhc2UgJ0RhdGUnOlxuICAgIGNhc2UgJ0ltYWdlUmVmJzpcbiAgICBjYXNlICdJdGVtUmVmJzpcbiAgICBjYXNlICdJdGVtUmVmU2V0JzpcbiAgICBjYXNlICdOdW1iZXInOlxuICAgIGNhc2UgJ09wdGlvbic6XG4gICAgY2FzZSAnU2V0Jzoge1xuICAgICAgcmV0dXJuIGZpZWxkVHlwZTtcbiAgICB9XG4gICAgY2FzZSAnRmlsZVJlZic6XG4gICAgY2FzZSAnVmlkZW8nOiB7XG4gICAgICByZXR1cm4gJ0ltYWdlUmVmJztcbiAgICB9XG4gICAgY2FzZSAnRW1haWwnOlxuICAgIGNhc2UgJ1Bob25lJzpcbiAgICBjYXNlICdQbGFpblRleHQnOlxuICAgIGNhc2UgJ1JpY2hUZXh0JzpcbiAgICBjYXNlICdMaW5rJzoge1xuICAgICAgcmV0dXJuICdTdHJpbmcnO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICByZXR1cm4gJ1N0cmluZyc7XG4gICAgfVxuICB9XG59XG5cbi8qXG4gKiBMRUdBQ1kgZnVuY3Rpb24gdGhhdCBkZXJpdmVzIHRoZSBmaWVsZCB0eXBlIGZyb20gZmllbGQgbmFtZSBhbmQgdmFsdWUuXG4gKlxuICogVGhpcyB3YXkgb2YgZGVyaXZpbmcgZmllbGQgdHlwZSBpcyBvbmx5IHVzZWQgd2l0aCB0aGUgTGVnYWN5IFJlbmRlcmVyLFxuICogd2hlcmUgdGhlIGZpZWxkIHR5cGUgaXMgbm90IGFkZGVkIHRvIHRoZSBhc3NvY2lhdGVkIGNvbmRpdGlvbiBkYXRhLlxuICovXG5mdW5jdGlvbiBfZ2V0TGVnYWN5SXRlbVR5cGUobmFtZTogc3RyaW5nLCB2YWx1ZTogdW5rbm93bikge1xuICBpZiAobmFtZSA9PT0gJ19pZCcpIHtcbiAgICByZXR1cm4gJ0lkJztcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcmV0dXJuICdOdW1iZXInO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAnQm9vbCc7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdEYXRlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ19pZCcgaW4gdmFsdWUgJiYgJ19jaWQnIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnSXRlbVJlZic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vIERvIG5vdCBuZWVkIHRvIHdvcnJ5IGFib3V0IGBTZXRgIGZpZWxkcyBoZXJlLFxuICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCBvbmx5IGZvciBsZWdhY3kgY29uZGl0aW9ucy5cbiAgICAgICAgICAgICAgcmV0dXJuICdJdGVtUmVmU2V0JztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3VybCcgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgLy8gdGVjaG5pY2FsbHkgdGhpcyBjb3VsZCBiZSBhIHZpZGVvIGFzIHdlbGw7IHdlIHVzZSAnSW1hZ2VSZWYnIGFzIGEgc3RhbmQtaW4gZm9yICdBc3NldCctdHlwZVxuICAgICAgICAgICAgICByZXR1cm4gJ0ltYWdlUmVmJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiB2YWx1ZSAmJiAndW5pdCcgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdDb21tZXJjZVByaWNlJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiAnT3B0aW9uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdPcHRpb24nO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnU3RyaW5nJztcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJFWEFNUExFX0lNR19VUkwiLCJjYXN0Q29uZGl0aW9uVmFsdWUiLCJjYXN0SXRlbVZhbHVlIiwiZ2V0SXRlbUZpZWxkVmFsdWUiLCJwYXJzZURhdGUiLCJ0ZXN0IiwiT1BFUkFUT1JfRk5TIiwiZXEiLCJhIiwiYiIsIm5lIiwiZ3QiLCJsdCIsImd0ZSIsImx0ZSIsImV4aXN0cyIsImdldEFUcnV0aGluZXNzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidXJsIiwiTnVtYmVyIiwiaXNOYU4iLCJnZXRCVHJ1dGhpbmVzcyIsImFJc1RydXRoeSIsImJJc1RydXRoeSIsImlkaW4iLCJjb250YWluc1Jlc29sdmVyIiwiaWRuaW4iLCJ0eXBlIiwiaW5jbHVkZXMiLCJzb21lIiwiaWQiLCJpdGVtRGF0YSIsImNvbmRpdGlvbkRhdGEiLCJ0aW1lem9uZSIsImNvbmRpdGlvbkZpZWxkcyIsIm5vcm1hbGl6ZUNvbmRpdGlvbkZpZWxkcyIsImZpZWxkcyIsImNvbmRpdGlvbkZpZWxkIiwicmVzdWx0IiwidGVzdFNpbmdsZUNvbmRpdGlvbiIsImZpZWxkUGF0aCIsIm9wZXJhdG9yTmFtZSIsInZhbHVlIiwib3BGbiIsImNvbnNvbGUiLCJ3YXJuIiwiaXRlbUZpZWxkVmFsdWUiLCJoYXNPd25Qcm9wZXJ0eSIsIml0ZW1GaWVsZFR5cGUiLCJjb252ZXJ0RmllbGRUeXBlVG9MZWdhY3lJdGVtVHlwZSIsIl9nZXRMZWdhY3lJdGVtVHlwZSIsInJlc29sdmVkRmllbGRWYWx1ZSIsImNhc3RJdGVtRmllbGRWYWx1ZSIsInJlc29sdmVkQ29uZGl0aW9uVmFsdWUiLCJvcGVyYXRvciIsInVuZGVmaW5lZCIsInRvTG93ZXJDYXNlIiwiQm9vbGVhbiIsInBhcnNlRmxvYXQiLCJvcCIsIk9QRVJBVE9SX0xURV9OQU1FIiwiTk9XX1JFR0VYIiwiRU5EX09GX1RPREFZX1JFR0VYIiwiREVQUkVDQVRFRF9FTkRfT0ZfVE9NT1JST1dfWUVTVEVSREFZX1JFR0VYIiwiREVQUkVDQVRFRF9SRUxBVElWRV9USU1FX0NPTVBMRVhfUkVHRVgiLCJSRUxBVElWRV9USU1FX0NPTVBMRVhfUkVHRVgiLCJGVUxMX1RJTUVfTEVOR1RIX0lOVEVSVkFMX1NUUklOR19SRUdFWCIsImlzRGVwcmVjYXRlZERhdGVQYXR0ZXJuIiwic3RyIiwiaGFuZGxlRGVwcmVjYXRlZFBhcnNlRGF0ZSIsIm1vbWVudE5vd1V0YyIsImdldFRvZGF5IiwidHoiLCJzdGFydE9mIiwiZ2V0RW5kT2ZUb2RheSIsImVuZE9mIiwiZ2V0Tm93Iiwic2ltcGxlUmVzdWx0cyIsIm1hdGNoIiwicmVsYXRpdmVEYXRlIiwiZ2V0U3RhcnQiLCJhZGQiLCJ0b0RhdGUiLCJzdWJ0cmFjdCIsImNvbXBsZXhSZXN1bHRzIiwidmFsdWVzIiwibW9kZSIsInRpbWUiLCJ0aW1lTGVuZ3RoSW50ZXJ2YWxJdGVtcyIsIm1ldGhvZCIsImZvckVhY2giLCJpdGVtIiwiaW50ZXJ2YWwiLCJzcGxpdCIsInBhcnNlSW50Iiwibm93VXRjU3RyaW5nIiwibW9tZW50IiwidXRjIiwic3RyaW5nVmFsdWUiLCJTdHJpbmciLCJmdWxsVGltZUxlbmd0aEludGVydmFsU3RyaW5nIiwidGVuc2UiLCJURU5TRV9NRVRIT0RTX01BUCIsImZ1dHVyZSIsInBhc3QiLCJ0ZW5zZU1ldGhvZCIsInJlZHVjZWREYXRlVGltZSIsInJlZHVjZSIsImFjY3VtdWxhdGVkTW9tZW50IiwiaXNvTW9tZW50IiwiSVNPXzg2MDEiLCJpc1ZhbGlkIiwiZmllbGRWYWx1ZSIsImZpZWxkVHlwZSIsIk5hTiIsIl9pZCIsIm1hcCIsIml0ZW1SZWYiLCJpdGVtUmVmU2x1ZyIsImdldEl0ZW1SZWZTbHVnIiwidmFsdWVGaWVsZFNsdWciLCJnZXRWYWx1ZUZpZWxkU2x1ZyIsIm5hbWUiLCJEYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWdCYUEsZUFBZTtlQUFmQTs7SUEyTEdDLGtCQUFrQjtlQUFsQkE7O0lBcENBQyxhQUFhO2VBQWJBOztJQThUQUMsaUJBQWlCO2VBQWpCQTs7SUF0SUFDLFNBQVM7ZUFBVEE7O0lBbFFBQyxJQUFJO2VBQUpBOzs7dUVBN0ZHO3FDQUtaOzZCQUtnQzs7Ozs7O0FBTWhDLE1BQU1MLGtCQUNYO0FBRUYsTUFBTU0sZUFBZTtJQUNuQkMsSUFBSSxTQUFVQyxDQUFVLEVBQUVDLENBQVU7UUFDbEMsT0FBT0QsS0FBS0MsR0FBRyw2QkFBNkI7SUFDOUM7SUFDQUMsSUFBSSxTQUFVRixDQUFVLEVBQUVDLENBQVU7UUFDbEMsT0FBT0QsS0FBS0MsR0FBRyw2QkFBNkI7SUFDOUM7SUFDQUUsSUFBSSxTQUFVSCxDQUFNLEVBQUVDLENBQU07UUFDMUIsT0FBT0QsSUFBSUM7SUFDYjtJQUNBRyxJQUFJLFNBQVVKLENBQU0sRUFBRUMsQ0FBTTtRQUMxQixPQUFPRCxJQUFJQztJQUNiO0lBQ0FJLEtBQUssU0FBVUwsQ0FBTSxFQUFFQyxDQUFNO1FBQzNCLE9BQU9ELEtBQUtDO0lBQ2Q7SUFDQUssS0FBSyxTQUFVTixDQUFNLEVBQUVDLENBQU07UUFDM0IsT0FBT0QsS0FBS0M7SUFDZDtJQUNBTSxRQUFRLFNBQVVQLENBQVUsRUFBRUMsQ0FBVTtRQUN0QyxTQUFTTztZQUNQLElBQUlSLEtBQUssTUFBTTtnQkFDYixJQUFJUyxNQUFNQyxPQUFPLENBQUNWLElBQUk7b0JBQ3BCLE9BQU9BLEVBQUVXLE1BQU0sR0FBRztnQkFDcEIsT0FBTyxJQUFJLE9BQU9YLE1BQU0sVUFBVTtvQkFDaEMsT0FBTyxDQUFFLENBQUEsU0FBU0EsQ0FBQUEsS0FBTUEsRUFBRVksR0FBRyxLQUFLcEI7Z0JBQ3BDLE9BQU8sSUFBSSxPQUFPUSxN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

}),
82688: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    formatEmail: function() {
        return formatEmail;
    },
    formatNumber: function() {
        return formatNumber;
    },
    formatPhone: function() {
        return formatPhone;
    }
});
function formatNumber(n, formatType) {
    if (typeof n === 'number') {
        const precision = formatType === '' || formatType === 'none' ? NaN : Number(formatType);
        if (!isNaN(precision)) {
            return n.toFixed(precision);
        } else {
            return String(n);
        }
    } else {
        return '';
    }
}
function formatEmail(email, subject, property) {
    const prefix = property === 'href' ? 'mailto:' : '';
    if (email && subject) {
        return prefix + email + '?subject=' + subject;
    } else if (email) {
        return prefix + email;
    } else {
        return null;
    }
}
function formatPhone(phone, property) {
    if (property === 'href') {
        let tel = phone ? phone.replace(/\s/g, '') : '';
        if (/\d/.test(tel)) {
            // Create a map to replace phonewords with the proper numbers
            const keypadMap = [
                [
                    /a|b|c/gi,
                    2
                ],
                [
                    /d|e|f/gi,
                    3
                ],
                [
                    /g|h|i/gi,
                    4
                ],
                [
                    /j|k|l/gi,
                    5
                ],
                [
                    /m|n|o/gi,
                    6
                ],
                [
                    /p|q|r|s/gi,
                    7
                ],
                [
                    /t|u|v/gi,
                    8
                ],
                [
                    /w|x|y|z/gi,
                    9
                ]
            ];
            keypadMap.forEach(([key, value])=>{
                tel = tel.replace(key, value.toString());
            });
        } else {
            phone = '#';
        }
        phone = /\d/.test(tel) ? 'tel:' + tel : '#';
    }
    return phone;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmb3JtYXROdW1iZXIobjogbnVtYmVyLCBmb3JtYXRUeXBlOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgaWYgKHR5cGVvZiBuID09PSAnbnVtYmVyJykge1xuICAgIGNvbnN0IHByZWNpc2lvbiA9XG4gICAgICBmb3JtYXRUeXBlID09PSAnJyB8fCBmb3JtYXRUeXBlID09PSAnbm9uZScgPyBOYU4gOiBOdW1iZXIoZm9ybWF0VHlwZSk7XG5cbiAgICBpZiAoIWlzTmFOKHByZWNpc2lvbikpIHtcbiAgICAgIHJldHVybiBuLnRvRml4ZWQocHJlY2lzaW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0cmluZyhuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8vIEZvcm1hdCBlbWFpbCBkZXBlbmRpbmcgb24gdGhlIGJpbmRpbmcgcHJvcGVydHkgYmVpbmcgYW4gaHJlZiBhbmQgaGF2aW5nIGEgc3ViamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEVtYWlsKGVtYWlsOiBzdHJpbmcsIHN1YmplY3Q6IHN0cmluZywgcHJvcGVydHk6IHN0cmluZykge1xuICBjb25zdCBwcmVmaXggPSBwcm9wZXJ0eSA9PT0gJ2hyZWYnID8gJ21haWx0bzonIDogJyc7XG4gIGlmIChlbWFpbCAmJiBzdWJqZWN0KSB7XG4gICAgcmV0dXJuIHByZWZpeCArIGVtYWlsICsgJz9zdWJqZWN0PScgKyBzdWJqZWN0O1xuICB9IGVsc2UgaWYgKGVtYWlsKSB7XG4gICAgcmV0dXJuIHByZWZpeCArIGVtYWlsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIEZvcm1hdCBwaG9uZSBkZXBlbmRpbmcgb24gdGhlIGJpbmRpbmcgcHJvcGVydHkgYmVpbmcgYW4gaHJlZiBhbmQgaGF2aW5nIGEgc3ViamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFBob25lKHBob25lOiBzdHJpbmcsIHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgaWYgKHByb3BlcnR5ID09PSAnaHJlZicpIHtcbiAgICBsZXQgdGVsID0gcGhvbmUgPyBwaG9uZS5yZXBsYWNlKC9cXHMvZywgJycpIDogJyc7XG4gICAgaWYgKC9cXGQvLnRlc3QodGVsKSkge1xuICAgICAgLy8gQ3JlYXRlIGEgbWFwIHRvIHJlcGxhY2UgcGhvbmV3b3JkcyB3aXRoIHRoZSBwcm9wZXIgbnVtYmVyc1xuICAgICAgY29uc3Qga2V5cGFkTWFwOiBBcnJheTxbUmVnRXhwLCBudW1iZXJdPiA9IFtcbiAgICAgICAgWy9hfGJ8Yy9naSwgMl0sXG4gICAgICAgIFsvZHxlfGYvZ2ksIDNdLFxuICAgICAgICBbL2d8aHxpL2dpLCA0XSxcbiAgICAgICAgWy9qfGt8bC9naSwgNV0sXG4gICAgICAgIFsvbXxufG8vZ2ksIDZdLFxuICAgICAgICBbL3B8cXxyfHMvZ2ksIDddLFxuICAgICAgICBbL3R8dXx2L2dpLCA4XSxcbiAgICAgICAgWy93fHh8eXx6L2dpLCA5XSxcbiAgICAgIF07XG4gICAgICBrZXlwYWRNYXAuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIHRlbCA9IHRlbC5yZXBsYWNlKGtleSwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGhvbmUgPSAnIyc7XG4gICAgfVxuXG4gICAgcGhvbmUgPSAvXFxkLy50ZXN0KHRlbCkgPyAndGVsOicgKyB0ZWwgOiAnIyc7XG4gIH1cbiAgcmV0dXJuIHBob25lO1xufVxuIl0sIm5hbWVzIjpbImZvcm1hdEVtYWlsIiwiZm9ybWF0TnVtYmVyIiwiZm9ybWF0UGhvbmUiLCJuIiwiZm9ybWF0VHlwZSIsInByZWNpc2lvbiIsIk5hTiIsIk51bWJlciIsImlzTmFOIiwidG9GaXhlZCIsIlN0cmluZyIsImVtYWlsIiwic3ViamVjdCIsInByb3BlcnR5IiwicHJlZml4IiwicGhvbmUiLCJ0ZWwiLCJyZXBsYWNlIiwidGVzdCIsImtleXBhZE1hcCIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWdCZ0JBLFdBQVc7ZUFBWEE7O0lBaEJBQyxZQUFZO2VBQVpBOztJQTRCQUMsV0FBVztlQUFYQTs7O0FBNUJULFNBQVNELGFBQWFFLENBQVMsRUFBRUMsVUFBMkI7SUFDakUsSUFBSSxPQUFPRCxNQUFNLFVBQVU7UUFDekIsTUFBTUUsWUFDSkQsZUFBZSxNQUFNQSxlQUFlLFNBQVNFLE1BQU1DLE9BQU9IO1FBRTVELElBQUksQ0FBQ0ksTUFBTUgsWUFBWTtZQUNyQixPQUFPRixFQUFFTSxPQUFPLENBQUNKO1FBQ25CLE9BQU87WUFDTCxPQUFPSyxPQUFPUDtRQUNoQjtJQUNGLE9BQU87UUFDTCxPQUFPO0lBQ1Q7QUFDRjtBQUdPLFNBQVNILFlBQVlXLEtBQWEsRUFBRUMsT0FBZSxFQUFFQyxRQUFnQjtJQUMxRSxNQUFNQyxTQUFTRCxhQUFhLFNBQVMsWUFBWTtJQUNqRCxJQUFJRixTQUFTQyxTQUFTO1FBQ3BCLE9BQU9FLFNBQVNILFFBQVEsY0FBY0M7SUFDeEMsT0FBTyxJQUFJRCxPQUFPO1FBQ2hCLE9BQU9HLFNBQVNIO0lBQ2xCLE9BQU87UUFDTCxPQUFPO0lBQ1Q7QUFDRjtBQUdPLFNBQVNULFlBQVlhLEtBQWEsRUFBRUYsUUFBZ0I7SUFDekQsSUFBSUEsYUFBYSxRQUFRO1FBQ3ZCLElBQUlHLE1BQU1ELFFBQVFBLE1BQU1FLE9BQU8sQ0FBQyxPQUFPLE1BQU07UUFDN0MsSUFBSSxLQUFLQyxJQUFJLENBQUNGLE1BQU07WUFDbEIsNkRBQTZEO1lBQzdELE1BQU1HLFlBQXFDO2dCQUN6QztvQkFBQztvQkFBVztpQkFBRTtnQkFDZDtvQkFBQztvQkFBVztpQkFBRTtnQkFDZDtvQkFBQztvQkFBVztpQkFBRTtnQkFDZDtvQkFBQztvQkFBVztpQkFBRTtnQkFDZDtvQkFBQztvQkFBVztpQkFBRTtnQkFDZDtvQkFBQztvQkFBYTtpQkFBRTtnQkFDaEI7b0JBQUM7b0JBQVc7aUJBQUU7Z0JBQ2Q7b0JBQUM7b0JBQWE7aUJBQUU7YUFDakI7WUFDREEsVUFBVUMsT0FBTyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTTtnQkFDN0JOLE1BQU1BLElBQUlDLE9BQU8sQ0FBQ0ksS0FBS0MsTUFBTUMsUUFBUTtZQUN2QztRQUNGLE9BQU87WUFDTFIsUUFBUTtRQUNWO1FBRUFBLFFBQVEsS0FBS0csSUFBSSxDQUFDRixPQUFPLFNBQVNBLE1BQU07SUFDMUM7SUFDQSxPQUFPRDtBQUNUIn0=

}),
4880: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    convertConditionFieldsFromObjectToArray: function() {
        return convertConditionFieldsFromObjectToArray;
    },
    normalizeConditionFields: function() {
        return normalizeConditionFields;
    }
});
const _utils = __webpack_require__(1242);
const convertConditionFieldsFromObjectToArray = (fields)=>{
    const mapper = (fieldPath)=>{
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        const type = fields[fieldPath].type;
        // @ts-expect-error - TS2769 - No overload matches this call.
        return Object.entries(fields[fieldPath]).reduce((conditionFields, [operatorName, value])=>{
            if (operatorName === 'type') {
                return conditionFields;
            }
            conditionFields.push({
                fieldPath,
                operatorName,
                value,
                type
            });
            return conditionFields;
        }, []);
    };
    return (0, _utils.flatMap)(mapper)(Object.keys(fields));
};
const normalizeConditionFields = (fields = [])=>{
    if (Array.isArray(fields)) {
        return fields;
    }
    return convertConditionFieldsFromObjectToArray(fields);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZpbHRlclV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgQ29uZGl0aW9uc1dpdGhUeXBlVCxcbiAgRGVwcmVjYXRlZENvbmRpdGlvbnNULFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vdHlwZXMnO1xuaW1wb3J0IHtmbGF0TWFwfSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL2ZwL3V0aWxzJztcblxuZXhwb3J0IGNvbnN0IGNvbnZlcnRDb25kaXRpb25GaWVsZHNGcm9tT2JqZWN0VG9BcnJheSA9IChcbiAgZmllbGRzOiBEZXByZWNhdGVkQ29uZGl0aW9uc1Rcbik6IENvbmRpdGlvbnNXaXRoVHlwZVQgPT4ge1xuICBjb25zdCBtYXBwZXIgPSAoZmllbGRQYXRoOiBzdHJpbmcpOiBDb25kaXRpb25zV2l0aFR5cGVUID0+IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNTMyIC0gT2JqZWN0IGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgIGNvbnN0IHR5cGUgPSBmaWVsZHNbZmllbGRQYXRoXS50eXBlO1xuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjc2OSAtIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhmaWVsZHNbZmllbGRQYXRoXSkucmVkdWNlPENvbmRpdGlvbnNXaXRoVHlwZVQ+KFxuICAgICAgKGNvbmRpdGlvbkZpZWxkcywgW29wZXJhdG9yTmFtZSwgdmFsdWVdOiBbc3RyaW5nLCB1bmtub3duXSkgPT4ge1xuICAgICAgICBpZiAob3BlcmF0b3JOYW1lID09PSAndHlwZScpIHtcbiAgICAgICAgICByZXR1cm4gY29uZGl0aW9uRmllbGRzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZGl0aW9uRmllbGRzLnB1c2goe2ZpZWxkUGF0aCwgb3BlcmF0b3JOYW1lLCB2YWx1ZSwgdHlwZX0pO1xuXG4gICAgICAgIHJldHVybiBjb25kaXRpb25GaWVsZHM7XG4gICAgICB9LFxuICAgICAgW11cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBmbGF0TWFwKG1hcHBlcikoT2JqZWN0LmtleXMoZmllbGRzKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplQ29uZGl0aW9uRmllbGRzID0gKFxuICBmaWVsZHM6IERlcHJlY2F0ZWRDb25kaXRpb25zVCB8IENvbmRpdGlvbnNXaXRoVHlwZVQgPSBbXVxuKTogQ29uZGl0aW9uc1dpdGhUeXBlVCA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICByZXR1cm4gZmllbGRzO1xuICB9XG5cbiAgcmV0dXJuIGNvbnZlcnRDb25kaXRpb25GaWVsZHNGcm9tT2JqZWN0VG9BcnJheShmaWVsZHMpO1xufTtcbiJdLCJuYW1lcyI6WyJjb252ZXJ0Q29uZGl0aW9uRmllbGRzRnJvbU9iamVjdFRvQXJyYXkiLCJub3JtYWxpemVDb25kaXRpb25GaWVsZHMiLCJmaWVsZHMiLCJtYXBwZXIiLCJmaWVsZFBhdGgiLCJ0eXBlIiwiT2JqZWN0IiwiZW50cmllcyIsInJlZHVjZSIsImNvbmRpdGlvbkZpZWxkcyIsIm9wZXJhdG9yTmFtZSIsInZhbHVlIiwicHVzaCIsImZsYXRNYXAiLCJrZXlzIiwiQXJyYXkiLCJpc0FycmF5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQU1hQSx1Q0FBdUM7ZUFBdkNBOztJQXlCQUMsd0JBQXdCO2VBQXhCQTs7O3VCQTNCUztBQUVmLE1BQU1ELDBDQUEwQyxDQUNyREU7SUFFQSxNQUFNQyxTQUFTLENBQUNDO1FBQ2QsOERBQThEO1FBQzlELE1BQU1DLE9BQU9ILE1BQU0sQ0FBQ0UsVUFBVSxDQUFDQyxJQUFJO1FBRW5DLDZEQUE2RDtRQUM3RCxPQUFPQyxPQUFPQyxPQUFPLENBQUNMLE1BQU0sQ0FBQ0UsVUFBVSxFQUFFSSxNQUFNLENBQzdDLENBQUNDLGlCQUFpQixDQUFDQyxjQUFjQyxNQUF5QjtZQUN4RCxJQUFJRCxpQkFBaUIsUUFBUTtnQkFDM0IsT0FBT0Q7WUFDVDtZQUVBQSxnQkFBZ0JHLElBQUksQ0FBQztnQkFBQ1I7Z0JBQVdNO2dCQUFjQztnQkFBT047WUFBSTtZQUUxRCxPQUFPSTtRQUNULEdBQ0EsRUFBRTtJQUVOO0lBRUEsT0FBT0ksSUFBQUEsY0FBTyxFQUFDVixRQUFRRyxPQUFPUSxJQUFJLENBQUNaO0FBQ3JDO0FBRU8sTUFBTUQsMkJBQTJCLENBQ3RDQyxTQUFzRCxFQUFFO0lBRXhELElBQUlhLE1BQU1DLE9BQU8sQ0FBQ2QsU0FBUztRQUN6QixPQUFPQTtJQUNUO0lBRUEsT0FBT0Ysd0NBQXdDRTtBQUNqRCJ9

}),
20574: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(4880), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vRmlsdGVyVXRpbHMnO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWMifQ==

}),
68490: (function (__unused_webpack_module, exports) {
"use strict";
/**
 * These utils are for handling field paths in node params (DynList filters and CondVis).
 * For basic fields the fieldPath is currently just the field slug. For fields of an
 * item-reference the fieldPaths are for example `author:post` (separated with SEPARATOR).
 *
 * Encapsulating the internals of fieldPath inside these utils it is easier to refactor the
 * structure of a fieldPath if needed.
 */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    createFieldPath: function() {
        return createFieldPath;
    },
    fieldPathsEqual: function() {
        return fieldPathsEqual;
    },
    getItemRefSlug: function() {
        return getItemRefSlug;
    },
    getValueFieldSlug: function() {
        return getValueFieldSlug;
    },
    isEmptyFieldPath: function() {
        return isEmptyFieldPath;
    },
    isFauxDynContextField: function() {
        return isFauxDynContextField;
    },
    isFieldOfItemRef: function() {
        return isFieldOfItemRef;
    }
});
const SEPARATOR = ':';
const EMPTY_STRING = '';
const isFieldOfItemRef = (fieldPath)=>fieldPath.indexOf(SEPARATOR) !== -1;
const getValueFieldSlug = (fieldPath)=>{
    const splitPath = fieldPath.split(SEPARATOR);
    // @ts-expect-error - TS2322 - Type 'string | undefined' is not assignable to type 'string'.
    return splitPath[splitPath.length - 1];
};
const getItemRefSlug = (fieldPath)=>{
    if (isFieldOfItemRef(fieldPath)) {
        const splitPath = fieldPath.split(SEPARATOR);
        // @ts-expect-error - TS2322 - Type 'string | undefined' is not assignable to type 'string | null'.
        return splitPath[0];
    }
    return null;
};
const createFieldPath = (...fieldSlugs)=>fieldSlugs.join(SEPARATOR);
const isEmptyFieldPath = (a)=>a === EMPTY_STRING;
const fieldPathsEqual = (a, b)=>a === b;
const isFauxDynContextField = (fieldPath)=>!isFieldOfItemRef(fieldPath) && getValueFieldSlug(fieldPath) === '_id';

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlc2UgdXRpbHMgYXJlIGZvciBoYW5kbGluZyBmaWVsZCBwYXRocyBpbiBub2RlIHBhcmFtcyAoRHluTGlzdCBmaWx0ZXJzIGFuZCBDb25kVmlzKS5cbiAqIEZvciBiYXNpYyBmaWVsZHMgdGhlIGZpZWxkUGF0aCBpcyBjdXJyZW50bHkganVzdCB0aGUgZmllbGQgc2x1Zy4gRm9yIGZpZWxkcyBvZiBhblxuICogaXRlbS1yZWZlcmVuY2UgdGhlIGZpZWxkUGF0aHMgYXJlIGZvciBleGFtcGxlIGBhdXRob3I6cG9zdGAgKHNlcGFyYXRlZCB3aXRoIFNFUEFSQVRPUikuXG4gKlxuICogRW5jYXBzdWxhdGluZyB0aGUgaW50ZXJuYWxzIG9mIGZpZWxkUGF0aCBpbnNpZGUgdGhlc2UgdXRpbHMgaXQgaXMgZWFzaWVyIHRvIHJlZmFjdG9yIHRoZVxuICogc3RydWN0dXJlIG9mIGEgZmllbGRQYXRoIGlmIG5lZWRlZC5cbiAqL1xuXG5jb25zdCBTRVBBUkFUT1IgPSAnOic7XG5jb25zdCBFTVBUWV9TVFJJTkcgPSAnJztcblxuZXhwb3J0IGNvbnN0IGlzRmllbGRPZkl0ZW1SZWYgPSAoZmllbGRQYXRoOiBzdHJpbmcpOiBib29sZWFuID0+XG4gIGZpZWxkUGF0aC5pbmRleE9mKFNFUEFSQVRPUikgIT09IC0xO1xuXG5leHBvcnQgY29uc3QgZ2V0VmFsdWVGaWVsZFNsdWcgPSAoZmllbGRQYXRoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBzcGxpdFBhdGggPSBmaWVsZFBhdGguc3BsaXQoU0VQQVJBVE9SKTtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ3N0cmluZyB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnc3RyaW5nJy5cbiAgcmV0dXJuIHNwbGl0UGF0aFtzcGxpdFBhdGgubGVuZ3RoIC0gMV07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SXRlbVJlZlNsdWcgPSAoZmllbGRQYXRoOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKGlzRmllbGRPZkl0ZW1SZWYoZmllbGRQYXRoKSkge1xuICAgIGNvbnN0IHNwbGl0UGF0aCA9IGZpZWxkUGF0aC5zcGxpdChTRVBBUkFUT1IpO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICdzdHJpbmcgfCB1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ3N0cmluZyB8IG51bGwnLlxuICAgIHJldHVybiBzcGxpdFBhdGhbMF07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRmllbGRQYXRoID0gKC4uLmZpZWxkU2x1Z3M6IEFycmF5PHN0cmluZz4pOiBzdHJpbmcgPT5cbiAgZmllbGRTbHVncy5qb2luKFNFUEFSQVRPUik7XG5cbmV4cG9ydCBjb25zdCBpc0VtcHR5RmllbGRQYXRoID0gKGE6IHN0cmluZyk6IGJvb2xlYW4gPT4gYSA9PT0gRU1QVFlfU1RSSU5HO1xuXG5leHBvcnQgY29uc3QgZmllbGRQYXRoc0VxdWFsID0gKGE6IHN0cmluZywgYjogc3RyaW5nKTogYm9vbGVhbiA9PiBhID09PSBiO1xuXG5leHBvcnQgY29uc3QgaXNGYXV4RHluQ29udGV4dEZpZWxkID0gKGZpZWxkUGF0aDogc3RyaW5nKSA9PlxuICAhaXNGaWVsZE9mSXRlbVJlZihmaWVsZFBhdGgpICYmIGdldFZhbHVlRmllbGRTbHVnKGZpZWxkUGF0aCkgPT09ICdfaWQnO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUZpZWxkUGF0aCIsImZpZWxkUGF0aHNFcXVhbCIsImdldEl0ZW1SZWZTbHVnIiwiZ2V0VmFsdWVGaWVsZFNsdWciLCJpc0VtcHR5RmllbGRQYXRoIiwiaXNGYXV4RHluQ29udGV4dEZpZWxkIiwiaXNGaWVsZE9mSXRlbVJlZiIsIlNFUEFSQVRPUiIsIkVNUFRZX1NUUklORyIsImZpZWxkUGF0aCIsImluZGV4T2YiLCJzcGxpdFBhdGgiLCJzcGxpdCIsImxlbmd0aCIsImZpZWxkU2x1Z3MiLCJqb2luIiwiYSIsImIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0NBT0M7Ozs7Ozs7Ozs7O0lBdUJZQSxlQUFlO2VBQWZBOztJQUtBQyxlQUFlO2VBQWZBOztJQWRBQyxjQUFjO2VBQWRBOztJQU5BQyxpQkFBaUI7ZUFBakJBOztJQWtCQUMsZ0JBQWdCO2VBQWhCQTs7SUFJQUMscUJBQXFCO2VBQXJCQTs7SUF6QkFDLGdCQUFnQjtlQUFoQkE7OztBQUhiLE1BQU1DLFlBQVk7QUFDbEIsTUFBTUMsZUFBZTtBQUVkLE1BQU1GLG1CQUFtQixDQUFDRyxZQUMvQkEsVUFBVUMsT0FBTyxDQUFDSCxlQUFlLENBQUM7QUFFN0IsTUFBTUosb0JBQW9CLENBQUNNO0lBQ2hDLE1BQU1FLFlBQVlGLFVBQVVHLEtBQUssQ0FBQ0w7SUFDbEMsNEZBQTRGO0lBQzVGLE9BQU9JLFNBQVMsQ0FBQ0EsVUFBVUUsTUFBTSxHQUFHLEVBQUU7QUFDeEM7QUFFTyxNQUFNWCxpQkFBaUIsQ0FBQ087SUFDN0IsSUFBSUgsaUJBQWlCRyxZQUFZO1FBQy9CLE1BQU1FLFlBQVlGLFVBQVVHLEtBQUssQ0FBQ0w7UUFDbEMsbUdBQW1HO1FBQ25HLE9BQU9JLFNBQVMsQ0FBQyxFQUFFO0lBQ3JCO0lBQ0EsT0FBTztBQUNUO0FBRU8sTUFBTVgsa0JBQWtCLENBQUMsR0FBR2MsYUFDakNBLFdBQVdDLElBQUksQ0FBQ1I7QUFFWCxNQUFNSCxtQkFBbUIsQ0FBQ1ksSUFBdUJBLE1BQU1SO0FBRXZELE1BQU1QLGtCQUFrQixDQUFDZSxHQUFXQyxJQUF1QkQsTUFBTUM7QUFFakUsTUFBTVosd0JBQXdCLENBQUNJLFlBQ3BDLENBQUNILGlCQUFpQkcsY0FBY04sa0JBQWtCTSxlQUFlIn0=

}),
19336: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    applyConditionToNode: function() {
        return applyConditionToNode;
    },
    removeWDynBindEmptyClass: function() {
        return removeWDynBindEmptyClass;
    },
    walkDOM: function() {
        return walkDOM;
    }
});
const _constants = __webpack_require__(29197);
const _ConditionUtils = __webpack_require__(44557);
const removeClass = (node, className)=>{
    if (node.classList.contains(className)) {
        node.classList.remove(className);
        if (node.classList.length === 0) {
            node.removeAttribute('class');
        }
    }
};
const removeWDynBindEmptyClass = (node)=>removeClass(node, _constants.CLASS_NAME_W_DYN_BIND_EMPTY);
const addConditionalVisibilityClass = (node)=>{
    node.classList.add(_constants.CONDITION_INVISIBLE_CLASS);
};
const removeConditionalVisibilityClass = (node)=>removeClass(node, _constants.CONDITION_INVISIBLE_CLASS);
const applyConditionToNode = (node, item, conditionData, graphQLSlugs = false)=>{
    if (!conditionData) {
        return;
    }
    const { condition, timezone } = conditionData;
    if (item) {
        const isVisible = (0, _ConditionUtils.testCondition)({
            item,
            contextItem: null,
            timezone,
            condition,
            graphQLSlugs
        });
        if (isVisible) {
            removeConditionalVisibilityClass(node);
        } else {
            addConditionalVisibilityClass(node);
        }
    }
};
function walkDOM(el, fn) {
    fn(el);
    if (!el || !el.children) {
        return el;
    }
    const children = Array.from(el.children);
    if (!children.length) {
        return el;
    }
    children.forEach((child)=>walkDOM(child, fn));
    return el;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbmRlcmluZ1V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENMQVNTX05BTUVfV19EWU5fQklORF9FTVBUWSxcbiAgQ09ORElUSU9OX0lOVklTSUJMRV9DTEFTUyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL2NvbnN0YW50cyc7XG5pbXBvcnQge3Rlc3RDb25kaXRpb259IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby91dGlscy9Db25kaXRpb25VdGlscyc7XG5cbmNvbnN0IHJlbW92ZUNsYXNzID0gKG5vZGU6IEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGlmIChub2RlLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgaWYgKG5vZGUuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlV0R5bkJpbmRFbXB0eUNsYXNzID0gKG5vZGU6IEVsZW1lbnQpOiB2b2lkID0+XG4gIHJlbW92ZUNsYXNzKG5vZGUsIENMQVNTX05BTUVfV19EWU5fQklORF9FTVBUWSk7XG5cbmNvbnN0IGFkZENvbmRpdGlvbmFsVmlzaWJpbGl0eUNsYXNzID0gKG5vZGU6IEVsZW1lbnQpOiB2b2lkID0+IHtcbiAgbm9kZS5jbGFzc0xpc3QuYWRkKENPTkRJVElPTl9JTlZJU0lCTEVfQ0xBU1MpO1xufTtcblxuY29uc3QgcmVtb3ZlQ29uZGl0aW9uYWxWaXNpYmlsaXR5Q2xhc3MgPSAobm9kZTogRWxlbWVudCk6IHZvaWQgPT5cbiAgcmVtb3ZlQ2xhc3Mobm9kZSwgQ09ORElUSU9OX0lOVklTSUJMRV9DTEFTUyk7XG5cbmV4cG9ydCBjb25zdCBhcHBseUNvbmRpdGlvblRvTm9kZSA9IChcbiAgbm9kZTogRWxlbWVudCxcbiAgaXRlbTogUmVjb3JkPGFueSwgYW55PiB8IG51bGwsXG4gIGNvbmRpdGlvbkRhdGE6IGFueSxcbiAgZ3JhcGhRTFNsdWdzOiBib29sZWFuID0gZmFsc2Vcbik6IHZvaWQgPT4ge1xuICBpZiAoIWNvbmRpdGlvbkRhdGEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7Y29uZGl0aW9uLCB0aW1lem9uZX0gPSBjb25kaXRpb25EYXRhO1xuXG4gIGlmIChpdGVtKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGVzdENvbmRpdGlvbih7XG4gICAgICBpdGVtLFxuICAgICAgY29udGV4dEl0ZW06IG51bGwsXG4gICAgICB0aW1lem9uZSxcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIGdyYXBoUUxTbHVncyxcbiAgICB9KTtcbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICByZW1vdmVDb25kaXRpb25hbFZpc2liaWxpdHlDbGFzcyhub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkQ29uZGl0aW9uYWxWaXNpYmlsaXR5Q2xhc3Mobm9kZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEJyZWFkdGgtZmlyc3QgdHJhdmVyc2FsIG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fSBlbCAtIFJvb3QgZWxlbWVudCB0byBzdGFydCB3aXRoXG4gKiBAcGFyYW0geyhub2RlOiBFbGVtZW50KSA9PiB2b2lkfSBmbiAtIEZ1bmN0aW9uIHRvIHJ1biBmb3IgZXZlcnkgbm9kZSBlbmNvdW50ZXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gd2Fsa0RPTShlbDogRWxlbWVudCwgZm46IChub2RlOiBFbGVtZW50KSA9PiB2b2lkKTogYW55IHtcbiAgZm4oZWwpO1xuXG4gIGlmICghZWwgfHwgIWVsLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcblxuICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuXG4gIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB3YWxrRE9NKGNoaWxkLCBmbikpO1xuXG4gIHJldHVybiBlbDtcbn1cbiJdLCJuYW1lcyI6WyJhcHBseUNvbmRpdGlvblRvTm9kZSIsInJlbW92ZVdEeW5CaW5kRW1wdHlDbGFzcyIsIndhbGtET00iLCJyZW1vdmVDbGFzcyIsIm5vZGUiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImxlbmd0aCIsInJlbW92ZUF0dHJpYnV0ZSIsIkNMQVNTX05BTUVfV19EWU5fQklORF9FTVBUWSIsImFkZENvbmRpdGlvbmFsVmlzaWJpbGl0eUNsYXNzIiwiYWRkIiwiQ09ORElUSU9OX0lOVklTSUJMRV9DTEFTUyIsInJlbW92ZUNvbmRpdGlvbmFsVmlzaWJpbGl0eUNsYXNzIiwiaXRlbSIsImNvbmRpdGlvbkRhdGEiLCJncmFwaFFMU2x1Z3MiLCJjb25kaXRpb24iLCJ0aW1lem9uZSIsImlzVmlzaWJsZSIsInRlc3RDb25kaXRpb24iLCJjb250ZXh0SXRlbSIsImVsIiwiZm4iLCJjaGlsZHJlbiIsIkFycmF5IiwiZnJvbSIsImZvckVhY2giLCJjaGlsZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUF5QmFBLG9CQUFvQjtlQUFwQkE7O0lBVkFDLHdCQUF3QjtlQUF4QkE7O0lBMkNHQyxPQUFPO2VBQVBBOzs7MkJBdkRUO2dDQUNxQjtBQUU1QixNQUFNQyxjQUFjLENBQUNDLE1BQWVDO0lBQ2xDLElBQUlELEtBQUtFLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDRixZQUFZO1FBQ3RDRCxLQUFLRSxTQUFTLENBQUNFLE1BQU0sQ0FBQ0g7UUFDdEIsSUFBSUQsS0FBS0UsU0FBUyxDQUFDRyxNQUFNLEtBQUssR0FBRztZQUMvQkwsS0FBS00sZUFBZSxDQUFDO1FBQ3ZCO0lBQ0Y7QUFDRjtBQUVPLE1BQU1ULDJCQUEyQixDQUFDRyxPQUN2Q0QsWUFBWUMsTUFBTU8sc0NBQTJCO0FBRS9DLE1BQU1DLGdDQUFnQyxDQUFDUjtJQUNyQ0EsS0FBS0UsU0FBUyxDQUFDTyxHQUFHLENBQUNDLG9DQUF5QjtBQUM5QztBQUVBLE1BQU1DLG1DQUFtQyxDQUFDWCxPQUN4Q0QsWUFBWUMsTUFBTVUsb0NBQXlCO0FBRXRDLE1BQU1kLHVCQUF1QixDQUNsQ0ksTUFDQVksTUFDQUMsZUFDQUMsZUFBd0IsS0FBSztJQUU3QixJQUFJLENBQUNELGVBQWU7UUFDbEI7SUFDRjtJQUVBLE1BQU0sRUFBQ0UsU0FBUyxFQUFFQyxRQUFRLEVBQUMsR0FBR0g7SUFFOUIsSUFBSUQsTUFBTTtRQUNSLE1BQU1LLFlBQVlDLElBQUFBLDZCQUFhLEVBQUM7WUFDOUJOO1lBQ0FPLGFBQWE7WUFDYkg7WUFDQUQ7WUFDQUQ7UUFDRjtRQUNBLElBQUlHLFdBQVc7WUFDYk4saUNBQWlDWDtRQUNuQyxPQUFPO1lBQ0xRLDhCQUE4QlI7UUFDaEM7SUFDRjtBQUNGO0FBT08sU0FBU0YsUUFBUXNCLEVBQVcsRUFBRUMsRUFBMkI7SUFDOURBLEdBQUdEO0lBRUgsSUFBSSxDQUFDQSxNQUFNLENBQUNBLEdBQUdFLFFBQVEsRUFBRTtRQUN2QixPQUFPRjtJQUNUO0lBRUEsTUFBTUUsV0FBV0MsTUFBTUMsSUFBSSxDQUFDSixHQUFHRSxRQUFRO0lBRXZDLElBQUksQ0FBQ0EsU0FBU2pCLE1BQU0sRUFBRTtRQUNwQixPQUFPZTtJQUNUO0lBRUFFLFNBQVNHLE9BQU8sQ0FBQyxDQUFDQyxRQUFVNUIsUUFBUTRCLE9BQU9MO0lBRTNDLE9BQU9EO0FBQ1QifQ==

}),
86078: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(19336), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vUmVuZGVyaW5nVXRpbHMnO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWMifQ==

}),
53083: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    _crapCode: function() {
        return _crapCode;
    },
    _test: function() {
        return _test;
    },
    collSlug: function() {
        return collSlug;
    },
    fieldSlug: function() {
        return fieldSlug;
    },
    restoreSlug: function() {
        return restoreSlug;
    }
});
const _invert = /*#__PURE__*/ _interop_require_default(__webpack_require__(61576));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
/**
 * This file exists because GraphQL only allows /^[a-z_][a-z_0-9]$/i identifiers, but we allow things to be slugs,
 * like: "foo-bar". Since we allow characters that are not allowed by GraphQL, we need to convert these slugs into an
 * accepted format.
 *
 * Unfortunately, simple conversions (like what the prototype did: slug.replace(/\W/g, '_')) don't work, because this
 * would encode the slugs "foo-bar" and "foo_bar" to the same value. Both are valid slugs according to our system, and
 * can totally co-exist in a collection schema. So if a site existed that accidentally did something like that, schema
 * generation would fail for that user, which is a big "No bueno".
 */ // Consonants are used instead of the traditional hex characters, since there's
// a lower likelihood of it accidentally spelling something...
const hex_lookup = {
    '0': 'b',
    '1': 'c',
    '2': 'd',
    '3': 'f',
    '4': 'g',
    '5': 'h',
    '6': 'j',
    '7': 'k',
    '8': 'l',
    '9': 'm',
    a: 'n',
    b: 'p',
    c: 'q',
    d: 'r',
    e: 's',
    f: 't'
};
const reverse_hex_lookup = (0, _invert.default)(hex_lookup);
function _crapCode(str) {
    str = String(str);
    // Right is all rejected chars, in a {idx}{letterhex} format. Letter hex is just hex,
    // but all values are shifted into consonants to avoid ambiguities with idx / the hex
    // data. Left is the original string, with all rejected characters replaced with '_'.
    // This stragegy should have a good 1:1 mapping from source to encoded values. It
    // will produce keys that can be used as identifiers in GraphQL. And it also leaves
    // many of the readable characters in the source string alone, so that the slug is
    // still kinda readable:
    const right = [];
    // Left is all acceptable chars, for "readability".
    const left = str.replace(/[^a-z0-9]/gi, (substr, idx)=>{
        // Get hex of invalid character:
        const hex = substr.charCodeAt(0).toString(16);
        // Map to letters, so there's no ambiguity between indexes and char data.
        // @ts-expect-error - TS2769 - No overload matches this call.
        const letters = hex.replace(/./g, (ch)=>hex_lookup[ch]);
        // Push this {idx}{kinda-hex} combo for later concat:
        right.push(String(idx) + letters);
        // ... and replace the invalid char with '_':
        return '_';
    });
    return left + '_' + right.join('');
}
const collSlug = (coll)=>'c_' + _crapCode(coll.slug);
const fieldSlug = (field)=>'f_' + _crapCode(field.slug);
const _test = {
    _crapCode
};
const restoreSlug = (slugWithPrefixAndCrapCode)=>{
    const results = slugWithPrefixAndCrapCode.match(/^[fc]_([_A-Za-z0-9]+)_([0-9bcdfghjklmnpqrst]*)$/);
    if (!results || results.length < 3) {
        // slug is not a valid Dynamo collection or field GraphQL slug,
        // so it does not need to be restored
        return slugWithPrefixAndCrapCode;
    }
    const left = results[1];
    const right = results[2];
    if (!right) {
        // @ts-expect-error - TS2322 - Type 'string | undefined' is not assignable to type 'string'.
        return left;
    }
    // we use a while loop and mutable variables,
    // because node 10 does not support `matchAll`
    // @ts-expect-error - TS18048 - 'left' is possibly 'undefined'.
    const decrapified = left.split('');
    const re = /(\d+)([bcdfghjklmnpqrst]+)/g;
    let matches = re.exec(right);
    while(matches !== null && matches.length > 2){
        const idx = Number(matches[1]);
        const letters = matches[2];
        // @ts-expect-error - TS18048 - 'letters' is possibly 'undefined'. | TS2769 - No overload matches this call.
        const hex = letters.replace(/./g, (ch)=>reverse_hex_lookup[ch]);
        const char = String.fromCharCode(parseInt(hex, 16));
        decrapified[idx] = char;
        matches = re.exec(right);
    }
    return decrapified.join('');
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjaGVtYUVuY29kZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGludmVydCBmcm9tICdsb2Rhc2gvaW52ZXJ0JztcblxuLyoqXG4gKiBUaGlzIGZpbGUgZXhpc3RzIGJlY2F1c2UgR3JhcGhRTCBvbmx5IGFsbG93cyAvXlthLXpfXVthLXpfMC05XSQvaSBpZGVudGlmaWVycywgYnV0IHdlIGFsbG93IHRoaW5ncyB0byBiZSBzbHVncyxcbiAqIGxpa2U6IFwiZm9vLWJhclwiLiBTaW5jZSB3ZSBhbGxvdyBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBhbGxvd2VkIGJ5IEdyYXBoUUwsIHdlIG5lZWQgdG8gY29udmVydCB0aGVzZSBzbHVncyBpbnRvIGFuXG4gKiBhY2NlcHRlZCBmb3JtYXQuXG4gKlxuICogVW5mb3J0dW5hdGVseSwgc2ltcGxlIGNvbnZlcnNpb25zIChsaWtlIHdoYXQgdGhlIHByb3RvdHlwZSBkaWQ6IHNsdWcucmVwbGFjZSgvXFxXL2csICdfJykpIGRvbid0IHdvcmssIGJlY2F1c2UgdGhpc1xuICogd291bGQgZW5jb2RlIHRoZSBzbHVncyBcImZvby1iYXJcIiBhbmQgXCJmb29fYmFyXCIgdG8gdGhlIHNhbWUgdmFsdWUuIEJvdGggYXJlIHZhbGlkIHNsdWdzIGFjY29yZGluZyB0byBvdXIgc3lzdGVtLCBhbmRcbiAqIGNhbiB0b3RhbGx5IGNvLWV4aXN0IGluIGEgY29sbGVjdGlvbiBzY2hlbWEuIFNvIGlmIGEgc2l0ZSBleGlzdGVkIHRoYXQgYWNjaWRlbnRhbGx5IGRpZCBzb21ldGhpbmcgbGlrZSB0aGF0LCBzY2hlbWFcbiAqIGdlbmVyYXRpb24gd291bGQgZmFpbCBmb3IgdGhhdCB1c2VyLCB3aGljaCBpcyBhIGJpZyBcIk5vIGJ1ZW5vXCIuXG4gKi9cblxuLy8gQ29uc29uYW50cyBhcmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSB0cmFkaXRpb25hbCBoZXggY2hhcmFjdGVycywgc2luY2UgdGhlcmUnc1xuLy8gYSBsb3dlciBsaWtlbGlob29kIG9mIGl0IGFjY2lkZW50YWxseSBzcGVsbGluZyBzb21ldGhpbmcuLi5cbmNvbnN0IGhleF9sb29rdXA6IFJlYWRvbmx5PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuICAnMCc6ICdiJyxcbiAgJzEnOiAnYycsXG4gICcyJzogJ2QnLFxuICAnMyc6ICdmJyxcbiAgJzQnOiAnZycsXG4gICc1JzogJ2gnLFxuICAnNic6ICdqJyxcbiAgJzcnOiAnaycsXG4gICc4JzogJ2wnLFxuICAnOSc6ICdtJyxcbiAgYTogJ24nLFxuICBiOiAncCcsXG4gIGM6ICdxJyxcbiAgZDogJ3InLFxuICBlOiAncycsXG4gIGY6ICd0Jyxcbn07XG5cbmNvbnN0IHJldmVyc2VfaGV4X2xvb2t1cDogUmVhZG9ubHk8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4gPSBpbnZlcnQoaGV4X2xvb2t1cCk7XG5cbi8vIENyYXAgY29kZSBlbmNvZGVzIGFueSBzdHJpbmcgdG8gYSAvW19hLXowLTldKi9pIHZlcnNpb24sIGluIGEgd2F5IHRoYXQgaXNcbi8vIHN0aWxsIGtpbmRhIHJlYWRhYmxlLCBhbmQgZG9lc24ndCBoYXZlIGFueSBjb2xsaXNpb25zLiBBbGxvd3MgbnVtZXJpYyBmaXJzdFxuLy8gY2hhcnMsIHNpbmNlIHRoZSBjXy9mXyBwcmVmaXggcHJvdGVjdHMgdXMgZnJvbSB0aGF0IGNhc2UuLi5cbmV4cG9ydCBmdW5jdGlvbiBfY3JhcENvZGUoc3RyPzogc3RyaW5nIHwgbnVsbCkge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcblxuICAvLyBSaWdodCBpcyBhbGwgcmVqZWN0ZWQgY2hhcnMsIGluIGEge2lkeH17bGV0dGVyaGV4fSBmb3JtYXQuIExldHRlciBoZXggaXMganVzdCBoZXgsXG4gIC8vIGJ1dCBhbGwgdmFsdWVzIGFyZSBzaGlmdGVkIGludG8gY29uc29uYW50cyB0byBhdm9pZCBhbWJpZ3VpdGllcyB3aXRoIGlkeCAvIHRoZSBoZXhcbiAgLy8gZGF0YS4gTGVmdCBpcyB0aGUgb3JpZ2luYWwgc3RyaW5nLCB3aXRoIGFsbCByZWplY3RlZCBjaGFyYWN0ZXJzIHJlcGxhY2VkIHdpdGggJ18nLlxuICAvLyBUaGlzIHN0cmFnZWd5IHNob3VsZCBoYXZlIGEgZ29vZCAxOjEgbWFwcGluZyBmcm9tIHNvdXJjZSB0byBlbmNvZGVkIHZhbHVlcy4gSXRcbiAgLy8gd2lsbCBwcm9kdWNlIGtleXMgdGhhdCBjYW4gYmUgdXNlZCBhcyBpZGVudGlmaWVycyBpbiBHcmFwaFFMLiBBbmQgaXQgYWxzbyBsZWF2ZXNcbiAgLy8gbWFueSBvZiB0aGUgcmVhZGFibGUgY2hhcmFjdGVycyBpbiB0aGUgc291cmNlIHN0cmluZyBhbG9uZSwgc28gdGhhdCB0aGUgc2x1ZyBpc1xuICAvLyBzdGlsbCBraW5kYSByZWFkYWJsZTpcbiAgY29uc3QgcmlnaHQ6IEFycmF5PGFueSB8IHN0cmluZz4gPSBbXTtcblxuICAvLyBMZWZ0IGlzIGFsbCBhY2NlcHRhYmxlIGNoYXJzLCBmb3IgXCJyZWFkYWJpbGl0eVwiLlxuICBjb25zdCBsZWZ0ID0gc3RyLnJlcGxhY2UoL1teYS16MC05XS9naSwgKHN1YnN0ciwgaWR4KSA9PiB7XG4gICAgLy8gR2V0IGhleCBvZiBpbnZhbGlkIGNoYXJhY3RlcjpcbiAgICBjb25zdCBoZXggPSBzdWJzdHIuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7XG5cbiAgICAvLyBNYXAgdG8gbGV0dGVycywgc28gdGhlcmUncyBubyBhbWJpZ3VpdHkgYmV0d2VlbiBpbmRleGVzIGFuZCBjaGFyIGRhdGEuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjc2OSAtIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgIGNvbnN0IGxldHRlcnMgPSBoZXgucmVwbGFjZSgvLi9nLCAoY2gpID0+IGhleF9sb29rdXBbY2hdKTtcblxuICAgIC8vIFB1c2ggdGhpcyB7aWR4fXtraW5kYS1oZXh9IGNvbWJvIGZvciBsYXRlciBjb25jYXQ6XG4gICAgcmlnaHQucHVzaChTdHJpbmcoaWR4KSArIGxldHRlcnMpO1xuXG4gICAgLy8gLi4uIGFuZCByZXBsYWNlIHRoZSBpbnZhbGlkIGNoYXIgd2l0aCAnXyc6XG4gICAgcmV0dXJuICdfJztcbiAgfSk7XG5cbiAgcmV0dXJuIGxlZnQgKyAnXycgKyByaWdodC5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbGxTbHVnID0gKGNvbGw6IHtzbHVnOiBzdHJpbmd9KSA9PiAnY18nICsgX2NyYXBDb2RlKGNvbGwuc2x1Zyk7XG5leHBvcnQgY29uc3QgZmllbGRTbHVnID0gKGZpZWxkOiB7c2x1Zzogc3RyaW5nfSkgPT5cbiAgJ2ZfJyArIF9jcmFwQ29kZShmaWVsZC5zbHVnKTtcbmV4cG9ydCBjb25zdCBfdGVzdCA9IHtfY3JhcENvZGV9IGFzIGNvbnN0O1xuXG4vLyB0YWtlcyBhIHNsdWcgdGhhdCBoYXMgYmVlbiBydW4gdGhyb3VnaCBwcmVmaXhpbmcgYW5kIF9jcmFwQ29kZSxcbi8vIHJldmVyc2VzIGNyYXBpZmljYXRpb24gYW5kIHByZWZpeGluZywgYW5kIHJlY29uc3RydWN0cyB0aGUgb3JpZ2luYWwgc2x1Z1xuZXhwb3J0IGNvbnN0IHJlc3RvcmVTbHVnID0gKHNsdWdXaXRoUHJlZml4QW5kQ3JhcENvZGU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHJlc3VsdHMgPSBzbHVnV2l0aFByZWZpeEFuZENyYXBDb2RlLm1hdGNoKFxuICAgIC9eW2ZjXV8oW19BLVphLXowLTldKylfKFswLTliY2RmZ2hqa2xtbnBxcnN0XSopJC9cbiAgKTtcblxuICBpZiAoIXJlc3VsdHMgfHwgcmVzdWx0cy5sZW5ndGggPCAzKSB7XG4gICAgLy8gc2x1ZyBpcyBub3QgYSB2YWxpZCBEeW5hbW8gY29sbGVjdGlvbiBvciBmaWVsZCBHcmFwaFFMIHNsdWcsXG4gICAgLy8gc28gaXQgZG9lcyBub3QgbmVlZCB0byBiZSByZXN0b3JlZFxuICAgIHJldHVybiBzbHVnV2l0aFByZWZpeEFuZENyYXBDb2RlO1xuICB9XG5cbiAgY29uc3QgbGVmdCA9IHJlc3VsdHNbMV07XG4gIGNvbnN0IHJpZ2h0ID0gcmVzdWx0c1syXTtcblxuICBpZiAoIXJpZ2h0KSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ3N0cmluZyB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnc3RyaW5nJy5cbiAgICByZXR1cm4gbGVmdDtcbiAgfVxuXG4gIC8vIHdlIHVzZSBhIHdoaWxlIGxvb3AgYW5kIG11dGFibGUgdmFyaWFibGVzLFxuICAvLyBiZWNhdXNlIG5vZGUgMTAgZG9lcyBub3Qgc3VwcG9ydCBgbWF0Y2hBbGxgXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ2xlZnQnIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICBjb25zdCBkZWNyYXBpZmllZCA9IGxlZnQuc3BsaXQoJycpO1xuICBjb25zdCByZSA9IC8oXFxkKykoW2JjZGZnaGprbG1ucHFyc3RdKykvZztcbiAgbGV0IG1hdGNoZXMgPSByZS5leGVjKHJpZ2h0KTtcblxuICB3aGlsZSAobWF0Y2hlcyAhPT0gbnVsbCAmJiBtYXRjaGVzLmxlbmd0aCA+IDIpIHtcbiAgICBjb25zdCBpZHggPSBOdW1iZXIobWF0Y2hlc1sxXSk7XG4gICAgY29uc3QgbGV0dGVycyA9IG1hdGNoZXNbMl07XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdsZXR0ZXJzJyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy4gfCBUUzI3NjkgLSBObyBvdmVybG9hZCBtYXRjaGVzIHRoaXMgY2FsbC5cbiAgICBjb25zdCBoZXggPSBsZXR0ZXJzLnJlcGxhY2UoLy4vZywgKGNoKSA9PiByZXZlcnNlX2hleF9sb29rdXBbY2hdKTtcbiAgICBjb25zdCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsIDE2KSk7XG5cbiAgICBkZWNyYXBpZmllZFtpZHhdID0gY2hhcjtcbiAgICBtYXRjaGVzID0gcmUuZXhlYyhyaWdodCk7XG4gIH1cblxuICByZXR1cm4gZGVjcmFwaWZpZWQuam9pbignJyk7XG59O1xuIl0sIm5hbWVzIjpbIl9jcmFwQ29kZSIsIl90ZXN0IiwiY29sbFNsdWciLCJmaWVsZFNsdWciLCJyZXN0b3JlU2x1ZyIsImhleF9sb29rdXAiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJyZXZlcnNlX2hleF9sb29rdXAiLCJpbnZlcnQiLCJzdHIiLCJTdHJpbmciLCJyaWdodCIsImxlZnQiLCJyZXBsYWNlIiwic3Vic3RyIiwiaWR4IiwiaGV4IiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwibGV0dGVycyIsImNoIiwicHVzaCIsImpvaW4iLCJjb2xsIiwic2x1ZyIsImZpZWxkIiwic2x1Z1dpdGhQcmVmaXhBbmRDcmFwQ29kZSIsInJlc3VsdHMiLCJtYXRjaCIsImxlbmd0aCIsImRlY3JhcGlmaWVkIiwic3BsaXQiLCJyZSIsIm1hdGNoZXMiLCJleGVjIiwiTnVtYmVyIiwiY2hhciIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXVDZ0JBLFNBQVM7ZUFBVEE7O0lBa0NIQyxLQUFLO2VBQUxBOztJQUhBQyxRQUFRO2VBQVJBOztJQUNBQyxTQUFTO2VBQVRBOztJQU1BQyxXQUFXO2VBQVhBOzs7K0RBN0VNOzs7Ozs7QUFFbkI7Ozs7Ozs7OztDQVNDLEdBRUQsK0VBQStFO0FBQy9FLDhEQUE4RDtBQUM5RCxNQUFNQyxhQUErQztJQUNuRCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0xDLEdBQUc7SUFDSEMsR0FBRztJQUNIQyxHQUFHO0lBQ0hDLEdBQUc7SUFDSEMsR0FBRztJQUNIQyxHQUFHO0FBQ0w7QUFFQSxNQUFNQyxxQkFBdURDLElBQUFBLGVBQU0sRUFBQ1I7QUFLN0QsU0FBU0wsVUFBVWMsR0FBbUI7SUFDM0NBLE1BQU1DLE9BQU9EO0lBRWIscUZBQXFGO0lBQ3JGLHFGQUFxRjtJQUNyRixxRkFBcUY7SUFDckYsaUZBQWlGO0lBQ2pGLG1GQUFtRjtJQUNuRixrRkFBa0Y7SUFDbEYsd0JBQXdCO0lBQ3hCLE1BQU1FLFFBQTZCLEVBQUU7SUFFckMsbURBQW1EO0lBQ25ELE1BQU1DLE9BQU9ILElBQUlJLE9BQU8sQ0FBQyxlQUFlLENBQUNDLFFBQVFDO1FBQy9DLGdDQUFnQztRQUNoQyxNQUFNQyxNQUFNRixPQUFPRyxVQUFVLENBQUMsR0FBR0MsUUFBUSxDQUFDO1FBRTFDLHlFQUF5RTtRQUN6RSw2REFBNkQ7UUFDN0QsTUFBTUMsVUFBVUgsSUFBSUgsT0FBTyxDQUFDLE1BQU0sQ0FBQ08sS0FBT3BCLFVBQVUsQ0FBQ29CLEdBQUc7UUFFeEQscURBQXFEO1FBQ3JEVCxNQUFNVSxJQUFJLENBQUNYLE9BQU9LLE9BQU9JO1FBRXpCLDZDQUE2QztRQUM3QyxPQUFPO0lBQ1Q7SUFFQSxPQUFPUCxPQUFPLE1BQU1ELE1BQU1XLElBQUksQ0FBQztBQUNqQztBQUVPLE1BQU16QixXQUFXLENBQUMwQixPQUF5QixPQUFPNUIsVUFBVTRCLEtBQUtDLElBQUk7QUFDckUsTUFBTTFCLFlBQVksQ0FBQzJCLFFBQ3hCLE9BQU85QixVQUFVOEIsTUFBTUQsSUFBSTtBQUN0QixNQUFNNUIsUUFBUTtJQUFDRDtBQUFTO0FBSXhCLE1BQU1JLGNBQWMsQ0FBQzJCO0lBQzFCLE1BQU1DLFVBQVVELDBCQUEwQkUsS0FBSyxDQUM3QztJQUdGLElBQUksQ0FBQ0QsV0FBV0EsUUFBUUUsTUFBTSxHQUFHLEdBQUc7UUFDbEMsK0RBQStEO1FBQy9ELHFDQUFxQztRQUNyQyxPQUFPSDtJQUNUO0lBRUEsTUFBTWQsT0FBT2UsT0FBTyxDQUFDLEVBQUU7SUFDdkIsTUFBTWhCLFFBQVFnQixPQUFPLENBQUMsRUFBRTtJQUV4QixJQUFJLENBQUNoQixPQUFPO1FBQ1YsNEZBQTRGO1FBQzVGLE9BQU9DO0lBQ1Q7SUFFQSw2Q0FBNkM7SUFDN0MsOENBQThDO0lBQzlDLCtEQUErRDtJQUMvRCxNQUFNa0IsY0FBY2xCLEtBQUttQixLQUFLLENBQUM7SUFDL0IsTUFBTUMsS0FBSztJQUNYLElBQUlDLFVBQVVELEdBQUdFLElBQUksQ0FBQ3ZCO0lBRXRCLE1BQU9zQixZQUFZLFFBQVFBLFFBQVFKLE1BQU0sR0FBRyxFQUFHO1FBQzdDLE1BQU1kLE1BQU1vQixPQUFPRixPQUFPLENBQUMsRUFBRTtRQUM3QixNQUFNZCxVQUFVYyxPQUFPLENBQUMsRUFBRTtRQUUxQiw0R0FBNEc7UUFDNUcsTUFBTWpCLE1BQU1HLFFBQVFOLE9BQU8sQ0FBQyxNQUFNLENBQUNPLEtBQU9iLGtCQUFrQixDQUFDYSxHQUFHO1FBQ2hFLE1BQU1nQixPQUFPMUIsT0FBTzJCLFlBQVksQ0FBQ0MsU0FBU3RCLEtBQUs7UUFFL0NjLFdBQVcsQ0FBQ2YsSUFBSSxHQUFHcUI7UUFDbkJILFVBQVVELEdBQUdFLElBQUksQ0FBQ3ZCO0lBQ3BCO0lBRUEsT0FBT21CLFlBQVlSLElBQUksQ0FBQztBQUMxQiJ9

}),
24915: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(53083), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vU2NoZW1hRW5jb2Rlcic7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBYyJ9

}),
67526: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    collectionSlug: function() {
        return collectionSlug;
    },
    fieldSlug: function() {
        return fieldSlug;
    },
    isDynamoGraphQLFieldSlug: function() {
        return isDynamoGraphQLFieldSlug;
    },
    restoreSlug: function() {
        return _SchemaEncoder.restoreSlug;
    }
});
const _SchemaEncoder = __webpack_require__(24915);
const fieldSlug = (slug)=>(0, _SchemaEncoder.fieldSlug)({
        slug
    });
const DYNAMO_GQL_FIELD_SLUG = 'f_';
const isDynamoGraphQLFieldSlug = (str)=>str.startsWith(DYNAMO_GQL_FIELD_SLUG);
const collectionSlug = (slug)=>(0, _SchemaEncoder.collSlug)({
        slug
    });

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNsdWdVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjb2xsU2x1ZyxcbiAgZmllbGRTbHVnIGFzIF9maWVsZFNsdWcsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby91dGlscy9TY2hlbWFFbmNvZGVyJztcblxuZXhwb3J0IHtyZXN0b3JlU2x1Z30gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL1NjaGVtYUVuY29kZXInO1xuXG5leHBvcnQgY29uc3QgZmllbGRTbHVnID0gKHNsdWc6IHN0cmluZyk6IHN0cmluZyA9PiBfZmllbGRTbHVnKHtzbHVnfSk7XG5cbmNvbnN0IERZTkFNT19HUUxfRklFTERfU0xVRyA9ICdmXyc7XG5leHBvcnQgY29uc3QgaXNEeW5hbW9HcmFwaFFMRmllbGRTbHVnOiAoYXJnMTogc3RyaW5nKSA9PiBib29sZWFuID0gKHN0cikgPT5cbiAgc3RyLnN0YXJ0c1dpdGgoRFlOQU1PX0dRTF9GSUVMRF9TTFVHKTtcblxuZXhwb3J0IGNvbnN0IGNvbGxlY3Rpb25TbHVnID0gKHNsdWc6IHN0cmluZyk6IHN0cmluZyA9PiBjb2xsU2x1Zyh7c2x1Z30pO1xuIl0sIm5hbWVzIjpbImNvbGxlY3Rpb25TbHVnIiwiZmllbGRTbHVnIiwiaXNEeW5hbW9HcmFwaFFMRmllbGRTbHVnIiwicmVzdG9yZVNsdWciLCJzbHVnIiwiX2ZpZWxkU2x1ZyIsIkRZTkFNT19HUUxfRklFTERfU0xVRyIsInN0ciIsInN0YXJ0c1dpdGgiLCJjb2xsU2x1ZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUFhYUEsY0FBYztlQUFkQTs7SUFOQUMsU0FBUztlQUFUQTs7SUFHQUMsd0JBQXdCO2VBQXhCQTs7SUFMTEMsV0FBVztlQUFYQSwwQkFBVzs7OytCQUZaO0FBSUEsTUFBTUYsWUFBWSxDQUFDRyxPQUF5QkMsSUFBQUEsd0JBQVUsRUFBQztRQUFDRDtJQUFJO0FBRW5FLE1BQU1FLHdCQUF3QjtBQUN2QixNQUFNSiwyQkFBc0QsQ0FBQ0ssTUFDbEVBLElBQUlDLFVBQVUsQ0FBQ0Y7QUFFVixNQUFNTixpQkFBaUIsQ0FBQ0ksT0FBeUJLLElBQUFBLHVCQUFRLEVBQUM7UUFBQ0w7SUFBSSJ9

}),
82985: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(67526), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vU2x1Z1V0aWxzJztcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFjIn0=

}),
73141: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "transformers", ({
    enumerable: true,
    get: function() {
        return transformers;
    }
}));
const _escape = /*#__PURE__*/ _interop_require_default(__webpack_require__(28929));
const _momenttimezone = /*#__PURE__*/ _interop_require_default(__webpack_require__(47636));
const _CurrencyUtils = __webpack_require__(60937);
const _DynamoFormattingUtils = __webpack_require__(82688);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// GraphQL api returns date-times as ISO strings and simple dates as YYYY-MM-DD format
const isSimpleDateFormat = (value)=>/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.test(value);
const date = (value, [format], { timezone = 'UTC' })=>{
    if (isSimpleDateFormat(value)) {
        timezone = 'UTC';
    }
    const momentDate = _momenttimezone.default.utc(value, _momenttimezone.default.ISO_8601);
    if (momentDate.isValid()) {
        return momentDate.tz(timezone).format(format);
    } else {
        return '';
    }
};
const detailPage = (value, [collectionIdOrLegacySlug], { collectionSlugMap })=>{
    // Falling back to collectionIdOrLegacySlug because in the legacy filters, it's
    // actually the collection slug. If there's a legacy filter, the collection slug
    // rename is not enabled yet for the site so the href is still accurate.
    const collectionSlug = collectionSlugMap[collectionIdOrLegacySlug] || collectionIdOrLegacySlug;
    return value ? `/${collectionSlug}/${value}` : null;
};
const style = (value, [styleProp])=>{
    if (styleProp === 'background-image') {
        return value ? `url("${value}")` : 'none';
    }
    return value;
};
const numberPrecision = (value, [precision])=>{
    return (0, _DynamoFormattingUtils.formatNumber)(value, precision);
};
const rich = (value, params, { pageLinkHrefPrefix, collectionSlugMap })=>{
    if (!value) {
        return null;
    }
    if (typeof value !== 'string') {
        return value;
    }
    return value.replace(/<a\s+[^>]+/g, (linkString)=>{
        const isPageLink = /\sdata-rt-link-type="page"/.test(linkString);
        const needsPrefix = pageLinkHrefPrefix && isPageLink;
        const collectionIdMatch = isPageLink && /\sdata-rt-link-collectionid="([a-z0-9]{24})"/.exec(linkString);
        if (needsPrefix || collectionIdMatch) {
            return linkString.replace(/(\shref=")([^"]+)/, (match, begin, href)=>{
                const end = collectionIdMatch ? replaceDetailPageHrefCollectionSlug(href, // @ts-expect-error - TS2345 - Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
                collectionIdMatch[1], collectionSlugMap) : href;
                // Need to escape the prefix here as dynamic RTE is added with dangerouslySetInnerHTML in RichText atom.
                const prefix = pageLinkHrefPrefix ? (0, _escape.default)(pageLinkHrefPrefix) : '';
                return `${begin}${prefix}${end}`;
            });
        } else {
            return linkString;
        }
    });
};
// Collection slug may have been renamed so we need to make sure detail
// page links in CMS RichText fields still point to the correct page.
const replaceDetailPageHrefCollectionSlug = (href, collectionId, collectionSlugMap)=>{
    const [emptyString, originalCollectionSlug, ...rest] = href.split('/');
    const collectionSlug = collectionSlugMap[collectionId] || originalCollectionSlug;
    return [
        emptyString,
        collectionSlug,
        ...rest
    ].join('/');
};
const get = (obj, key)=>{
    if (obj != null && typeof obj.get === 'function') {
        return obj.get(key);
    }
    return obj[key];
};
const price = (obj, params, context)=>{
    if (!obj) return null;
    return (0, _CurrencyUtils.renderPriceFromSettings)({
        unit: get(obj, 'unit'),
        value: get(obj, 'value')
    }, context.currencySettings);
};
function getTransformerFn(fnKey) {
    switch(fnKey){
        case 'date':
            {
                return date;
            }
        case 'detailPage':
            {
                return detailPage;
            }
        case 'style':
            {
                return style;
            }
        case 'numberPrecision':
            {
                return numberPrecision;
            }
        case 'rich':
            {
                return rich;
            }
        case 'price':
            {
                return price;
            }
        default:
            {
                return null;
            }
    }
}
const transformers = (value, filter, context)=>{
    const { type: key, params } = filter;
    const fn = getTransformerFn(key);
    return fn ? fn(value, params, context) : value;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyYW5zZm9ybWVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXNjYXBlIGZyb20gJ2xvZGFzaC9lc2NhcGUnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtdGltZXpvbmUnO1xuaW1wb3J0IHtcbiAgdHlwZSBDdXJyZW5jeVNldHRpbmdzLFxuICByZW5kZXJQcmljZUZyb21TZXR0aW5ncyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29yZS91dGlscy9DdXJyZW5jeVV0aWxzJztcbmltcG9ydCB7Zm9ybWF0TnVtYmVyfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vdXRpbHMvRHluYW1vRm9ybWF0dGluZ1V0aWxzJztcbmltcG9ydCB0eXBlIHtCaW5kaW5nVHJhbnNmb3JtZXJ9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2R5bmFtby9iaW5kaW5nLXR5cGVzJztcblxuLy8gR3JhcGhRTCBhcGkgcmV0dXJucyBkYXRlLXRpbWVzIGFzIElTTyBzdHJpbmdzIGFuZCBzaW1wbGUgZGF0ZXMgYXMgWVlZWS1NTS1ERCBmb3JtYXRcbmNvbnN0IGlzU2ltcGxlRGF0ZUZvcm1hdCA9ICh2YWx1ZTogYW55KSA9PlxuICAvXihbMC05XXs0fSktKFswLTldezJ9KS0oWzAtOV17Mn0pJC8udGVzdCh2YWx1ZSk7XG5cbmNvbnN0IGRhdGUgPSAoXG4gIHZhbHVlOiBhbnksXG4gIFtmb3JtYXRdOiBbYW55XSxcbiAge3RpbWV6b25lID0gJ1VUQyd9OiBUcmFuc2Zvcm1lcnNDb250ZXh0XG4pID0+IHtcbiAgaWYgKGlzU2ltcGxlRGF0ZUZvcm1hdCh2YWx1ZSkpIHtcbiAgICB0aW1lem9uZSA9ICdVVEMnO1xuICB9XG5cbiAgY29uc3QgbW9tZW50RGF0ZSA9IG1vbWVudC51dGModmFsdWUsIG1vbWVudC5JU09fODYwMSk7XG5cbiAgaWYgKG1vbWVudERhdGUuaXNWYWxpZCgpKSB7XG4gICAgcmV0dXJuIG1vbWVudERhdGUudHoodGltZXpvbmUpLmZvcm1hdChmb3JtYXQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuY29uc3QgZGV0YWlsUGFnZSA9IChcbiAgdmFsdWU6IGFueSxcbiAgW2NvbGxlY3Rpb25JZE9yTGVnYWN5U2x1Z106IFthbnldLFxuICB7Y29sbGVjdGlvblNsdWdNYXB9OiBUcmFuc2Zvcm1lcnNDb250ZXh0XG4pID0+IHtcbiAgLy8gRmFsbGluZyBiYWNrIHRvIGNvbGxlY3Rpb25JZE9yTGVnYWN5U2x1ZyBiZWNhdXNlIGluIHRoZSBsZWdhY3kgZmlsdGVycywgaXQnc1xuICAvLyBhY3R1YWxseSB0aGUgY29sbGVjdGlvbiBzbHVnLiBJZiB0aGVyZSdzIGEgbGVnYWN5IGZpbHRlciwgdGhlIGNvbGxlY3Rpb24gc2x1Z1xuICAvLyByZW5hbWUgaXMgbm90IGVuYWJsZWQgeWV0IGZvciB0aGUgc2l0ZSBzbyB0aGUgaHJlZiBpcyBzdGlsbCBhY2N1cmF0ZS5cbiAgY29uc3QgY29sbGVjdGlvblNsdWcgPVxuICAgIGNvbGxlY3Rpb25TbHVnTWFwW2NvbGxlY3Rpb25JZE9yTGVnYWN5U2x1Z10gfHwgY29sbGVjdGlvbklkT3JMZWdhY3lTbHVnO1xuICByZXR1cm4gdmFsdWUgPyBgLyR7Y29sbGVjdGlvblNsdWd9LyR7dmFsdWV9YCA6IG51bGw7XG59O1xuXG5jb25zdCBzdHlsZSA9ICh2YWx1ZTogYW55LCBbc3R5bGVQcm9wXTogW2FueV0pID0+IHtcbiAgaWYgKHN0eWxlUHJvcCA9PT0gJ2JhY2tncm91bmQtaW1hZ2UnKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gYHVybChcIiR7dmFsdWV9XCIpYCA6ICdub25lJztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCBudW1iZXJQcmVjaXNpb24gPSAodmFsdWU6IGFueSwgW3ByZWNpc2lvbl06IFthbnldKSA9PiB7XG4gIHJldHVybiBmb3JtYXROdW1iZXIodmFsdWUsIHByZWNpc2lvbik7XG59O1xuXG5jb25zdCByaWNoID0gKFxuICB2YWx1ZTogYW55LFxuICBwYXJhbXM6IGFueSxcbiAge3BhZ2VMaW5rSHJlZlByZWZpeCwgY29sbGVjdGlvblNsdWdNYXB9OiBUcmFuc2Zvcm1lcnNDb250ZXh0XG4pID0+IHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gdmFsdWUucmVwbGFjZSgvPGFcXHMrW14+XSsvZywgKGxpbmtTdHJpbmcpID0+IHtcbiAgICBjb25zdCBpc1BhZ2VMaW5rID0gL1xcc2RhdGEtcnQtbGluay10eXBlPVwicGFnZVwiLy50ZXN0KGxpbmtTdHJpbmcpO1xuICAgIGNvbnN0IG5lZWRzUHJlZml4ID0gcGFnZUxpbmtIcmVmUHJlZml4ICYmIGlzUGFnZUxpbms7XG4gICAgY29uc3QgY29sbGVjdGlvbklkTWF0Y2ggPVxuICAgICAgaXNQYWdlTGluayAmJlxuICAgICAgL1xcc2RhdGEtcnQtbGluay1jb2xsZWN0aW9uaWQ9XCIoW2EtejAtOV17MjR9KVwiLy5leGVjKGxpbmtTdHJpbmcpO1xuXG4gICAgaWYgKG5lZWRzUHJlZml4IHx8IGNvbGxlY3Rpb25JZE1hdGNoKSB7XG4gICAgICByZXR1cm4gbGlua1N0cmluZy5yZXBsYWNlKC8oXFxzaHJlZj1cIikoW15cIl0rKS8sIChtYXRjaCwgYmVnaW4sIGhyZWYpID0+IHtcbiAgICAgICAgY29uc3QgZW5kID0gY29sbGVjdGlvbklkTWF0Y2hcbiAgICAgICAgICA/IHJlcGxhY2VEZXRhaWxQYWdlSHJlZkNvbGxlY3Rpb25TbHVnKFxuICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnc3RyaW5nIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJy5cbiAgICAgICAgICAgICAgY29sbGVjdGlvbklkTWF0Y2hbMV0sXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnTWFwXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBocmVmO1xuICAgICAgICAvLyBOZWVkIHRvIGVzY2FwZSB0aGUgcHJlZml4IGhlcmUgYXMgZHluYW1pYyBSVEUgaXMgYWRkZWQgd2l0aCBkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBSaWNoVGV4dCBhdG9tLlxuICAgICAgICBjb25zdCBwcmVmaXggPSBwYWdlTGlua0hyZWZQcmVmaXggPyBlc2NhcGUocGFnZUxpbmtIcmVmUHJlZml4KSA6ICcnO1xuICAgICAgICByZXR1cm4gYCR7YmVnaW59JHtwcmVmaXh9JHtlbmR9YDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGlua1N0cmluZztcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gQ29sbGVjdGlvbiBzbHVnIG1heSBoYXZlIGJlZW4gcmVuYW1lZCBzbyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBkZXRhaWxcbi8vIHBhZ2UgbGlua3MgaW4gQ01TIFJpY2hUZXh0IGZpZWxkcyBzdGlsbCBwb2ludCB0byB0aGUgY29ycmVjdCBwYWdlLlxuY29uc3QgcmVwbGFjZURldGFpbFBhZ2VIcmVmQ29sbGVjdGlvblNsdWcgPSAoXG4gIGhyZWY6IGFueSxcbiAgY29sbGVjdGlvbklkOiBzdHJpbmcsXG4gIGNvbGxlY3Rpb25TbHVnTWFwOiB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xuICB9XG4pID0+IHtcbiAgY29uc3QgW2VtcHR5U3RyaW5nLCBvcmlnaW5hbENvbGxlY3Rpb25TbHVnLCAuLi5yZXN0XSA9IGhyZWYuc3BsaXQoJy8nKTtcbiAgY29uc3QgY29sbGVjdGlvblNsdWcgPVxuICAgIGNvbGxlY3Rpb25TbHVnTWFwW2NvbGxlY3Rpb25JZF0gfHwgb3JpZ2luYWxDb2xsZWN0aW9uU2x1ZztcbiAgcmV0dXJuIFtlbXB0eVN0cmluZywgY29sbGVjdGlvblNsdWcsIC4uLnJlc3RdLmpvaW4oJy8nKTtcbn07XG5cbmNvbnN0IGdldCA9IChvYmo6IFJlY29yZDxhbnksIGFueT4sIGtleToga2V5b2YgQ29tbWVyY2VQcmljZVBvam8pID0+IHtcbiAgaWYgKG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmouZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iai5nZXQoa2V5KTtcbiAgfVxuICByZXR1cm4gb2JqW2tleV07XG59O1xuXG50eXBlIENvbW1lcmNlUHJpY2VQb2pvID0ge1xuICB2YWx1ZTogbnVtYmVyO1xuICB1bml0OiBzdHJpbmc7XG4gIHN0cmluZzogc3RyaW5nO1xufTtcbnR5cGUgQ29tbWVyY2VQcmljZUltbSA9IHtcbiAgZ2V0OiAodmFsdWU6IGtleW9mIENvbW1lcmNlUHJpY2VQb2pvKSA9PiBhbnk7XG59O1xudHlwZSBDb21tZXJjZVByaWNlQXNJbW1PclBvam8gPSBDb21tZXJjZVByaWNlUG9qbyAmIENvbW1lcmNlUHJpY2VJbW07XG5cbmNvbnN0IHByaWNlID0gKFxuICBvYmo6IENvbW1lcmNlUHJpY2VBc0ltbU9yUG9qbyB8IHVuZGVmaW5lZCxcbiAgcGFyYW1zOiBhbnksXG4gIGNvbnRleHQ6IFRyYW5zZm9ybWVyc0NvbnRleHRcbikgPT4ge1xuICBpZiAoIW9iaikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIHJlbmRlclByaWNlRnJvbVNldHRpbmdzKFxuICAgIHt1bml0OiBnZXQob2JqLCAndW5pdCcpLCB2YWx1ZTogZ2V0KG9iaiwgJ3ZhbHVlJyl9LFxuICAgIGNvbnRleHQuY3VycmVuY3lTZXR0aW5nc1xuICApO1xufTtcblxudHlwZSBUcmFuc2Zvcm1lckZuID1cbiAgfCB0eXBlb2YgZGF0ZVxuICB8IHR5cGVvZiBkZXRhaWxQYWdlXG4gIHwgdHlwZW9mIHN0eWxlXG4gIHwgdHlwZW9mIG51bWJlclByZWNpc2lvblxuICB8IHR5cGVvZiByaWNoXG4gIHwgdHlwZW9mIHByaWNlO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1lckZuKGZuS2V5OiBzdHJpbmcpOiBUcmFuc2Zvcm1lckZuIHwgbnVsbCB7XG4gIHN3aXRjaCAoZm5LZXkpIHtcbiAgICBjYXNlICdkYXRlJzoge1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIGNhc2UgJ2RldGFpbFBhZ2UnOiB7XG4gICAgICByZXR1cm4gZGV0YWlsUGFnZTtcbiAgICB9XG4gICAgY2FzZSAnc3R5bGUnOiB7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICAgIGNhc2UgJ251bWJlclByZWNpc2lvbic6IHtcbiAgICAgIHJldHVybiBudW1iZXJQcmVjaXNpb247XG4gICAgfVxuICAgIGNhc2UgJ3JpY2gnOiB7XG4gICAgICByZXR1cm4gcmljaDtcbiAgICB9XG4gICAgY2FzZSAncHJpY2UnOiB7XG4gICAgICByZXR1cm4gcHJpY2U7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG50eXBlIFRyYW5zZm9ybWVyc0NvbnRleHQgPSB7XG4gIHRpbWV6b25lPzogc3RyaW5nO1xuICBwYWdlTGlua0hyZWZQcmVmaXg/OiBzdHJpbmcgfCBudWxsO1xuICBjb2xsZWN0aW9uU2x1Z01hcDoge1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZztcbiAgfTtcbiAgY3VycmVuY3lTZXR0aW5ncz86IEN1cnJlbmN5U2V0dGluZ3M7XG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZXJzID0gKFxuICB2YWx1ZTogdW5rbm93bixcbiAgZmlsdGVyOiBCaW5kaW5nVHJhbnNmb3JtZXIsXG4gIGNvbnRleHQ6IFRyYW5zZm9ybWVyc0NvbnRleHRcbikgPT4ge1xuICBjb25zdCB7dHlwZToga2V5LCBwYXJhbXN9ID0gZmlsdGVyO1xuICBjb25zdCBmbiA9IGdldFRyYW5zZm9ybWVyRm4oa2V5KTtcbiAgcmV0dXJuIGZuID8gZm4odmFsdWUsIHBhcmFtcywgY29udGV4dCkgOiB2YWx1ZTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNmb3JtZXJzIiwiaXNTaW1wbGVEYXRlRm9ybWF0IiwidmFsdWUiLCJ0ZXN0IiwiZGF0ZSIsImZvcm1hdCIsInRpbWV6b25lIiwibW9tZW50RGF0ZSIsIm1vbWVudCIsInV0YyIsIklTT184NjAxIiwiaXNWYWxpZCIsInR6IiwiZGV0YWlsUGFnZSIsImNvbGxlY3Rpb25JZE9yTGVnYWN5U2x1ZyIsImNvbGxlY3Rpb25TbHVnTWFwIiwiY29sbGVjdGlvblNsdWciLCJzdHlsZSIsInN0eWxlUHJvcCIsIm51bWJlclByZWNpc2lvbiIsInByZWNpc2lvbiIsImZvcm1hdE51bWJlciIsInJpY2giLCJwYXJhbXMiLCJwYWdlTGlua0hyZWZQcmVmaXgiLCJyZXBsYWNlIiwibGlua1N0cmluZyIsImlzUGFnZUxpbmsiLCJuZWVkc1ByZWZpeCIsImNvbGxlY3Rpb25JZE1hdGNoIiwiZXhlYyIsIm1hdGNoIiwiYmVnaW4iLCJocmVmIiwiZW5kIiwicmVwbGFjZURldGFpbFBhZ2VIcmVmQ29sbGVjdGlvblNsdWciLCJwcmVmaXgiLCJlc2NhcGUiLCJjb2xsZWN0aW9uSWQiLCJlbXB0eVN0cmluZyIsIm9yaWdpbmFsQ29sbGVjdGlvblNsdWciLCJyZXN0Iiwic3BsaXQiLCJqb2luIiwiZ2V0Iiwib2JqIiwia2V5IiwicHJpY2UiLCJjb250ZXh0IiwicmVuZGVyUHJpY2VGcm9tU2V0dGluZ3MiLCJ1bml0IiwiY3VycmVuY3lTZXR0aW5ncyIsImdldFRyYW5zZm9ybWVyRm4iLCJmbktleSIsImZpbHRlciIsInR5cGUiLCJmbiJdLCJtYXBwaW5ncyI6Ijs7OzsrQkF1TGFBOzs7ZUFBQUE7OzsrREF2TE07dUVBQ0E7K0JBSVo7dUNBQ29COzs7Ozs7QUFHM0Isc0ZBQXNGO0FBQ3RGLE1BQU1DLHFCQUFxQixDQUFDQyxRQUMxQixxQ0FBcUNDLElBQUksQ0FBQ0Q7QUFFNUMsTUFBTUUsT0FBTyxDQUNYRixPQUNBLENBQUNHLE9BQWMsRUFDZixFQUFDQyxXQUFXLEtBQUssRUFBc0I7SUFFdkMsSUFBSUwsbUJBQW1CQyxR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

}),
61649: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
_export_star(__webpack_require__(73141), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vVHJhbnNmb3JtZXJzJztcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFjIn0=

}),
82216: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    BREAKPOINT_ID_LARGE: function() {
        return BREAKPOINT_ID_LARGE;
    },
    BREAKPOINT_ID_MAIN: function() {
        return BREAKPOINT_ID_MAIN;
    },
    BREAKPOINT_ID_MEDIUM: function() {
        return BREAKPOINT_ID_MEDIUM;
    },
    BREAKPOINT_ID_SMALL: function() {
        return BREAKPOINT_ID_SMALL;
    },
    BREAKPOINT_ID_TINY: function() {
        return BREAKPOINT_ID_TINY;
    },
    BREAKPOINT_ID_XL: function() {
        return BREAKPOINT_ID_XL;
    },
    BREAKPOINT_ID_XXL: function() {
        return BREAKPOINT_ID_XXL;
    },
    DEFAULT_BREAKPOINT_IDS: function() {
        return DEFAULT_BREAKPOINT_IDS;
    },
    LARGER_BREAKPOINT_IDS: function() {
        return LARGER_BREAKPOINT_IDS;
    }
});
const BREAKPOINT_ID_XXL = 'xxl';
const BREAKPOINT_ID_XL = 'xl';
const BREAKPOINT_ID_LARGE = 'large';
const BREAKPOINT_ID_MAIN = 'main';
const BREAKPOINT_ID_MEDIUM = 'medium';
const BREAKPOINT_ID_SMALL = 'small';
const BREAKPOINT_ID_TINY = 'tiny';
const DEFAULT_BREAKPOINT_IDS = [
    BREAKPOINT_ID_MAIN,
    BREAKPOINT_ID_MEDIUM,
    BREAKPOINT_ID_SMALL,
    BREAKPOINT_ID_TINY
];
const LARGER_BREAKPOINT_IDS = [
    BREAKPOINT_ID_LARGE,
    BREAKPOINT_ID_XL,
    BREAKPOINT_ID_XXL
];

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtCcmVha3BvaW50SUR9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL3N0eWxlL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IEJSRUFLUE9JTlRfSURfWFhMID0gJ3h4bCcgYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgQlJFQUtQT0lOVF9JRF9YTCA9ICd4bCcgYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgQlJFQUtQT0lOVF9JRF9MQVJHRSA9ICdsYXJnZScgYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgQlJFQUtQT0lOVF9JRF9NQUlOID0gJ21haW4nIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IEJSRUFLUE9JTlRfSURfTUVESVVNID0gJ21lZGl1bScgYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgQlJFQUtQT0lOVF9JRF9TTUFMTCA9ICdzbWFsbCcgYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgQlJFQUtQT0lOVF9JRF9USU5ZID0gJ3RpbnknIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CUkVBS1BPSU5UX0lEUyA9IFtcbiAgQlJFQUtQT0lOVF9JRF9NQUlOLFxuICBCUkVBS1BPSU5UX0lEX01FRElVTSxcbiAgQlJFQUtQT0lOVF9JRF9TTUFMTCxcbiAgQlJFQUtQT0lOVF9JRF9USU5ZLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IExBUkdFUl9CUkVBS1BPSU5UX0lEUzogQnJlYWtwb2ludElEW10gPSBbXG4gIEJSRUFLUE9JTlRfSURfTEFSR0UsXG4gIEJSRUFLUE9JTlRfSURfWEwsXG4gIEJSRUFLUE9JTlRfSURfWFhMLFxuXTtcbiJdLCJuYW1lcyI6WyJCUkVBS1BPSU5UX0lEX0xBUkdFIiwiQlJFQUtQT0lOVF9JRF9NQUlOIiwiQlJFQUtQT0lOVF9JRF9NRURJVU0iLCJCUkVBS1BPSU5UX0lEX1NNQUxMIiwiQlJFQUtQT0lOVF9JRF9USU5ZIiwiQlJFQUtQT0lOVF9JRF9YTCIsIkJSRUFLUE9JTlRfSURfWFhMIiwiREVGQVVMVF9CUkVBS1BPSU5UX0lEUyIsIkxBUkdFUl9CUkVBS1BPSU5UX0lEUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUFJYUEsbUJBQW1CO2VBQW5CQTs7SUFDQUMsa0JBQWtCO2VBQWxCQTs7SUFDQUMsb0JBQW9CO2VBQXBCQTs7SUFDQUMsbUJBQW1CO2VBQW5CQTs7SUFDQUMsa0JBQWtCO2VBQWxCQTs7SUFMQUMsZ0JBQWdCO2VBQWhCQTs7SUFEQUMsaUJBQWlCO2VBQWpCQTs7SUFRQUMsc0JBQXNCO2VBQXRCQTs7SUFPQUMscUJBQXFCO2VBQXJCQTs7O0FBZk4sTUFBTUYsb0JBQW9CO0FBQzFCLE1BQU1ELG1CQUFtQjtBQUN6QixNQUFNTCxzQkFBc0I7QUFDNUIsTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMscUJBQXFCO0FBRTNCLE1BQU1HLHlCQUF5QjtJQUNwQ047SUFDQUM7SUFDQUM7SUFDQUM7Q0FDRDtBQUVNLE1BQU1JLHdCQUF3QztJQUNuRFI7SUFDQUs7SUFDQUM7Q0FDRCJ9

}),
66725: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    DEFAULT_BREAKPOINTS_CONFIG: function() {
        return DEFAULT_BREAKPOINTS_CONFIG;
    },
    LARGER_BREAKPOINTS_CONFIG: function() {
        return LARGER_BREAKPOINTS_CONFIG;
    }
});
const _breakpointids = __webpack_require__(82216);
const DEFAULT_BREAKPOINTS_CONFIG = {
    [_breakpointids.BREAKPOINT_ID_MAIN]: {
        maxWidth: 10000
    },
    [_breakpointids.BREAKPOINT_ID_MEDIUM]: {
        maxWidth: 991
    },
    [_breakpointids.BREAKPOINT_ID_SMALL]: {
        maxWidth: 767
    },
    [_breakpointids.BREAKPOINT_ID_TINY]: {
        maxWidth: 479
    }
};
const LARGER_BREAKPOINTS_CONFIG = {
    [_breakpointids.BREAKPOINT_ID_MAIN]: {
        maxWidth: 10000
    },
    [_breakpointids.BREAKPOINT_ID_XXL]: {
        minWidth: 1920
    },
    [_breakpointids.BREAKPOINT_ID_XL]: {
        minWidth: 1440
    },
    [_breakpointids.BREAKPOINT_ID_LARGE]: {
        minWidth: 1280
    },
    [_breakpointids.BREAKPOINT_ID_MEDIUM]: {
        maxWidth: 991
    },
    [_breakpointids.BREAKPOINT_ID_SMALL]: {
        maxWidth: 767
    },
    [_breakpointids.BREAKPOINT_ID_TINY]: {
        maxWidth: 479
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJSRUFLUE9JTlRfSURfWFhMLFxuICBCUkVBS1BPSU5UX0lEX1hMLFxuICBCUkVBS1BPSU5UX0lEX0xBUkdFLFxuICBCUkVBS1BPSU5UX0lEX01BSU4sXG4gIEJSRUFLUE9JTlRfSURfTUVESVVNLFxuICBCUkVBS1BPSU5UX0lEX1NNQUxMLFxuICBCUkVBS1BPSU5UX0lEX1RJTlksXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL3N0eWxlL2JyZWFrcG9pbnQtaWRzJztcbmltcG9ydCB0eXBlIHtCcmVha3BvaW50c0NvbmZpZ30gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvc3R5bGUvdHlwZXMnO1xuXG4vKlxuICogRGF0YSB1c2VkIHRvIHN0b3JlIGJyZWFrcG9pbnRzIGluIHRoZSBiYWNrZW5kLlxuICovXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0JSRUFLUE9JTlRTX0NPTkZJRzogQnJlYWtwb2ludHNDb25maWcgPSB7XG4gIFtCUkVBS1BPSU5UX0lEX01BSU5dOiB7XG4gICAgbWF4V2lkdGg6IDEwMDAwLFxuICB9LFxuICBbQlJFQUtQT0lOVF9JRF9NRURJVU1dOiB7XG4gICAgbWF4V2lkdGg6IDk5MSxcbiAgfSxcbiAgW0JSRUFLUE9JTlRfSURfU01BTExdOiB7XG4gICAgbWF4V2lkdGg6IDc2NyxcbiAgfSxcbiAgW0JSRUFLUE9JTlRfSURfVElOWV06IHtcbiAgICBtYXhXaWR0aDogNDc5LFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IExBUkdFUl9CUkVBS1BPSU5UU19DT05GSUc6IEJyZWFrcG9pbnRzQ29uZmlnID0ge1xuICBbQlJFQUtQT0lOVF9JRF9NQUlOXToge1xuICAgIG1heFdpZHRoOiAxMDAwMCxcbiAgfSxcbiAgW0JSRUFLUE9JTlRfSURfWFhMXToge1xuICAgIG1pbldpZHRoOiAxOTIwLFxuICB9LFxuICBbQlJFQUtQT0lOVF9JRF9YTF06IHtcbiAgICBtaW5XaWR0aDogMTQ0MCxcbiAgfSxcbiAgW0JSRUFLUE9JTlRfSURfTEFSR0VdOiB7XG4gICAgbWluV2lkdGg6IDEyODAsXG4gIH0sXG4gIFtCUkVBS1BPSU5UX0lEX01FRElVTV06IHtcbiAgICBtYXhXaWR0aDogOTkxLFxuICB9LFxuICBbQlJFQUtQT0lOVF9JRF9TTUFMTF06IHtcbiAgICBtYXhXaWR0aDogNzY3LFxuICB9LFxuICBbQlJFQUtQT0lOVF9JRF9USU5ZXToge1xuICAgIG1heFdpZHRoOiA0NzksXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbIkRFRkFVTFRfQlJFQUtQT0lOVFNfQ09ORklHIiwiTEFSR0VSX0JSRUFLUE9JTlRTX0NPTkZJRyIsIkJSRUFLUE9JTlRfSURfTUFJTiIsIm1heFdpZHRoIiwiQlJFQUtQT0lOVF9JRF9NRURJVU0iLCJCUkVBS1BPSU5UX0lEX1NNQUxMIiwiQlJFQUtQT0lOVF9JRF9USU5ZIiwiQlJFQUtQT0lOVF9JRF9YWEwiLCJtaW5XaWR0aCIsIkJSRUFLUE9JTlRfSURfWEwiLCJCUkVBS1BPSU5UX0lEX0xBUkdFIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWVhQSwwQkFBMEI7ZUFBMUJBOztJQWVBQyx5QkFBeUI7ZUFBekJBOzs7K0JBdEJOO0FBT0EsTUFBTUQsNkJBQWdEO0lBQzNELENBQUNFLGlDQUFrQixDQUFDLEVBQUU7UUFDcEJDLFVBQVU7SUFDWjtJQUNBLENBQUNDLG1DQUFvQixDQUFDLEVBQUU7UUFDdEJELFVBQVU7SUFDWjtJQUNBLENBQUNFLGtDQUFtQixDQUFDLEVBQUU7UUFDckJGLFVBQVU7SUFDWjtJQUNBLENBQUNHLGlDQUFrQixDQUFDLEVBQUU7UUFDcEJILFVBQVU7SUFDWjtBQUNGO0FBRU8sTUFBTUYsNEJBQStDO0lBQzFELENBQUNDLGlDQUFrQixDQUFDLEVBQUU7UUFDcEJDLFVBQVU7SUFDWjtJQUNBLENBQUNJLGdDQUFpQixDQUFDLEVBQUU7UUFDbkJDLFVBQVU7SUFDWjtJQUNBLENBQUNDLCtCQUFnQixDQUFDLEVBQUU7UUFDbEJELFVBQVU7SUFDWjtJQUNBLENBQUNFLGtDQUFtQixDQUFDLEVBQUU7UUFDckJGLFVBQVU7SUFDWjtJQUNBLENBQUNKLG1DQUFvQixDQUFDLEVBQUU7UUFDdEJELFVBQVU7SUFDWjtJQUNBLENBQUNFLGtDQUFtQixDQUFDLEVBQUU7UUFDckJGLFVBQVU7SUFDWjtJQUNBLENBQUNHLGlDQUFrQixDQUFDLEVBQUU7UUFDcEJILFVBQVU7SUFDWjtBQUNGIn0=

}),
33001: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ERROR_ATTRIBUTE_PREFIX: function() {
        return ERROR_ATTRIBUTE_PREFIX;
    },
    ERROR_MSG_CLASS: function() {
        return ERROR_MSG_CLASS;
    },
    ERROR_STATE: function() {
        return ERROR_STATE;
    },
    ErrorStateToCopy: function() {
        return ErrorStateToCopy;
    },
    FORM_GENERIC_ERROR_PATH: function() {
        return FORM_GENERIC_ERROR_PATH;
    },
    FORM_REQUIRED_ERROR_PATH: function() {
        return FORM_REQUIRED_ERROR_PATH;
    },
    FORM_TOO_LARGE_ERROR_PATH: function() {
        return FORM_TOO_LARGE_ERROR_PATH;
    },
    FORM_TOO_SMALL_ERROR_PATH: function() {
        return FORM_TOO_SMALL_ERROR_PATH;
    },
    FORM_TYPE_ERROR_PATH: function() {
        return FORM_TYPE_ERROR_PATH;
    },
    LOGIN_UI_ERROR_CODES: function() {
        return LOGIN_UI_ERROR_CODES;
    },
    RESET_PASSWORD_UI_ERROR_CODES: function() {
        return RESET_PASSWORD_UI_ERROR_CODES;
    },
    SERVER_DATA_VALIDATION_ERRORS: function() {
        return SERVER_DATA_VALIDATION_ERRORS;
    },
    SIGNUP_ERROR_CATEGORY: function() {
        return SIGNUP_ERROR_CATEGORY;
    },
    SIGNUP_UI_ERROR_CODES: function() {
        return SIGNUP_UI_ERROR_CODES;
    },
    UPDATE_ACCOUNT_ERROR_CODES: function() {
        return UPDATE_ACCOUNT_ERROR_CODES;
    },
    UPDATE_PASSWORD_UI_ERROR_CODES: function() {
        return UPDATE_PASSWORD_UI_ERROR_CODES;
    },
    USER_FILE_UPLOAD_ERRORS: function() {
        return USER_FILE_UPLOAD_ERRORS;
    },
    __DEPRECATED__logInErrorStates: function() {
        return __DEPRECATED__logInErrorStates;
    },
    logInErrorStates: function() {
        return logInErrorStates;
    },
    resetPasswordErrorStates: function() {
        return resetPasswordErrorStates;
    },
    signUpErrorStates: function() {
        return signUpErrorStates;
    },
    updateAccountErrorStates: function() {
        return updateAccountErrorStates;
    },
    updatePasswordErrorStates: function() {
        return updatePasswordErrorStates;
    }
});
const ERROR_MSG_CLASS = 'user-form-error-msg';
const ERROR_STATE = {
    SIGNUP: 'signup-error-state',
    LOGIN: 'login-error-state',
    UPDATE_PASSWORD: 'update-password-error-state',
    RESET_PASSWORD: 'reset-password-error-state',
    ACCOUNT_UPDATE: 'account-update-error-state'
};
const ErrorStateToCopy = (errorStateType, id)=>{
    if (errorStateType === 'signup-error-state') {
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"GENERAL_ERROR" | "NOT_ALLOWED" | "NOT_VERIFIED" | "EMAIL_ALREADY_EXIST" | "USE_INVITE_EMAIL" | "INVALID_EMAIL" | "INVALID_PASSWORD" | "EXPIRED_TOKEN" | "VALIDATION_FAILED" | "REQUIRED", ErrorStateType>>'.
        return signUpErrorStates[id]?.copy ?? null;
    }
    if (errorStateType === 'login-error-state') {
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"GENERAL_ERROR" | "INVALID_EMAIL_OR_PASSWORD", ErrorStateType>>'.
        return logInErrorStates[id]?.copy ?? null;
    }
    if (errorStateType === 'update-password-error-state') {
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"GENERAL_ERROR" | "WEAK_PASSWORD", ErrorStateType>>'.
        return updatePasswordErrorStates[id]?.copy ?? null;
    }
    if (errorStateType === 'reset-password-error-state') {
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"GENERAL_ERROR", ErrorStateType>>'.
        return resetPasswordErrorStates[id]?.copy ?? null;
    }
    if (errorStateType === 'account-update-error-state') {
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"GENERAL_ERROR", ErrorStateType>>'.
        return updateAccountErrorStates[id]?.copy ?? null;
    }
    console.error(`copy for ${errorStateType} not found`);
    return null;
};
const SERVER_DATA_VALIDATION_ERRORS = {
    RequiredError: 'EmptyValue',
    MinSizeError: 'MinSizeError',
    MaxSizeError: 'MaxSizeError',
    ExtensionsError: 'ExtensionsError',
    DefaultError: 'DefaultError'
};
const LOGIN_UI_ERROR_CODES = {
    GENERAL_ERROR: 'GENERAL_ERROR',
    INVALID_EMAIL_OR_PASSWORD: 'INVALID_EMAIL_OR_PASSWORD'
};
const SIGNUP_UI_ERROR_CODES = {
    GENERAL_ERROR: 'GENERAL_ERROR',
    NOT_ALLOWED: 'NOT_ALLOWED',
    NOT_VERIFIED: 'NOT_VERIFIED',
    EMAIL_ALREADY_EXIST: 'EMAIL_ALREADY_EXIST',
    USE_INVITE_EMAIL: 'USE_INVITE_EMAIL',
    INVALID_EMAIL: 'INVALID_EMAIL',
    INVALID_PASSWORD: 'INVALID_PASSWORD',
    EXPIRED_TOKEN: 'EXPIRED_TOKEN',
    VALIDATION_FAILED: 'VALIDATION_FAILED',
    REQUIRED: 'REQUIRED'
};
const ERROR_ATTRIBUTE_PREFIX = {
    SIGNUP: 'wf-signup-form',
    LOGIN: 'wf-login-form',
    RESET_PASSWORD: 'wf-reset-pw-form',
    UPDATE_PASSWORD: 'wf-update-pw-form',
    ACCOUNT_UPDATE: 'wf-account-update-form'
};
const UPDATE_PASSWORD_UI_ERROR_CODES = {
    GENERAL_ERROR: 'GENERAL_ERROR',
    WEAK_PASSWORD: 'WEAK_PASSWORD'
};
const RESET_PASSWORD_UI_ERROR_CODES = {
    GENERAL_ERROR: 'GENERAL_ERROR'
};
const TOO_LARGE_ERR = 'TOO_LARGE_ERROR';
const TOO_SMALL_ERR = 'TOO_SMALL_ERROR';
const TYPE_ERR = 'TYPE_ERROR';
const GENERIC_ERR = 'GENERIC_ERROR';
const REQUIRED_ERR = 'REQUIRED_ERROR';
const USER_FILE_UPLOAD_ERRORS = {
    GENERIC: {
        id: GENERIC_ERR,
        msg: 'Upload failed. Something went wrong. Please retry.',
        path: [
            'data',
            'form',
            GENERIC_ERR
        ]
    },
    TOO_LARGE: {
        id: TOO_LARGE_ERR,
        msg: 'Upload failed. File too large.',
        path: [
            'data',
            'form',
            TOO_LARGE_ERR
        ]
    },
    TOO_SMALL: {
        id: TOO_SMALL_ERR,
        msg: 'Upload failed. File too small.',
        path: [
            'data',
            'form',
            TOO_SMALL_ERR
        ]
    },
    TYPE: {
        id: TYPE_ERR,
        msg: 'Upload failed. Invalid file type.',
        path: [
            'data',
            'form',
            TYPE_ERR
        ]
    },
    REQUIRED: {
        id: REQUIRED_ERR,
        msg: 'Please upload a file.',
        path: [
            'data',
            'form',
            REQUIRED_ERR
        ]
    }
};
const FORM_PATH = [
    {
        in: 'Record',
        at: 'form'
    }
];
const FORM_TOO_LARGE_ERROR_PATH = [
    ...FORM_PATH,
    {
        in: 'Record',
        at: TOO_LARGE_ERR
    }
];
const FORM_TOO_SMALL_ERROR_PATH = [
    ...FORM_PATH,
    {
        in: 'Record',
        at: TOO_SMALL_ERR
    }
];
const FORM_TYPE_ERROR_PATH = [
    ...FORM_PATH,
    {
        in: 'Record',
        at: TYPE_ERR
    }
];
const FORM_GENERIC_ERROR_PATH = [
    ...FORM_PATH,
    {
        in: 'Record',
        at: GENERIC_ERR
    }
];
const FORM_REQUIRED_ERROR_PATH = [
    ...FORM_PATH,
    {
        in: 'Record',
        at: REQUIRED_ERR
    }
];
const __DEPRECATED__logInErrorStates = {
    [LOGIN_UI_ERROR_CODES.GENERAL_ERROR]: {
        id: LOGIN_UI_ERROR_CODES.GENERAL_ERROR,
        name: 'General error',
        copy: "We're having trouble logging you in. Please try again, or contact us if you continue to have problems.",
        path: [
            'data',
            'users',
            LOGIN_UI_ERROR_CODES.GENERAL_ERROR
        ]
    }
};
const logInErrorStates = {
    [LOGIN_UI_ERROR_CODES.GENERAL_ERROR]: {
        id: LOGIN_UI_ERROR_CODES.GENERAL_ERROR,
        name: 'General error',
        copy: "We're having trouble logging you in. Please try again, or contact us if you continue to have problems.",
        path: [
            'data',
            'users',
            LOGIN_UI_ERROR_CODES.GENERAL_ERROR
        ]
    },
    [LOGIN_UI_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD]: {
        id: LOGIN_UI_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD,
        name: 'Wrong email or password',
        copy: 'Invalid email or password. Please try again.',
        path: [
            'data',
            'users',
            LOGIN_UI_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD
        ]
    }
};
const SIGNUP_ERROR_CATEGORY = {
    GENERAL: {
        id: 'GENERAL',
        label: 'General Errors'
    },
    EMAIL: {
        id: 'EMAIL',
        label: 'Email Errors'
    },
    PASSWORD: {
        id: 'PASSWORD',
        label: 'Password Errors'
    },
    INVITE: {
        id: 'INVITE',
        label: 'Invitation Errors'
    },
    VERFIICATION: {
        id: 'VERIFCATION',
        label: 'Verification Errors'
    },
    VALIDATION: {
        id: 'VALIDATION',
        label: 'Validation Errors'
    }
};
const signUpErrorStates = {
    [SIGNUP_UI_ERROR_CODES.GENERAL_ERROR]: {
        id: SIGNUP_UI_ERROR_CODES.GENERAL_ERROR,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "GENERAL_ERROR"; category: { readonly id: "GENERAL"; readonly label: "General Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.GENERAL,
        name: 'General error',
        copy: 'There was an error signing you up. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.GENERAL_ERROR
        ]
    },
    [SIGNUP_UI_ERROR_CODES.NOT_ALLOWED]: {
        id: SIGNUP_UI_ERROR_CODES.NOT_ALLOWED,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "NOT_ALLOWED"; category: { readonly id: "EMAIL"; readonly label: "Email Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.EMAIL,
        name: 'Email not allowed',
        copy: "You're not allowed to access this site, please contact the admin for support.",
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.NOT_ALLOWED
        ]
    },
    // email errors
    [SIGNUP_UI_ERROR_CODES.INVALID_EMAIL]: {
        id: SIGNUP_UI_ERROR_CODES.INVALID_EMAIL,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "INVALID_EMAIL"; category: { readonly id: "EMAIL"; readonly label: "Email Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.EMAIL,
        name: 'Invalid email',
        copy: 'Make sure your email exists and is properly formatted (e.g., user@domain.com).',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.INVALID_EMAIL
        ]
    },
    [SIGNUP_UI_ERROR_CODES.EMAIL_ALREADY_EXIST]: {
        id: SIGNUP_UI_ERROR_CODES.EMAIL_ALREADY_EXIST,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "EMAIL_ALREADY_EXIST"; category: { readonly id: "EMAIL"; readonly label: "Email Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.EMAIL,
        name: 'Email already exists',
        copy: 'An account with this email address already exists. Log in or reset your password.',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.EMAIL_ALREADY_EXIST
        ]
    },
    // invitation errors
    [SIGNUP_UI_ERROR_CODES.USE_INVITE_EMAIL]: {
        id: SIGNUP_UI_ERROR_CODES.USE_INVITE_EMAIL,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "USE_INVITE_EMAIL"; category: { readonly id: "INVITE"; readonly label: "Invitation Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.INVITE,
        name: 'Must use invite email',
        copy: 'Use the same email address your invitation was sent to.',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.USE_INVITE_EMAIL
        ]
    },
    // password errors
    [SIGNUP_UI_ERROR_CODES.INVALID_PASSWORD]: {
        id: SIGNUP_UI_ERROR_CODES.INVALID_PASSWORD,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "INVALID_PASSWORD"; category: { readonly id: "PASSWORD"; readonly label: "Password Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.PASSWORD,
        name: 'Invalid password',
        copy: 'Your password must be at least 8 characters.',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.INVALID_PASSWORD
        ]
    },
    // verification errors
    [SIGNUP_UI_ERROR_CODES.NOT_VERIFIED]: {
        id: SIGNUP_UI_ERROR_CODES.NOT_VERIFIED,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "NOT_VERIFIED"; category: { readonly id: "VERIFCATION"; readonly label: "Verification Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.VERFIICATION,
        name: 'Verification failed',
        copy: "We couldn't verify your account. Please try again, or contact us if you continue to have problems.",
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.NOT_VERIFIED
        ]
    },
    [SIGNUP_UI_ERROR_CODES.EXPIRED_TOKEN]: {
        id: SIGNUP_UI_ERROR_CODES.EXPIRED_TOKEN,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "EXPIRED_TOKEN"; category: { readonly id: "VERIFCATION"; readonly label: "Verification Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.VERFIICATION,
        name: 'Verification expired',
        copy: 'This link has expired. A new link has been sent to your email. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.EXPIRED_TOKEN
        ]
    },
    [SIGNUP_UI_ERROR_CODES.VALIDATION_FAILED]: {
        id: SIGNUP_UI_ERROR_CODES.VALIDATION_FAILED,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "VALIDATION_FAILED"; category: { readonly id: "VALIDATION"; readonly label: "Validation Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.VALIDATION,
        name: 'Validation error',
        copy: 'There was an error in some of the information provided.',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.VALIDATION_FAILED
        ]
    },
    [SIGNUP_UI_ERROR_CODES.REQUIRED]: {
        id: SIGNUP_UI_ERROR_CODES.REQUIRED,
        // @ts-expect-error - TS2418 - Type of computed property's value is '{ id: "REQUIRED"; category: { readonly id: "VALIDATION"; readonly label: "Validation Errors"; }; name: string; copy: string; path: string[]; }', which is not assignable to type 'ErrorStateType'.
        category: SIGNUP_ERROR_CATEGORY.VALIDATION,
        name: 'Missing information',
        copy: 'Fill out all required fields',
        path: [
            'data',
            'users',
            SIGNUP_UI_ERROR_CODES.REQUIRED
        ]
    }
};
const updatePasswordErrorStates = {
    [UPDATE_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR]: {
        id: UPDATE_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR,
        name: 'General error',
        copy: 'There was an error updating your password. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'users',
            UPDATE_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR
        ]
    },
    [UPDATE_PASSWORD_UI_ERROR_CODES.WEAK_PASSWORD]: {
        id: UPDATE_PASSWORD_UI_ERROR_CODES.WEAK_PASSWORD,
        name: 'Weak password',
        copy: 'Your password must be at least 8 characters.',
        path: [
            'data',
            'users',
            UPDATE_PASSWORD_UI_ERROR_CODES.WEAK_PASSWORD
        ]
    }
};
const resetPasswordErrorStates = {
    [RESET_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR]: {
        id: RESET_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR,
        name: 'General error',
        copy: 'There was an error resetting your password. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'users',
            RESET_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR
        ]
    }
};
const UPDATE_ACCOUNT_ERROR_CODES = {
    GENERAL_ERROR: 'GENERAL_ERROR'
};
const updateAccountErrorStates = {
    [UPDATE_ACCOUNT_ERROR_CODES.GENERAL_ERROR]: {
        id: UPDATE_ACCOUNT_ERROR_CODES.GENERAL_ERROR,
        name: 'General error',
        copy: 'There was an error updating your account. Please try again, or contact us if you continue to have problems.',
        path: [
            'data',
            'users',
            UPDATE_ACCOUNT_ERROR_CODES.GENERAL_ERROR
        ]
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yU3RhdGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIEVycm9yU3RhdGVUeXBlID0ge1xuICBpZDogc3RyaW5nO1xuICBjb3B5OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcGF0aDogQXJyYXk8c3RyaW5nPjtcbn07XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9NU0dfQ0xBU1MgPSAndXNlci1mb3JtLWVycm9yLW1zZyc7XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9TVEFURSA9IHtcbiAgU0lHTlVQOiAnc2lnbnVwLWVycm9yLXN0YXRlJyxcbiAgTE9HSU46ICdsb2dpbi1lcnJvci1zdGF0ZScsXG4gIFVQREFURV9QQVNTV09SRDogJ3VwZGF0ZS1wYXNzd29yZC1lcnJvci1zdGF0ZScsXG4gIFJFU0VUX1BBU1NXT1JEOiAncmVzZXQtcGFzc3dvcmQtZXJyb3Itc3RhdGUnLFxuICBBQ0NPVU5UX1VQREFURTogJ2FjY291bnQtdXBkYXRlLWVycm9yLXN0YXRlJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBFcnJvclN0YXRlVG9Db3B5ID0gKFxuICBlcnJvclN0YXRlVHlwZTogKHR5cGVvZiBFUlJPUl9TVEFURSlba2V5b2YgdHlwZW9mIEVSUk9SX1NUQVRFXSxcbiAgaWQ6IHN0cmluZ1xuKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmIChlcnJvclN0YXRlVHlwZSA9PT0gJ3NpZ251cC1lcnJvci1zdGF0ZScpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAnUGFydGlhbDxSZWNvcmQ8XCJHRU5FUkFMX0VSUk9SXCIgfCBcIk5PVF9BTExPV0VEXCIgfCBcIk5PVF9WRVJJRklFRFwiIHwgXCJFTUFJTF9BTFJFQURZX0VYSVNUXCIgfCBcIlVTRV9JTlZJVEVfRU1BSUxcIiB8IFwiSU5WQUxJRF9FTUFJTFwiIHwgXCJJTlZBTElEX1BBU1NXT1JEXCIgfCBcIkVYUElSRURfVE9LRU5cIiB8IFwiVkFMSURBVElPTl9GQUlMRURcIiB8IFwiUkVRVUlSRURcIiwgRXJyb3JTdGF0ZVR5cGU+PicuXG4gICAgcmV0dXJuIHNpZ25VcEVycm9yU3RhdGVzW2lkXT8uY29weSA/PyBudWxsO1xuICB9XG4gIGlmIChlcnJvclN0YXRlVHlwZSA9PT0gJ2xvZ2luLWVycm9yLXN0YXRlJykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICdQYXJ0aWFsPFJlY29yZDxcIkdFTkVSQUxfRVJST1JcIiB8IFwiSU5WQUxJRF9FTUFJTF9PUl9QQVNTV09SRFwiLCBFcnJvclN0YXRlVHlwZT4+Jy5cbiAgICByZXR1cm4gbG9nSW5FcnJvclN0YXRlc1tpZF0/LmNvcHkgPz8gbnVsbDtcbiAgfVxuICBpZiAoZXJyb3JTdGF0ZVR5cGUgPT09ICd1cGRhdGUtcGFzc3dvcmQtZXJyb3Itc3RhdGUnKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ1BhcnRpYWw8UmVjb3JkPFwiR0VORVJBTF9FUlJPUlwiIHwgXCJXRUFLX1BBU1NXT1JEXCIsIEVycm9yU3RhdGVUeXBlPj4nLlxuICAgIHJldHVybiB1cGRhdGVQYXNzd29yZEVycm9yU3RhdGVzW2lkXT8uY29weSA/PyBudWxsO1xuICB9XG4gIGlmIChlcnJvclN0YXRlVHlwZSA9PT0gJ3Jlc2V0LXBhc3N3b3JkLWVycm9yLXN0YXRlJykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICdQYXJ0aWFsPFJlY29yZDxcIkdFTkVSQUxfRVJST1JcIiwgRXJyb3JTdGF0ZVR5cGU+PicuXG4gICAgcmV0dXJuIHJlc2V0UGFzc3dvcmRFcnJvclN0YXRlc1tpZF0/LmNvcHkgPz8gbnVsbDtcbiAgfVxuICBpZiAoZXJyb3JTdGF0ZVR5cGUgPT09ICdhY2NvdW50LXVwZGF0ZS1lcnJvci1zdGF0ZScpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAnUGFydGlhbDxSZWNvcmQ8XCJHRU5FUkFMX0VSUk9SXCIsIEVycm9yU3RhdGVUeXBlPj4nLlxuICAgIHJldHVybiB1cGRhdGVBY2NvdW50RXJyb3JTdGF0ZXNbaWRdPy5jb3B5ID8/IG51bGw7XG4gIH1cbiAgY29uc29sZS5lcnJvcihgY29weSBmb3IgJHtlcnJvclN0YXRlVHlwZX0gbm90IGZvdW5kYCk7XG4gIHJldHVybiBudWxsO1xufTtcblxuLy8gZXJyb3IgY29kZXMgcmV0dXJuZWQgYWZ0ZXIgZmllbGQgdmFsaWRhdGlvbi4gd2FybmluZzogc2hpcHBlZCBqcyB3aWxsIHVzZSB0aGlzIHNvIGFkZCBidXQgbmV2ZXIgcmVtb3ZlIGZyb20gaXQuXG5leHBvcnQgY29uc3QgU0VSVkVSX0RBVEFfVkFMSURBVElPTl9FUlJPUlMgPSB7XG4gIFJlcXVpcmVkRXJyb3I6ICdFbXB0eVZhbHVlJyxcbiAgTWluU2l6ZUVycm9yOiAnTWluU2l6ZUVycm9yJyxcbiAgTWF4U2l6ZUVycm9yOiAnTWF4U2l6ZUVycm9yJyxcbiAgRXh0ZW5zaW9uc0Vycm9yOiAnRXh0ZW5zaW9uc0Vycm9yJyxcbiAgRGVmYXVsdEVycm9yOiAnRGVmYXVsdEVycm9yJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBMT0dJTl9VSV9FUlJPUl9DT0RFUyA9IHtcbiAgR0VORVJBTF9FUlJPUjogJ0dFTkVSQUxfRVJST1InLFxuICBJTlZBTElEX0VNQUlMX09SX1BBU1NXT1JEOiAnSU5WQUxJRF9FTUFJTF9PUl9QQVNTV09SRCcsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgU0lHTlVQX1VJX0VSUk9SX0NPREVTID0ge1xuICBHRU5FUkFMX0VSUk9SOiAnR0VORVJBTF9FUlJPUicsXG4gIE5PVF9BTExPV0VEOiAnTk9UX0FMTE9XRUQnLFxuICBOT1RfVkVSSUZJRUQ6ICdOT1RfVkVSSUZJRUQnLFxuICBFTUFJTF9BTFJFQURZX0VYSVNUOiAnRU1BSUxfQUxSRUFEWV9FWElTVCcsXG4gIFVTRV9JTlZJVEVfRU1BSUw6ICdVU0VfSU5WSVRFX0VNQUlMJyxcbiAgSU5WQUxJRF9FTUFJTDogJ0lOVkFMSURfRU1BSUwnLFxuICBJTlZBTElEX1BBU1NXT1JEOiAnSU5WQUxJRF9QQVNTV09SRCcsXG4gIEVYUElSRURfVE9LRU46ICdFWFBJUkVEX1RPS0VOJyxcbiAgVkFMSURBVElPTl9GQUlMRUQ6ICdWQUxJREFUSU9OX0ZBSUxFRCcsXG4gIFJFUVVJUkVEOiAnUkVRVUlSRUQnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEVSUk9SX0FUVFJJQlVURV9QUkVGSVggPSB7XG4gIFNJR05VUDogJ3dmLXNpZ251cC1mb3JtJyxcbiAgTE9HSU46ICd3Zi1sb2dpbi1mb3JtJyxcbiAgUkVTRVRfUEFTU1dPUkQ6ICd3Zi1yZXNldC1wdy1mb3JtJyxcbiAgVVBEQVRFX1BBU1NXT1JEOiAnd2YtdXBkYXRlLXB3LWZvcm0nLFxuICBBQ0NPVU5UX1VQREFURTogJ3dmLWFjY291bnQtdXBkYXRlLWZvcm0nLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVQREFURV9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUyA9IHtcbiAgR0VORVJBTF9FUlJPUjogJ0dFTkVSQUxfRVJST1InLFxuICBXRUFLX1BBU1NXT1JEOiAnV0VBS19QQVNTV09SRCcsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgUkVTRVRfUEFTU1dPUkRfVUlfRVJST1JfQ09ERVMgPSB7XG4gIEdFTkVSQUxfRVJST1I6ICdHRU5FUkFMX0VSUk9SJyxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IFRPT19MQVJHRV9FUlIgPSAnVE9PX0xBUkdFX0VSUk9SJztcbmNvbnN0IFRPT19TTUFMTF9FUlIgPSAnVE9PX1NNQUxMX0VSUk9SJztcbmNvbnN0IFRZUEVfRVJSID0gJ1RZUEVfRVJST1InO1xuY29uc3QgR0VORVJJQ19FUlIgPSAnR0VORVJJQ19FUlJPUic7XG5jb25zdCBSRVFVSVJFRF9FUlIgPSAnUkVRVUlSRURfRVJST1InO1xuXG5leHBvcnQgY29uc3QgVVNFUl9GSUxFX1VQTE9BRF9FUlJPUlMgPSB7XG4gIEdFTkVSSUM6IHtcbiAgICBpZDogR0VORVJJQ19FUlIsXG4gICAgbXNnOiAnVXBsb2FkIGZhaWxlZC4gU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSByZXRyeS4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdmb3JtJywgR0VORVJJQ19FUlJdLFxuICB9LFxuICBUT09fTEFSR0U6IHtcbiAgICBpZDogVE9PX0xBUkdFX0VSUixcbiAgICBtc2c6ICdVcGxvYWQgZmFpbGVkLiBGaWxlIHRvbyBsYXJnZS4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdmb3JtJywgVE9PX0xBUkdFX0VSUl0sXG4gIH0sXG4gIFRPT19TTUFMTDoge1xuICAgIGlkOiBUT09fU01BTExfRVJSLFxuICAgIG1zZzogJ1VwbG9hZCBmYWlsZWQuIEZpbGUgdG9vIHNtYWxsLicsXG4gICAgcGF0aDogWydkYXRhJywgJ2Zvcm0nLCBUT09fU01BTExfRVJSXSxcbiAgfSxcbiAgVFlQRToge1xuICAgIGlkOiBUWVBFX0VSUixcbiAgICBtc2c6ICdVcGxvYWQgZmFpbGVkLiBJbnZhbGlkIGZpbGUgdHlwZS4nLFxuICAgIHBhdGg6IFsnZGF0YScsICdmb3JtJywgVFlQRV9FUlJdLFxuICB9LFxuICBSRVFVSVJFRDoge1xuICAgIGlkOiBSRVFVSVJFRF9FUlIsXG4gICAgbXNnOiAnUGxlYXNlIHVwbG9hZCBhIGZpbGUuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAnZm9ybScsIFJFUVVJUkVEX0VSUl0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBGT1JNX1BBVEggPSBbe2luOiAnUmVjb3JkJywgYXQ6ICdmb3JtJ31dO1xuXG5leHBvcnQgY29uc3QgRk9STV9UT09fTEFSR0VfRVJST1JfUEFUSCA9IFtcbiAgLi4uRk9STV9QQVRILFxuICB7aW46ICdSZWNvcmQnLCBhdDogVE9PX0xBUkdFX0VSUn0sXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgRk9STV9UT09fU01BTExfRVJST1JfUEFUSCA9IFtcbiAgLi4uRk9STV9QQVRILFxuICB7aW46ICdSZWNvcmQnLCBhdDogVE9PX1NNQUxMX0VSUn0sXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgRk9STV9UWVBFX0VSUk9SX1BBVEggPSBbXG4gIC4uLkZPUk1fUEFUSCxcbiAge2luOiAnUmVjb3JkJywgYXQ6IFRZUEVfRVJSfSxcbl0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgRk9STV9HRU5FUklDX0VSUk9SX1BBVEggPSBbXG4gIC4uLkZPUk1fUEFUSCxcbiAge2luOiAnUmVjb3JkJywgYXQ6IEdFTkVSSUNfRVJSfSxcbl0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgRk9STV9SRVFVSVJFRF9FUlJPUl9QQVRIID0gW1xuICAuLi5GT1JNX1BBVEgsXG4gIHtpbjogJ1JlY29yZCcsIGF0OiBSRVFVSVJFRF9FUlJ9LFxuXSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIExvZ0luRXJyb3JLZXlzVHlwZSA9IFBhcnRpYWw8XG4gIFJlY29yZDxrZXlvZiB0eXBlb2YgTE9HSU5fVUlfRVJST1JfQ09ERVMsIEVycm9yU3RhdGVUeXBlPlxuPjtcblxuLy8gdGhpcyBleGlzdHMgdG8gc3VwcG9ydCBzaXRlcyB1c2luZyB0aGUgVXNlckxvZ2luRXJyb3JNc2cgYXRvbVxuZXhwb3J0IGNvbnN0IF9fREVQUkVDQVRFRF9fbG9nSW5FcnJvclN0YXRlczogTG9nSW5FcnJvcktleXNUeXBlID0ge1xuICBbTE9HSU5fVUlfRVJST1JfQ09ERVMuR0VORVJBTF9FUlJPUl06IHtcbiAgICBpZDogTE9HSU5fVUlfRVJST1JfQ09ERVMuR0VORVJBTF9FUlJPUixcbiAgICBuYW1lOiAnR2VuZXJhbCBlcnJvcicsXG4gICAgY29weTogXCJXZSdyZSBoYXZpbmcgdHJvdWJsZSBsb2dnaW5nIHlvdSBpbi4gUGxlYXNlIHRyeSBhZ2Fpbiwgb3IgY29udGFjdCB1cyBpZiB5b3UgY29udGludWUgdG8gaGF2ZSBwcm9ibGVtcy5cIixcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBMT0dJTl9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dJbkVycm9yU3RhdGVzOiBMb2dJbkVycm9yS2V5c1R5cGUgPSB7XG4gIFtMT0dJTl9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXToge1xuICAgIGlkOiBMT0dJTl9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SLFxuICAgIG5hbWU6ICdHZW5lcmFsIGVycm9yJyxcbiAgICBjb3B5OiBcIldlJ3JlIGhhdmluZyB0cm91YmxlIGxvZ2dpbmcgeW91IGluLiBQbGVhc2UgdHJ5IGFnYWluLCBvciBjb250YWN0IHVzIGlmIHlvdSBjb250aW51ZSB0byBoYXZlIHByb2JsZW1zLlwiLFxuICAgIHBhdGg6IFsnZGF0YScsICd1c2VycycsIExPR0lOX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1JdLFxuICB9LFxuICBbTE9HSU5fVUlfRVJST1JfQ09ERVMuSU5WQUxJRF9FTUFJTF9PUl9QQVNTV09SRF06IHtcbiAgICBpZDogTE9HSU5fVUlfRVJST1JfQ09ERVMuSU5WQUxJRF9FTUFJTF9PUl9QQVNTV09SRCxcbiAgICBuYW1lOiAnV3JvbmcgZW1haWwgb3IgcGFzc3dvcmQnLFxuICAgIGNvcHk6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgcGF0aDogWydkYXRhJywgJ3VzZXJzJywgTE9HSU5fVUlfRVJST1JfQ09ERVMuSU5WQUxJRF9FTUFJTF9PUl9QQVNTV09SRF0sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU0lHTlVQX0VSUk9SX0NBVEVHT1JZID0ge1xuICBHRU5FUkFMOiB7aWQ6ICdHRU5FUkFMJywgbGFiZWw6ICdHZW5lcmFsIEVycm9ycyd9LFxuICBFTUFJTDoge2lkOiAnRU1BSUwnLCBsYWJlbDogJ0VtYWlsIEVycm9ycyd9LFxuICBQQVNTV09SRDoge2lkOiAnUEFTU1dPUkQnLCBsYWJlbDogJ1Bhc3N3b3JkIEVycm9ycyd9LFxuICBJTlZJVEU6IHtpZDogJ0lOVklURScsIGxhYmVsOiAnSW52aXRhdGlvbiBFcnJvcnMnfSxcbiAgVkVSRklJQ0FUSU9OOiB7aWQ6ICdWRVJJRkNBVElPTicsIGxhYmVsOiAnVmVyaWZpY2F0aW9uIEVycm9ycyd9LFxuICBWQUxJREFUSU9OOiB7aWQ6ICdWQUxJREFUSU9OJywgbGFiZWw6ICdWYWxpZGF0aW9uIEVycm9ycyd9LFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFNpZ25VcEVycm9yS2V5c1R5cGUgPSBQYXJ0aWFsPFxuICBSZWNvcmQ8a2V5b2YgdHlwZW9mIFNJR05VUF9VSV9FUlJPUl9DT0RFUywgRXJyb3JTdGF0ZVR5cGU+XG4+O1xuZXhwb3J0IGNvbnN0IHNpZ25VcEVycm9yU3RhdGVzOiBTaWduVXBFcnJvcktleXNUeXBlID0ge1xuICBbU0lHTlVQX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1JdOiB7XG4gICAgaWQ6IFNJR05VUF9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI0MTggLSBUeXBlIG9mIGNvbXB1dGVkIHByb3BlcnR5J3MgdmFsdWUgaXMgJ3sgaWQ6IFwiR0VORVJBTF9FUlJPUlwiOyBjYXRlZ29yeTogeyByZWFkb25seSBpZDogXCJHRU5FUkFMXCI7IHJlYWRvbmx5IGxhYmVsOiBcIkdlbmVyYWwgRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLkdFTkVSQUwsXG4gICAgbmFtZTogJ0dlbmVyYWwgZXJyb3InLFxuICAgIGNvcHk6ICdUaGVyZSB3YXMgYW4gZXJyb3Igc2lnbmluZyB5b3UgdXAuIFBsZWFzZSB0cnkgYWdhaW4sIG9yIGNvbnRhY3QgdXMgaWYgeW91IGNvbnRpbnVlIHRvIGhhdmUgcHJvYmxlbXMuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBTSUdOVVBfVUlfRVJST1JfQ09ERVMuR0VORVJBTF9FUlJPUl0sXG4gIH0sXG4gIFtTSUdOVVBfVUlfRVJST1JfQ09ERVMuTk9UX0FMTE9XRURdOiB7XG4gICAgaWQ6IFNJR05VUF9VSV9FUlJPUl9DT0RFUy5OT1RfQUxMT1dFRCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDE4IC0gVHlwZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSdzIHZhbHVlIGlzICd7IGlkOiBcIk5PVF9BTExPV0VEXCI7IGNhdGVnb3J5OiB7IHJlYWRvbmx5IGlkOiBcIkVNQUlMXCI7IHJlYWRvbmx5IGxhYmVsOiBcIkVtYWlsIEVycm9yc1wiOyB9OyBuYW1lOiBzdHJpbmc7IGNvcHk6IHN0cmluZzsgcGF0aDogc3RyaW5nW107IH0nLCB3aGljaCBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdFcnJvclN0YXRlVHlwZScuXG4gICAgY2F0ZWdvcnk6IFNJR05VUF9FUlJPUl9DQVRFR09SWS5FTUFJTCxcbiAgICBuYW1lOiAnRW1haWwgbm90IGFsbG93ZWQnLFxuICAgIGNvcHk6IFwiWW91J3JlIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyB0aGlzIHNpdGUsIHBsZWFzZSBjb250YWN0IHRoZSBhZG1pbiBmb3Igc3VwcG9ydC5cIixcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBTSUdOVVBfVUlfRVJST1JfQ09ERVMuTk9UX0FMTE9XRURdLFxuICB9LFxuICAvLyBlbWFpbCBlcnJvcnNcbiAgW1NJR05VUF9VSV9FUlJPUl9DT0RFUy5JTlZBTElEX0VNQUlMXToge1xuICAgIGlkOiBTSUdOVVBfVUlfRVJST1JfQ09ERVMuSU5WQUxJRF9FTUFJTCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDE4IC0gVHlwZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSdzIHZhbHVlIGlzICd7IGlkOiBcIklOVkFMSURfRU1BSUxcIjsgY2F0ZWdvcnk6IHsgcmVhZG9ubHkgaWQ6IFwiRU1BSUxcIjsgcmVhZG9ubHkgbGFiZWw6IFwiRW1haWwgRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLkVNQUlMLFxuICAgIG5hbWU6ICdJbnZhbGlkIGVtYWlsJyxcbiAgICBjb3B5OiAnTWFrZSBzdXJlIHlvdXIgZW1haWwgZXhpc3RzIGFuZCBpcyBwcm9wZXJseSBmb3JtYXR0ZWQgKGUuZy4sIHVzZXJAZG9tYWluLmNvbSkuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBTSUdOVVBfVUlfRVJST1JfQ09ERVMuSU5WQUxJRF9FTUFJTF0sXG4gIH0sXG4gIFtTSUdOVVBfVUlfRVJST1JfQ09ERVMuRU1BSUxfQUxSRUFEWV9FWElTVF06IHtcbiAgICBpZDogU0lHTlVQX1VJX0VSUk9SX0NPREVTLkVNQUlMX0FMUkVBRFlfRVhJU1QsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjQxOCAtIFR5cGUgb2YgY29tcHV0ZWQgcHJvcGVydHkncyB2YWx1ZSBpcyAneyBpZDogXCJFTUFJTF9BTFJFQURZX0VYSVNUXCI7IGNhdGVnb3J5OiB7IHJlYWRvbmx5IGlkOiBcIkVNQUlMXCI7IHJlYWRvbmx5IGxhYmVsOiBcIkVtYWlsIEVycm9yc1wiOyB9OyBuYW1lOiBzdHJpbmc7IGNvcHk6IHN0cmluZzsgcGF0aDogc3RyaW5nW107IH0nLCB3aGljaCBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdFcnJvclN0YXRlVHlwZScuXG4gICAgY2F0ZWdvcnk6IFNJR05VUF9FUlJPUl9DQVRFR09SWS5FTUFJTCxcbiAgICBuYW1lOiAnRW1haWwgYWxyZWFkeSBleGlzdHMnLFxuICAgIGNvcHk6ICdBbiBhY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIGFscmVhZHkgZXhpc3RzLiBMb2cgaW4gb3IgcmVzZXQgeW91ciBwYXNzd29yZC4nLFxuICAgIHBhdGg6IFsnZGF0YScsICd1c2VycycsIFNJR05VUF9VSV9FUlJPUl9DT0RFUy5FTUFJTF9BTFJFQURZX0VYSVNUXSxcbiAgfSxcbiAgLy8gaW52aXRhdGlvbiBlcnJvcnNcbiAgW1NJR05VUF9VSV9FUlJPUl9DT0RFUy5VU0VfSU5WSVRFX0VNQUlMXToge1xuICAgIGlkOiBTSUdOVVBfVUlfRVJST1JfQ09ERVMuVVNFX0lOVklURV9FTUFJTCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDE4IC0gVHlwZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSdzIHZhbHVlIGlzICd7IGlkOiBcIlVTRV9JTlZJVEVfRU1BSUxcIjsgY2F0ZWdvcnk6IHsgcmVhZG9ubHkgaWQ6IFwiSU5WSVRFXCI7IHJlYWRvbmx5IGxhYmVsOiBcIkludml0YXRpb24gRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLklOVklURSxcbiAgICBuYW1lOiAnTXVzdCB1c2UgaW52aXRlIGVtYWlsJyxcbiAgICBjb3B5OiAnVXNlIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3MgeW91ciBpbnZpdGF0aW9uIHdhcyBzZW50IHRvLicsXG4gICAgcGF0aDogWydkYXRhJywgJ3VzZXJzJywgU0lHTlVQX1VJX0VSUk9SX0NPREVTLlVTRV9JTlZJVEVfRU1BSUxdLFxuICB9LFxuICAvLyBwYXNzd29yZCBlcnJvcnNcbiAgW1NJR05VUF9VSV9FUlJPUl9DT0RFUy5JTlZBTElEX1BBU1NXT1JEXToge1xuICAgIGlkOiBTSUdOVVBfVUlfRVJST1JfQ09ERVMuSU5WQUxJRF9QQVNTV09SRCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDE4IC0gVHlwZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSdzIHZhbHVlIGlzICd7IGlkOiBcIklOVkFMSURfUEFTU1dPUkRcIjsgY2F0ZWdvcnk6IHsgcmVhZG9ubHkgaWQ6IFwiUEFTU1dPUkRcIjsgcmVhZG9ubHkgbGFiZWw6IFwiUGFzc3dvcmQgRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLlBBU1NXT1JELFxuICAgIG5hbWU6ICdJbnZhbGlkIHBhc3N3b3JkJyxcbiAgICBjb3B5OiAnWW91ciBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycy4nLFxuICAgIHBhdGg6IFsnZGF0YScsICd1c2VycycsIFNJR05VUF9VSV9FUlJPUl9DT0RFUy5JTlZBTElEX1BBU1NXT1JEXSxcbiAgfSxcbiAgLy8gdmVyaWZpY2F0aW9uIGVycm9yc1xuICBbU0lHTlVQX1VJX0VSUk9SX0NPREVTLk5PVF9WRVJJRklFRF06IHtcbiAgICBpZDogU0lHTlVQX1VJX0VSUk9SX0NPREVTLk5PVF9WRVJJRklFRCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDE4IC0gVHlwZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSdzIHZhbHVlIGlzICd7IGlkOiBcIk5PVF9WRVJJRklFRFwiOyBjYXRlZ29yeTogeyByZWFkb25seSBpZDogXCJWRVJJRkNBVElPTlwiOyByZWFkb25seSBsYWJlbDogXCJWZXJpZmljYXRpb24gRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLlZFUkZJSUNBVElPTixcbiAgICBuYW1lOiAnVmVyaWZpY2F0aW9uIGZhaWxlZCcsXG4gICAgY29weTogXCJXZSBjb3VsZG4ndCB2ZXJpZnkgeW91ciBhY2NvdW50LiBQbGVhc2UgdHJ5IGFnYWluLCBvciBjb250YWN0IHVzIGlmIHlvdSBjb250aW51ZSB0byBoYXZlIHByb2JsZW1zLlwiLFxuICAgIHBhdGg6IFsnZGF0YScsICd1c2VycycsIFNJR05VUF9VSV9FUlJPUl9DT0RFUy5OT1RfVkVSSUZJRURdLFxuICB9LFxuICBbU0lHTlVQX1VJX0VSUk9SX0NPREVTLkVYUElSRURfVE9LRU5dOiB7XG4gICAgaWQ6IFNJR05VUF9VSV9FUlJPUl9DT0RFUy5FWFBJUkVEX1RPS0VOLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI0MTggLSBUeXBlIG9mIGNvbXB1dGVkIHByb3BlcnR5J3MgdmFsdWUgaXMgJ3sgaWQ6IFwiRVhQSVJFRF9UT0tFTlwiOyBjYXRlZ29yeTogeyByZWFkb25seSBpZDogXCJWRVJJRkNBVElPTlwiOyByZWFkb25seSBsYWJlbDogXCJWZXJpZmljYXRpb24gRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLlZFUkZJSUNBVElPTixcbiAgICBuYW1lOiAnVmVyaWZpY2F0aW9uIGV4cGlyZWQnLFxuICAgIGNvcHk6ICdUaGlzIGxpbmsgaGFzIGV4cGlyZWQuIEEgbmV3IGxpbmsgaGFzIGJlZW4gc2VudCB0byB5b3VyIGVtYWlsLiBQbGVhc2UgdHJ5IGFnYWluLCBvciBjb250YWN0IHVzIGlmIHlvdSBjb250aW51ZSB0byBoYXZlIHByb2JsZW1zLicsXG4gICAgcGF0aDogWydkYXRhJywgJ3VzZXJzJywgU0lHTlVQX1VJX0VSUk9SX0NPREVTLkVYUElSRURfVE9LRU5dLFxuICB9LFxuICBbU0lHTlVQX1VJX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVEXToge1xuICAgIGlkOiBTSUdOVVBfVUlfRVJST1JfQ09ERVMuVkFMSURBVElPTl9GQUlMRUQsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjQxOCAtIFR5cGUgb2YgY29tcHV0ZWQgcHJvcGVydHkncyB2YWx1ZSBpcyAneyBpZDogXCJWQUxJREFUSU9OX0ZBSUxFRFwiOyBjYXRlZ29yeTogeyByZWFkb25seSBpZDogXCJWQUxJREFUSU9OXCI7IHJlYWRvbmx5IGxhYmVsOiBcIlZhbGlkYXRpb24gRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLlZBTElEQVRJT04sXG4gICAgbmFtZTogJ1ZhbGlkYXRpb24gZXJyb3InLFxuICAgIGNvcHk6ICdUaGVyZSB3YXMgYW4gZXJyb3IgaW4gc29tZSBvZiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWQuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBTSUdOVVBfVUlfRVJST1JfQ09ERVMuVkFMSURBVElPTl9GQUlMRURdLFxuICB9LFxuICBbU0lHTlVQX1VJX0VSUk9SX0NPREVTLlJFUVVJUkVEXToge1xuICAgIGlkOiBTSUdOVVBfVUlfRVJST1JfQ09ERVMuUkVRVUlSRUQsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjQxOCAtIFR5cGUgb2YgY29tcHV0ZWQgcHJvcGVydHkncyB2YWx1ZSBpcyAneyBpZDogXCJSRVFVSVJFRFwiOyBjYXRlZ29yeTogeyByZWFkb25seSBpZDogXCJWQUxJREFUSU9OXCI7IHJlYWRvbmx5IGxhYmVsOiBcIlZhbGlkYXRpb24gRXJyb3JzXCI7IH07IG5hbWU6IHN0cmluZzsgY29weTogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXTsgfScsIHdoaWNoIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0Vycm9yU3RhdGVUeXBlJy5cbiAgICBjYXRlZ29yeTogU0lHTlVQX0VSUk9SX0NBVEVHT1JZLlZBTElEQVRJT04sXG4gICAgbmFtZTogJ01pc3NpbmcgaW5mb3JtYXRpb24nLFxuICAgIGNvcHk6ICdGaWxsIG91dCBhbGwgcmVxdWlyZWQgZmllbGRzJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBTSUdOVVBfVUlfRVJST1JfQ09ERVMuUkVRVUlSRURdLFxuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgVXBkYXRlUGFzc3dvcmRFcnJvcktleXMgPSBQYXJ0aWFsPFxuICBSZWNvcmQ8a2V5b2YgdHlwZW9mIFVQREFURV9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUywgRXJyb3JTdGF0ZVR5cGU+XG4+O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVBhc3N3b3JkRXJyb3JTdGF0ZXM6IFVwZGF0ZVBhc3N3b3JkRXJyb3JLZXlzID0ge1xuICBbVVBEQVRFX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1JdOiB7XG4gICAgaWQ6IFVQREFURV9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SLFxuICAgIG5hbWU6ICdHZW5lcmFsIGVycm9yJyxcbiAgICBjb3B5OiAnVGhlcmUgd2FzIGFuIGVycm9yIHVwZGF0aW5nIHlvdXIgcGFzc3dvcmQuIFBsZWFzZSB0cnkgYWdhaW4sIG9yIGNvbnRhY3QgdXMgaWYgeW91IGNvbnRpbnVlIHRvIGhhdmUgcHJvYmxlbXMuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBVUERBVEVfUEFTU1dPUkRfVUlfRVJST1JfQ09ERVMuR0VORVJBTF9FUlJPUl0sXG4gIH0sXG4gIFtVUERBVEVfUEFTU1dPUkRfVUlfRVJST1JfQ09ERVMuV0VBS19QQVNTV09SRF06IHtcbiAgICBpZDogVVBEQVRFX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLldFQUtfUEFTU1dPUkQsXG4gICAgbmFtZTogJ1dlYWsgcGFzc3dvcmQnLFxuICAgIGNvcHk6ICdZb3VyIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzLicsXG4gICAgcGF0aDogWydkYXRhJywgJ3VzZXJzJywgVVBEQVRFX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLldFQUtfUEFTU1dPUkRdLFxuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgUmVzZXRQYXNzd29yZEVycm9yS2V5c1R5cGUgPSBQYXJ0aWFsPFxuICBSZWNvcmQ8a2V5b2YgdHlwZW9mIFJFU0VUX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLCBFcnJvclN0YXRlVHlwZT5cbj47XG5leHBvcnQgY29uc3QgcmVzZXRQYXNzd29yZEVycm9yU3RhdGVzOiBSZXNldFBhc3N3b3JkRXJyb3JLZXlzVHlwZSA9IHtcbiAgW1JFU0VUX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1JdOiB7XG4gICAgaWQ6IFJFU0VUX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1IsXG4gICAgbmFtZTogJ0dlbmVyYWwgZXJyb3InLFxuICAgIGNvcHk6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcmVzZXR0aW5nIHlvdXIgcGFzc3dvcmQuIFBsZWFzZSB0cnkgYWdhaW4sIG9yIGNvbnRhY3QgdXMgaWYgeW91IGNvbnRpbnVlIHRvIGhhdmUgcHJvYmxlbXMuJyxcbiAgICBwYXRoOiBbJ2RhdGEnLCAndXNlcnMnLCBSRVNFVF9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBVUERBVEVfQUNDT1VOVF9FUlJPUl9DT0RFUyA9IHtcbiAgR0VORVJBTF9FUlJPUjogJ0dFTkVSQUxfRVJST1InLFxufSBhcyBjb25zdDtcblxudHlwZSBVcGRhdGVBY2NvdW50RXJyb3JLZXlzVHlwZSA9IFBhcnRpYWw8XG4gIFJlY29yZDxrZXlvZiB0eXBlb2YgVVBEQVRFX0FDQ09VTlRfRVJST1JfQ09ERVMsIEVycm9yU3RhdGVUeXBlPlxuPjtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUFjY291bnRFcnJvclN0YXRlczogVXBkYXRlQWNjb3VudEVycm9yS2V5c1R5cGUgPSB7XG4gIFtVUERBVEVfQUNDT1VOVF9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXToge1xuICAgIGlkOiBVUERBVEVfQUNDT1VOVF9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SLFxuICAgIG5hbWU6ICdHZW5lcmFsIGVycm9yJyxcbiAgICBjb3B5OiAnVGhlcmUgd2FzIGFuIGVycm9yIHVwZGF0aW5nIHlvdXIgYWNjb3VudC4gUGxlYXNlIHRyeSBhZ2Fpbiwgb3IgY29udGFjdCB1cyBpZiB5b3UgY29udGludWUgdG8gaGF2ZSBwcm9ibGVtcy4nLFxuICAgIHBhdGg6IFsnZGF0YScsICd1c2VycycsIFVQREFURV9BQ0NPVU5UX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1JdLFxuICB9LFxufTtcbiJdLCJuYW1lcyI6WyJFUlJPUl9BVFRSSUJVVEVfUFJFRklYIiwiRVJST1JfTVNHX0NMQVNTIiwiRVJST1JfU1RBVEUiLCJFcnJvclN0YXRlVG9Db3B5IiwiRk9STV9HRU5FUklDX0VSUk9SX1BBVEgiLCJGT1JNX1JFUVVJUkVEX0VSUk9SX1BBVEgiLCJGT1JNX1RPT19MQVJHRV9FUlJPUl9QQVRIIiwiRk9STV9UT09fU01BTExfRVJST1JfUEFUSCIsIkZPUk1fVFlQRV9FUlJPUl9QQVRIIiwiTE9HSU5fVUlfRVJST1JfQ09ERVMiLCJSRVNFVF9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUyIsIlNFUlZFUl9EQVRBX1ZBTElEQVRJT05fRVJST1JTIiwiU0lHTlVQX0VSUk9SX0NBVEVHT1JZIiwiU0lHTlVQX1VJX0VSUk9SX0NPREVTIiwiVVBEQVRFX0FDQ09VTlRfRVJST1JfQ09ERVMiLCJVUERBVEVfUEFTU1dPUkRfVUlfRVJST1JfQ09ERVMiLCJVU0VSX0ZJTEVfVVBMT0FEX0VSUk9SUyIsIl9fREVQUkVDQVRFRF9fbG9nSW5FcnJvclN0YXRlcyIsImxvZ0luRXJyb3JTdGF0ZXMiLCJyZXNldFBhc3N3b3JkRXJyb3JTdGF0ZXMiLCJzaWduVXBFcnJvclN0YXRlcyIsInVwZGF0ZUFjY291bnRFcnJvclN0YXRlcyIsInVwZGF0ZVBhc3N3b3JkRXJyb3JTdGF0ZXMiLCJTSUdOVVAiLCJMT0dJTiIsIlVQREFURV9QQVNTV09SRCIsIlJFU0VUX1BBU1NXT1JEIiwiQUNDT1VOVF9VUERBVEUiLCJlcnJvclN0YXRlVHlwZSIsImlkIiwiY29weSIsImNvbnNvbGUiLCJlcnJvciIsIlJlcXVpcmVkRXJyb3IiLCJNaW5TaXplRXJyb3IiLCJNYXhTaXplRXJyb3IiLCJFeHRlbnNpb25zRXJyb3IiLCJEZWZhdWx0RXJyb3IiLCJHRU5FUkFMX0VSUk9SIiwiSU5WQUxJRF9FTUFJTF9PUl9QQVNTV09SRCIsIk5PVF9BTExPV0VEIiwiTk9UX1ZFUklGSUVEIiwiRU1BSUxfQUxSRUFEWV9FWElTVCIsIlVTRV9JTlZJVEVfRU1BSUwiLCJJTlZBTElEX0VNQUlMIiwiSU5WQUxJRF9QQVNTV09SRCIsIkVYUElSRURfVE9LRU4iLCJWQUxJREFUSU9OX0ZBSUxFRCIsIlJFUVVJUkVEIiwiV0VBS19QQVNTV09SRCIsIlRPT19MQVJHRV9FUlIiLCJUT09fU01BTExfRVJSIiwiVFlQRV9FUlIiLCJHRU5FUklDX0VSUiIsIlJFUVVJUkVEX0VSUiIsIkdFTkVSSUMiLCJtc2ciLCJwYXRoIiwiVE9PX0xBUkdFIiwiVE9PX1NNQUxMIiwiVFlQRSIsIkZPUk1fUEFUSCIsImluIiwiYXQiLCJuYW1lIiwiR0VORVJBTCIsImxhYmVsIiwiRU1BSUwiLCJQQVNTV09SRCIsIklOVklURSIsIlZFUkZJSUNBVElPTiIsIlZBTElEQVRJT04iLCJjYXRlZ29yeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUF3RWFBLHNCQUFzQjtlQUF0QkE7O0lBakVBQyxlQUFlO2VBQWZBOztJQUVBQyxXQUFXO2VBQVhBOztJQVFBQyxnQkFBZ0I7ZUFBaEJBOztJQTBIQUMsdUJBQXVCO2VBQXZCQTs7SUFJQUMsd0JBQXdCO2VBQXhCQTs7SUFsQkFDLHlCQUF5QjtlQUF6QkE7O0lBS0FDLHlCQUF5QjtlQUF6QkE7O0lBS0FDLG9CQUFvQjtlQUFwQkE7O0lBakZBQyxvQkFBb0I7ZUFBcEJBOztJQStCQUMsNkJBQTZCO2VBQTdCQTs7SUF2Q0FDLDZCQUE2QjtlQUE3QkE7O0lBa0lBQyxxQkFBcUI7ZUFBckJBOztJQXJIQUMscUJBQXFCO2VBQXJCQTs7SUFxUEFDLDBCQUEwQjtlQUExQkE7O0lBaE9BQyw4QkFBOEI7ZUFBOUJBOztJQWVBQyx1QkFBdUI7ZUFBdkJBOztJQXlEQUMsOEJBQThCO2VBQTlCQTs7SUFTQUMsZ0JBQWdCO2VBQWhCQTs7SUFzSUFDLHdCQUF3QjtlQUF4QkE7O0lBNUdBQyxpQkFBaUI7ZUFBakJBOztJQTZIQUMsd0JBQXdCO2VBQXhCQTs7SUFuQ0FDLHlCQUF5QjtlQUF6QkE7OztBQTlRTixNQUFNckIsa0JBQWtCO0FBRXhCLE1BQU1DLGNBQWM7SUFDekJxQixRQUFRO0lBQ1JDLE9BQU87SUFDUEMsaUJBQWlCO0lBQ2pCQyxnQkFBZ0I7SUFDaEJDLGdCQUFnQjtBQUNsQjtBQUVPLE1BQU14QixtQkFBbUIsQ0FDOUJ5QixnQkFDQUM7SUFFQSxJQUFJRCxtQkFBbUIsc0JBQXNCO1FBQzNDLGlXQUFpVztRQUNqVyxPQUFPUixpQkFBaUIsQ0FBQ1MsR0FBRyxFQUFFQyxRQUFRO0lBQ3hDO0lBQ0EsSUFBSUYsbUJBQW1CLHFCQUFxQjtRQUMxQyxxTkFBcU47UUFDck4sT0FBT1YsZ0JBQWdCLENBQUNXLEdBQUcsRUFBRUMsUUFBUTtJQUN2QztJQUNBLElBQUlGLG1CQUFtQiwrQkFBK0I7UUFDcEQseU1BQXlNO1FBQ3pNLE9BQU9OLHlCQUF5QixDQUFDTyxHQUFHLEVBQUVDLFFBQVE7SUFDaEQ7SUFDQSxJQUFJRixtQkFBbUIsOEJBQThCO1FBQ25ELHVMQUF1TDtRQUN2TCxPQUFPVCx3QkFBd0IsQ0FBQ1UsR0FBRyxFQUFFQyxRQUFRO0lBQy9DO0lBQ0EsSUFBSUYsbUJBQW1CLDhCQUE4QjtRQUNuRCx1TEFBdUw7UUFDdkwsT0FBT1Asd0JBQXdCLENBQUNRLEdBQUcsRUFBRUMsUUFBUTtJQUMvQztJQUNBQyxRQUFRQyxLQUFLLENBQUMsQ0FBQyxTQUFTLEVBQUVKLGVBQWUsVUFBVSxDQUFDO0lBQ3BELE9BQU87QUFDVDtBQUdPLE1BQU1qQixnQ0FBZ0M7SUFDM0NzQixlQUFlO0lBQ2ZDLGNBQWM7SUFDZEMsY0FBYztJQUNkQyxpQkFBaUI7SUFDakJDLGNBQWM7QUFDaEI7QUFFTyxNQUFNNUIsdUJBQXVCO0lBQ2xDNkIsZUFBZTtJQUNmQywyQkFBMkI7QUFDN0I7QUFFTyxNQUFNMUIsd0JBQXdCO0lBQ25DeUIsZUFBZTtJQUNmRSxhQUFhO0lBQ2JDLGNBQWM7SUFDZEMscUJBQXFCO0lBQ3JCQyxrQkFBa0I7SUFDbEJDLGVBQWU7SUFDZkMsa0JBQWtCO0lBQ2xCQyxlQUFlO0lBQ2ZDLG1CQUFtQjtJQUNuQkMsVUFBVTtBQUNaO0FBRU8sTUFBTWhELHlCQUF5QjtJQUNwQ3VCLFFBQVE7SUFDUkMsT0FBTztJQUNQRSxnQkFBZ0I7SUFDaEJELGlCQUFpQjtJQUNqQkUsZ0JBQWdCO0FBQ2xCO0FBRU8sTUFBTVosaUNBQWlDO0lBQzVDdUIsZUFBZTtJQUNmVyxlQUFlO0FBQ2pCO0FBRU8sTUFBTXZDLGdDQUFnQztJQUMzQzRCLGVBQWU7QUFDakI7QUFFQSxNQUFNWSxnQkFBZ0I7QUFDdEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLFdBQVc7QUFDakIsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxlQUFlO0FBRWQsTUFBTXRDLDBCQUEwQjtJQUNyQ3VDLFNBQVM7UUFDUDFCLElBQUl3QjtRQUNKRyxLQUFLO1FBQ0xDLE1BQU07WUFBQztZQUFRO1lBQVFKO1NBQVk7SUFDckM7SUFDQUssV0FBVztRQUNUN0IsSUFBSXFCO1FBQ0pNLEtBQUs7UUFDTEMsTUFBTTtZQUFDO1lBQVE7WUFBUVA7U0FBYztJQUN2QztJQUNBUyxXQUFXO1FBQ1Q5QixJQUFJc0I7UUFDSkssS0FBSztRQUNMQyxNQUFNO1lBQUM7WUFBUTtZQUFRTjtTQUFjO0lBQ3ZDO0lBQ0FTLE1BQU07UUFDSi9CLElBQUl1QjtRQUNKSSxLQUFLO1FBQ0xDLE1BQU07WUFBQztZQUFRO1lBQVFMO1NBQVM7SUFDbEM7SUFDQUosVUFBVTtRQUNSbkIsSUFBSXlCO1FBQ0pFLEtBQUs7UUFDTEMsTUFBTTtZQUFDO1lBQVE7WUFBUUg7U0FBYTtJQUN0QztBQUNGO0FBRUEsTUFBTU8sWUFBWTtJQUFDO1FBQUNDLElBQUk7UUFBVUMsSUFBSTtJQUFNO0NBQUU7QUFFdkMsTUFBTXpELDRCQUE0QjtPQUNwQ3VEO0lBQ0g7UUFBQ0MsSUFBSTtRQUFVQyxJQUFJYjtJQUFhO0NBQ2pDO0FBRU0sTUFBTTNDLDRCQUE0QjtPQUNwQ3NEO0lBQ0g7UUFBQ0MsSUFBSTtRQUFVQyxJQUFJWjtJQUFhO0NBQ2pDO0FBRU0sTUFBTTNDLHVCQUF1QjtPQUMvQnFEO0lBQ0g7UUFBQ0MsSUFBSTtRQUFVQyxJQUFJWDtJQUFRO0NBQzVCO0FBQ00sTUFBTWhELDBCQUEwQjtPQUNsQ3lEO0lBQ0g7UUFBQ0MsSUFBSTtRQUFVQyxJQUFJVjtJQUFXO0NBQy9CO0FBQ00sTUFBTWhELDJCQUEyQjtPQUNuQ3dEO0lBQ0g7UUFBQ0MsSUFBSTtRQUFVQyxJQUFJVDtJQUFZO0NBQ2hDO0FBTU0sTUFBTXJDLGlDQUFxRDtJQUNoRSxDQUFDUixxQkFBcUI2QixhQUFhLENBQUMsRUFBRTtRQUNwQ1QsSUFBSXBCLHFCQUFxQjZCLGFBQWE7UUFDdEMwQixNQUFNO1FBQ05sQyxNQUFNO1FBQ04yQixNQUFNO1lBQUM7WUFBUTtZQUFTaEQscUJBQXFCNkIsYUFBYTtTQUFDO0lBQzdEO0FBQ0Y7QUFFTyxNQUFNcEIsbUJBQXVDO0lBQ2xELENBQUNULHFCQUFxQjZCLGFBQWEsQ0FBQyxFQUFFO1FBQ3BDVCxJQUFJcEIscUJBQXFCNkIsYUFBYTtRQUN0QzBCLE1BQU07UUFDTmxDLE1BQU07UUFDTjJCLE1BQU07WUFBQztZQUFRO1lBQVNoRCxxQkFBcUI2QixhQUFhO1NBQUM7SUFDN0Q7SUFDQSxDQUFDN0IscUJBQXFCOEIseUJBQXlCLENBQUMsRUFBRTtRQUNoRFYsSUFBSXBCLHFCQUFxQjhCLHlCQUF5QjtRQUNsRHlCLE1BQU07UUFDTmxDLE1BQU07UUFDTjJCLE1BQU07WUFBQztZQUFRO1lBQVNoRCxxQkFBcUI4Qix5QkFBeUI7U0FBQztJQUN6RTtBQUNGO0FBRU8sTUFBTTNCLHdCQUF3QjtJQUNuQ3FELFNBQVM7UUFBQ3BDLElBQUk7UUFBV3FDLE9BQU87SUFBZ0I7SUFDaERDLE9BQU87UUFBQ3RDLElBQUk7UUFBU3FDLE9BQU87SUFBYztJQUMxQ0UsVUFBVTtRQUFDdkMsSUFBSTtRQUFZcUMsT0FBTztJQUFpQjtJQUNuREcsUUFBUTtRQUFDeEMsSUFBSTtRQUFVcUMsT0FBTztJQUFtQjtJQUNqREksY0FBYztRQUFDekMsSUFBSTtRQUFlcUMsT0FBTztJQUFxQjtJQUM5REssWUFBWTtRQUFDMUMsSUFBSTtRQUFjcUMsT0FBTztJQUFtQjtBQUMzRDtBQUlPLE1BQU05QyxvQkFBeUM7SUFDcEQsQ0FBQ1Asc0JBQXNCeUIsYUFBYSxDQUFDLEVBQUU7UUFDckNULElBQUloQixzQkFBc0J5QixhQUFhO1FBQ3ZDLHNRQUFzUTtRQUN0UWtDLFVBQVU1RCxzQkFBc0JxRCxPQUFPO1FBQ3ZDRCxNQUFNO1FBQ05sQyxNQUFNO1FBQ04yQixNQUFNO1lBQUM7WUFBUTtZQUFTNUMsc0JBQXNCeUIsYUFBYTtTQUFDO0lBQzlEO0lBQ0EsQ0FBQ3pCLHNCQUFzQjJCLFdBQVcsQ0FBQyxFQUFFO1FBQ25DWCxJQUFJaEIsc0JBQXNCMkIsV0FBVztRQUNyQyxnUUFBZ1E7UUFDaFFnQyxVQUFVNUQsc0JBQXNCdUQsS0FBSztRQUNyQ0gsTUFBTTtRQUNObEMsTUFBTTtRQUNOMkIsTUFBTTtZQUFDO1lBQVE7WUFBUzVDLHNCQUFzQjJCLFdBQVc7U0FBQztJQUM1RDtJQUNBLGVBQWU7SUFDZixDQUFDM0Isc0JBQXNCK0IsYUFBYSxDQUFDLEVBQUU7UUFDckNmLElBQUloQixzQkFBc0IrQixhQUFhO1FBQ3ZDLGtRQUFrUTtRQUNsUTRCLFVBQVU1RCxzQkFBc0J1RCxLQUFLO1FBQ3JDSCxNQUFNO1FBQ05sQyxNQUFNO1FBQ04yQixNQUFNO1lBQUM7WUFBUTtZQUFTNUMsc0JBQXNCK0IsYUFBYTtTQUFDO0lBQzlEO0lBQ0EsQ0FBQy9CLHNCQUFzQjZCLG1CQUFtQixDQUFDLEVBQUU7UUFDM0NiLElBQUloQixzQkFBc0I2QixtQkFBbUI7UUFDN0Msd1FBQXdRO1FBQ3hROEIsVUFBVTVELHNCQUFzQnVELEtBQUs7UUFDckNILE1BQU07UUFDTmxDLE1BQU07UUFDTjJCLE1BQU07WUFBQztZQUFRO1lBQVM1QyxzQkFBc0I2QixtQkFBbUI7U0FBQztJQUNwRTtJQUNBLG9CQUFvQjtJQUNwQixDQUFDN0Isc0JBQXNCOEIsZ0JBQWdCLENBQUMsRUFBRTtRQUN4Q2QsSUFBSWhCLHNCQUFzQjhCLGdCQUFnQjtRQUMxQywyUUFBMlE7UUFDM1E2QixVQUFVNUQsc0JBQXNCeUQsTUFBTTtRQUN0Q0wsTUFBTTtRQUNObEMsTUFBTTtRQUNOMkIsTUFBTTtZQUFDO1lBQVE7WUFBUzVDLHNCQUFzQjhCLGdCQUFnQjtTQUFDO0lBQ2pFO0lBQ0Esa0JBQWtCO0lBQ2xCLENBQUM5QixzQkFBc0JnQyxnQkFBZ0IsQ0FBQyxFQUFFO1FBQ3hDaEIsSUFBSWhCLHNCQUFzQmdDLGdCQUFnQjtRQUMxQywyUUFBMlE7UUFDM1EyQixVQUFVNUQsc0JBQXNCd0QsUUFBUTtRQUN4Q0osTUFBTTtRQUNObEMsTUFBTTtRQUNOMkIsTUFBTTtZQUFDO1lBQVE7WUFBUzVDLHNCQUFzQmdDLGdCQUFnQjtTQUFDO0lBQ2pFO0lBQ0Esc0JBQXNCO0lBQ3RCLENBQUNoQyxzQkFBc0I0QixZQUFZLENBQUMsRUFBRTtRQUNwQ1osSUFBSWhCLHNCQUFzQjRCLFlBQVk7UUFDdEMsOFFBQThRO1FBQzlRK0IsVUFBVTVELHNCQUFzQjBELFlBQVk7UUFDNUNOLE1BQU07UUFDTmxDLE1BQU07UUFDTjJCLE1BQU07WUFBQztZQUFRO1lBQVM1QyxzQkFBc0I0QixZQUFZO1NBQUM7SUFDN0Q7SUFDQSxDQUFDNUIsc0JBQXNCaUMsYUFBYSxDQUFDLEVBQUU7UUFDckNqQixJQUFJaEIsc0JBQXNCaUMsYUFBYTtRQUN2QywrUUFBK1E7UUFDL1EwQixVQUFVNUQsc0JBQXNCMEQsWUFBWTtRQUM1Q04sTUFBTTtRQUNObEMsTUFBTTtRQUNOMkIsTUFBTTtZQUFDO1lBQVE7WUFBUzVDLHNCQUFzQmlDLGFBQWE7U0FBQztJQUM5RDtJQUNBLENBQUNqQyxzQkFBc0JrQyxpQkFBaUIsQ0FBQyxFQUFFO1FBQ3pDbEIsSUFBSWhCLHNCQUFzQmtDLGlCQUFpQjtRQUMzQyxnUkFBZ1I7UUFDaFJ5QixVQUFVNUQsc0JBQXNCMkQsVUFBVTtRQUMxQ1AsTUFBTTtRQUNObEMsTUFBTTtRQUNOMkIsTUFBTTtZQUFDO1lBQVE7WUFBUzVDLHNCQUFzQmtDLGlCQUFpQjtTQUFDO0lBQ2xFO0lBQ0EsQ0FBQ2xDLHNCQUFzQm1DLFFBQVEsQ0FBQyxFQUFFO1FBQ2hDbkIsSUFBSWhCLHNCQUFzQm1DLFFBQVE7UUFDbEMsdVFBQXVRO1FBQ3ZRd0IsVUFBVTVELHNCQUFzQjJELFVBQVU7UUFDMUNQLE1BQU07UUFDTmxDLE1BQU07UUFDTjJCLE1BQU07WUFBQztZQUFRO1lBQVM1QyxzQkFBc0JtQyxRQUFRO1NBQUM7SUFDekQ7QUFDRjtBQUtPLE1BQU0xQiw0QkFBcUQ7SUFDaEUsQ0FBQ1AsK0JBQStCdUIsYUFBYSxDQUFDLEVBQUU7UUFDOUNULElBQUlkLCtCQUErQnVCLGFBQWE7UUFDaEQwQixNQUFNO1FBQ05sQyxNQUFNO1FBQ04yQixNQUFNO1lBQUM7WUFBUTtZQUFTMUMsK0JBQStCdUIsYUFBYTtTQUFDO0lBQ3ZFO0lBQ0EsQ0FBQ3ZCLCtCQUErQmtDLGFBQWEsQ0FBQyxFQUFFO1FBQzlDcEIsSUFBSWQsK0JBQStCa0MsYUFBYTtRQUNoRGUsTUFBTTtRQUNObEMsTUFBTTtRQUNOMkIsTUFBTTtZQUFDO1lBQVE7WUFBUzFDLCtCQUErQmtDLGFBQWE7U0FBQztJQUN2RTtBQUNGO0FBS08sTUFBTTlCLDJCQUF1RDtJQUNsRSxDQUFDVCw4QkFBOEI0QixhQUFhLENBQUMsRUFBRTtRQUM3Q1QsSUFBSW5CLDhCQUE4QjRCLGFBQWE7UUFDL0MwQixNQUFNO1FBQ05sQyxNQUFNO1FBQ04yQixNQUFNO1lBQUM7WUFBUTtZQUFTL0MsOEJBQThCNEIsYUFBYTtTQUFDO0lBQ3RFO0FBQ0Y7QUFFTyxNQUFNeEIsNkJBQTZCO0lBQ3hDd0IsZUFBZTtBQUNqQjtBQU1PLE1BQU1qQiwyQkFBdUQ7SUFDbEUsQ0FBQ1AsMkJBQTJCd0IsYUFBYSxDQUFDLEVBQUU7UUFDMUNULElBQUlmLDJCQUEyQndCLGFBQWE7UUFDNUMwQixNQUFNO1FBQ05sQyxNQUFNO1FBQ04yQixNQUFNO1lBQUM7WUFBUTtZQUFTM0MsMkJBQTJCd0IsYUFBYTtTQUFDO0lBQ25FO0FBQ0YifQ==

}),
7462: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ACCESS_GROUP_ADMISSION_TYPE: function() {
        return ACCESS_GROUP_ADMISSION_TYPE;
    },
    ACCESS_GROUP_FREE_TYPE: function() {
        return ACCESS_GROUP_FREE_TYPE;
    },
    ACCESS_GROUP_INLINE_PRODUCT_FIELD_SLUG: function() {
        return ACCESS_GROUP_INLINE_PRODUCT_FIELD_SLUG;
    },
    BASIC_MAX_NUM_USERS: function() {
        return BASIC_MAX_NUM_USERS;
    },
    BUSINESS_MAX_NUM_USERS: function() {
        return BUSINESS_MAX_NUM_USERS;
    },
    CONFIRM_UNSAVED_CHANGES_COPY: function() {
        return CONFIRM_UNSAVED_CHANGES_COPY;
    },
    DEFAULT_SESSION_DURATION_IN_MS: function() {
        return DEFAULT_SESSION_DURATION_IN_MS;
    },
    DEFAULT_SESSION_TOKEN_DURATION_IN_MS: function() {
        return DEFAULT_SESSION_TOKEN_DURATION_IN_MS;
    },
    DEFAULT_STYLES: function() {
        return DEFAULT_STYLES;
    },
    DEFAULT_TOKEN_AGE_MS: function() {
        return DEFAULT_TOKEN_AGE_MS;
    },
    DEFAULT_USER_FIELDS: function() {
        return DEFAULT_USER_FIELDS;
    },
    ECOMM_PLUS_MAX_NUM_USERS: function() {
        return ECOMM_PLUS_MAX_NUM_USERS;
    },
    ECOMM_STANDARD_MAX_NUM_USERS: function() {
        return ECOMM_STANDARD_MAX_NUM_USERS;
    },
    EMAIL_TEMPLATE_TYPES: function() {
        return EMAIL_TEMPLATE_TYPES;
    },
    EXCEEDS_MAX_FILE_SIZE_ERROR: function() {
        return EXCEEDS_MAX_FILE_SIZE_ERROR;
    },
    EXCEEDS_MAX_IMAGE_SIZE_ERROR: function() {
        return EXCEEDS_MAX_IMAGE_SIZE_ERROR;
    },
    HARD_LIMIT_MAX_NUM_USERS: function() {
        return HARD_LIMIT_MAX_NUM_USERS;
    },
    KEY_FROM_RESERVED_USER_FIELD: function() {
        return KEY_FROM_RESERVED_USER_FIELD;
    },
    LOGGEDIN_COOKIE_NAME: function() {
        return LOGGEDIN_COOKIE_NAME;
    },
    MAX_GROUP_ID_LENGTH: function() {
        return MAX_GROUP_ID_LENGTH;
    },
    MAX_NUM_GROUPS: function() {
        return MAX_NUM_GROUPS;
    },
    MAX_UPDATE_USER_DATA_FIELDS: function() {
        return MAX_UPDATE_USER_DATA_FIELDS;
    },
    MAX_USER_DATA_FIELDS: function() {
        return MAX_USER_DATA_FIELDS;
    },
    MEMBERSHIPS_EMAIL_KEYS: function() {
        return MEMBERSHIPS_EMAIL_KEYS;
    },
    MIN_GROUP_ID_LENGTH: function() {
        return MIN_GROUP_ID_LENGTH;
    },
    NAMES_FROM_USER_FIELDS: function() {
        return NAMES_FROM_USER_FIELDS;
    },
    NEW_USER_FIELD_ID: function() {
        return NEW_USER_FIELD_ID;
    },
    NO_REQUIRED_ATTRIBUTE: function() {
        return NO_REQUIRED_ATTRIBUTE;
    },
    PASSWORD_MAX_LENGTH: function() {
        return PASSWORD_MAX_LENGTH;
    },
    PASSWORD_MIN_LENGTH: function() {
        return PASSWORD_MIN_LENGTH;
    },
    RESERVED_USER_FIELDS: function() {
        return RESERVED_USER_FIELDS;
    },
    RESERVED_USER_PREFIX: function() {
        return RESERVED_USER_PREFIX;
    },
    SESSION_COOKIE_NAME: function() {
        return SESSION_COOKIE_NAME;
    },
    SETUP_GUIDE_ALL_KEYS: function() {
        return SETUP_GUIDE_ALL_KEYS;
    },
    SETUP_GUIDE_KEYS: function() {
        return SETUP_GUIDE_KEYS;
    },
    STARTER_MAX_NUM_USERS: function() {
        return STARTER_MAX_NUM_USERS;
    },
    SUBSCRIPTION_EMAIL_TYPES: function() {
        return SUBSCRIPTION_EMAIL_TYPES;
    },
    SUBSCRIPTION_USER_LIMITS: function() {
        return SUBSCRIPTION_USER_LIMITS;
    },
    TEMP_STATE_PATH: function() {
        return TEMP_STATE_PATH;
    },
    TEXT_INPUT_TYPE_TO_FIELD_TYPE: function() {
        return TEXT_INPUT_TYPE_TO_FIELD_TYPE;
    },
    USER_ACCESS_META_OPTIONS: function() {
        return USER_ACCESS_META_OPTIONS;
    },
    USER_CSV_IMPORT_STATUS_MAX_TRIES: function() {
        return USER_CSV_IMPORT_STATUS_MAX_TRIES;
    },
    USER_CSV_IMPORT_STATUS_POLLING_INTERVAL: function() {
        return USER_CSV_IMPORT_STATUS_POLLING_INTERVAL;
    },
    USER_FIELD_DEFAULTS: function() {
        return USER_FIELD_DEFAULTS;
    },
    USER_FIELD_FORM_ID: function() {
        return USER_FIELD_FORM_ID;
    },
    USER_PAGE_SIZE: function() {
        return USER_PAGE_SIZE;
    },
    USER_STATUSES: function() {
        return USER_STATUSES;
    },
    USYS_CONTEXT_PATH: function() {
        return USYS_CONTEXT_PATH;
    },
    USYS_DATA_ATTRS: function() {
        return USYS_DATA_ATTRS;
    },
    USYS_DOM_CLASS_NAMES: function() {
        return USYS_DOM_CLASS_NAMES;
    },
    USYS_FIELD_PATH: function() {
        return USYS_FIELD_PATH;
    },
    USYS_FORM_TYPES: function() {
        return USYS_FORM_TYPES;
    },
    USYS_INPUT_SIGN_UP_IDS: function() {
        return USYS_INPUT_SIGN_UP_IDS;
    },
    USYS_INPUT_TYPES: function() {
        return USYS_INPUT_TYPES;
    },
    USYS_PAGE_SETTINGS: function() {
        return USYS_PAGE_SETTINGS;
    },
    USYS_PAGE_UTIL_KEYS: function() {
        return USYS_PAGE_UTIL_KEYS;
    },
    USYS_RESERVED_SLUGS: function() {
        return USYS_RESERVED_SLUGS;
    },
    USYS_TOKEN_TYPES: function() {
        return USYS_TOKEN_TYPES;
    },
    USYS_USER_STATES: function() {
        return USYS_USER_STATES;
    },
    USYS_UTILITY_KEYS: function() {
        return USYS_UTILITY_KEYS;
    }
});
const _utils = __webpack_require__(1242);
const _types = _export_star(__webpack_require__(29089), exports);
_export_star(__webpack_require__(33001), exports);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}
const RESERVED_USER_PREFIX = 'wf-user-field-';
const RESERVED_USER_FIELDS = {
    name: RESERVED_USER_PREFIX + 'name',
    acceptPrivacy: RESERVED_USER_PREFIX + 'accept-privacy',
    acceptCommunications: RESERVED_USER_PREFIX + 'accept-communications'
};
const KEY_FROM_RESERVED_USER_FIELD = {
    [RESERVED_USER_PREFIX + 'name']: 'name',
    [RESERVED_USER_PREFIX + 'accept-privacy']: 'acceptPrivacy',
    [RESERVED_USER_PREFIX + 'accept-communications']: 'acceptCommunications'
};
const NAMES_FROM_USER_FIELDS = {
    [RESERVED_USER_PREFIX + 'name']: 'Name',
    [RESERVED_USER_PREFIX + 'accept-privacy']: 'Accept privacy policy',
    [RESERVED_USER_PREFIX + 'accept-communications']: 'Accept communications',
    PRIVACY_POLICY: 'Accept privacy policy',
    PASSWORD: 'Password',
    EMAIL: 'Email'
};
const TEXT_INPUT_TYPE_TO_FIELD_TYPE = {
    text: 'PlainText',
    password: 'Password',
    email: 'Email',
    number: 'PlainText',
    tel: 'PlainText'
};
const USYS_UTILITY_KEYS = {
    'usys-log-in': 'usys-log-in',
    'usys-sign-up': 'usys-sign-up',
    'usys-reset-password': 'usys-reset-password',
    'usys-update-password': 'usys-update-password',
    'usys-access-denied': 'usys-access-denied',
    'usys-user-account': 'usys-user-account'
};
const USYS_DATA_ATTRS = {
    formType: 'data-wf-user-form-type',
    inputType: 'data-wf-user-form-input-type',
    logout: 'data-wf-user-logout',
    login: 'data-wf-user-login',
    formError: 'data-wf-user-form-error',
    redirectUrl: 'data-wf-user-form-redirect',
    formVerification: 'data-wf-user-form-verification',
    userSubscriptions: 'data-wf-user-subscriptions-list',
    userSubscriptionsEmptyState: 'data-wf-user-subscriptions-empty',
    userAccount: 'data-wf-user-account',
    subscriptionCancel: 'data-wf-user-subscription-cancel',
    userId: 'data-wf-user-id',
    field: 'data-wf-user-field',
    fieldType: 'data-wf-user-field-type',
    fileUploadKey: 'data-wf-user-file-upload-key',
    unsavedFileUploadKey: 'data-wf-unsaved-user-file-upload-key'
};
const USYS_DOM_CLASS_NAMES = {
    formSuccess: 'w-form-success',
    formVerfication: 'w-form-verification',
    formError: 'w-form-fail'
};
const USYS_FORM_TYPES = {
    login: 'login',
    signup: 'signup',
    updatePassword: 'updatePassword',
    resetPassword: 'resetPassword',
    account: 'userAccount'
};
const USYS_INPUT_TYPES = {
    email: 'email',
    name: 'name',
    password: 'password',
    acceptPrivacy: 'accept-privacy'
};
const USYS_INPUT_SIGN_UP_IDS = {
    email: 'wf-sign-up-email',
    name: 'wf-sign-up-name',
    password: 'wf-sign-up-password',
    acceptPrivacy: 'wf-sign-up-accept-privacy',
    acceptCommunications: 'wf-sign-up-accept-communications'
};
const USYS_USER_STATES = {
    loggedIn: 'loggedIn',
    loggedOut: 'loggedOut'
};
const USYS_PAGE_SETTINGS = {
    login: {
        parent: null,
        sortPos: 0,
        utilKey: 'usys-log-in',
        slug: 'log-in',
        title: 'Log In'
    },
    signup: {
        parent: null,
        sortPos: 1,
        utilKey: 'usys-sign-up',
        slug: 'sign-up',
        title: 'Sign Up'
    },
    resetPassword: {
        parent: null,
        sortPos: 2,
        utilKey: 'usys-reset-password',
        slug: 'reset-password',
        title: 'Reset Password'
    },
    updatePassword: {
        parent: null,
        sortPos: 3,
        utilKey: 'usys-update-password',
        slug: 'update-password',
        title: 'Update Password'
    },
    accessDenied: {
        parent: null,
        sortPos: 4,
        utilKey: 'usys-access-denied',
        slug: 'access-denied',
        title: 'Access Denied'
    },
    userAccount: {
        parent: null,
        sortPos: 5,
        utilKey: 'usys-user-account',
        slug: 'user-account',
        title: 'User Account'
    }
};
const USYS_RESERVED_SLUGS = (0, _utils.values)(USYS_PAGE_SETTINGS).map((pageSettings)=>pageSettings.slug);
const USYS_PAGE_UTIL_KEYS = (0, _utils.values)(USYS_PAGE_SETTINGS).map((pageSettings)=>pageSettings.utilKey);
const DEFAULT_STYLES = {
    accentColor: '#468EE5',
    bgColor: '#F5F6F7',
    includeWfBrand: true
};
const PASSWORD_MIN_LENGTH = 8;
const PASSWORD_MAX_LENGTH = 72;
// Helper constants.
const SECOND = 1000;
const MINUTE = 60 * SECOND;
const HOUR = 60 * MINUTE;
const DAY = 24 * HOUR;
const SESSION_COOKIE_NAME = 'wf_sid';
const LOGGEDIN_COOKIE_NAME = 'wf_loggedin';
const DEFAULT_SESSION_DURATION_IN_MS = 7 * DAY;
const DEFAULT_SESSION_TOKEN_DURATION_IN_MS = 4 * HOUR;
const DEFAULT_TOKEN_AGE_MS = HOUR;
const STARTER_MAX_NUM_USERS = 100;
const BASIC_MAX_NUM_USERS = 20000;
const BUSINESS_MAX_NUM_USERS = 20000;
const ECOMM_STANDARD_MAX_NUM_USERS = 20000;
const ECOMM_PLUS_MAX_NUM_USERS = 20000;
const HARD_LIMIT_MAX_NUM_USERS = 100 * 1000;
const SUBSCRIPTION_USER_LIMITS = {
    free: STARTER_MAX_NUM_USERS,
    static: BASIC_MAX_NUM_USERS,
    cms: BUSINESS_MAX_NUM_USERS,
    business: BUSINESS_MAX_NUM_USERS,
    ecommerce_standard: ECOMM_STANDARD_MAX_NUM_USERS,
    ecommerce_plus: ECOMM_PLUS_MAX_NUM_USERS,
    ecommerce_advanced: BUSINESS_MAX_NUM_USERS,
    enterprise: BUSINESS_MAX_NUM_USERS,
    enterprise_lite: BUSINESS_MAX_NUM_USERS
};
const MAX_NUM_GROUPS = 20;
const MIN_GROUP_ID_LENGTH = 2;
const MAX_GROUP_ID_LENGTH = 2;
const USYS_TOKEN_TYPES = {
    inviteUser: 'inviteUser',
    resetPassword: 'resetPassword',
    verifyEmail: 'verifyEmail'
};
const ACCESS_GROUP_INLINE_PRODUCT_FIELD_SLUG = 'access-group-membership-product';
const ACCESS_GROUP_ADMISSION_TYPE = {
    free: 'free',
    paid: 'paid'
};
const ACCESS_GROUP_FREE_TYPE = {
    all: 'all',
    admin: 'admin'
};
const SUBSCRIPTION_EMAIL_TYPES = {
    PAYMENT_FAILED: 'paymentFailed',
    PAYMENT_SUCCESSFUL: 'paymentSuccessful',
    SUBSCRIPTION_CANCELED: 'subscriptionCanceled',
    VERIFY_PAYMENT: 'verifyPayment'
};
const MEMBERSHIPS_EMAIL_KEYS = {
    invite: 'invite',
    resetPassword: 'resetPassword',
    updatedPassword: 'updatedPassword',
    welcome: 'welcome',
    verify: 'verify'
};
const EMAIL_TEMPLATE_TYPES = {
    invite: 'MEMBERSHIPS_INVITE',
    resetPassword: 'MEMBERSHIPS_RESET_PASSWORD',
    updatedPassword: 'MEMBERSHIPS_UPDATED_PASSWORD',
    verify: 'MEMBERSHIPS_VERIFY',
    welcome: 'MEMBERSHIPS_WELCOME'
};
const CONFIRM_UNSAVED_CHANGES_COPY = {
    title: 'Continue without saving?',
    content: 'Your changes will be lost.',
    iconType: 'warning',
    submit: {
        label: 'Continue',
        intent: 'danger'
    },
    cancel: {
        label: 'Cancel',
        intent: 'default'
    }
};
const USER_FIELD_FORM_ID = 'UserFieldForm';
const NEW_USER_FIELD_ID = 'mint-user-field';
const USER_FIELD_DEFAULTS = {
    PlainText: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'PlainText',
        validations: {}
    },
    Email: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'Email',
        validations: {}
    },
    Bool: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'Bool',
        validations: {}
    },
    FileRef: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'FileRef',
        validations: {}
    },
    Option: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'Option',
        validations: {
            options: []
        }
    },
    Password: {
        id: NEW_USER_FIELD_ID,
        name: 'Password',
        slug: '',
        required: true,
        type: 'Password',
        validations: {}
    },
    Number: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'Number',
        validations: {
            min: 0,
            step: 1
        }
    },
    Link: {
        id: NEW_USER_FIELD_ID,
        name: '',
        slug: '',
        required: false,
        type: 'Link',
        validations: {}
    }
};
const DEFAULT_USER_FIELDS = [
    {
        id: 'name',
        name: 'Name',
        required: false,
        slug: 'name',
        type: 'PlainText',
        validations: {}
    },
    {
        id: 'email',
        name: 'Email',
        required: true,
        slug: 'email',
        type: 'Email',
        validations: {}
    },
    {
        id: 'password',
        name: 'Password',
        required: true,
        slug: 'password',
        type: 'Password',
        validations: {}
    },
    {
        id: 'acceptPrivacy',
        name: 'Accept privacy',
        required: false,
        slug: 'accept-privacy',
        type: 'Bool',
        validations: {}
    },
    {
        id: 'acceptCommunications',
        name: 'Accept communications',
        required: false,
        slug: 'accept-communications',
        type: 'Bool',
        validations: {}
    }
];
const SETUP_GUIDE_KEYS = {
    hasVisitedAccessDeniedPage: 'hasVisitedAccessDeniedPage',
    hasVisitedLoginPage: 'hasVisitedLoginPage',
    hasVisitedSignUpPage: 'hasVisitedSignUpPage',
    hasVisitedUserAccountSettings: 'hasVisitedUserAccountSettings',
    hasVisitedUserAccountPage: 'hasVisitedUserAccountPage'
};
const SETUP_GUIDE_ALL_KEYS = {
    ...SETUP_GUIDE_KEYS,
    hasHostingPlan: 'hasHostingPlan',
    hasEcommerce: 'hasEcommerce',
    hasEnabledSSL: 'hasEnabledSSL',
    hasUsers: 'hasUsers',
    hasAccessGroups: 'hasAccessGroups',
    hasRestrictedContent: 'hasRestrictedContent',
    hasRestrictedProducts: 'hasRestrictedProducts'
};
const MAX_USER_DATA_FIELDS = 20;
const MAX_UPDATE_USER_DATA_FIELDS = MAX_USER_DATA_FIELDS + 2;
const USYS_FIELD_PATH = [
    {
        in: 'Record',
        at: 'users'
    },
    {
        in: 'Record',
        at: 'field'
    }
];
const USYS_CONTEXT_PATH = [
    {
        in: 'Record',
        at: 'users'
    },
    {
        in: 'Record',
        at: 'context'
    }
];
const TEMP_PATH = [
    {
        in: 'Record',
        at: 'temp'
    }
];
const TEMP_STATE_PATH = [
    ...TEMP_PATH,
    {
        in: 'Record',
        at: 'state'
    }
];
const USER_ACCESS_META_OPTIONS = [
    _types.USYS_ACCESS_TYPES.LOGGED_IN
];
const EXCEEDS_MAX_FILE_SIZE_ERROR = 'Maximum size allowed for a file upload is 10000kb / 10mb.';
const EXCEEDS_MAX_IMAGE_SIZE_ERROR = 'Maximum size allowed for a image upload is 4000kb / 4mb.';
const NO_REQUIRED_ATTRIBUTE = [
    'FileRef',
    'Bool'
];
const USER_STATUSES = {
    invited: 'Invited',
    verified: 'Verified',
    unverified: 'Unverified'
};
const USER_PAGE_SIZE = 100;
// User CSV Import constants
const USER_CSV_IMPORT_STATUS_POLLING_TIMEOUT = 20 * 60 * 1000;
const USER_CSV_IMPORT_STATUS_POLLING_INTERVAL = 5000;
const USER_CSV_IMPORT_STATUS_MAX_TRIES = Math.floor(USER_CSV_IMPORT_STATUS_POLLING_TIMEOUT / USER_CSV_IMPORT_STATUS_POLLING_INTERVAL);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Rmxvd0xhbmd9IGZyb20gJ2Zsb3ctdG8tdHlwZXNjcmlwdC1jb2RlbW9kJztcbmltcG9ydCB7dmFsdWVzfSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL2ZwL3V0aWxzJztcbmltcG9ydCB7dHlwZSBVc2VyQWNjZXNzTWV0YSwgVVNZU19BQ0NFU1NfVFlQRVN9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHt0eXBlIEV4cHJlc3Npb25QYXRofSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy93ZmRsJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3JTdGF0ZXMnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFVzeXNVdGlsS2V5VHlwZSA9IGtleW9mIHR5cGVvZiBVU1lTX1VUSUxJVFlfS0VZUztcbmV4cG9ydCB0eXBlIFVzeXNGb3JtVHlwZSA9IGtleW9mIHR5cGVvZiBVU1lTX0ZPUk1fVFlQRVM7XG5leHBvcnQgdHlwZSBNZW1iZXJzaGlwc0VtYWlsVHlwZSA9IGtleW9mIHR5cGVvZiBNRU1CRVJTSElQU19FTUFJTF9LRVlTO1xuZXhwb3J0IHR5cGUgVXNlcnNTZXR1cEd1aWRlVHlwZSA9IEZsb3dMYW5nLk9iak1hcDxcbiAgdHlwZW9mIFNFVFVQX0dVSURFX0tFWVMsXG4gICgpID0+IGJvb2xlYW5cbj47XG5leHBvcnQgdHlwZSBVc2VyU2V0dXBHdWlkZUtleXMgPSBrZXlvZiB0eXBlb2YgU0VUVVBfR1VJREVfS0VZUztcbmV4cG9ydCB0eXBlIFVzeXNVdGlsS2V5TWFwPFY+ID0gRmxvd0xhbmcuT2JqTWFwPFxuICB0eXBlb2YgVVNZU19VVElMSVRZX0tFWVMsXG4gIDxUPihhcmcxOiBUKSA9PiBWXG4+O1xuZXhwb3J0IHR5cGUgVXNlclN0YXR1c2VzID0ga2V5b2YgdHlwZW9mIFVTRVJfU1RBVFVTRVM7XG5cbmV4cG9ydCBjb25zdCBSRVNFUlZFRF9VU0VSX1BSRUZJWCA9ICd3Zi11c2VyLWZpZWxkLSc7XG5cbmV4cG9ydCBjb25zdCBSRVNFUlZFRF9VU0VSX0ZJRUxEUyA9IHtcbiAgbmFtZTogUkVTRVJWRURfVVNFUl9QUkVGSVggKyAnbmFtZScsXG4gIGFjY2VwdFByaXZhY3k6IFJFU0VSVkVEX1VTRVJfUFJFRklYICsgJ2FjY2VwdC1wcml2YWN5JyxcbiAgYWNjZXB0Q29tbXVuaWNhdGlvbnM6IFJFU0VSVkVEX1VTRVJfUFJFRklYICsgJ2FjY2VwdC1jb21tdW5pY2F0aW9ucycsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgS0VZX0ZST01fUkVTRVJWRURfVVNFUl9GSUVMRCA9IHtcbiAgW1JFU0VSVkVEX1VTRVJfUFJFRklYICsgJ25hbWUnXTogJ25hbWUnLFxuICBbUkVTRVJWRURfVVNFUl9QUkVGSVggKyAnYWNjZXB0LXByaXZhY3knXTogJ2FjY2VwdFByaXZhY3knLFxuICBbUkVTRVJWRURfVVNFUl9QUkVGSVggKyAnYWNjZXB0LWNvbW11bmljYXRpb25zJ106ICdhY2NlcHRDb21tdW5pY2F0aW9ucycsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgTkFNRVNfRlJPTV9VU0VSX0ZJRUxEUyA9IHtcbiAgW1JFU0VSVkVEX1VTRVJfUFJFRklYICsgJ25hbWUnXTogJ05hbWUnLFxuICBbUkVTRVJWRURfVVNFUl9QUkVGSVggKyAnYWNjZXB0LXByaXZhY3knXTogJ0FjY2VwdCBwcml2YWN5IHBvbGljeScsXG4gIFtSRVNFUlZFRF9VU0VSX1BSRUZJWCArICdhY2NlcHQtY29tbXVuaWNhdGlvbnMnXTogJ0FjY2VwdCBjb21tdW5pY2F0aW9ucycsXG4gIFBSSVZBQ1lfUE9MSUNZOiAnQWNjZXB0IHByaXZhY3kgcG9saWN5JyxcbiAgUEFTU1dPUkQ6ICdQYXNzd29yZCcsXG4gIEVNQUlMOiAnRW1haWwnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFRFWFRfSU5QVVRfVFlQRV9UT19GSUVMRF9UWVBFID0ge1xuICB0ZXh0OiAnUGxhaW5UZXh0JyxcbiAgcGFzc3dvcmQ6ICdQYXNzd29yZCcsXG4gIGVtYWlsOiAnRW1haWwnLFxuICBudW1iZXI6ICdQbGFpblRleHQnLFxuICB0ZWw6ICdQbGFpblRleHQnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTWVNfVVRJTElUWV9LRVlTID0ge1xuICAndXN5cy1sb2ctaW4nOiAndXN5cy1sb2ctaW4nLFxuICAndXN5cy1zaWduLXVwJzogJ3VzeXMtc2lnbi11cCcsXG4gICd1c3lzLXJlc2V0LXBhc3N3b3JkJzogJ3VzeXMtcmVzZXQtcGFzc3dvcmQnLFxuICAndXN5cy11cGRhdGUtcGFzc3dvcmQnOiAndXN5cy11cGRhdGUtcGFzc3dvcmQnLFxuICAndXN5cy1hY2Nlc3MtZGVuaWVkJzogJ3VzeXMtYWNjZXNzLWRlbmllZCcsXG4gICd1c3lzLXVzZXItYWNjb3VudCc6ICd1c3lzLXVzZXItYWNjb3VudCcsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgVVNZU19EQVRBX0FUVFJTID0ge1xuICBmb3JtVHlwZTogJ2RhdGEtd2YtdXNlci1mb3JtLXR5cGUnLFxuICBpbnB1dFR5cGU6ICdkYXRhLXdmLXVzZXItZm9ybS1pbnB1dC10eXBlJyxcbiAgbG9nb3V0OiAnZGF0YS13Zi11c2VyLWxvZ291dCcsXG4gIGxvZ2luOiAnZGF0YS13Zi11c2VyLWxvZ2luJyxcbiAgZm9ybUVycm9yOiAnZGF0YS13Zi11c2VyLWZvcm0tZXJyb3InLFxuICByZWRpcmVjdFVybDogJ2RhdGEtd2YtdXNlci1mb3JtLXJlZGlyZWN0JyxcbiAgZm9ybVZlcmlmaWNhdGlvbjogJ2RhdGEtd2YtdXNlci1mb3JtLXZlcmlmaWNhdGlvbicsXG4gIHVzZXJTdWJzY3JpcHRpb25zOiAnZGF0YS13Zi11c2VyLXN1YnNjcmlwdGlvbnMtbGlzdCcsXG4gIHVzZXJTdWJzY3JpcHRpb25zRW1wdHlTdGF0ZTogJ2RhdGEtd2YtdXNlci1zdWJzY3JpcHRpb25zLWVtcHR5JyxcbiAgdXNlckFjY291bnQ6ICdkYXRhLXdmLXVzZXItYWNjb3VudCcsXG4gIHN1YnNjcmlwdGlvbkNhbmNlbDogJ2RhdGEtd2YtdXNlci1zdWJzY3JpcHRpb24tY2FuY2VsJyxcbiAgdXNlcklkOiAnZGF0YS13Zi11c2VyLWlkJyxcbiAgZmllbGQ6ICdkYXRhLXdmLXVzZXItZmllbGQnLFxuICBmaWVsZFR5cGU6ICdkYXRhLXdmLXVzZXItZmllbGQtdHlwZScsXG4gIGZpbGVVcGxvYWRLZXk6ICdkYXRhLXdmLXVzZXItZmlsZS11cGxvYWQta2V5JyxcbiAgdW5zYXZlZEZpbGVVcGxvYWRLZXk6ICdkYXRhLXdmLXVuc2F2ZWQtdXNlci1maWxlLXVwbG9hZC1rZXknLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTWVNfRE9NX0NMQVNTX05BTUVTID0ge1xuICBmb3JtU3VjY2VzczogJ3ctZm9ybS1zdWNjZXNzJyxcbiAgZm9ybVZlcmZpY2F0aW9uOiAndy1mb3JtLXZlcmlmaWNhdGlvbicsXG4gIGZvcm1FcnJvcjogJ3ctZm9ybS1mYWlsJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBVU1lTX0ZPUk1fVFlQRVMgPSB7XG4gIGxvZ2luOiAnbG9naW4nLFxuICBzaWdudXA6ICdzaWdudXAnLFxuICB1cGRhdGVQYXNzd29yZDogJ3VwZGF0ZVBhc3N3b3JkJyxcbiAgcmVzZXRQYXNzd29yZDogJ3Jlc2V0UGFzc3dvcmQnLFxuICBhY2NvdW50OiAndXNlckFjY291bnQnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTWVNfSU5QVVRfVFlQRVMgPSB7XG4gIGVtYWlsOiAnZW1haWwnLFxuICBuYW1lOiAnbmFtZScsXG4gIHBhc3N3b3JkOiAncGFzc3dvcmQnLFxuICBhY2NlcHRQcml2YWN5OiAnYWNjZXB0LXByaXZhY3knLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTWVNfSU5QVVRfU0lHTl9VUF9JRFMgPSB7XG4gIGVtYWlsOiAnd2Ytc2lnbi11cC1lbWFpbCcsXG4gIG5hbWU6ICd3Zi1zaWduLXVwLW5hbWUnLFxuICBwYXNzd29yZDogJ3dmLXNpZ24tdXAtcGFzc3dvcmQnLFxuICBhY2NlcHRQcml2YWN5OiAnd2Ytc2lnbi11cC1hY2NlcHQtcHJpdmFjeScsXG4gIGFjY2VwdENvbW11bmljYXRpb25zOiAnd2Ytc2lnbi11cC1hY2NlcHQtY29tbXVuaWNhdGlvbnMnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTWVNfVVNFUl9TVEFURVMgPSB7XG4gIGxvZ2dlZEluOiAnbG9nZ2VkSW4nLFxuICBsb2dnZWRPdXQ6ICdsb2dnZWRPdXQnLFxufSBhcyBjb25zdDtcblxuLy8gU291cmNlIG9mIHRydXRoIGZvciBhbGwgdXNlciBzeXN0ZW1zIHRlbXBsYXRlIHBhZ2Ugc2V0dGluZ3NcbmV4cG9ydCBjb25zdCBVU1lTX1BBR0VfU0VUVElOR1MgPSB7XG4gIGxvZ2luOiB7XG4gICAgcGFyZW50OiBudWxsLFxuICAgIHNvcnRQb3M6IDAsXG4gICAgdXRpbEtleTogJ3VzeXMtbG9nLWluJyxcbiAgICBzbHVnOiAnbG9nLWluJyxcbiAgICB0aXRsZTogJ0xvZyBJbicsXG4gIH0sXG4gIHNpZ251cDoge1xuICAgIHBhcmVudDogbnVsbCxcbiAgICBzb3J0UG9zOiAxLFxuICAgIHV0aWxLZXk6ICd1c3lzLXNpZ24tdXAnLFxuICAgIHNsdWc6ICdzaWduLXVwJyxcbiAgICB0aXRsZTogJ1NpZ24gVXAnLFxuICB9LFxuICByZXNldFBhc3N3b3JkOiB7XG4gICAgcGFyZW50OiBudWxsLFxuICAgIHNvcnRQb3M6IDIsXG4gICAgdXRpbEtleTogJ3VzeXMtcmVzZXQtcGFzc3dvcmQnLFxuICAgIHNsdWc6ICdyZXNldC1wYXNzd29yZCcsXG4gICAgdGl0bGU6ICdSZXNldCBQYXNzd29yZCcsXG4gIH0sXG4gIHVwZGF0ZVBhc3N3b3JkOiB7XG4gICAgcGFyZW50OiBudWxsLFxuICAgIHNvcnRQb3M6IDMsXG4gICAgdXRpbEtleTogJ3VzeXMtdXBkYXRlLXBhc3N3b3JkJyxcbiAgICBzbHVnOiAndXBkYXRlLXBhc3N3b3JkJyxcbiAgICB0aXRsZTogJ1VwZGF0ZSBQYXNzd29yZCcsXG4gIH0sXG4gIGFjY2Vzc0RlbmllZDoge1xuICAgIHBhcmVudDogbnVsbCxcbiAgICBzb3J0UG9zOiA0LFxuICAgIHV0aWxLZXk6ICd1c3lzLWFjY2Vzcy1kZW5pZWQnLFxuICAgIHNsdWc6ICdhY2Nlc3MtZGVuaWVkJyxcbiAgICB0aXRsZTogJ0FjY2VzcyBEZW5pZWQnLFxuICB9LFxuICB1c2VyQWNjb3VudDoge1xuICAgIHBhcmVudDogbnVsbCxcbiAgICBzb3J0UG9zOiA1LFxuICAgIHV0aWxLZXk6ICd1c3lzLXVzZXItYWNjb3VudCcsXG4gICAgc2x1ZzogJ3VzZXItYWNjb3VudCcsXG4gICAgdGl0bGU6ICdVc2VyIEFjY291bnQnLFxuICB9LFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTWVNfUkVTRVJWRURfU0xVR1MgPSB2YWx1ZXMoVVNZU19QQUdFX1NFVFRJTkdTKS5tYXA8c3RyaW5nPihcbiAgKHBhZ2VTZXR0aW5ncykgPT4gcGFnZVNldHRpbmdzLnNsdWdcbik7XG5cbmV4cG9ydCBjb25zdCBVU1lTX1BBR0VfVVRJTF9LRVlTID0gdmFsdWVzKFVTWVNfUEFHRV9TRVRUSU5HUykubWFwPHN0cmluZz4oXG4gIChwYWdlU2V0dGluZ3MpID0+IHBhZ2VTZXR0aW5ncy51dGlsS2V5XG4pO1xuXG4vLyBmb3IgYnJhbmQgc3R5bGluZyBpbiBlbWFpbHNcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NUWUxFUyA9IHtcbiAgYWNjZW50Q29sb3I6ICcjNDY4RUU1JyxcbiAgYmdDb2xvcjogJyNGNUY2RjcnLFxuICBpbmNsdWRlV2ZCcmFuZDogdHJ1ZSxcbn0gYXMgY29uc3Q7XG5cbi8vIFRoZSBsZW5ndGggZXhwcmVzc2VkIGhlcmUgaXMgaW4gYnl0ZXMsIHRoYXQgbWVhbnMgdGhhdCBzb21lIGNoYXJhY3RlcnMgd2lsbFxuLy8gY291bnQgYXMgbW9yZSB0aGFuIDEgYnl0ZSwgbGlrZTogw6EsIMOpLCDDrSwgw7MsIMO6LCBldGMuXG5leHBvcnQgY29uc3QgUEFTU1dPUkRfTUlOX0xFTkdUSCA9IDg7XG5leHBvcnQgY29uc3QgUEFTU1dPUkRfTUFYX0xFTkdUSCA9IDcyO1xuXG4vLyBIZWxwZXIgY29uc3RhbnRzLlxuY29uc3QgU0VDT05EID0gMTAwMDtcbmNvbnN0IE1JTlVURSA9IDYwICogU0VDT05EO1xuY29uc3QgSE9VUiA9IDYwICogTUlOVVRFO1xuY29uc3QgREFZID0gMjQgKiBIT1VSO1xuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9DT09LSUVfTkFNRSA9ICd3Zl9zaWQnO1xuZXhwb3J0IGNvbnN0IExPR0dFRElOX0NPT0tJRV9OQU1FID0gJ3dmX2xvZ2dlZGluJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFU1NJT05fRFVSQVRJT05fSU5fTVMgPSA3ICogREFZO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9UT0tFTl9EVVJBVElPTl9JTl9NUyA9IDQgKiBIT1VSO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVE9LRU5fQUdFX01TID0gSE9VUjtcblxuLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHVzZXJzIHRoYXQgYSBmcmVlIHNpdGUgY2FuIGhhdmUuIEEgZnJlZSBzaXRlIGluIHRoaXNcbi8vIGNhc2UgbWVhbnMgYSBzaXRlIHRoYXQgZG9lc24ndCBoYXZlIGEgc2l0ZSBwbGFuLlxuZXhwb3J0IGNvbnN0IFNUQVJURVJfTUFYX05VTV9VU0VSUyA9IDEwMDtcbmV4cG9ydCBjb25zdCBCQVNJQ19NQVhfTlVNX1VTRVJTID0gMjAwMDA7XG5leHBvcnQgY29uc3QgQlVTSU5FU1NfTUFYX05VTV9VU0VSUyA9IDIwMDAwO1xuZXhwb3J0IGNvbnN0IEVDT01NX1NUQU5EQVJEX01BWF9OVU1fVVNFUlMgPSAyMDAwMDtcbmV4cG9ydCBjb25zdCBFQ09NTV9QTFVTX01BWF9OVU1fVVNFUlMgPSAyMDAwMDtcbi8vIEluIHNvbWUgY2FzZXMsIHdlIG1pZ2h0IHdhbnQgdG8gaGF2ZSBzb21lIHNpdGVzIGdvIG92ZXIgdGhlaXIgcGxhbiBsaW1pdC5cbi8vIEhvd2V2ZXIsIGZvciBzYWZldHkgd2Ugc2hvdWxkIGFsd2F5cyBoYXZlIGEgaGFyZCBsaW1pdCBmb3Igb3VyIHN5c3RlbS4gVGhpc1xuLy8gbGltaXQgY2FuIGJlIGluY3JlYXNlZCBidXQgc2hvdWxkIGJlIGRvbmUgZ3JhZHVhbGx5IGFzIHdlIGxlYXJuIGFib3V0IG91clxuLy8gY3VzdG9tZXJzIG5lZWRzLlxuZXhwb3J0IGNvbnN0IEhBUkRfTElNSVRfTUFYX05VTV9VU0VSUyA9IDEwMCAqIDEwMDA7XG5cbnR5cGUgU3Vic2NyaXB0aW9uVXNlckxpbWl0cyA9IHtcbiAgZnJlZTogbnVtYmVyO1xuICBzdGF0aWM6IG51bWJlcjtcbiAgY21zOiBudW1iZXI7XG4gIGJ1c2luZXNzOiBudW1iZXI7XG4gIGVjb21tZXJjZV9zdGFuZGFyZDogbnVtYmVyO1xuICBlY29tbWVyY2VfcGx1czogbnVtYmVyO1xuICBlY29tbWVyY2VfYWR2YW5jZWQ6IG51bWJlcjtcbiAgZW50ZXJwcmlzZTogbnVtYmVyO1xuICBlbnRlcnByaXNlX2xpdGU6IG51bWJlcjtcbn07XG5cbi8vIE1hcCB1c2VyIGxpbWl0cyB0byBzaXRlU3Vic2NyaXB0aW9uIHR5cGVzIGRlZmluZWQgaW5cbi8vIHBhY2thZ2VzL3N5c3RlbXMvZGVzaWduZXIvc2l0ZS1kYXRhL1NpdGVEYXRhU3RhdGVUeXBlLmpzXG5leHBvcnQgY29uc3QgU1VCU0NSSVBUSU9OX1VTRVJfTElNSVRTOiBTdWJzY3JpcHRpb25Vc2VyTGltaXRzID0ge1xuICBmcmVlOiBTVEFSVEVSX01BWF9OVU1fVVNFUlMsXG4gIHN0YXRpYzogQkFTSUNfTUFYX05VTV9VU0VSUyxcbiAgY21zOiBCVVNJTkVTU19NQVhfTlVNX1VTRVJTLFxuICBidXNpbmVzczogQlVTSU5FU1NfTUFYX05VTV9VU0VSUyxcbiAgZWNvbW1lcmNlX3N0YW5kYXJkOiBFQ09NTV9TVEFOREFSRF9NQVhfTlVNX1VTRVJTLFxuICBlY29tbWVyY2VfcGx1czogRUNPTU1fUExVU19NQVhfTlVNX1VTRVJTLFxuICBlY29tbWVyY2VfYWR2YW5jZWQ6IEJVU0lORVNTX01BWF9OVU1fVVNFUlMsXG4gIGVudGVycHJpc2U6IEJVU0lORVNTX01BWF9OVU1fVVNFUlMsXG4gIGVudGVycHJpc2VfbGl0ZTogQlVTSU5FU1NfTUFYX05VTV9VU0VSUyxcbn07XG5cbmV4cG9ydCBjb25zdCBNQVhfTlVNX0dST1VQUyA9IDIwO1xuZXhwb3J0IGNvbnN0IE1JTl9HUk9VUF9JRF9MRU5HVEggPSAyO1xuZXhwb3J0IGNvbnN0IE1BWF9HUk9VUF9JRF9MRU5HVEggPSAyO1xuXG5leHBvcnQgY29uc3QgVVNZU19UT0tFTl9UWVBFUyA9IHtcbiAgaW52aXRlVXNlcjogJ2ludml0ZVVzZXInLFxuICByZXNldFBhc3N3b3JkOiAncmVzZXRQYXNzd29yZCcsXG4gIHZlcmlmeUVtYWlsOiAndmVyaWZ5RW1haWwnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEFDQ0VTU19HUk9VUF9JTkxJTkVfUFJPRFVDVF9GSUVMRF9TTFVHID1cbiAgJ2FjY2Vzcy1ncm91cC1tZW1iZXJzaGlwLXByb2R1Y3QnO1xuXG5leHBvcnQgY29uc3QgQUNDRVNTX0dST1VQX0FETUlTU0lPTl9UWVBFID0ge1xuICBmcmVlOiAnZnJlZScsXG4gIHBhaWQ6ICdwYWlkJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBBQ0NFU1NfR1JPVVBfRlJFRV9UWVBFID0ge1xuICBhbGw6ICdhbGwnLFxuICBhZG1pbjogJ2FkbWluJyxcbn0gYXMgY29uc3Q7XG5cbi8vICoqKiogRW1haWxzICoqKiogLy9cblxuZXhwb3J0IGNvbnN0IFNVQlNDUklQVElPTl9FTUFJTF9UWVBFUyA9IHtcbiAgUEFZTUVOVF9GQUlMRUQ6ICdwYXltZW50RmFpbGVkJyxcbiAgUEFZTUVOVF9TVUNDRVNTRlVMOiAncGF5bWVudFN1Y2Nlc3NmdWwnLFxuICBTVUJTQ1JJUFRJT05fQ0FOQ0VMRUQ6ICdzdWJzY3JpcHRpb25DYW5jZWxlZCcsXG4gIFZFUklGWV9QQVlNRU5UOiAndmVyaWZ5UGF5bWVudCcsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgTUVNQkVSU0hJUFNfRU1BSUxfS0VZUyA9IHtcbiAgaW52aXRlOiAnaW52aXRlJyxcbiAgcmVzZXRQYXNzd29yZDogJ3Jlc2V0UGFzc3dvcmQnLFxuICB1cGRhdGVkUGFzc3dvcmQ6ICd1cGRhdGVkUGFzc3dvcmQnLFxuICB3ZWxjb21lOiAnd2VsY29tZScsXG4gIHZlcmlmeTogJ3ZlcmlmeScsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgRU1BSUxfVEVNUExBVEVfVFlQRVMgPSB7XG4gIGludml0ZTogJ01FTUJFUlNISVBTX0lOVklURScsXG4gIHJlc2V0UGFzc3dvcmQ6ICdNRU1CRVJTSElQU19SRVNFVF9QQVNTV09SRCcsXG4gIHVwZGF0ZWRQYXNzd29yZDogJ01FTUJFUlNISVBTX1VQREFURURfUEFTU1dPUkQnLFxuICB2ZXJpZnk6ICdNRU1CRVJTSElQU19WRVJJRlknLFxuICB3ZWxjb21lOiAnTUVNQkVSU0hJUFNfV0VMQ09NRScsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQ09ORklSTV9VTlNBVkVEX0NIQU5HRVNfQ09QWSA9IHtcbiAgdGl0bGU6ICdDb250aW51ZSB3aXRob3V0IHNhdmluZz8nLFxuICBjb250ZW50OiAnWW91ciBjaGFuZ2VzIHdpbGwgYmUgbG9zdC4nLFxuICBpY29uVHlwZTogJ3dhcm5pbmcnLFxuICBzdWJtaXQ6IHtsYWJlbDogJ0NvbnRpbnVlJywgaW50ZW50OiAnZGFuZ2VyJ30sXG4gIGNhbmNlbDoge2xhYmVsOiAnQ2FuY2VsJywgaW50ZW50OiAnZGVmYXVsdCd9LFxufSBhcyBjb25zdDtcblxuLy8gKioqKiBVc2VyIGFjY291bnQgc2V0dGluZ3MgKioqKiAvL1xuXG5leHBvcnQgY29uc3QgVVNFUl9GSUVMRF9GT1JNX0lEID0gJ1VzZXJGaWVsZEZvcm0nO1xuXG5leHBvcnQgY29uc3QgTkVXX1VTRVJfRklFTERfSUQgPSAnbWludC11c2VyLWZpZWxkJztcblxuZXhwb3J0IGNvbnN0IFVTRVJfRklFTERfREVGQVVMVFMgPSB7XG4gIFBsYWluVGV4dDoge1xuICAgIGlkOiBORVdfVVNFUl9GSUVMRF9JRCxcbiAgICBuYW1lOiAnJyxcbiAgICBzbHVnOiAnJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogJ1BsYWluVGV4dCcsXG4gICAgdmFsaWRhdGlvbnM6IHt9LFxuICB9LFxuICBFbWFpbDoge1xuICAgIGlkOiBORVdfVVNFUl9GSUVMRF9JRCxcbiAgICBuYW1lOiAnJyxcbiAgICBzbHVnOiAnJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogJ0VtYWlsJyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIEJvb2w6IHtcbiAgICBpZDogTkVXX1VTRVJfRklFTERfSUQsXG4gICAgbmFtZTogJycsXG4gICAgc2x1ZzogJycsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHR5cGU6ICdCb29sJyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIEZpbGVSZWY6IHtcbiAgICBpZDogTkVXX1VTRVJfRklFTERfSUQsXG4gICAgbmFtZTogJycsXG4gICAgc2x1ZzogJycsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHR5cGU6ICdGaWxlUmVmJyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIE9wdGlvbjoge1xuICAgIGlkOiBORVdfVVNFUl9GSUVMRF9JRCxcbiAgICBuYW1lOiAnJyxcbiAgICBzbHVnOiAnJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogJ09wdGlvbicsXG4gICAgdmFsaWRhdGlvbnM6IHtcbiAgICAgIG9wdGlvbnM6IFtdLFxuICAgIH0sXG4gIH0sXG4gIFBhc3N3b3JkOiB7XG4gICAgaWQ6IE5FV19VU0VSX0ZJRUxEX0lELFxuICAgIG5hbWU6ICdQYXNzd29yZCcsXG4gICAgc2x1ZzogJycsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHlwZTogJ1Bhc3N3b3JkJyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIE51bWJlcjoge1xuICAgIGlkOiBORVdfVVNFUl9GSUVMRF9JRCxcbiAgICBuYW1lOiAnJyxcbiAgICBzbHVnOiAnJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogJ051bWJlcicsXG4gICAgdmFsaWRhdGlvbnM6IHtcbiAgICAgIG1pbjogMCxcbiAgICAgIHN0ZXA6IDEsXG4gICAgfSxcbiAgfSxcbiAgTGluazoge1xuICAgIGlkOiBORVdfVVNFUl9GSUVMRF9JRCxcbiAgICBuYW1lOiAnJyxcbiAgICBzbHVnOiAnJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogJ0xpbmsnLFxuICAgIHZhbGlkYXRpb25zOiB7fSxcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1VTRVJfRklFTERTID0gW1xuICB7XG4gICAgaWQ6ICduYW1lJyxcbiAgICBuYW1lOiAnTmFtZScsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHNsdWc6ICduYW1lJyxcbiAgICB0eXBlOiAnUGxhaW5UZXh0JyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIHtcbiAgICBpZDogJ2VtYWlsJyxcbiAgICBuYW1lOiAnRW1haWwnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHNsdWc6ICdlbWFpbCcsXG4gICAgdHlwZTogJ0VtYWlsJyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Bhc3N3b3JkJyxcbiAgICBuYW1lOiAnUGFzc3dvcmQnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHNsdWc6ICdwYXNzd29yZCcsXG4gICAgdHlwZTogJ1Bhc3N3b3JkJyxcbiAgICB2YWxpZGF0aW9uczoge30sXG4gIH0sXG4gIHtcbiAgICBpZDogJ2FjY2VwdFByaXZhY3knLFxuICAgIG5hbWU6ICdBY2NlcHQgcHJpdmFjeScsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHNsdWc6ICdhY2NlcHQtcHJpdmFjeScsXG4gICAgdHlwZTogJ0Jvb2wnLFxuICAgIHZhbGlkYXRpb25zOiB7fSxcbiAgfSxcbiAge1xuICAgIGlkOiAnYWNjZXB0Q29tbXVuaWNhdGlvbnMnLFxuICAgIG5hbWU6ICdBY2NlcHQgY29tbXVuaWNhdGlvbnMnLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICBzbHVnOiAnYWNjZXB0LWNvbW11bmljYXRpb25zJyxcbiAgICB0eXBlOiAnQm9vbCcsXG4gICAgdmFsaWRhdGlvbnM6IHt9LFxuICB9LFxuXSBhcyBjb25zdDtcblxuLy8gQ29udGFpbnMgdGhlIGtleXMgdGhhdCB1c3lzU2V0dGluZ3Mgc3RvcmVzXG5leHBvcnQgY29uc3QgU0VUVVBfR1VJREVfS0VZUyA9IHtcbiAgaGFzVmlzaXRlZEFjY2Vzc0RlbmllZFBhZ2U6ICdoYXNWaXNpdGVkQWNjZXNzRGVuaWVkUGFnZScsXG4gIGhhc1Zpc2l0ZWRMb2dpblBhZ2U6ICdoYXNWaXNpdGVkTG9naW5QYWdlJyxcbiAgaGFzVmlzaXRlZFNpZ25VcFBhZ2U6ICdoYXNWaXNpdGVkU2lnblVwUGFnZScsXG4gIGhhc1Zpc2l0ZWRVc2VyQWNjb3VudFNldHRpbmdzOiAnaGFzVmlzaXRlZFVzZXJBY2NvdW50U2V0dGluZ3MnLFxuICBoYXNWaXNpdGVkVXNlckFjY291bnRQYWdlOiAnaGFzVmlzaXRlZFVzZXJBY2NvdW50UGFnZScsXG59IGFzIGNvbnN0O1xuXG4vLyBDb250YWlucyBhbGwgdGhlIHNldHVwIGd1aWRlIGtleXMsIHNlcnZlciBhbmQgZnJvbnRlbmQtb25seVxuZXhwb3J0IGNvbnN0IFNFVFVQX0dVSURFX0FMTF9LRVlTID0ge1xuICAuLi5TRVRVUF9HVUlERV9LRVlTLFxuICBoYXNIb3N0aW5nUGxhbjogJ2hhc0hvc3RpbmdQbGFuJyxcbiAgaGFzRWNvbW1lcmNlOiAnaGFzRWNvbW1lcmNlJyxcbiAgaGFzRW5hYmxlZFNTTDogJ2hhc0VuYWJsZWRTU0wnLFxuICBoYXNVc2VyczogJ2hhc1VzZXJzJyxcbiAgaGFzQWNjZXNzR3JvdXBzOiAnaGFzQWNjZXNzR3JvdXBzJyxcbiAgaGFzUmVzdHJpY3RlZENvbnRlbnQ6ICdoYXNSZXN0cmljdGVkQ29udGVudCcsXG4gIGhhc1Jlc3RyaWN0ZWRQcm9kdWN0czogJ2hhc1Jlc3RyaWN0ZWRQcm9kdWN0cycsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgTUFYX1VTRVJfREFUQV9GSUVMRFMgPSAyMDtcblxuLy8gYG5hbWVgIGFuZCBgYWNjZXB0LWNvbW11bmljYXRpb25zYCBjb21tb24gZmllbGRzIGNhbiBhbHNvIGJlIHVwZGF0ZWRcbi8vIGFsb25nIHdpdGggY3VzdG9tIGZpZWxkcyBjdXJyZW50bHlcbmV4cG9ydCBjb25zdCBNQVhfVVBEQVRFX1VTRVJfREFUQV9GSUVMRFMgPSBNQVhfVVNFUl9EQVRBX0ZJRUxEUyArIDI7XG5cbmV4cG9ydCBjb25zdCBVU1lTX0ZJRUxEX1BBVEg6IEV4cHJlc3Npb25QYXRoID0gW1xuICB7aW46ICdSZWNvcmQnLCBhdDogJ3VzZXJzJ30sXG4gIHtpbjogJ1JlY29yZCcsIGF0OiAnZmllbGQnfSxcbl07XG5cbmV4cG9ydCBjb25zdCBVU1lTX0NPTlRFWFRfUEFUSDogRXhwcmVzc2lvblBhdGggPSBbXG4gIHtpbjogJ1JlY29yZCcsIGF0OiAndXNlcnMnfSxcbiAge2luOiAnUmVjb3JkJywgYXQ6ICdjb250ZXh0J30sXG5dO1xuXG5jb25zdCBURU1QX1BBVEg6IEV4cHJlc3Npb25QYXRoID0gW3tpbjogJ1JlY29yZCcsIGF0OiAndGVtcCd9XTtcbmV4cG9ydCBjb25zdCBURU1QX1NUQVRFX1BBVEg6IEV4cHJlc3Npb25QYXRoID0gW1xuICAuLi5URU1QX1BBVEgsXG4gIHtpbjogJ1JlY29yZCcsIGF0OiAnc3RhdGUnfSxcbl07XG5cbmV4cG9ydCBjb25zdCBVU0VSX0FDQ0VTU19NRVRBX09QVElPTlM6IFVzZXJBY2Nlc3NNZXRhID0gW1xuICBVU1lTX0FDQ0VTU19UWVBFUy5MT0dHRURfSU4sXG5dO1xuXG5leHBvcnQgY29uc3QgRVhDRUVEU19NQVhfRklMRV9TSVpFX0VSUk9SID1cbiAgJ01heGltdW0gc2l6ZSBhbGxvd2VkIGZvciBhIGZpbGUgdXBsb2FkIGlzIDEwMDAwa2IgLyAxMG1iLic7XG5leHBvcnQgY29uc3QgRVhDRUVEU19NQVhfSU1BR0VfU0laRV9FUlJPUiA9XG4gICdNYXhpbXVtIHNpemUgYWxsb3dlZCBmb3IgYSBpbWFnZSB1cGxvYWQgaXMgNDAwMGtiIC8gNG1iLic7XG5leHBvcnQgY29uc3QgTk9fUkVRVUlSRURfQVRUUklCVVRFID0gWydGaWxlUmVmJywgJ0Jvb2wnXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFVTRVJfU1RBVFVTRVMgPSB7XG4gIGludml0ZWQ6ICdJbnZpdGVkJyxcbiAgdmVyaWZpZWQ6ICdWZXJpZmllZCcsXG4gIHVudmVyaWZpZWQ6ICdVbnZlcmlmaWVkJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBVU0VSX1BBR0VfU0laRSA9IDEwMDtcblxuLy8gVXNlciBDU1YgSW1wb3J0IGNvbnN0YW50c1xuY29uc3QgVVNFUl9DU1ZfSU1QT1JUX1NUQVRVU19QT0xMSU5HX1RJTUVPVVQgPSAyMCAqIDYwICogMTAwMDtcbmV4cG9ydCBjb25zdCBVU0VSX0NTVl9JTVBPUlRfU1RBVFVTX1BPTExJTkdfSU5URVJWQUwgPSA1MDAwO1xuZXhwb3J0IGNvbnN0IFVTRVJfQ1NWX0lNUE9SVF9TVEFUVVNfTUFYX1RSSUVTID0gTWF0aC5mbG9vcihcbiAgVVNFUl9DU1ZfSU1QT1JUX1NUQVRVU19QT0xMSU5HX1RJTUVPVVQgL1xuICAgIFVTRVJfQ1NWX0lNUE9SVF9TVEFUVVNfUE9MTElOR19JTlRFUlZBTFxuKTtcbiJdLCJuYW1lcyI6WyJBQ0NFU1NfR1JPVVBfQURNSVNTSU9OX1RZUEUiLCJBQ0NFU1NfR1JPVVBfRlJFRV9UWVBFIiwiQUNDRVNTX0dST1VQX0lOTElORV9QUk9EVUNUX0ZJRUxEX1NMVUciLCJCQVNJQ19NQVhfTlVNX1VTRVJTIiwiQlVTSU5FU1NfTUFYX05VTV9VU0VSUyIsIkNPTkZJUk1fVU5TQVZFRF9DSEFOR0VTX0NPUFkiLCJERUZBVUxUX1NFU1NJT05fRFVSQVRJT05fSU5fTVMiLCJERUZBVUxUX1NFU1NJT05fVE9LRU5fRFVSQVRJT05fSU5fTVMiLCJERUZBVUxUX1NUWUxFUyIsIkRFRkFVTFRfVE9LRU5fQUdFX01TIiwiREVGQVVMVF9VU0VSX0ZJRUxEUyIsIkVDT01NX1BMVVNfTUFYX05VTV9VU0VSUyIsIkVDT01NX1NUQU5EQVJEX01BWF9OVU1fVVNFUlMiLCJFTUFJTF9URU1QTEFURV9UWVBFUyIsIkVYQ0VFRFNfTUFYX0ZJTEVfU0laRV9FUlJPUiIsIkVYQ0VFRFNfTUFYX0lNQUdFX1NJWkVfRVJST1IiLCJIQVJEX0xJTUlUX01BWF9OVU1fVVNFUlMiLCJLRVlfRlJPTV9SRVNFUlZFRF9VU0VSX0ZJRUxEIiwiTE9HR0VESU5fQ09PS0lFX05BTUUiLCJNQVhfR1JPVVBfSURfTEVOR1RIIiwiTUFYX05VTV9HUk9VUFMiLCJNQVhfVVBEQVRFX1VTRVJfREFUQV9GSUVMRFMiLCJNQVhfVVNFUl9EQVRBX0ZJRUxEUyIsIk1FTUJFUlNISVBTX0VNQUlMX0tFWVMiLCJNSU5fR1JPVVBfSURfTEVOR1RIIiwiTkFNRVNfRlJPTV9VU0VSX0ZJRUxEUyIsIk5FV19VU0VSX0ZJRUxEX0lEIiwiTk9fUkVRVUlSRURfQVRUUklCVVRFIiwiUEFTU1dPUkRfTUFYX0xFTkdUSCIsIlBBU1NXT1JEX01JTl9MRU5HVEgiLCJSRVNFUlZFRF9VU0VSX0ZJRUxEUyIsIlJFU0VSVkVEX1VTRVJfUFJFRklYIiwiU0VTU0lPTl9DT09LSUVfTkFNRSIsIlNFVFVQX0dVSURFX0FMTF9LRVlTIiwiU0VUVVBfR1VJREVfS0VZUyIsIlNUQVJURVJfTUFYX05VTV9VU0VSUyIsIlNVQlNDUklQVElPTl9FTUFJTF9UWVBFUyIsIlNVQlNDUklQVElPTl9VU0VSX0xJTUlUUyIsIlRFTVBfU1RBVEVfUEFUSCIsIlRFWFRfSU5QVVRfVFlQRV9UT19GSUVMRF9UWVBFIiwiVVNFUl9BQ0NFU1NfTUVUQV9PUFRJT05TIiwiVVNFUl9DU1ZfSU1QT1JUX1NUQVRVU19NQVhfVFJJRVMiLCJVU0VSX0NTVl9JTVBPUlRfU1RBVFVTX1BPTExJTkdfSU5URVJWQUwiLCJVU0VSX0ZJRUxEX0RFRkFVTFRTIiwiVVNFUl9GSUVMRF9GT1JNX0lEIiwiVVNFUl9QQUdFX1NJWkUiLCJVU0VSX1NUQVRVU0VTIiwiVVNZU19DT05URVhUX1BBVEgiLCJVU1lTX0RBVEFfQVRUUlMiLCJVU1lTX0RPTV9DTEFTU19OQU1FUyIsIlVTWVNfRklFTERfUEFUSCIsIlVTWVNfRk9STV9UWVBFUyIsIlVTWVNfSU5QVVRfU0lHTl9VUF9JRFMiLCJVU1lTX0lOUFVUX1RZUEVTIiwiVVNZU19QQUdFX1NFVFRJTkdTIiwiVVNZU19QQUdFX1VUSUxfS0VZUyIsIlVTWVNfUkVTRVJWRURfU0xVR1MiLCJVU1lTX1RPS0VOX1RZUEVTIiwiVVNZU19VU0VSX1NUQVRFUyIsIlVTWVNfVVRJTElUWV9LRVlTIiwibmFtZSIsImFjY2VwdFByaXZhY3kiLCJhY2NlcHRDb21tdW5pY2F0aW9ucyIsIlBSSVZBQ1lfUE9MSUNZIiwiUEFTU1dPUkQiLCJFTUFJTCIsInRleHQiLCJwYXNzd29yZCIsImVtYWlsIiwibnVtYmVyIiwidGVsIiwiZm9ybVR5cGUiLCJpbnB1dFR5cGUiLCJsb2dvdXQiLCJsb2dpbiIsImZvcm1FcnJvciIsInJlZGlyZWN0VXJsIiwiZm9ybVZlcmlmaWNhdGlvbiIsInVzZXJTdWJzY3JpcHRpb25zIiwidXNlclN1YnNjcmlwdGlvbnNFbXB0eVN0YXRlIiwidXNlckFjY291bnQiLCJzdWJzY3JpcHRpb25DYW5jZWwiLCJ1c2VySWQiLCJmaWVsZCIsImZpZWxkVHlwZSIsImZpbGVVcGxvYWRLZXkiLCJ1bnNhdmVkRmlsZVVwbG9hZEtleSIsImZvcm1TdWNjZXNzIiwiZm9ybVZlcmZpY2F0aW9uIiwic2lnbnVwIiwidXBkYXRlUGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkIiwiYWNjb3VudCIsImxvZ2dlZEluIiwibG9nZ2VkT3V0IiwicGFyZW50Iiwic29ydFBvcyIsInV0aWxLZXkiLCJzbHVnIiwidGl0bGUiLCJhY2Nlc3NEZW5pZWQiLCJ2YWx1ZXMiLCJtYXAiLCJwYWdlU2V0dGluZ3MiLCJhY2NlbnRDb2xvciIsImJnQ29sb3IiLCJpbmNsdWRlV2ZCcmFuZCIsIlNFQ09ORCIsIk1JTlVURSIsIkhPVVIiLCJEQVkiLCJmcmVlIiwic3RhdGljIiwiY21zIiwiYnVzaW5lc3MiLCJlY29tbWVyY2Vfc3RhbmRhcmQiLCJlY29tbWVyY2VfcGx1cyIsImVjb21tZXJjZV9hZHZhbmNlZCIsImVudGVycHJpc2UiLCJlbnRlcnByaXNlX2xpdGUiLCJpbnZpdGVVc2VyIiwidmVyaWZ5RW1haWwiLCJwYWlkIiwiYWxsIiwiYWRtaW4iLCJQQVlNRU5UX0ZBSUxFRCIsIlBBWU1FTlRfU1VDQ0VTU0ZVTCIsIlNVQlNDUklQVElPTl9DQU5DRUxFRCIsIlZFUklGWV9QQVlNRU5UIiwiaW52aXRlIiwidXBkYXRlZFBhc3N3b3JkIiwid2VsY29tZSIsInZlcmlmeSIsImNvbnRlbnQiLCJpY29uVHlwZSIsInN1Ym1pdCIsImxhYmVsIiwiaW50ZW50IiwiY2FuY2VsIiwiUGxhaW5UZXh0IiwiaWQiLCJyZXF1aXJlZCIsInR5cGUiLCJ2YWxpZGF0aW9ucyIsIkVtYWlsIiwiQm9vbCIsIkZpbGVSZWYiLCJPcHRpb24iLCJvcHRpb25zIiwiUGFzc3dvcmQiLCJOdW1iZXIiLCJtaW4iLCJzdGVwIiwiTGluayIsImhhc1Zpc2l0ZWRBY2Nlc3NEZW5pZWRQYWdlIiwiaGFzVmlzaXRlZExvZ2luUGFnZSIsImhhc1Zpc2l0ZWRTaWduVXBQYWdlIiwiaGFzVmlzaXRlZFVzZXJBY2NvdW50U2V0dGluZ3MiLCJoYXNWaXNpdGVkVXNlckFjY291bnRQYWdlIiwiaGFzSG9zdGluZ1BsYW4iLCJoYXNFY29tbWVyY2UiLCJoYXNFbmFibGVkU1NMIiwiaGFzVXNlcnMiLCJoYXNBY2Nlc3NHcm91cHMiLCJoYXNSZXN0cmljdGVkQ29udGVudCIsImhhc1Jlc3RyaWN0ZWRQcm9kdWN0cyIsImluIiwiYXQiLCJURU1QX1BBVEgiLCJVU1lTX0FDQ0VTU19UWVBFUyIsIkxPR0dFRF9JTiIsImludml0ZWQiLCJ2ZXJpZmllZCIsInVudmVyaWZpZWQiLCJVU0VSX0NTVl9JTVBPUlRfU1RBVFVTX1BPTExJTkdfVElNRU9VVCIsIk1hdGgiLCJmbG9vciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUFvUGFBLDJCQUEyQjtlQUEzQkE7O0lBS0FDLHNCQUFzQjtlQUF0QkE7O0lBUkFDLHNDQUFzQztlQUF0Q0E7O0lBOUNBQyxtQkFBbUI7ZUFBbkJBOztJQUNBQyxzQkFBc0I7ZUFBdEJBOztJQW1GQUMsNEJBQTRCO2VBQTVCQTs7SUEzRkFDLDhCQUE4QjtlQUE5QkE7O0lBQ0FDLG9DQUFvQztlQUFwQ0E7O0lBcEJBQyxjQUFjO2VBQWRBOztJQXFCQUMsb0JBQW9CO2VBQXBCQTs7SUErS0FDLG1CQUFtQjtlQUFuQkE7O0lBdktBQyx3QkFBd0I7ZUFBeEJBOztJQURBQyw0QkFBNEI7ZUFBNUJBOztJQTBFQUMsb0JBQW9CO2VBQXBCQTs7SUF3TEFDLDJCQUEyQjtlQUEzQkE7O0lBRUFDLDRCQUE0QjtlQUE1QkE7O0lBOVBBQyx3QkFBd0I7ZUFBeEJBOztJQTlLQUMsNEJBQTRCO2VBQTVCQTs7SUE4SkFDLG9CQUFvQjtlQUFwQkE7O0lBOENBQyxtQkFBbUI7ZUFBbkJBOztJQUZBQyxjQUFjO2VBQWRBOztJQTBNQUMsMkJBQTJCO2VBQTNCQTs7SUFKQUMsb0JBQW9CO2VBQXBCQTs7SUF0S0FDLHNCQUFzQjtlQUF0QkE7O0lBL0JBQyxtQkFBbUI7ZUFBbkJBOztJQXJNQUMsc0JBQXNCO2VBQXRCQTs7SUFnUUFDLGlCQUFpQjtlQUFqQkE7O0lBd0tBQyxxQkFBcUI7ZUFBckJBOztJQXpSQUMsbUJBQW1CO2VBQW5CQTs7SUFEQUMsbUJBQW1CO2VBQW5CQTs7SUExSkFDLG9CQUFvQjtlQUFwQkE7O0lBRkFDLG9CQUFvQjtlQUFwQkE7O0lBcUtBQyxtQkFBbUI7ZUFBbkJBOztJQXdPQUMsb0JBQW9CO2VBQXBCQTs7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

}),
29089: (function (__unused_webpack_module, exports) {
"use strict";
// Server email configuration

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "USYS_ACCESS_TYPES", ({
    enumerable: true,
    get: function() {
        return USYS_ACCESS_TYPES;
    }
}));
const USYS_ACCESS_TYPES = {
    LOGGED_IN: 'LOGGED_IN',
    ADMIN_ALWAYS_VISIBLE: 'ADMIN_ALWAYS_VISIBLE'
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNlcnZlciBlbWFpbCBjb25maWd1cmF0aW9uXG5leHBvcnQgdHlwZSBNZW1iZXJzaGlwc0RlZmF1bHRFbWFpbEZpZWxkc1R5cGUgPSB7XG4gIHN1YmplY3Q6IHN0cmluZztcbiAgaGVhZGluZzogc3RyaW5nO1xuICBtYWluOiBzdHJpbmc7XG4gIGZpbmVwcmludDogc3RyaW5nO1xuICBhbHRlcm5hdGVFeHBsYWluZXI/OiBzdHJpbmc7XG4gIGNyZWF0ZUFjY291bnRCdXR0b24/OiBzdHJpbmc7XG4gIHJlc2V0QnV0dG9uPzogc3RyaW5nO1xuICBzaXRlUmVkaXJlY3RCdXR0b24/OiBzdHJpbmc7XG4gIHZlcmlmeUJ1dHRvbj86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIE1lbWJlcnNoaXBzUmVzZXRQYXNzd29yZEVtYWlsRmllbGRzVHlwZSA9XG4gIE1lbWJlcnNoaXBzRGVmYXVsdEVtYWlsRmllbGRzVHlwZSAmIHtcbiAgICBhbHRlcm5hdGVFeHBsYWluZXI6IHN0cmluZztcbiAgICByZXNldEJ1dHRvbjogc3RyaW5nO1xuICB9O1xuXG5leHBvcnQgdHlwZSBNZW1iZXJzaGlwc1dlbGNvbWVFbWFpbEZpZWxkc1R5cGUgPVxuICBNZW1iZXJzaGlwc0RlZmF1bHRFbWFpbEZpZWxkc1R5cGUgJiB7XG4gICAgYWx0ZXJuYXRlRXhwbGFpbmVyOiBzdHJpbmc7XG4gICAgc2l0ZVJlZGlyZWN0QnV0dG9uOiBzdHJpbmc7XG4gIH07XG5cbmV4cG9ydCB0eXBlIE1lbWJlcnNoaXBzVmVyaWZ5RW1haWxGaWVsZHNUeXBlID1cbiAgTWVtYmVyc2hpcHNEZWZhdWx0RW1haWxGaWVsZHNUeXBlICYge1xuICAgIGFsdGVybmF0ZUV4cGxhaW5lcjogc3RyaW5nO1xuICAgIHZlcmlmeUJ1dHRvbjogc3RyaW5nO1xuICB9O1xuXG5leHBvcnQgdHlwZSBNZW1iZXJzaGlwc0ludml0ZUVtYWlsRmllbGRzVHlwZSA9XG4gIE1lbWJlcnNoaXBzRGVmYXVsdEVtYWlsRmllbGRzVHlwZSAmIHtcbiAgICBhbHRlcm5hdGVFeHBsYWluZXI6IHN0cmluZztcbiAgICBjcmVhdGVBY2NvdW50QnV0dG9uOiBzdHJpbmc7XG4gIH07XG5cbmV4cG9ydCB0eXBlIFVzeXNFbWFpbFR5cGUgPSB7XG4gIHJlc2V0UGFzc3dvcmQ6IE1lbWJlcnNoaXBzUmVzZXRQYXNzd29yZEVtYWlsRmllbGRzVHlwZTtcbiAgd2VsY29tZTogTWVtYmVyc2hpcHNXZWxjb21lRW1haWxGaWVsZHNUeXBlO1xuICBpbnZpdGU6IE1lbWJlcnNoaXBzSW52aXRlRW1haWxGaWVsZHNUeXBlO1xuICB1cGRhdGVkUGFzc3dvcmQ6IE1lbWJlcnNoaXBzRGVmYXVsdEVtYWlsRmllbGRzVHlwZTtcbiAgdmVyaWZ5OiBNZW1iZXJzaGlwc1ZlcmlmeUVtYWlsRmllbGRzVHlwZTtcbn07XG5cbi8vIFRlbXBsYXRlIGZpZWxkcyBjb25maWd1cmF0aW9uXG5leHBvcnQgdHlwZSBNZW1iZXJzaGlwc0RlZmF1bHRUZW1wbGF0ZUZpZWxkc1R5cGUgPSB7XG4gIGN1cnJlbnRGaWVsZDogc3RyaW5nO1xuICBzaXRlTmFtZTogc3RyaW5nO1xuICB1c2VyRW1haWw6IHN0cmluZztcbiAgYmdDb2xvcjogc3RyaW5nO1xuICBhY2NlbnRDb2xvcjogc3RyaW5nO1xuICBsaW5rQ29udHJhc3Q6IHN0cmluZztcbiAgYmFja2dyb3VuZENvbnRyYXN0OiBzdHJpbmc7XG4gIGluY2x1ZGVXZkJyYW5kOiBib29sZWFuO1xuICBsb2dvPzogUmVjb3JkPGFueSwgYW55Pjtcbn07XG5cbmV4cG9ydCB0eXBlIE1lbWJlcnNoaXBzRXh0cmFUZW1wbGF0ZUZpZWxkc1R5cGUgPSB7XG4gIHJlc2V0UGFzc3dvcmRMaW5rPzogc3RyaW5nO1xuICBjcmVhdGVBY2NvdW50TGluaz86IHN0cmluZztcbiAgdmVyaWZ5TGluaz86IHN0cmluZztcbiAgc2l0ZVJlZGlyZWN0TGluaz86IHN0cmluZztcbiAgdXNlck5hbWU/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBNZW1iZXJzaGlwc0VtYWlsVGVtcGxhdGVGaWVsZHNUeXBlID1cbiAgTWVtYmVyc2hpcHNEZWZhdWx0VGVtcGxhdGVGaWVsZHNUeXBlICZcbiAgICBNZW1iZXJzaGlwc0RlZmF1bHRFbWFpbEZpZWxkc1R5cGUgJlxuICAgIE1lbWJlcnNoaXBzRXh0cmFUZW1wbGF0ZUZpZWxkc1R5cGU7XG5cbmV4cG9ydCB0eXBlIE1lbWJlcnNoaXBzQnJhbmRpbmdUeXBlID0ge1xuICBsb2dvOiBzdHJpbmc7XG4gIGFjY2VudENvbG9yOiBzdHJpbmc7XG4gIGJnQ29sb3I6IHN0cmluZztcbiAgaW5jbHVkZVdmQnJhbmQ6IGJvb2xlYW47XG59O1xuZXhwb3J0IHR5cGUgVXNlcnNTZXR1cEd1aWRlVHlwZSA9IHtcbiAgaGFzVmlzaXRlZEFjY2Vzc0RlbmllZFBhZ2U6IGJvb2xlYW47XG4gIGhhc1Zpc2l0ZWRMb2dpblBhZ2U6IGJvb2xlYW47XG4gIGhhc1Zpc2l0ZWRTaWduVXBQYWdlOiBib29sZWFuO1xuICBoYXNWaXNpdGVkVXNlckFjY291bnRTZXR0aW5nczogYm9vbGVhbjtcbiAgaGFzVmlzaXRlZFVzZXJBY2NvdW50UGFnZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIE1vY2tVc3lzVXNlciA9IHtcbiAgY29tbW9uRmllbGRzOiB7XG4gICAgZW1haWw6IHN0cmluZztcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBVU1lTX0FDQ0VTU19UWVBFUyA9IHtcbiAgTE9HR0VEX0lOOiAnTE9HR0VEX0lOJyxcbiAgQURNSU5fQUxXQVlTX1ZJU0lCTEU6ICdBRE1JTl9BTFdBWVNfVklTSUJMRScsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBVc2VyQWNlc3NNZXRhT3B0aW9uID0ga2V5b2YgdHlwZW9mIFVTWVNfQUNDRVNTX1RZUEVTO1xuZXhwb3J0IHR5cGUgVXNlckFjY2Vzc01ldGEgPSBVc2VyQWNlc3NNZXRhT3B0aW9uW107XG5leHBvcnQgdHlwZSBVc3lzQ2FwdGNoYSA9IHtzaXRlS2V5OiBzdHJpbmc7IG1vZGU6IHN0cmluZ30gfCB1bmRlZmluZWQ7XG4iXSwibmFtZXMiOlsiVVNZU19BQ0NFU1NfVFlQRVMiLCJMT0dHRURfSU4iLCJBRE1JTl9BTFdBWVNfVklTSUJMRSJdLCJtYXBwaW5ncyI6IkFBQUEsNkJBQTZCOzs7OzsrQkEyRmhCQTs7O2VBQUFBOzs7QUFBTixNQUFNQSxvQkFBb0I7SUFDL0JDLFdBQVc7SUFDWEMsc0JBQXNCO0FBQ3hCIn0=

}),
30916: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  document
  window
  HTMLFormElement
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    handleUserAccount: function() {
        return handleUserAccount;
    },
    handleUserSubscriptionLists: function() {
        return handleUserSubscriptionLists;
    }
});
const _constants = __webpack_require__(7462);
const _constants1 = __webpack_require__(10873);
const _RenderingUtils = __webpack_require__(86078);
const _utils = __webpack_require__(56897);
const _queries = __webpack_require__(3671);
const _mutations = __webpack_require__(13197);
const _rendering = __webpack_require__(85513);
const _fields = __webpack_require__(18457);
function asyncGetUserSubscriptions() {
    return _utils.userSystemsRequestClient.query({
        query: _queries.getUserSubscriptions
    });
}
function asyncGetUser(dataFields) {
    return _utils.userSystemsRequestClient.query({
        query: (0, _queries.buildGetLoggedInUserQuery)(dataFields)
    });
}
function asyncSubmitUserData(dataFields) {
    // get variables in correct shape
    const data = (0, _fields.getFieldsAsTypeKeys)(dataFields);
    return _utils.userSystemsRequestClient.mutate({
        mutation: (0, _mutations.buildUpdateUsysUserDataMutation)(dataFields),
        variables: {
            data
        }
    });
}
const subscriptionListSelector = `[${_constants.USYS_DATA_ATTRS.userSubscriptions}]`;
const EmptyStateSelector = `[${_constants.USYS_DATA_ATTRS.userSubscriptionsEmptyState}]`;
const templateSelector = `script[type='${_constants1.WF_TEMPLATE_TYPE}']`;
function getUserSubscriptionLists() {
    const subscriptionLists = document.querySelectorAll(subscriptionListSelector);
    return Array.from(subscriptionLists);
}
const userAccountFormQuerySelector = `form[${_constants.USYS_DATA_ATTRS.formType}="${_constants.USYS_FORM_TYPES.account}"]`;
function getUserAccountForms() {
    const accountForms = document.querySelectorAll(userAccountFormQuerySelector);
    return Array.prototype.slice.call(accountForms).filter((accountForm)=>accountForm instanceof HTMLFormElement);
}
function handleUserSubscriptionLists(domParser) {
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        // The usys Apollo client does not work in the Designer and will error out.
        // We are using mocked data in the Designer and Preview mode instead.
        return;
    }
    const subscriptionLists = getUserSubscriptionLists();
    // If we have a list to render, query for the data
    if (subscriptionLists.length > 0) {
        asyncGetUserSubscriptions().then((response)=>{
            const userSubscriptions = response?.data?.database?.userSubscriptions;
            const noUserSubscriptions = userSubscriptions.length === 0;
            if (noUserSubscriptions) return renderEmptySubscriptionList(subscriptionLists);
            renderUserSubscriptionLists(subscriptionLists, domParser, userSubscriptions);
        }).catch((error)=>{
            const graphQLErrors = error?.graphQLErrors || [];
            const errorsHandled = graphQLErrors.reduce(// @ts-expect-error - TS7006 - Parameter 'hasUnhandledError' implicitly has an 'any' type. | TS7006 - Parameter 'graphQLError' implicitly has an 'any' type.
            (hasUnhandledError, graphQLError)=>{
                if (graphQLError?.code === 'NoCommerceCustomerFound') {
                    renderEmptySubscriptionList(subscriptionLists);
                    return hasUnhandledError;
                }
                return false;
            }, graphQLErrors.length > 0);
            if (!errorsHandled) throw error;
        });
    }
}
function renderEmptySubscriptionList(subscriptionListElements) {
    subscriptionListElements.forEach((subscriptionListElement)=>{
        const EmptyStateElement = subscriptionListElement.querySelector(EmptyStateSelector);
        (0, _utils.showElement)(EmptyStateElement);
    });
}
function renderUserSubscriptionLists(subscriptionListElements, domParser, userSubscriptions = []) {
    subscriptionListElements.forEach((subscriptionListElement)=>{
        const EmptyStateElement = subscriptionListElement.querySelector(EmptyStateSelector);
        (0, _utils.hideElement)(EmptyStateElement);
        const templateScript = subscriptionListElement.querySelector(templateSelector);
        if (!templateScript) {
            return;
        }
        const templateId = templateScript.getAttribute('id');
        if (!templateId) {
            return;
        }
        const listWrapperElement = document.querySelector(`[${_constants1.WF_TEMPLATE_ID_DATA_KEY}='${templateId}']`);
        if (!(listWrapperElement instanceof Element)) {
            // If we don't have a wrapper to append items to, return
            return;
        }
        const templateElement = domParser.getHtmlFromString(templateScript.innerHTML);
        if (!(templateElement instanceof Element)) {
            // If there is no template content present, return
            return;
        }
        userSubscriptions.forEach((subscription)=>{
            const templateClone = templateElement.cloneNode(true);
            listWrapperElement.appendChild(templateClone);
            // @ts-expect-error - TS2345 - Argument of type 'Node' is not assignable to parameter of type 'Element'.
            (0, _RenderingUtils.walkDOM)(templateClone, (node)=>{
                (0, _rendering.applyBindingsAndConditionalVisibility)(node, subscription);
                // Add handler for cancel subscription button. Done here since we have access to subscription id.
                if (node.hasAttribute(_constants.USYS_DATA_ATTRS.subscriptionCancel)) {
                    // @ts-expect-error - TS2339 - Property '_id' does not exist on type 'never'.
                    addCancelButtonEventListener(node, subscription._id);
                }
            });
        });
    });
}
function addCancelButtonEventListener(node, subscriptionId) {
    node.addEventListener('click', function() {
        _utils.userSystemsRequestClient.mutate({
            mutation: _mutations.cancelSubscriptionMutation,
            variables: {
                subscriptionId
            }
        }).then(()=>{
            // Refresh so can refetch and rerender with updated status of subscription after cancelation
            // Ultimately we should probably do a re fetch adn re render render, but will require replacing existing nodes
            window.location.reload();
        });
    });
}
function handleUserAccount() {
    // UserAccountWrapper
    const userAccount = document.querySelector(`[${_constants.USYS_DATA_ATTRS.userAccount}]`);
    if (!userAccount || window.Webflow.env('design') || window.Webflow.env('preview')) {
        return;
    }
    const successMessage = userAccount.querySelector('.' + _constants.USYS_DOM_CLASS_NAMES.formSuccess);
    const errorMessage = userAccount.querySelector('.' + _constants.USYS_DOM_CLASS_NAMES.formError);
    const userAccountForms = getUserAccountForms();
    if (userAccountForms.length > 0) {
        const fields = (0, _fields.getFieldsForFetch)(userAccountForms);
        asyncGetUser(fields).then((response)=>{
            const siteUser = response?.data?.site?.siteUser;
            if (!siteUser) return;
            const userData = siteUser.data;
            userAccountForms.forEach((accountForm)=>{
                (0, _RenderingUtils.walkDOM)(userAccount, (node)=>{
                    (0, _rendering.applyUserAccountData)(node, userData);
                });
                if (!(accountForm instanceof HTMLFormElement)) return;
                const submit = accountForm.querySelector('input[type="submit"]');
                accountForm.addEventListener('submit', (event)=>{
                    event.preventDefault();
                    const form = event.currentTarget;
                    if (!(form instanceof HTMLFormElement)) {
                        return;
                    }
                    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                    (0, _utils.hideElement)(successMessage);
                    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                    (0, _utils.hideElement)(errorMessage);
                    const submitText = (0, _utils.disableSubmit)(submit);
                    const commonFields = (0, _fields.getCommonFields)(form, [
                        'name',
                        'accept-communications'
                    ]);
                    const customFields = (0, _fields.getCustomFields)(form);
                    asyncSubmitUserData([
                        ...commonFields,
                        ...customFields
                    ]).then((res)=>{
                        const newUserData = res && res.data && res.data.usysUpdateUserData && res.data.usysUpdateUserData.data;
                        if (newUserData) {
                            // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                            addResetEventListener(accountForm, userAccount, newUserData);
                        }
                        // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                        successMessage && (0, _utils.showAndFocusElement)(successMessage);
                    })// @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
                    .catch((0, _utils.userFormError)(form, errorMessage, 'ACCOUNT_UPDATE')).finally(()=>{
                        (0, _utils.resetSubmit)(submit, submitText);
                    });
                });
                accountForm.querySelectorAll('input').forEach((input)=>input.addEventListener('input', ()=>{
                        // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                        (0, _utils.hideElement)(successMessage);
                        // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                        (0, _utils.hideElement)(errorMessage);
                    }));
                // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                addResetEventListener(accountForm, userAccount, userData);
            });
        });
    }
}
const addResetEventListener = (accountForm, userAccount, userData)=>{
    accountForm.addEventListener('reset', (event)=>{
        event.preventDefault();
        const form = event.currentTarget;
        if (!(form instanceof HTMLFormElement)) return;
        if (userData) {
            // apply saved user account data
            (0, _RenderingUtils.walkDOM)(userAccount, (node)=>{
                (0, _rendering.applyUserAccountData)(node, userData);
            });
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgZ2xvYmFsc1xuICBkb2N1bWVudFxuICB3aW5kb3dcbiAgSFRNTEZvcm1FbGVtZW50XG4qL1xuXG5pbXBvcnQge1xuICBVU1lTX0RBVEFfQVRUUlMsXG4gIFVTWVNfRE9NX0NMQVNTX05BTUVTLFxuICBVU1lTX0ZPUk1fVFlQRVMsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL3VzZXJzL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBXRl9URU1QTEFURV9JRF9EQVRBX0tFWSxcbiAgV0ZfVEVNUExBVEVfVFlQRSxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvY29tbWVyY2UvY29uc3RhbnRzJztcbmltcG9ydCB7d2Fsa0RPTX0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL1JlbmRlcmluZ1V0aWxzJztcbmltcG9ydCB7XG4gIHVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudCxcbiAgdHlwZSBEb21QYXJzZXJUeXBlLFxuICBzaG93RWxlbWVudCxcbiAgaGlkZUVsZW1lbnQsXG4gIGRpc2FibGVTdWJtaXQsXG4gIHNob3dBbmRGb2N1c0VsZW1lbnQsXG4gIHJlc2V0U3VibWl0LFxuICB1c2VyRm9ybUVycm9yLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7Z2V0VXNlclN1YnNjcmlwdGlvbnMsIGJ1aWxkR2V0TG9nZ2VkSW5Vc2VyUXVlcnl9IGZyb20gJy4vcXVlcmllcyc7XG5pbXBvcnQge1xuICBjYW5jZWxTdWJzY3JpcHRpb25NdXRhdGlvbixcbiAgYnVpbGRVcGRhdGVVc3lzVXNlckRhdGFNdXRhdGlvbixcbn0gZnJvbSAnLi9tdXRhdGlvbnMnO1xuaW1wb3J0IHtcbiAgYXBwbHlCaW5kaW5nc0FuZENvbmRpdGlvbmFsVmlzaWJpbGl0eSxcbiAgYXBwbHlVc2VyQWNjb3VudERhdGEsXG59IGZyb20gJy4vcmVuZGVyaW5nJztcbmltcG9ydCB7XG4gIGdldENvbW1vbkZpZWxkcyxcbiAgZ2V0Q3VzdG9tRmllbGRzLFxuICBnZXRGaWVsZHNGb3JGZXRjaCxcbiAgZ2V0RmllbGRzQXNUeXBlS2V5cyxcbn0gZnJvbSAnLi9maWVsZHMnO1xuXG5mdW5jdGlvbiBhc3luY0dldFVzZXJTdWJzY3JpcHRpb25zKCkge1xuICByZXR1cm4gdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50LnF1ZXJ5KHtcbiAgICBxdWVyeTogZ2V0VXNlclN1YnNjcmlwdGlvbnMsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3luY0dldFVzZXIoZGF0YUZpZWxkczogYW55KSB7XG4gIHJldHVybiB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQucXVlcnkoe1xuICAgIHF1ZXJ5OiBidWlsZEdldExvZ2dlZEluVXNlclF1ZXJ5KGRhdGFGaWVsZHMpLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gYXN5bmNTdWJtaXRVc2VyRGF0YShkYXRhRmllbGRzOiBhbnkpIHtcbiAgLy8gZ2V0IHZhcmlhYmxlcyBpbiBjb3JyZWN0IHNoYXBlXG4gIGNvbnN0IGRhdGEgPSBnZXRGaWVsZHNBc1R5cGVLZXlzKGRhdGFGaWVsZHMpO1xuXG4gIHJldHVybiB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQubXV0YXRlKHtcbiAgICBtdXRhdGlvbjogYnVpbGRVcGRhdGVVc3lzVXNlckRhdGFNdXRhdGlvbihkYXRhRmllbGRzKSxcbiAgICB2YXJpYWJsZXM6IHtkYXRhfSxcbiAgfSk7XG59XG5cbmNvbnN0IHN1YnNjcmlwdGlvbkxpc3RTZWxlY3RvciA9IGBbJHtVU1lTX0RBVEFfQVRUUlMudXNlclN1YnNjcmlwdGlvbnN9XWA7XG5jb25zdCBFbXB0eVN0YXRlU2VsZWN0b3IgPSBgWyR7VVNZU19EQVRBX0FUVFJTLnVzZXJTdWJzY3JpcHRpb25zRW1wdHlTdGF0ZX1dYDtcbmNvbnN0IHRlbXBsYXRlU2VsZWN0b3IgPSBgc2NyaXB0W3R5cGU9JyR7V0ZfVEVNUExBVEVfVFlQRX0nXWA7XG5cbmZ1bmN0aW9uIGdldFVzZXJTdWJzY3JpcHRpb25MaXN0cygpIHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHN1YnNjcmlwdGlvbkxpc3RTZWxlY3Rvcik7XG4gIHJldHVybiBBcnJheS5mcm9tKHN1YnNjcmlwdGlvbkxpc3RzKTtcbn1cblxuY29uc3QgdXNlckFjY291bnRGb3JtUXVlcnlTZWxlY3RvciA9IGBmb3JtWyR7VVNZU19EQVRBX0FUVFJTLmZvcm1UeXBlfT1cIiR7VVNZU19GT1JNX1RZUEVTLmFjY291bnR9XCJdYDtcblxuZnVuY3Rpb24gZ2V0VXNlckFjY291bnRGb3JtcygpIHtcbiAgY29uc3QgYWNjb3VudEZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh1c2VyQWNjb3VudEZvcm1RdWVyeVNlbGVjdG9yKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZVxuICAgIC5jYWxsKGFjY291bnRGb3JtcylcbiAgICAuZmlsdGVyKChhY2NvdW50Rm9ybSkgPT4gYWNjb3VudEZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVXNlclN1YnNjcmlwdGlvbkxpc3RzKGRvbVBhcnNlcjogRG9tUGFyc2VyVHlwZSkge1xuICBpZiAod2luZG93LldlYmZsb3cuZW52KCdkZXNpZ24nKSB8fCB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSkge1xuICAgIC8vIFRoZSB1c3lzIEFwb2xsbyBjbGllbnQgZG9lcyBub3Qgd29yayBpbiB0aGUgRGVzaWduZXIgYW5kIHdpbGwgZXJyb3Igb3V0LlxuICAgIC8vIFdlIGFyZSB1c2luZyBtb2NrZWQgZGF0YSBpbiB0aGUgRGVzaWduZXIgYW5kIFByZXZpZXcgbW9kZSBpbnN0ZWFkLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHN1YnNjcmlwdGlvbkxpc3RzID0gZ2V0VXNlclN1YnNjcmlwdGlvbkxpc3RzKCk7XG4gIC8vIElmIHdlIGhhdmUgYSBsaXN0IHRvIHJlbmRlciwgcXVlcnkgZm9yIHRoZSBkYXRhXG4gIGlmIChzdWJzY3JpcHRpb25MaXN0cy5sZW5ndGggPiAwKSB7XG4gICAgYXN5bmNHZXRVc2VyU3Vic2NyaXB0aW9ucygpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgdXNlclN1YnNjcmlwdGlvbnMgPSByZXNwb25zZT8uZGF0YT8uZGF0YWJhc2U/LnVzZXJTdWJzY3JpcHRpb25zO1xuICAgICAgICBjb25zdCBub1VzZXJTdWJzY3JpcHRpb25zID0gdXNlclN1YnNjcmlwdGlvbnMubGVuZ3RoID09PSAwO1xuXG4gICAgICAgIGlmIChub1VzZXJTdWJzY3JpcHRpb25zKVxuICAgICAgICAgIHJldHVybiByZW5kZXJFbXB0eVN1YnNjcmlwdGlvbkxpc3Qoc3Vic2NyaXB0aW9uTGlzdHMpO1xuXG4gICAgICAgIHJlbmRlclVzZXJTdWJzY3JpcHRpb25MaXN0cyhcbiAgICAgICAgICBzdWJzY3JpcHRpb25MaXN0cyxcbiAgICAgICAgICBkb21QYXJzZXIsXG4gICAgICAgICAgdXNlclN1YnNjcmlwdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGdyYXBoUUxFcnJvcnMgPSBlcnJvcj8uZ3JhcGhRTEVycm9ycyB8fCBbXTtcbiAgICAgICAgY29uc3QgZXJyb3JzSGFuZGxlZCA9IGdyYXBoUUxFcnJvcnMucmVkdWNlKFxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMDYgLSBQYXJhbWV0ZXIgJ2hhc1VuaGFuZGxlZEVycm9yJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLiB8IFRTNzAwNiAtIFBhcmFtZXRlciAnZ3JhcGhRTEVycm9yJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgICAgICAgIChoYXNVbmhhbmRsZWRFcnJvciwgZ3JhcGhRTEVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoZ3JhcGhRTEVycm9yPy5jb2RlID09PSAnTm9Db21tZXJjZUN1c3RvbWVyRm91bmQnKSB7XG4gICAgICAgICAgICAgIHJlbmRlckVtcHR5U3Vic2NyaXB0aW9uTGlzdChzdWJzY3JpcHRpb25MaXN0cyk7XG4gICAgICAgICAgICAgIHJldHVybiBoYXNVbmhhbmRsZWRFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdyYXBoUUxFcnJvcnMubGVuZ3RoID4gMFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghZXJyb3JzSGFuZGxlZCkgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJFbXB0eVN1YnNjcmlwdGlvbkxpc3QoXG4gIHN1YnNjcmlwdGlvbkxpc3RFbGVtZW50czogQXJyYXk8SFRNTEVsZW1lbnQgfCBhbnk+XG4pIHtcbiAgc3Vic2NyaXB0aW9uTGlzdEVsZW1lbnRzLmZvckVhY2goKHN1YnNjcmlwdGlvbkxpc3RFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgRW1wdHlTdGF0ZUVsZW1lbnQgPVxuICAgICAgc3Vic2NyaXB0aW9uTGlzdEVsZW1lbnQucXVlcnlTZWxlY3RvcihFbXB0eVN0YXRlU2VsZWN0b3IpO1xuICAgIHNob3dFbGVtZW50KEVtcHR5U3RhdGVFbGVtZW50KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclVzZXJTdWJzY3JpcHRpb25MaXN0cyhcbiAgc3Vic2NyaXB0aW9uTGlzdEVsZW1lbnRzOiBBcnJheTxIVE1MRWxlbWVudCB8IGFueT4sXG4gIGRvbVBhcnNlcjogRG9tUGFyc2VyVHlwZSxcbiAgdXNlclN1YnNjcmlwdGlvbnMgPSBbXVxuKSB7XG4gIHN1YnNjcmlwdGlvbkxpc3RFbGVtZW50cy5mb3JFYWNoKChzdWJzY3JpcHRpb25MaXN0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IEVtcHR5U3RhdGVFbGVtZW50ID1cbiAgICAgIHN1YnNjcmlwdGlvbkxpc3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoRW1wdHlTdGF0ZVNlbGVjdG9yKTtcbiAgICBoaWRlRWxlbWVudChFbXB0eVN0YXRlRWxlbWVudCk7XG5cbiAgICBjb25zdCB0ZW1wbGF0ZVNjcmlwdCA9XG4gICAgICBzdWJzY3JpcHRpb25MaXN0RWxlbWVudC5xdWVyeVNlbGVjdG9yKHRlbXBsYXRlU2VsZWN0b3IpO1xuXG4gICAgaWYgKCF0ZW1wbGF0ZVNjcmlwdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBsYXRlSWQgPSB0ZW1wbGF0ZVNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG5cbiAgICBpZiAoIXRlbXBsYXRlSWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0V3JhcHBlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYFske1dGX1RFTVBMQVRFX0lEX0RBVEFfS0VZfT0nJHt0ZW1wbGF0ZUlkfSddYFxuICAgICk7XG5cbiAgICBpZiAoIShsaXN0V3JhcHBlckVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHdyYXBwZXIgdG8gYXBwZW5kIGl0ZW1zIHRvLCByZXR1cm5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSBkb21QYXJzZXIuZ2V0SHRtbEZyb21TdHJpbmcoXG4gICAgICB0ZW1wbGF0ZVNjcmlwdC5pbm5lckhUTUxcbiAgICApO1xuXG4gICAgaWYgKCEodGVtcGxhdGVFbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHRlbXBsYXRlIGNvbnRlbnQgcHJlc2VudCwgcmV0dXJuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXNlclN1YnNjcmlwdGlvbnMuZm9yRWFjaCgoc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZUNsb25lID0gdGVtcGxhdGVFbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgbGlzdFdyYXBwZXJFbGVtZW50LmFwcGVuZENoaWxkKHRlbXBsYXRlQ2xvbmUpO1xuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnTm9kZScgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0VsZW1lbnQnLlxuICAgICAgd2Fsa0RPTSh0ZW1wbGF0ZUNsb25lLCAobm9kZTogRWxlbWVudCkgPT4ge1xuICAgICAgICBhcHBseUJpbmRpbmdzQW5kQ29uZGl0aW9uYWxWaXNpYmlsaXR5KG5vZGUsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgIC8vIEFkZCBoYW5kbGVyIGZvciBjYW5jZWwgc3Vic2NyaXB0aW9uIGJ1dHRvbi4gRG9uZSBoZXJlIHNpbmNlIHdlIGhhdmUgYWNjZXNzIHRvIHN1YnNjcmlwdGlvbiBpZC5cbiAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKFVTWVNfREFUQV9BVFRSUy5zdWJzY3JpcHRpb25DYW5jZWwpKSB7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMzOSAtIFByb3BlcnR5ICdfaWQnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ25ldmVyJy5cbiAgICAgICAgICBhZGRDYW5jZWxCdXR0b25FdmVudExpc3RlbmVyKG5vZGUsIHN1YnNjcmlwdGlvbi5faWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZENhbmNlbEJ1dHRvbkV2ZW50TGlzdGVuZXIobm9kZTogRWxlbWVudCwgc3Vic2NyaXB0aW9uSWQ6IGFueSkge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudFxuICAgICAgLm11dGF0ZSh7XG4gICAgICAgIG11dGF0aW9uOiBjYW5jZWxTdWJzY3JpcHRpb25NdXRhdGlvbixcbiAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uSWQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBSZWZyZXNoIHNvIGNhbiByZWZldGNoIGFuZCByZXJlbmRlciB3aXRoIHVwZGF0ZWQgc3RhdHVzIG9mIHN1YnNjcmlwdGlvbiBhZnRlciBjYW5jZWxhdGlvblxuICAgICAgICAvLyBVbHRpbWF0ZWx5IHdlIHNob3VsZCBwcm9iYWJseSBkbyBhIHJlIGZldGNoIGFkbiByZSByZW5kZXIgcmVuZGVyLCBidXQgd2lsbCByZXF1aXJlIHJlcGxhY2luZyBleGlzdGluZyBub2Rlc1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVVc2VyQWNjb3VudCgpIHtcbiAgLy8gVXNlckFjY291bnRXcmFwcGVyXG4gIGNvbnN0IHVzZXJBY2NvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBgWyR7VVNZU19EQVRBX0FUVFJTLnVzZXJBY2NvdW50fV1gXG4gICk7XG5cbiAgaWYgKFxuICAgICF1c2VyQWNjb3VudCB8fFxuICAgIHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHxcbiAgICB3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdWNjZXNzTWVzc2FnZSA9IHVzZXJBY2NvdW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy4nICsgVVNZU19ET01fQ0xBU1NfTkFNRVMuZm9ybVN1Y2Nlc3NcbiAgKTtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gdXNlckFjY291bnQucXVlcnlTZWxlY3RvcihcbiAgICAnLicgKyBVU1lTX0RPTV9DTEFTU19OQU1FUy5mb3JtRXJyb3JcbiAgKTtcblxuICBjb25zdCB1c2VyQWNjb3VudEZvcm1zID0gZ2V0VXNlckFjY291bnRGb3JtcygpO1xuXG4gIGlmICh1c2VyQWNjb3VudEZvcm1zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaWVsZHMgPSBnZXRGaWVsZHNGb3JGZXRjaCh1c2VyQWNjb3VudEZvcm1zKTtcbiAgICBhc3luY0dldFVzZXIoZmllbGRzKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3Qgc2l0ZVVzZXIgPSByZXNwb25zZT8uZGF0YT8uc2l0ZT8uc2l0ZVVzZXI7XG5cbiAgICAgIGlmICghc2l0ZVVzZXIpIHJldHVybjtcblxuICAgICAgY29uc3QgdXNlckRhdGEgPSBzaXRlVXNlci5kYXRhO1xuXG4gICAgICB1c2VyQWNjb3VudEZvcm1zLmZvckVhY2goKGFjY291bnRGb3JtKSA9PiB7XG4gICAgICAgIHdhbGtET00odXNlckFjY291bnQsIChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgYXBwbHlVc2VyQWNjb3VudERhdGEobm9kZSwgdXNlckRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCEoYWNjb3VudEZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc3VibWl0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBhY2NvdW50Rm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICdpbnB1dFt0eXBlPVwic3VibWl0XCJdJ1xuICAgICAgICApO1xuXG4gICAgICAgIGFjY291bnRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNvbnN0IGZvcm0gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgIGlmICghKGZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgICAgICBoaWRlRWxlbWVudChzdWNjZXNzTWVzc2FnZSk7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgICAgICBoaWRlRWxlbWVudChlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIGNvbnN0IHN1Ym1pdFRleHQgPSBkaXNhYmxlU3VibWl0KHN1Ym1pdCk7XG5cbiAgICAgICAgICBjb25zdCBjb21tb25GaWVsZHMgPSBnZXRDb21tb25GaWVsZHMoZm9ybSwgW1xuICAgICAgICAgICAgJ25hbWUnLFxuICAgICAgICAgICAgJ2FjY2VwdC1jb21tdW5pY2F0aW9ucycsXG4gICAgICAgICAgXSk7XG4gICAgICAgICAgY29uc3QgY3VzdG9tRmllbGRzID0gZ2V0Q3VzdG9tRmllbGRzKGZvcm0pO1xuXG4gICAgICAgICAgYXN5bmNTdWJtaXRVc2VyRGF0YShbLi4uY29tbW9uRmllbGRzLCAuLi5jdXN0b21GaWVsZHNdKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdVc2VyRGF0YSA9XG4gICAgICAgICAgICAgICAgcmVzICYmXG4gICAgICAgICAgICAgICAgcmVzLmRhdGEgJiZcbiAgICAgICAgICAgICAgICByZXMuZGF0YS51c3lzVXBkYXRlVXNlckRhdGEgJiZcbiAgICAgICAgICAgICAgICByZXMuZGF0YS51c3lzVXBkYXRlVXNlckRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgaWYgKG5ld1VzZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCcuXG4gICAgICAgICAgICAgICAgYWRkUmVzZXRFdmVudExpc3RlbmVyKGFjY291bnRGb3JtLCB1c2VyQWNjb3VudCwgbmV3VXNlckRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgICAgICAgICBzdWNjZXNzTWVzc2FnZSAmJiBzaG93QW5kRm9jdXNFbGVtZW50KHN1Y2Nlc3NNZXNzYWdlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCB8IG51bGwnLlxuICAgICAgICAgICAgLmNhdGNoKHVzZXJGb3JtRXJyb3IoZm9ybSwgZXJyb3JNZXNzYWdlLCAnQUNDT1VOVF9VUERBVEUnKSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzZXRTdWJtaXQoc3VibWl0LCBzdWJtaXRUZXh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBhY2NvdW50Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpLmZvckVhY2goKGlucHV0KSA9PlxuICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgICAgICAgIGhpZGVFbGVtZW50KHN1Y2Nlc3NNZXNzYWdlKTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICAgICAgICBoaWRlRWxlbWVudChlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgICBhZGRSZXNldEV2ZW50TGlzdGVuZXIoYWNjb3VudEZvcm0sIHVzZXJBY2NvdW50LCB1c2VyRGF0YSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhZGRSZXNldEV2ZW50TGlzdGVuZXIgPSAoXG4gIGFjY291bnRGb3JtOiBhbnksXG4gIHVzZXJBY2NvdW50OiBIVE1MRWxlbWVudCxcbiAgdXNlckRhdGE6IGFueVxuKSA9PiB7XG4gIGFjY291bnRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgaWYgKCEoZm9ybSBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkpIHJldHVybjtcblxuICAgIGlmICh1c2VyRGF0YSkge1xuICAgICAgLy8gYXBwbHkgc2F2ZWQgdXNlciBhY2NvdW50IGRhdGFcbiAgICAgIHdhbGtET00odXNlckFjY291bnQsIChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgICAgIGFwcGx5VXNlckFjY291bnREYXRhKG5vZGUsIHVzZXJEYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbImhhbmRsZVVzZXJBY2NvdW50IiwiaGFuZGxlVXNlclN1YnNjcmlwdGlvbkxpc3RzIiwiYXN5bmNHZXRVc2VyU3Vic2NyaXB0aW9ucyIsInVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudCIsInF1ZXJ5IiwiZ2V0VXNlclN1YnNjcmlwdGlvbnMiLCJhc3luY0dldFVzZXIiLCJkYXRhRmllbGRzIiwiYnVpbGRHZXRMb2dnZWRJblVzZXJRdWVyeSIsImFzeW5jU3VibWl0VXNlckRhdGEiLCJkYXRhIiwiZ2V0RmllbGRzQXNUeXBlS2V5cyIsIm11dGF0ZSIsIm11dGF0aW9uIiwiYnVpbGRVcGRhdGVVc3lzVXNlckRhdGFNdXRhdGlvbiIsInZhcmlhYmxlcyIsInN1YnNjcmlwdGlvbkxpc3RTZWxlY3RvciIsIlVTWVNfREFUQV9BVFRSUyIsInVzZXJTdWJzY3JpcHRpb25zIiwiRW1wdHlTdGF0ZVNlbGVjdG9yIiwidXNlclN1YnNjcmlwdGlvbnNFbXB0eVN0YXRlIiwidGVtcGxhdGVTZWxlY3RvciIsIldGX1RFTVBMQVRFX1RZUEUiLCJnZXRVc2VyU3Vic2NyaXB0aW9uTGlzdHMiLCJzdWJzY3JpcHRpb25MaXN0cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwiZnJvbSIsInVzZXJBY2NvdW50Rm9ybVF1ZXJ5U2VsZWN0b3IiLCJmb3JtVHlwZSIsIlVTWVNfRk9STV9UWVBFUyIsImFjY291bnQiLCJnZXRVc2VyQWNjb3VudEZvcm1zIiwiYWNjb3VudEZvcm1zIiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiZmlsdGVyIiwiYWNjb3VudEZvcm0iLCJIVE1MRm9ybUVsZW1lbnQiLCJkb21QYXJzZXIiLCJ3aW5kb3ciLCJXZWJmbG93IiwiZW52IiwibGVuZ3RoIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YWJhc2UiLCJub1VzZXJTdWJzY3JpcHRpb25zIiwicmVuZGVyRW1wdHlTdWJzY3JpcHRpb25MaXN0IiwicmVuZGVyVXNlclN1YnNjcmlwdGlvbkxpc3RzIiwiY2F0Y2giLCJlcnJvciIsImdyYXBoUUxFcnJvcnMiLCJlcnJvcnNIYW5kbGVkIiwicmVkdWNlIiwiaGFzVW5oYW5kbGVkRXJyb3IiLCJncmFwaFFMRXJyb3IiLCJjb2RlIiwic3Vic2NyaXB0aW9uTGlzdEVsZW1lbnRzIiwiZm9yRWFjaCIsInN1YnNjcmlwdGlvbkxpc3RFbGVtZW50IiwiRW1wdHlTdGF0ZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2hvd0VsZW1lbnQiLCJoaWRlRWxlbWVudCIsInRlbXBsYXRlU2NyaXB0IiwidGVtcGxhdGVJZCIsImdldEF0dHJpYnV0ZSIsImxpc3RXcmFwcGVyRWxlbWVudCIsIldGX1RFTVBMQVRFX0lEX0RBVEFfS0VZIiwiRWxlbWVudCIsInRlbXBsYXRlRWxlbWVudCIsImdldEh0bWxGcm9tU3RyaW5nIiwiaW5uZXJIVE1MIiwic3Vic2NyaXB0aW9uIiwidGVtcGxhdGVDbG9uZSIsImNsb25lTm9kZSIsImFwcGVuZENoaWxkIiwid2Fsa0RPTSIsIm5vZGUiLCJhcHBseUJpbmRpbmdzQW5kQ29uZGl0aW9uYWxWaXNpYmlsaXR5IiwiaGFzQXR0cmlidXRlIiwic3Vic2NyaXB0aW9uQ2FuY2VsIiwiYWRkQ2FuY2VsQnV0dG9uRXZlbnRMaXN0ZW5lciIsIl9pZCIsInN1YnNjcmlwdGlvbklkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhbmNlbFN1YnNjcmlwdGlvbk11dGF0aW9uIiwibG9jYXRpb24iLCJyZWxvYWQiLCJ1c2VyQWNjb3VudCIsInN1Y2Nlc3NNZXNzYWdlIiwiVVNZU19ET01fQ0xBU1NfTkFNRVMiLCJmb3JtU3VjY2VzcyIsImVycm9yTWVzc2FnZSIsImZvcm1FcnJvciIsInVzZXJBY2NvdW50Rm9ybXMiLCJmaWVsZHMiLCJnZXRGaWVsZHNGb3JGZXRjaCIsInNpdGVVc2VyIiwic2l0ZSIsInVzZXJEYXRhIiwiYXBwbHlVc2VyQWNjb3VudERhdGEiLCJzdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsImN1cnJlbnRUYXJnZXQiLCJzdWJtaXRUZXh0IiwiZGlzYWJsZVN1Ym1pdCIsImNvbW1vbkZpZWxkcyIsImdldENvbW1vbkZpZWxkcyIsImN1c3RvbUZpZWxkcyIsImdldEN1c3RvbUZpZWxkcyIsInJlcyIsIm5ld1VzZXJEYXRhIiwidXN5c1VwZGF0ZVVzZXJEYXRhIiwiYWRkUmVzZXRFdmVudExpc3RlbmVyIiwic2hvd0FuZEZvY3VzRWxlbWVudCIsInVzZXJGb3JtRXJyb3IiLCJmaW5hbGx5IiwicmVzZXRTdWJtaXQiLCJpbnB1dCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FBS0E7Ozs7Ozs7Ozs7O0lBK01nQkEsaUJBQWlCO2VBQWpCQTs7SUFqSUFDLDJCQUEyQjtlQUEzQkE7OzsyQkF4RVQ7NEJBSUE7Z0NBQ2U7dUJBVWY7eUJBQ3VEOzJCQUl2RDsyQkFJQTt3QkFNQTtBQUVQLFNBQVNDO0lBQ1AsT0FBT0MsK0JBQXdCLENBQUNDLEtBQUssQ0FBQztRQUNwQ0EsT0FBT0MsNkJBQW9CO0lBQzdCO0FBQ0Y7QUFFQSxTQUFTQyxhQUFhQyxVQUFlO0lBQ25DLE9BQU9KLCtCQUF3QixDQUFDQyxLQUFLLENBQUM7UUFDcENBLE9BQU9JLElBQUFBLGtDQUF5QixFQUFDRDtJQUNuQztBQUNGO0FBRUEsU0FBU0Usb0JBQW9CRixVQUFlO0lBQzFDLGlDQUFpQztJQUNqQyxNQUFNRyxPQUFPQyxJQUFBQSwyQkFBbUIsRUFBQ0o7SUFFakMsT0FBT0osK0JBQXdCLENBQUNTLE1BQU0sQ0FBQztRQUNyQ0MsVUFBVUMsSUFB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

}),
18457: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  HTMLInputElement
  HTMLSelectElement
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    commonFields: function() {
        return commonFields;
    },
    getCommonFields: function() {
        return getCommonFields;
    },
    getCustomFields: function() {
        return getCustomFields;
    },
    getFieldValueById: function() {
        return getFieldValueById;
    },
    getFieldsAsTypeKeys: function() {
        return getFieldsAsTypeKeys;
    },
    getFieldsForFetch: function() {
        return getFieldsForFetch;
    }
});
const _constants = __webpack_require__(7462);
const _universalUtils = __webpack_require__(62467);
const getTextInput = (element)=>element instanceof HTMLInputElement ? element.value : '';
const typeGetter = {
    PlainText: getTextInput,
    Email: getTextInput,
    Bool: (element)=>element instanceof HTMLInputElement ? element.checked : false,
    Number: getTextInput,
    Option: (element)=>element instanceof HTMLSelectElement ? element.value : '',
    Link: getTextInput,
    FileRef: (element)=>{
        const fileKey = (0, _universalUtils.getUserFileKey)(element);
        const tempFileKey = (0, _universalUtils.getTempUserFileKey)(element);
        if (tempFileKey) {
            // change file
            return {
                key: tempFileKey
            };
        }
        if (fileKey === 'DELETE') {
            // delete file
            return null;
        }
        if (fileKey) {
            // preserve existing file
            return {
                _id: fileKey
            };
        }
    }
};
const customFieldTypes = [
    'PlainText',
    'Bool',
    'Email',
    'Number',
    'Option',
    'Link',
    'FileRef'
];
const commonFields = [
    {
        type: 'Email',
        slug: 'email',
        selector: (container)=>container.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.email}"]`)
    },
    {
        type: 'PlainText',
        slug: 'name',
        selector: (container)=>container.querySelector(`input[${_constants.USYS_DATA_ATTRS.field}="${_constants.RESERVED_USER_FIELDS.name}"]`) || container.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.name}"]`)
    },
    {
        type: 'PlainText',
        slug: 'password',
        selector: (container)=>container.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.password}"]`)
    },
    {
        type: 'Bool',
        slug: 'accept-privacy',
        selector: (container)=>container.querySelector(`input[${_constants.USYS_DATA_ATTRS.field}="${_constants.RESERVED_USER_FIELDS.acceptPrivacy}"]`) || container.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.acceptPrivacy}"]`)
    },
    {
        type: 'Bool',
        slug: 'accept-communications',
        selector: (container)=>container.querySelector(`input[${_constants.USYS_DATA_ATTRS.field}="${_constants.RESERVED_USER_FIELDS.acceptCommunications}"]`)
    }
];
const toCamelCase = (str)=>{
    // Handle kebab-case to PascalCase
    const pascalCase = str.split('-').map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join('');
    // return camelCase
    return pascalCase.charAt(0).toLowerCase() + pascalCase.slice(1);
};
const getCommonFields = (form, requestedFields)=>{
    const payload = [];
    commonFields.forEach((field)=>{
        if (requestedFields && !requestedFields.includes(field.slug)) return;
        const ele = field.selector(form);
        if (!ele || !typeGetter[field.type]) return;
        payload.push({
            key: toCamelCase(field.slug),
            type: toCamelCase(field.type),
            id: field.slug,
            value: typeGetter[field.type](ele, field.id)
        });
    });
    return payload;
};
const getCustomFields = (form, includeValue = true)=>{
    const payload = [];
    customFieldTypes.forEach((fieldType)=>{
        const camelFieldType = toCamelCase(fieldType);
        const inputEles = form.querySelectorAll(`input[${_constants.USYS_DATA_ATTRS.fieldType}="${fieldType}"], select[${_constants.USYS_DATA_ATTRS.fieldType}="${fieldType}"]`);
        if (inputEles.length === 0 || !typeGetter[fieldType]) return;
        inputEles.forEach((ele)=>{
            const id = ele.getAttribute(_constants.USYS_DATA_ATTRS.field);
            if (!id) return;
            const elementData = {
                key: `f_${id}`,
                type: camelFieldType,
                id
            };
            if (includeValue) {
                const value = typeGetter[fieldType](ele, id);
                if (value === '') {
                    elementData.value = null;
                } else {
                    elementData.value = value;
                }
            }
            payload.push(elementData);
        });
    });
    return payload;
};
const getFieldsForFetch = (forms)=>{
    const custom = [];
    const nested = [];
    const alreadyFound = (customField)=>{
        return custom.find((item)=>item.id === customField.id);
    };
    forms.forEach((form)=>{
        nested.push([
            ...getCommonFields(form),
            ...getCustomFields(form, false)
        ]);
    });
    nested.forEach((getCustomFieldRes)=>{
        getCustomFieldRes.forEach((customField)=>{
            if (!alreadyFound(customField)) {
                custom.push(customField);
            }
        });
    });
    return custom;
};
function getFieldValueById(id, fieldsArray) {
    const match = fieldsArray.find((field)=>field.id === id);
    if (!match) return null;
    return match.value;
}
function getFieldsAsTypeKeys(fieldsArray) {
    const memo = {};
    fieldsArray.forEach((field)=>{
        const { key, type, value } = field;
        if (!memo[type]) memo[type] = [];
        memo[type].push({
            id: key.replace('f_', ''),
            value
        });
    });
    return memo;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpZWxkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBnbG9iYWxzXG4gIEhUTUxJbnB1dEVsZW1lbnRcbiAgSFRNTFNlbGVjdEVsZW1lbnRcbiovXG5cbmltcG9ydCB7XG4gIFJFU0VSVkVEX1VTRVJfRklFTERTLFxuICBVU1lTX0RBVEFfQVRUUlMsXG4gIFVTWVNfSU5QVVRfVFlQRVMsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL3VzZXJzL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBnZXRUZW1wVXNlckZpbGVLZXksXG4gIGdldFVzZXJGaWxlS2V5LFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy91c2Vycy91dGlscy91bml2ZXJzYWxVdGlscyc7XG5cbmNvbnN0IGdldFRleHRJbnB1dCA9IChlbGVtZW50KSA9PlxuICBlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCA/IGVsZW1lbnQudmFsdWUgOiAnJztcblxuY29uc3QgdHlwZUdldHRlciA9IHtcbiAgUGxhaW5UZXh0OiBnZXRUZXh0SW5wdXQsXG4gIEVtYWlsOiBnZXRUZXh0SW5wdXQsXG4gIEJvb2w6IChlbGVtZW50KSA9PlxuICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ID8gZWxlbWVudC5jaGVja2VkIDogZmFsc2UsXG4gIE51bWJlcjogZ2V0VGV4dElucHV0LFxuICBPcHRpb246IChlbGVtZW50KSA9PlxuICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCA/IGVsZW1lbnQudmFsdWUgOiAnJyxcbiAgTGluazogZ2V0VGV4dElucHV0LFxuICBGaWxlUmVmOiAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZpbGVLZXkgPSBnZXRVc2VyRmlsZUtleShlbGVtZW50KTtcbiAgICBjb25zdCB0ZW1wRmlsZUtleSA9IGdldFRlbXBVc2VyRmlsZUtleShlbGVtZW50KTtcbiAgICBpZiAodGVtcEZpbGVLZXkpIHtcbiAgICAgIC8vIGNoYW5nZSBmaWxlXG4gICAgICByZXR1cm4ge2tleTogdGVtcEZpbGVLZXl9O1xuICAgIH1cbiAgICBpZiAoZmlsZUtleSA9PT0gJ0RFTEVURScpIHtcbiAgICAgIC8vIGRlbGV0ZSBmaWxlXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZpbGVLZXkpIHtcbiAgICAgIC8vIHByZXNlcnZlIGV4aXN0aW5nIGZpbGVcbiAgICAgIHJldHVybiB7X2lkOiBmaWxlS2V5fTtcbiAgICB9XG4gIH0sXG59O1xuXG5jb25zdCBjdXN0b21GaWVsZFR5cGVzID0gW1xuICAnUGxhaW5UZXh0JyxcbiAgJ0Jvb2wnLFxuICAnRW1haWwnLFxuICAnTnVtYmVyJyxcbiAgJ09wdGlvbicsXG4gICdMaW5rJyxcbiAgJ0ZpbGVSZWYnLFxuXTtcblxuZXhwb3J0IGNvbnN0IGNvbW1vbkZpZWxkcyA9IFtcbiAge1xuICAgIHR5cGU6ICdFbWFpbCcsXG4gICAgc2x1ZzogJ2VtYWlsJyxcbiAgICBzZWxlY3RvcjogKGNvbnRhaW5lcikgPT5cbiAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgaW5wdXRbJHtVU1lTX0RBVEFfQVRUUlMuaW5wdXRUeXBlfT1cIiR7VVNZU19JTlBVVF9UWVBFUy5lbWFpbH1cIl1gXG4gICAgICApLFxuICB9LFxuICB7XG4gICAgdHlwZTogJ1BsYWluVGV4dCcsXG4gICAgc2x1ZzogJ25hbWUnLFxuICAgIHNlbGVjdG9yOiAoY29udGFpbmVyKSA9PlxuICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBpbnB1dFske1VTWVNfREFUQV9BVFRSUy5maWVsZH09XCIke1JFU0VSVkVEX1VTRVJfRklFTERTLm5hbWV9XCJdYFxuICAgICAgKSB8fFxuICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBpbnB1dFske1VTWVNfREFUQV9BVFRSUy5pbnB1dFR5cGV9PVwiJHtVU1lTX0lOUFVUX1RZUEVTLm5hbWV9XCJdYFxuICAgICAgKSxcbiAgfSxcbiAge1xuICAgIHR5cGU6ICdQbGFpblRleHQnLFxuICAgIHNsdWc6ICdwYXNzd29yZCcsXG4gICAgc2VsZWN0b3I6IChjb250YWluZXIpID0+XG4gICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYGlucHV0WyR7VVNZU19EQVRBX0FUVFJTLmlucHV0VHlwZX09XCIke1VTWVNfSU5QVVRfVFlQRVMucGFzc3dvcmR9XCJdYFxuICAgICAgKSxcbiAgfSxcbiAge1xuICAgIHR5cGU6ICdCb29sJyxcbiAgICBzbHVnOiAnYWNjZXB0LXByaXZhY3knLFxuICAgIHNlbGVjdG9yOiAoY29udGFpbmVyKSA9PlxuICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBpbnB1dFske1VTWVNfREFUQV9BVFRSUy5maWVsZH09XCIke1JFU0VSVkVEX1VTRVJfRklFTERTLmFjY2VwdFByaXZhY3l9XCJdYFxuICAgICAgKSB8fFxuICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBpbnB1dFske1VTWVNfREFUQV9BVFRSUy5pbnB1dFR5cGV9PVwiJHtVU1lTX0lOUFVUX1RZUEVTLmFjY2VwdFByaXZhY3l9XCJdYFxuICAgICAgKSxcbiAgfSxcbiAge1xuICAgIHR5cGU6ICdCb29sJyxcbiAgICBzbHVnOiAnYWNjZXB0LWNvbW11bmljYXRpb25zJyxcbiAgICBzZWxlY3RvcjogKGNvbnRhaW5lcikgPT5cbiAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgaW5wdXRbJHtVU1lTX0RBVEFfQVRUUlMuZmllbGR9PVwiJHtSRVNFUlZFRF9VU0VSX0ZJRUxEUy5hY2NlcHRDb21tdW5pY2F0aW9uc31cIl1gXG4gICAgICApLFxuICB9LFxuXTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSAoc3RyKSA9PiB7XG4gIC8vIEhhbmRsZSBrZWJhYi1jYXNlIHRvIFBhc2NhbENhc2VcbiAgY29uc3QgcGFzY2FsQ2FzZSA9IHN0clxuICAgIC5zcGxpdCgnLScpXG4gICAgLm1hcCgod29yZCkgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpXG4gICAgLmpvaW4oJycpO1xuICAvLyByZXR1cm4gY2FtZWxDYXNlXG4gIHJldHVybiBwYXNjYWxDYXNlLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcGFzY2FsQ2FzZS5zbGljZSgxKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21tb25GaWVsZHMgPSAoZm9ybSwgcmVxdWVzdGVkRmllbGRzKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSBbXTtcbiAgY29tbW9uRmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgaWYgKHJlcXVlc3RlZEZpZWxkcyAmJiAhcmVxdWVzdGVkRmllbGRzLmluY2x1ZGVzKGZpZWxkLnNsdWcpKSByZXR1cm47XG4gICAgY29uc3QgZWxlID0gZmllbGQuc2VsZWN0b3IoZm9ybSk7XG4gICAgaWYgKCFlbGUgfHwgIXR5cGVHZXR0ZXJbZmllbGQudHlwZV0pIHJldHVybjtcbiAgICBwYXlsb2FkLnB1c2goe1xuICAgICAga2V5OiB0b0NhbWVsQ2FzZShmaWVsZC5zbHVnKSxcbiAgICAgIHR5cGU6IHRvQ2FtZWxDYXNlKGZpZWxkLnR5cGUpLFxuICAgICAgaWQ6IGZpZWxkLnNsdWcsXG4gICAgICB2YWx1ZTogdHlwZUdldHRlcltmaWVsZC50eXBlXShlbGUsIGZpZWxkLmlkKSxcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBwYXlsb2FkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1c3RvbUZpZWxkcyA9IChmb3JtLCBpbmNsdWRlVmFsdWUgPSB0cnVlKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSBbXTtcbiAgY3VzdG9tRmllbGRUeXBlcy5mb3JFYWNoKChmaWVsZFR5cGUpID0+IHtcbiAgICBjb25zdCBjYW1lbEZpZWxkVHlwZSA9IHRvQ2FtZWxDYXNlKGZpZWxkVHlwZSk7XG4gICAgY29uc3QgaW5wdXRFbGVzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgYGlucHV0WyR7VVNZU19EQVRBX0FUVFJTLmZpZWxkVHlwZX09XCIke2ZpZWxkVHlwZX1cIl0sIHNlbGVjdFske1VTWVNfREFUQV9BVFRSUy5maWVsZFR5cGV9PVwiJHtmaWVsZFR5cGV9XCJdYFxuICAgICk7XG5cbiAgICBpZiAoaW5wdXRFbGVzLmxlbmd0aCA9PT0gMCB8fCAhdHlwZUdldHRlcltmaWVsZFR5cGVdKSByZXR1cm47XG4gICAgaW5wdXRFbGVzLmZvckVhY2goKGVsZSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbGUuZ2V0QXR0cmlidXRlKFVTWVNfREFUQV9BVFRSUy5maWVsZCk7XG4gICAgICBpZiAoIWlkKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGVsZW1lbnREYXRhID0ge1xuICAgICAgICBrZXk6IGBmXyR7aWR9YCxcbiAgICAgICAgdHlwZTogY2FtZWxGaWVsZFR5cGUsXG4gICAgICAgIGlkLFxuICAgICAgfTtcblxuICAgICAgaWYgKGluY2x1ZGVWYWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHR5cGVHZXR0ZXJbZmllbGRUeXBlXShlbGUsIGlkKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgIGVsZW1lbnREYXRhLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50RGF0YS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHBheWxvYWQucHVzaChlbGVtZW50RGF0YSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcGF5bG9hZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZHNGb3JGZXRjaCA9IChmb3JtcykgPT4ge1xuICBjb25zdCBjdXN0b20gPSBbXTtcbiAgY29uc3QgbmVzdGVkID0gW107XG4gIGNvbnN0IGFscmVhZHlGb3VuZCA9IChjdXN0b21GaWVsZCkgPT4ge1xuICAgIHJldHVybiBjdXN0b20uZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gY3VzdG9tRmllbGQuaWQpO1xuICB9O1xuICBmb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XG4gICAgbmVzdGVkLnB1c2goWy4uLmdldENvbW1vbkZpZWxkcyhmb3JtKSwgLi4uZ2V0Q3VzdG9tRmllbGRzKGZvcm0sIGZhbHNlKV0pO1xuICB9KTtcbiAgbmVzdGVkLmZvckVhY2goKGdldEN1c3RvbUZpZWxkUmVzKSA9PiB7XG4gICAgZ2V0Q3VzdG9tRmllbGRSZXMuZm9yRWFjaCgoY3VzdG9tRmllbGQpID0+IHtcbiAgICAgIGlmICghYWxyZWFkeUZvdW5kKGN1c3RvbUZpZWxkKSkge1xuICAgICAgICBjdXN0b20ucHVzaChjdXN0b21GaWVsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBjdXN0b207XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZUJ5SWQoaWQsIGZpZWxkc0FycmF5KSB7XG4gIGNvbnN0IG1hdGNoID0gZmllbGRzQXJyYXkuZmluZCgoZmllbGQpID0+IGZpZWxkLmlkID09PSBpZCk7XG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBtYXRjaC52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkc0FzVHlwZUtleXMoZmllbGRzQXJyYXkpIHtcbiAgY29uc3QgbWVtbyA9IHt9O1xuICBmaWVsZHNBcnJheS5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgIGNvbnN0IHtrZXksIHR5cGUsIHZhbHVlfSA9IGZpZWxkO1xuICAgIGlmICghbWVtb1t0eXBlXSkgbWVtb1t0eXBlXSA9IFtdO1xuICAgIG1lbW9bdHlwZV0ucHVzaCh7XG4gICAgICBpZDoga2V5LnJlcGxhY2UoJ2ZfJywgJycpLFxuICAgICAgdmFsdWUsXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbWVtbztcbn1cbiJdLCJuYW1lcyI6WyJjb21tb25GaWVsZHMiLCJnZXRDb21tb25GaWVsZHMiLCJnZXRDdXN0b21GaWVsZHMiLCJnZXRGaWVsZFZhbHVlQnlJZCIsImdldEZpZWxkc0FzVHlwZUtleXMiLCJnZXRGaWVsZHNGb3JGZXRjaCIsImdldFRleHRJbnB1dCIsImVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwidmFsdWUiLCJ0eXBlR2V0dGVyIiwiUGxhaW5UZXh0IiwiRW1haWwiLCJCb29sIiwiY2hlY2tlZCIsIk51bWJlciIsIk9wdGlvbiIsIkhUTUxTZWxlY3RFbGVtZW50IiwiTGluayIsIkZpbGVSZWYiLCJmaWxlS2V5IiwiZ2V0VXNlckZpbGVLZXkiLCJ0ZW1wRmlsZUtleSIsImdldFRlbXBVc2VyRmlsZUtleSIsImtleSIsIl9pZCIsImN1c3RvbUZpZWxkVHlwZXMiLCJ0eXBlIiwic2x1ZyIsInNlbGVjdG9yIiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsIlVTWVNfREFUQV9BVFRSUyIsImlucHV0VHlwZSIsIlVTWVNfSU5QVVRfVFlQRVMiLCJlbWFpbCIsImZpZWxkIiwiUkVTRVJWRURfVVNFUl9GSUVMRFMiLCJuYW1lIiwicGFzc3dvcmQiLCJhY2NlcHRQcml2YWN5IiwiYWNjZXB0Q29tbXVuaWNhdGlvbnMiLCJ0b0NhbWVsQ2FzZSIsInN0ciIsInBhc2NhbENhc2UiLCJzcGxpdCIsIm1hcCIsIndvcmQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiam9pbiIsInRvTG93ZXJDYXNlIiwiZm9ybSIsInJlcXVlc3RlZEZpZWxkcyIsInBheWxvYWQiLCJmb3JFYWNoIiwiaW5jbHVkZXMiLCJlbGUiLCJwdXNoIiwiaWQiLCJpbmNsdWRlVmFsdWUiLCJmaWVsZFR5cGUiLCJjYW1lbEZpZWxkVHlwZSIsImlucHV0RWxlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJnZXRBdHRyaWJ1dGUiLCJlbGVtZW50RGF0YSIsImZvcm1zIiwiY3VzdG9tIiwibmVzdGVkIiwiYWxyZWFkeUZvdW5kIiwiY3VzdG9tRmllbGQiLCJmaW5kIiwiaXRlbSIsImdl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

}),
66551: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    usysFormBundle: function() {
        return usysFormBundle;
    },
    usysSiteBundle: function() {
        return usysSiteBundle;
    }
});
__webpack_require__(52897);
__webpack_require__(233);
__webpack_require__(49754);
__webpack_require__(30971);
__webpack_require__(62374);
__webpack_require__(55152);
__webpack_require__(35273);
__webpack_require__(30172);
__webpack_require__(67304);
__webpack_require__(14362);
const _login = __webpack_require__(69263);
const _signup = __webpack_require__(54284);
const _logout = __webpack_require__(87021);
const _resetPassword = __webpack_require__(63245);
const _updatePassword = __webpack_require__(10104);
const _account = __webpack_require__(30916);
const _utils = _export_star(__webpack_require__(56897), exports);
const _usysForm = __webpack_require__(65438);
function _export_star(from, to) {
    Object.keys(from).forEach(function(k) {
        if (k !== "default" && !Object.prototype.hasOwnProperty.call(to, k)) {
            Object.defineProperty(to, k, {
                enumerable: true,
                get: function() {
                    return from[k];
                }
            });
        }
    });
    return from;
}
const usysSiteBundle = ()=>{
    function init() {
        const domParser = (0, _utils.getDomParser)();
        (0, _login.handleLogInForms)();
        (0, _login.handleLoginRedirects)();
        (0, _signup.handleSignUpForms)();
        (0, _logout.handleLogInLogOutButton)();
        (0, _resetPassword.handleResetPasswordForms)();
        (0, _updatePassword.handleUpdatePasswordForms)();
        (0, _account.handleUserAccount)();
        (0, _account.handleUserSubscriptionLists)(domParser);
    }
    const ready = init;
    const design = init;
    const preview = init;
    return {
        init,
        ready,
        design,
        preview
    };
};
const usysFormBundle = function(env) {
    function init() {
        if (env('design')) return;
        (0, _usysForm.handleFields)();
    }
    return {
        init,
        ready: init,
        preview: init
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAncHJvbWlzZS1wb2x5ZmlsbC9zcmMvcG9seWZpbGwnO1xuaW1wb3J0ICd1bmZldGNoL3BvbHlmaWxsJztcbi8vIElFMTEgY3Jhc2hlcyB3aGVtIFVSTFNlYXJjaFBhcmFtcyBpcyB1c2VkXG5pbXBvcnQgJ2NvcmUtanMvd2ViL3VybC1zZWFyY2gtcGFyYW1zJztcbi8vIEF0IGEgbWluaW11bSwgd2UgbmVlZCBgQXJyYXkuZnJvbWAgc3VwcG9ydCBpbiBJRTExXG5pbXBvcnQgJ2NvcmUtanMvZmVhdHVyZXMvYXJyYXknO1xuXG5pbXBvcnQge2hhbmRsZUxvZ0luRm9ybXMsIGhhbmRsZUxvZ2luUmVkaXJlY3RzfSBmcm9tICcuL2xvZ2luJztcbmltcG9ydCB7aGFuZGxlU2lnblVwRm9ybXN9IGZyb20gJy4vc2lnbnVwJztcbmltcG9ydCB7aGFuZGxlTG9nSW5Mb2dPdXRCdXR0b259IGZyb20gJy4vbG9nb3V0JztcbmltcG9ydCB7aGFuZGxlUmVzZXRQYXNzd29yZEZvcm1zfSBmcm9tICcuL3Jlc2V0UGFzc3dvcmQnO1xuaW1wb3J0IHtoYW5kbGVVcGRhdGVQYXNzd29yZEZvcm1zfSBmcm9tICcuL3VwZGF0ZVBhc3N3b3JkJztcbmltcG9ydCB7aGFuZGxlVXNlckFjY291bnQsIGhhbmRsZVVzZXJTdWJzY3JpcHRpb25MaXN0c30gZnJvbSAnLi9hY2NvdW50JztcbmltcG9ydCB7Z2V0RG9tUGFyc2VyfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7aGFuZGxlRmllbGRzfSBmcm9tICcuL3VzeXNGb3JtJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgdXN5c1NpdGVCdW5kbGUgPSAoKSA9PiB7XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgY29uc3QgZG9tUGFyc2VyID0gZ2V0RG9tUGFyc2VyKCk7XG4gICAgaGFuZGxlTG9nSW5Gb3JtcygpO1xuICAgIGhhbmRsZUxvZ2luUmVkaXJlY3RzKCk7XG4gICAgaGFuZGxlU2lnblVwRm9ybXMoKTtcbiAgICBoYW5kbGVMb2dJbkxvZ091dEJ1dHRvbigpO1xuICAgIGhhbmRsZVJlc2V0UGFzc3dvcmRGb3JtcygpO1xuICAgIGhhbmRsZVVwZGF0ZVBhc3N3b3JkRm9ybXMoKTtcbiAgICBoYW5kbGVVc2VyQWNjb3VudCgpO1xuICAgIGhhbmRsZVVzZXJTdWJzY3JpcHRpb25MaXN0cyhkb21QYXJzZXIpO1xuICB9XG5cbiAgY29uc3QgcmVhZHkgPSBpbml0O1xuICBjb25zdCBkZXNpZ24gPSBpbml0O1xuICBjb25zdCBwcmV2aWV3ID0gaW5pdDtcblxuICByZXR1cm4ge1xuICAgIGluaXQsXG4gICAgcmVhZHksXG4gICAgZGVzaWduLFxuICAgIHByZXZpZXcsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdXN5c0Zvcm1CdW5kbGUgPSBmdW5jdGlvbiAoZW52KSB7XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKGVudignZGVzaWduJykpIHJldHVybjtcbiAgICBoYW5kbGVGaWVsZHMoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGluaXQsXG4gICAgcmVhZHk6IGluaXQsXG4gICAgcHJldmlldzogaW5pdCxcbiAgfTtcbn07XG4iXSwibmFtZXMiOlsidXN5c0Zvcm1CdW5kbGUiLCJ1c3lzU2l0ZUJ1bmRsZSIsImluaXQiLCJkb21QYXJzZXIiLCJnZXREb21QYXJzZXIiLCJoYW5kbGVMb2dJbkZvcm1zIiwiaGFuZGxlTG9naW5SZWRpcmVjdHMiLCJoYW5kbGVTaWduVXBGb3JtcyIsImhhbmRsZUxvZ0luTG9nT3V0QnV0dG9uIiwiaGFuZGxlUmVzZXRQYXNzd29yZEZvcm1zIiwiaGFuZGxlVXBkYXRlUGFzc3dvcmRGb3JtcyIsImhhbmRsZVVzZXJBY2NvdW50IiwiaGFuZGxlVXNlclN1YnNjcmlwdGlvbkxpc3RzIiwicmVhZHkiLCJkZXNpZ24iLCJwcmV2aWV3IiwiZW52IiwiaGFuZGxlRmllbGRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQTBDYUEsY0FBYztlQUFkQTs7SUF6QkFDLGNBQWM7ZUFBZEE7Ozs7Ozs7Ozs7O1FBakJOO1FBQ0E7dUJBTThDO3dCQUNyQjt3QkFDTTsrQkFDQztnQ0FDQzt5QkFDcUI7b0NBQ2xDOzBCQUNBOzs7Ozs7Ozs7Ozs7OztBQUdwQixNQUFNQSxpQkFBaUI7SUFDNUIsU0FBU0M7UUFDUCxNQUFNQyxZQUFZQyxJQUFBQSxtQkFBWTtRQUM5QkMsSUFBQUEsdUJBQWdCO1FBQ2hCQyxJQUFBQSwyQkFBb0I7UUFDcEJDLElBQUFBLHlCQUFpQjtRQUNqQkMsSUFBQUEsK0JBQXVCO1FBQ3ZCQyxJQUFBQSx1Q0FBd0I7UUFDeEJDLElBQUFBLHlDQUF5QjtRQUN6QkMsSUFBQUEsMEJBQWlCO1FBQ2pCQyxJQUFBQSxvQ0FBMkIsRUFBQ1Q7SUFDOUI7SUFFQSxNQUFNVSxRQUFRWDtJQUNkLE1BQU1ZLFNBQVNaO0lBQ2YsTUFBTWEsVUFBVWI7SUFFaEIsT0FBTztRQUNMQTtRQUNBVztRQUNBQztRQUNBQztJQUNGO0FBQ0Y7QUFFTyxNQUFNZixpQkFBaUIsU0FBVWdCLEdBQUc7SUFDekMsU0FBU2Q7UUFDUCxJQUFJYyxJQUFJLFdBQVc7UUFDbkJDLElBQUFBLHNCQUFZO0lBQ2Q7SUFDQSxPQUFPO1FBQ0xmO1FBQ0FXLE9BQU9YO1FBQ1BhLFNBQVNiO0lBQ1g7QUFDRiJ9

}),
69263: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  document,
  window,
  HTMLFormElement,
  HTMLInputElement
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    asyncLogInUser: function() {
        return asyncLogInUser;
    },
    handleLogInForms: function() {
        return handleLogInForms;
    },
    handleLoginRedirects: function() {
        return handleLoginRedirects;
    }
});
const _utils = __webpack_require__(56897);
const _constants = __webpack_require__(7462);
const _mutations = __webpack_require__(13197);
function getLoginLinks() {
    return Array.prototype.slice.call(document.links).filter((link)=>link.getAttribute('href') === '/log-in');
}
function handleLoginRedirects() {
    getLoginLinks().forEach((link)=>{
        const queryString = window.location.search;
        const redirectParam = queryString.match(/\?usredir=([^&]+)/g);
        if (redirectParam) {
            link.href = link.href.concat(redirectParam[0]);
        }
    });
}
const loginFormQuerySelector = `form[${_constants.USYS_DATA_ATTRS.formType}="${_constants.USYS_FORM_TYPES.login}"]`;
// error handling
const errorState = document.querySelector(`[${_constants.USYS_DATA_ATTRS.formError}]`);
const defaultErrorCopy = // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
_constants.logInErrorStates[_constants.LOGIN_UI_ERROR_CODES.GENERAL_ERROR].copy;
const errorMsgNode = document.querySelector(`.${_constants.ERROR_MSG_CLASS}`);
const getLogInErrorCode = (error)=>{
    let errorCode;
    switch(error){
        case 'UsysInvalidCredentials':
            errorCode = _constants.LOGIN_UI_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD;
            break;
        default:
            errorCode = _constants.LOGIN_UI_ERROR_CODES.GENERAL_ERROR;
    }
    return errorCode;
};
function getLoginForms() {
    const loginForms = document.querySelectorAll(loginFormQuerySelector);
    return Array.prototype.slice.call(loginForms).filter((loginForm)=>loginForm instanceof HTMLFormElement);
}
function handleLogInForms() {
    getLoginForms().forEach((loginForm)=>{
        loginForm.addEventListener('submit', (event)=>{
            event.preventDefault();
            const form = event.currentTarget;
            if (!(form instanceof HTMLFormElement)) {
                return;
            }
            const submit = form.querySelector('input[type="submit"]');
            const submitText = (0, _utils.disableSubmit)(submit);
            // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
            (0, _utils.hideElement)(errorState);
            const emailInput = form.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.email}"]`);
            const passwordInput = form.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.password}"]`);
            if (!(emailInput instanceof HTMLInputElement) || !(passwordInput instanceof HTMLInputElement)) {
                return;
            }
            const onSuccessRedirectUrl = form.getAttribute(_constants.USYS_DATA_ATTRS.redirectUrl);
            asyncLogInUser(emailInput.value, passwordInput.value).then(()=>{
                // If there is a redirect param, redirect to that href after log-in.
                (0, _utils.handleRedirect)(onSuccessRedirectUrl);
            }).catch((error)=>{
                // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
                (0, _utils.resetSubmit)(submit, submitText);
                if (errorState) {
                    // if there isn't an error code, send an empty string so a generic error message appears
                    const elementErrorCode = error?.graphQLErrors?.[0]?.code ?? '';
                    const errorCode = getLogInErrorCode(elementErrorCode);
                    (0, _utils.handleErrorNode)(errorMsgNode, // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                    errorState, errorCode, _constants.ERROR_ATTRIBUTE_PREFIX.LOGIN, defaultErrorCopy);
                }
            });
        });
    });
}
function asyncLogInUser(email, password) {
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.loginMutation,
        variables: {
            email,
            authPassword: password
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIGdsb2JhbHNcbiAgZG9jdW1lbnQsXG4gIHdpbmRvdyxcbiAgSFRNTEZvcm1FbGVtZW50LFxuICBIVE1MSW5wdXRFbGVtZW50XG4qL1xuXG5pbXBvcnQge1xuICB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQsXG4gIGhpZGVFbGVtZW50LFxuICBoYW5kbGVFcnJvck5vZGUsXG4gIGRpc2FibGVTdWJtaXQsXG4gIHJlc2V0U3VibWl0LFxuICBoYW5kbGVSZWRpcmVjdCxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICBVU1lTX0RBVEFfQVRUUlMsXG4gIFVTWVNfRk9STV9UWVBFUyxcbiAgVVNZU19JTlBVVF9UWVBFUyxcbiAgTE9HSU5fVUlfRVJST1JfQ09ERVMsXG4gIEVSUk9SX01TR19DTEFTUyxcbiAgRVJST1JfQVRUUklCVVRFX1BSRUZJWCxcbiAgbG9nSW5FcnJvclN0YXRlcyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvY29uc3RhbnRzJztcbmltcG9ydCB7bG9naW5NdXRhdGlvbn0gZnJvbSAnLi9tdXRhdGlvbnMnO1xuXG5mdW5jdGlvbiBnZXRMb2dpbkxpbmtzKCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgLmNhbGwoZG9jdW1lbnQubGlua3MpXG4gICAgLmZpbHRlcigobGluaykgPT4gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gJy9sb2ctaW4nKTtcbn1cblxuLy8gR3JhYnMgZWFjaCBsb2ctaW4gaHJlZiBvbiB0aGUgcGFnZS4gSWYgdGhlIHBhZ2UgaGFzIHJlZGlyZWN0IHBhcmFtcyBmcm9tIHRoZSBwcm94eVxuLy8gd2UgcGVyc2lzdCB0aGF0IHBhcmFtICB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBsb2ctaW4uIFRoaXMgd2F5IGFmdGVyIGxvZy1pblxuLy8gd2UgY2FuIHJlZGlyZWN0IHRoZW0gdG8gdGhlIGNvbnRlbnQgdGhleSB3ZXJlIHByZXZpb3VzbHkgdHJ5aW5nIHRvIHZpZXcuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTG9naW5SZWRpcmVjdHMoKSB7XG4gIGdldExvZ2luTGlua3MoKS5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGNvbnN0IHJlZGlyZWN0UGFyYW0gPSBxdWVyeVN0cmluZy5tYXRjaCgvXFw/dXNyZWRpcj0oW14mXSspL2cpO1xuXG4gICAgaWYgKHJlZGlyZWN0UGFyYW0pIHtcbiAgICAgIGxpbmsuaHJlZiA9IGxpbmsuaHJlZi5jb25jYXQocmVkaXJlY3RQYXJhbVswXSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgbG9naW5Gb3JtUXVlcnlTZWxlY3RvciA9IGBmb3JtWyR7VVNZU19EQVRBX0FUVFJTLmZvcm1UeXBlfT1cIiR7VVNZU19GT1JNX1RZUEVTLmxvZ2lufVwiXWA7XG5cbi8vIGVycm9yIGhhbmRsaW5nXG5jb25zdCBlcnJvclN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7VVNZU19EQVRBX0FUVFJTLmZvcm1FcnJvcn1dYCk7XG5jb25zdCBkZWZhdWx0RXJyb3JDb3B5ID1cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjUzMiAtIE9iamVjdCBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgbG9nSW5FcnJvclN0YXRlc1tMT0dJTl9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXS5jb3B5O1xuY29uc3QgZXJyb3JNc2dOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7RVJST1JfTVNHX0NMQVNTfWApO1xuY29uc3QgZ2V0TG9nSW5FcnJvckNvZGUgPSAoZXJyb3I6IHN0cmluZykgPT4ge1xuICBsZXQgZXJyb3JDb2RlO1xuICBzd2l0Y2ggKGVycm9yKSB7XG4gICAgY2FzZSAnVXN5c0ludmFsaWRDcmVkZW50aWFscyc6XG4gICAgICBlcnJvckNvZGUgPSBMT0dJTl9VSV9FUlJPUl9DT0RFUy5JTlZBTElEX0VNQUlMX09SX1BBU1NXT1JEO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9yQ29kZSA9IExPR0lOX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1I7XG4gIH1cbiAgcmV0dXJuIGVycm9yQ29kZTtcbn07XG5cbmZ1bmN0aW9uIGdldExvZ2luRm9ybXMoKSB7XG4gIGNvbnN0IGxvZ2luRm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGxvZ2luRm9ybVF1ZXJ5U2VsZWN0b3IpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgLmNhbGwobG9naW5Gb3JtcylcbiAgICAuZmlsdGVyKChsb2dpbkZvcm0pID0+IGxvZ2luRm9ybSBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVMb2dJbkZvcm1zKCkge1xuICBnZXRMb2dpbkZvcm1zKCkuZm9yRWFjaCgobG9naW5Gb3JtKSA9PiB7XG4gICAgbG9naW5Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IGZvcm0gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICBpZiAoIShmb3JtIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgICAgY29uc3Qgc3VibWl0VGV4dCA9IGRpc2FibGVTdWJtaXQoc3VibWl0KTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICBoaWRlRWxlbWVudChlcnJvclN0YXRlKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYGlucHV0WyR7VVNZU19EQVRBX0FUVFJTLmlucHV0VHlwZX09XCIke1VTWVNfSU5QVVRfVFlQRVMuZW1haWx9XCJdYFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBpbnB1dFske1VTWVNfREFUQV9BVFRSUy5pbnB1dFR5cGV9PVwiJHtVU1lTX0lOUFVUX1RZUEVTLnBhc3N3b3JkfVwiXWBcbiAgICAgICk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgIShlbWFpbElucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkgfHxcbiAgICAgICAgIShwYXNzd29yZElucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9uU3VjY2Vzc1JlZGlyZWN0VXJsID0gZm9ybS5nZXRBdHRyaWJ1dGUoXG4gICAgICAgIFVTWVNfREFUQV9BVFRSUy5yZWRpcmVjdFVybFxuICAgICAgKTtcblxuICAgICAgYXN5bmNMb2dJblVzZXIoZW1haWxJbnB1dC52YWx1ZSwgcGFzc3dvcmRJbnB1dC52YWx1ZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcmVkaXJlY3QgcGFyYW0sIHJlZGlyZWN0IHRvIHRoYXQgaHJlZiBhZnRlciBsb2ctaW4uXG4gICAgICAgICAgaGFuZGxlUmVkaXJlY3Qob25TdWNjZXNzUmVkaXJlY3RVcmwpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsJy5cbiAgICAgICAgICByZXNldFN1Ym1pdChzdWJtaXQsIHN1Ym1pdFRleHQpO1xuICAgICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpc24ndCBhbiBlcnJvciBjb2RlLCBzZW5kIGFuIGVtcHR5IHN0cmluZyBzbyBhIGdlbmVyaWMgZXJyb3IgbWVzc2FnZSBhcHBlYXJzXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50RXJyb3JDb2RlID0gZXJyb3I/LmdyYXBoUUxFcnJvcnM/LlswXT8uY29kZSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ29kZSA9IGdldExvZ0luRXJyb3JDb2RlKGVsZW1lbnRFcnJvckNvZGUpO1xuICAgICAgICAgICAgaGFuZGxlRXJyb3JOb2RlKFxuICAgICAgICAgICAgICBlcnJvck1zZ05vZGUsXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQnLlxuICAgICAgICAgICAgICBlcnJvclN0YXRlLFxuICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICAgIEVSUk9SX0FUVFJJQlVURV9QUkVGSVguTE9HSU4sXG4gICAgICAgICAgICAgIGRlZmF1bHRFcnJvckNvcHlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3luY0xvZ0luVXNlcihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG4gIHJldHVybiB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQubXV0YXRlKHtcbiAgICBtdXRhdGlvbjogbG9naW5NdXRhdGlvbixcbiAgICB2YXJpYWJsZXM6IHtcbiAgICAgIGVtYWlsLFxuICAgICAgYXV0aFBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICB9LFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJhc3luY0xvZ0luVXNlciIsImhhbmRsZUxvZ0luRm9ybXMiLCJoYW5kbGVMb2dpblJlZGlyZWN0cyIsImdldExvZ2luTGlua3MiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImRvY3VtZW50IiwibGlua3MiLCJmaWx0ZXIiLCJsaW5rIiwiZ2V0QXR0cmlidXRlIiwiZm9yRWFjaCIsInF1ZXJ5U3RyaW5nIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJyZWRpcmVjdFBhcmFtIiwibWF0Y2giLCJocmVmIiwiY29uY2F0IiwibG9naW5Gb3JtUXVlcnlTZWxlY3RvciIsIlVTWVNfREFUQV9BVFRSUyIsImZvcm1UeXBlIiwiVVNZU19GT1JNX1RZUEVTIiwibG9naW4iLCJlcnJvclN0YXRlIiwicXVlcnlTZWxlY3RvciIsImZvcm1FcnJvciIsImRlZmF1bHRFcnJvckNvcHkiLCJsb2dJbkVycm9yU3RhdGVzIiwiTE9HSU5fVUlfRVJST1JfQ09ERVMiLCJHRU5FUkFMX0VSUk9SIiwiY29weSIsImVycm9yTXNnTm9kZSIsIkVSUk9SX01TR19DTEFTUyIsImdldExvZ0luRXJyb3JDb2RlIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJJTlZBTElEX0VNQUlMX09SX1BBU1NXT1JEIiwiZ2V0TG9naW5Gb3JtcyIsImxvZ2luRm9ybXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibG9naW5Gb3JtIiwiSFRNTEZvcm1FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwiY3VycmVudFRhcmdldCIsInN1Ym1pdCIsInN1Ym1pdFRleHQiLCJkaXNhYmxlU3VibWl0IiwiaGlkZUVsZW1lbnQiLCJlbWFpbElucHV0IiwiaW5wdXRUeXBlIiwiVVNZU19JTlBVVF9UWVBFUyIsImVtYWlsIiwicGFzc3dvcmRJbnB1dCIsInBhc3N3b3JkIiwiSFRNTElucHV0RWxlbWVudCIsIm9uU3VjY2Vzc1JlZGlyZWN0VXJsIiwicmVkaXJlY3RVcmwiLCJ2YWx1ZSIsInRoZW4iLCJoYW5kbGVSZWRpcmVjdCIsImNhdGNoIiwicmVzZXRTdWJtaXQiLCJlbGVtZW50RXJyb3JDb2RlIiwiZ3JhcGhRTEVycm9ycyIsImNvZGUiLCJoYW5kbGVFcnJvck5vZGUiLCJFUlJPUl9BVFRSSUJVVEVfUFJFRklYIiwiTE9HSU4iLCJ1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQiLCJtdXRhdGUiLCJtdXRhdGlvbiIsImxvZ2luTXV0YXRpb24iLCJ2YXJpYWJsZXMiLCJhdXRoUGFzc3dvcmQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFNQTs7Ozs7Ozs7Ozs7SUFnSWdCQSxjQUFjO2VBQWRBOztJQTVEQUMsZ0JBQWdCO2VBQWhCQTs7SUF0Q0FDLG9CQUFvQjtlQUFwQkE7Ozt1QkFyQlQ7MkJBU0E7MkJBQ3FCO0FBRTVCLFNBQVNDO0lBQ1AsT0FBT0MsTUFBTUMsU0FBUyxDQUFDQyxLQUFLLENBQ3pCQyxJQUFJLENBQUNDLFNBQVNDLEtBQUssRUFDbkJDLE1BQU0sQ0FBQyxDQUFDQyxPQUFTQSxLQUFLQyxZQUFZLENBQUMsWUFBWTtBQUNwRDtBQUtPLFNBQVNWO0lBQ2RDLGdCQUFnQlUsT0FBTyxDQUFDLENBQUNGO1FBQ3ZCLE1BQU1HLGNBQWNDLE9BQU9DLFFBQVEsQ0FBQ0MsTUFBTTtRQUMxQyxNQUFNQyxnQkFBZ0JKLFlBQVlLLEtBQUssQ0FBQztRQUV4QyxJQUFJRCxlQUFlO1lBQ2pCUCxLQUFLUyxJQUFJLEdBQUdULEtBQUtTLElBQUksQ0FBQ0MsTUFBTSxDQUFDSCxhQUFhLENBQUMsRUFBRTtRQUMvQztJQUNGO0FBQ0Y7QUFFQSxNQUFNSSx5QkFBeUIsQ0FBQyxLQUFLLEVBQUVDLDBCQUFlLENBQUNDLFFBQVEs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

}),
87021: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  window,
  document,
  HTMLButtonElement
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    asyncLogOutUser: function() {
        return asyncLogOutUser;
    },
    handleLogInLogOutButton: function() {
        return handleLogInLogOutButton;
    }
});
const _utils = __webpack_require__(56897);
const _constants = __webpack_require__(7462);
const _mutations = __webpack_require__(13197);
const logoutButtonQuerySelector = `[${_constants.USYS_DATA_ATTRS.logout}]`;
function getLogoutButtons() {
    const logoutButtons = document.querySelectorAll(logoutButtonQuerySelector);
    return Array.prototype.slice.call(logoutButtons).filter((logoutButton)=>logoutButton instanceof HTMLButtonElement);
}
function handleGoToLoginClick() {
    if (window.Webflow.env('preview')) {
        return;
    }
    // @ts-expect-error - TS2322 - Type 'string' is not assignable to type 'Location | (string & Location)'.
    window.location = '/log-in';
}
function handleLogOutButtonClick(event) {
    event.preventDefault();
    asyncLogOutUser().then(()=>{
        // @ts-expect-error - TS2339 - Property 'Webflow' does not exist on type 'Window & typeof globalThis'.
        window.Webflow.location('/');
    });
}
function handleLogInLogOutButton() {
    getLogoutButtons().forEach((logoutButton)=>{
        if (document.cookie.split(';').some((cookie)=>cookie.indexOf(_constants.LOGGEDIN_COOKIE_NAME) > -1)) {
            logoutButton.innerHTML = logoutButton.getAttribute(_constants.USYS_DATA_ATTRS.logout) || 'Log out';
            logoutButton.removeEventListener('click', handleGoToLoginClick);
            logoutButton.addEventListener('click', handleLogOutButtonClick);
        } else if (!window.Webflow.env('design')) {
            logoutButton.innerHTML = logoutButton.getAttribute(_constants.USYS_DATA_ATTRS.login) || 'Log in';
            logoutButton.removeEventListener('click', handleLogOutButtonClick);
            logoutButton.addEventListener('click', handleGoToLoginClick);
        }
    });
}
function asyncLogOutUser() {
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.logoutMutation
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ291dC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBnbG9iYWxzXG4gIHdpbmRvdyxcbiAgZG9jdW1lbnQsXG4gIEhUTUxCdXR0b25FbGVtZW50XG4qL1xuXG5pbXBvcnQge3VzZXJTeXN0ZW1zUmVxdWVzdENsaWVudH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICBVU1lTX0RBVEFfQVRUUlMsXG4gIExPR0dFRElOX0NPT0tJRV9OQU1FLFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy91c2Vycy9jb25zdGFudHMnO1xuaW1wb3J0IHtsb2dvdXRNdXRhdGlvbn0gZnJvbSAnLi9tdXRhdGlvbnMnO1xuXG5jb25zdCBsb2dvdXRCdXR0b25RdWVyeVNlbGVjdG9yID0gYFske1VTWVNfREFUQV9BVFRSUy5sb2dvdXR9XWA7XG5cbmZ1bmN0aW9uIGdldExvZ291dEJ1dHRvbnMoKSB7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGxvZ291dEJ1dHRvblF1ZXJ5U2VsZWN0b3IpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgLmNhbGwobG9nb3V0QnV0dG9ucylcbiAgICAuZmlsdGVyKChsb2dvdXRCdXR0b24pID0+IGxvZ291dEJ1dHRvbiBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR29Ub0xvZ2luQ2xpY2soKSB7XG4gIGlmICh3aW5kb3cuV2ViZmxvdy5lbnYoJ3ByZXZpZXcnKSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnc3RyaW5nJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdMb2NhdGlvbiB8IChzdHJpbmcgJiBMb2NhdGlvbiknLlxuICB3aW5kb3cubG9jYXRpb24gPSAnL2xvZy1pbic7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxvZ091dEJ1dHRvbkNsaWNrKGV2ZW50OiBFdmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGFzeW5jTG9nT3V0VXNlcigpLnRoZW4oKCkgPT4ge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnV2ViZmxvdycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMnLlxuICAgIHdpbmRvdy5XZWJmbG93LmxvY2F0aW9uKCcvJyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTG9nSW5Mb2dPdXRCdXR0b24oKSB7XG4gIGdldExvZ291dEJ1dHRvbnMoKS5mb3JFYWNoKChsb2dvdXRCdXR0b24pID0+IHtcbiAgICBpZiAoXG4gICAgICBkb2N1bWVudC5jb29raWVcbiAgICAgICAgLnNwbGl0KCc7JylcbiAgICAgICAgLnNvbWUoKGNvb2tpZSkgPT4gY29va2llLmluZGV4T2YoTE9HR0VESU5fQ09PS0lFX05BTUUpID4gLTEpXG4gICAgKSB7XG4gICAgICBsb2dvdXRCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgbG9nb3V0QnV0dG9uLmdldEF0dHJpYnV0ZShVU1lTX0RBVEFfQVRUUlMubG9nb3V0KSB8fCAnTG9nIG91dCc7XG4gICAgICBsb2dvdXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVHb1RvTG9naW5DbGljayk7XG4gICAgICBsb2dvdXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVMb2dPdXRCdXR0b25DbGljayk7XG4gICAgfSBlbHNlIGlmICghd2luZG93LldlYmZsb3cuZW52KCdkZXNpZ24nKSkge1xuICAgICAgbG9nb3V0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgIGxvZ291dEJ1dHRvbi5nZXRBdHRyaWJ1dGUoVVNZU19EQVRBX0FUVFJTLmxvZ2luKSB8fCAnTG9nIGluJztcbiAgICAgIGxvZ291dEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUxvZ091dEJ1dHRvbkNsaWNrKTtcbiAgICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUdvVG9Mb2dpbkNsaWNrKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNMb2dPdXRVc2VyKCkge1xuICByZXR1cm4gdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IGxvZ291dE11dGF0aW9uLFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJhc3luY0xvZ091dFVzZXIiLCJoYW5kbGVMb2dJbkxvZ091dEJ1dHRvbiIsImxvZ291dEJ1dHRvblF1ZXJ5U2VsZWN0b3IiLCJVU1lTX0RBVEFfQVRUUlMiLCJsb2dvdXQiLCJnZXRMb2dvdXRCdXR0b25zIiwibG9nb3V0QnV0dG9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiZmlsdGVyIiwibG9nb3V0QnV0dG9uIiwiSFRNTEJ1dHRvbkVsZW1lbnQiLCJoYW5kbGVHb1RvTG9naW5DbGljayIsIndpbmRvdyIsIldlYmZsb3ciLCJlbnYiLCJsb2NhdGlvbiIsImhhbmRsZUxvZ091dEJ1dHRvbkNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRoZW4iLCJmb3JFYWNoIiwiY29va2llIiwic3BsaXQiLCJzb21lIiwiaW5kZXhPZiIsIkxPR0dFRElOX0NPT0tJRV9OQU1FIiwiaW5uZXJIVE1MIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2dpbiIsInVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudCIsIm11dGF0ZSIsIm11dGF0aW9uIiwibG9nb3V0TXV0YXRpb24iXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQUtBOzs7Ozs7Ozs7OztJQXVEZ0JBLGVBQWU7ZUFBZkE7O0lBcEJBQyx1QkFBdUI7ZUFBdkJBOzs7dUJBakN1QjsyQkFJaEM7MkJBQ3NCO0FBRTdCLE1BQU1DLDRCQUE0QixDQUFDLENBQUMsRUFBRUMsMEJBQWUsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUUvRCxTQUFTQztJQUNQLE1BQU1DLGdCQUFnQkMsU0FBU0MsZ0JBQWdCLENBQUNOO0lBQ2hELE9BQU9PLE1BQU1DLFNBQVMsQ0FBQ0MsS0FBSyxDQUN6QkMsSUFBSSxDQUFDTixlQUNMTyxNQUFNLENBQUMsQ0FBQ0MsZUFBaUJBLHdCQUF3QkM7QUFDdEQ7QUFFQSxTQUFTQztJQUNQLElBQUlDLE9BQU9DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFlBQVk7UUFDakM7SUFDRjtJQUNBLHdHQUF3RztJQUN4R0YsT0FBT0csUUFBUSxHQUFHO0FBQ3BCO0FBRUEsU0FBU0Msd0JBQXdCQyxLQUFZO0lBQzNDQSxNQUFNQyxjQUFjO0lBRXBCdkIsa0JBQWtCd0IsSUFBSSxDQUFDO1FBQ3JCLHNHQUFzRztRQUN0R1AsT0FBT0MsT0FBTyxDQUFDRSxRQUFRLENBQUM7SUFDMUI7QUFDRjtBQUVPLFNBQVNuQjtJQUNkSSxtQkFBbUJvQixPQUFPLENBQUMsQ0FBQ1g7UUFDMUIsSUFDRVAsU0FBU21CLE1BQU0sQ0FDWkMsS0FBSyxDQUFDLEtBQ05DLElBQUksQ0FBQyxDQUFDRixTQUFXQSxPQUFPRyxPQUFPLENBQUNDLCtCQUFvQixJQUFJLENBQUMsSUFDNUQ7WUFDQWhCLGFBQWFpQixTQUFTLEdBQ3BCakIsYUFBYWtCLFlBQVksQ0FBQzdCLDBCQUFlLENBQUNDLE1BQU0sS0FBSztZQUN2RFUsYUFBYW1CLG1CQUFtQixDQUFDLFNBQVNqQjtZQUMxQ0YsYUFBYW9CLGdCQUFnQixDQUFDLFNBQVNiO1FBQ3pDLE9BQU8sSUFBSSxDQUFDSixPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxXQUFXO1lBQ3hDTCxhQUFhaUIsU0FBUyxHQUNwQmpCLGFBQWFrQixZQUFZLENBQUM3QiwwQkFBZSxDQUFDZ0MsS0FBSyxLQUFLO1lBQ3REckIsYUFBYW1CLG1CQUFtQixDQUFDLFNBQVNaO1lBQzFDUCxhQUFhb0IsZ0JBQWdCLENBQUMsU0FBU2xCO1FBQ3pDO0lBQ0Y7QUFDRjtBQUVPLFNBQVNoQjtJQUNkLE9BQU9vQywrQkFBd0IsQ0FBQ0MsTUFBTSxDQUFDO1FBQ3JDQyxVQUFVQyx5QkFBYztJQUMxQjtBQUNGIn0=

}),
13197: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    buildUpdateUsysUserDataMutation: function() {
        return buildUpdateUsysUserDataMutation;
    },
    cancelSubscriptionMutation: function() {
        return cancelSubscriptionMutation;
    },
    getUploadURLMutation: function() {
        return getUploadURLMutation;
    },
    loginMutation: function() {
        return loginMutation;
    },
    logoutMutation: function() {
        return logoutMutation;
    },
    resetPasswordMutation: function() {
        return resetPasswordMutation;
    },
    signupMutation: function() {
        return signupMutation;
    },
    updatePasswordMutation: function() {
        return updatePasswordMutation;
    },
    verifyEmailMutation: function() {
        return verifyEmailMutation;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const loginMutation = (0, _graphqltag.default)`
  mutation UserLoginRequest($email: String!, $authPassword: String!) {
    usysCreateSession(email: $email, authPassword: $authPassword) {
      user {
        id
        email
        createdOn
        emailVerified
      }
    }
  }
`;
function buildUpdateUsysUserDataMutation(dataFields) {
    return (0, _graphqltag.default)`
    mutation UpdateUsysUserData(
      $data: usys_update_user_data!
    ) {
      usysUpdateUserData(
        data: $data
    ) {
      data {
      ${dataFields.map((field)=>{
        const base = `${field.key}: ${field.type}(id: "${field.id}")`;
        if (field.type === 'option') {
            return base + '{\n slug \n}';
        }
        if (field.type === 'fileRef') {
            return base + '{\n id \n}';
        }
        return base;
    }).join('\n')}
        }
      }
    }
  `;
}
const signupMutation = (0, _graphqltag.default)`
  mutation UserSignupRequest(
    $email: String!
    $name: String!
    $acceptPrivacy: Boolean
    $acceptCommunications: Boolean
    $authPassword: String!
    $inviteToken: String
    $captchaToken: String
    $redirectPath: String
    $data: usys_update_user_data
  ) {
    usysCreateUser(
      email: $email
      name: $name
      acceptPrivacy: $acceptPrivacy
      acceptCommunications: $acceptCommunications
      authPassword: $authPassword
      inviteToken: $inviteToken
      captchaToken: $captchaToken
      redirectPath: $redirectPath
      data: $data
    ) {
      user {
        id
        email
        name
        createdOn
        emailVerified
      }
    }
  }
`;
const logoutMutation = (0, _graphqltag.default)`
  mutation UserLogoutRequest {
    usysDestroySession {
      ok
    }
  }
`;
const resetPasswordMutation = (0, _graphqltag.default)`
  mutation UserResetPasswordRequest($email: String!) {
    usysResetPassword(email: $email) {
      ok
    }
  }
`;
const updatePasswordMutation = (0, _graphqltag.default)`
  mutation UserUpdatePasswordRequest($authPassword: String!, $token: String!) {
    usysUpdatePassword(authPassword: $authPassword, token: $token) {
      ok
    }
  }
`;
const verifyEmailMutation = (0, _graphqltag.default)`
  mutation UserVerifyEmail($verifyToken: String!, $redirectPath: String) {
    usysVerifyEmail(verifyToken: $verifyToken, redirectPath: $redirectPath) {
      ok
    }
  }
`;
const cancelSubscriptionMutation = (0, _graphqltag.default)`
  mutation CancelSiteUserSubscription($subscriptionId: String!) {
    ecommerceCancelSubscriptionForSiteUser(subscriptionId: $subscriptionId) {
      ok
    }
  }
`;
const getUploadURLMutation = (0, _graphqltag.default)`
  mutation getUploadURL($fieldId: String!, $filename: String!) {
    usysGetUploadURL(fieldId: $fieldId, filename: $filename) {
      presignedPOST {
        url
        fields {
          key
          value
        }
      }
      key
    }
  }
`;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm11dGF0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJztcblxuZXhwb3J0IGNvbnN0IGxvZ2luTXV0YXRpb24gPSBncWxgXG4gIG11dGF0aW9uIFVzZXJMb2dpblJlcXVlc3QoJGVtYWlsOiBTdHJpbmchLCAkYXV0aFBhc3N3b3JkOiBTdHJpbmchKSB7XG4gICAgdXN5c0NyZWF0ZVNlc3Npb24oZW1haWw6ICRlbWFpbCwgYXV0aFBhc3N3b3JkOiAkYXV0aFBhc3N3b3JkKSB7XG4gICAgICB1c2VyIHtcbiAgICAgICAgaWRcbiAgICAgICAgZW1haWxcbiAgICAgICAgY3JlYXRlZE9uXG4gICAgICAgIGVtYWlsVmVyaWZpZWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFVwZGF0ZVVzeXNVc2VyRGF0YU11dGF0aW9uKFxuICBkYXRhRmllbGRzOiBBcnJheTx7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gIH0+XG4pIHtcbiAgcmV0dXJuIGdxbGBcbiAgICBtdXRhdGlvbiBVcGRhdGVVc3lzVXNlckRhdGEoXG4gICAgICAkZGF0YTogdXN5c191cGRhdGVfdXNlcl9kYXRhIVxuICAgICkge1xuICAgICAgdXN5c1VwZGF0ZVVzZXJEYXRhKFxuICAgICAgICBkYXRhOiAkZGF0YVxuICAgICkge1xuICAgICAgZGF0YSB7XG4gICAgICAke2RhdGFGaWVsZHNcbiAgICAgICAgLm1hcCgoZmllbGQpID0+IHtcbiAgICAgICAgICBjb25zdCBiYXNlID0gYCR7ZmllbGQua2V5fTogJHtmaWVsZC50eXBlfShpZDogXCIke2ZpZWxkLmlkfVwiKWA7XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdvcHRpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZSArICd7XFxuIHNsdWcgXFxufSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnZmlsZVJlZicpIHtcbiAgICAgICAgICAgIHJldHVybiBiYXNlICsgJ3tcXG4gaWQgXFxufSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignXFxuJyl9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIGA7XG59XG5cbmV4cG9ydCBjb25zdCBzaWdudXBNdXRhdGlvbiA9IGdxbGBcbiAgbXV0YXRpb24gVXNlclNpZ251cFJlcXVlc3QoXG4gICAgJGVtYWlsOiBTdHJpbmchXG4gICAgJG5hbWU6IFN0cmluZyFcbiAgICAkYWNjZXB0UHJpdmFjeTogQm9vbGVhblxuICAgICRhY2NlcHRDb21tdW5pY2F0aW9uczogQm9vbGVhblxuICAgICRhdXRoUGFzc3dvcmQ6IFN0cmluZyFcbiAgICAkaW52aXRlVG9rZW46IFN0cmluZ1xuICAgICRjYXB0Y2hhVG9rZW46IFN0cmluZ1xuICAgICRyZWRpcmVjdFBhdGg6IFN0cmluZ1xuICAgICRkYXRhOiB1c3lzX3VwZGF0ZV91c2VyX2RhdGFcbiAgKSB7XG4gICAgdXN5c0NyZWF0ZVVzZXIoXG4gICAgICBlbWFpbDogJGVtYWlsXG4gICAgICBuYW1lOiAkbmFtZVxuICAgICAgYWNjZXB0UHJpdmFjeTogJGFjY2VwdFByaXZhY3lcbiAgICAgIGFjY2VwdENvbW11bmljYXRpb25zOiAkYWNjZXB0Q29tbXVuaWNhdGlvbnNcbiAgICAgIGF1dGhQYXNzd29yZDogJGF1dGhQYXNzd29yZFxuICAgICAgaW52aXRlVG9rZW46ICRpbnZpdGVUb2tlblxuICAgICAgY2FwdGNoYVRva2VuOiAkY2FwdGNoYVRva2VuXG4gICAgICByZWRpcmVjdFBhdGg6ICRyZWRpcmVjdFBhdGhcbiAgICAgIGRhdGE6ICRkYXRhXG4gICAgKSB7XG4gICAgICB1c2VyIHtcbiAgICAgICAgaWRcbiAgICAgICAgZW1haWxcbiAgICAgICAgbmFtZVxuICAgICAgICBjcmVhdGVkT25cbiAgICAgICAgZW1haWxWZXJpZmllZFxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IGxvZ291dE11dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBVc2VyTG9nb3V0UmVxdWVzdCB7XG4gICAgdXN5c0Rlc3Ryb3lTZXNzaW9uIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgcmVzZXRQYXNzd29yZE11dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBVc2VyUmVzZXRQYXNzd29yZFJlcXVlc3QoJGVtYWlsOiBTdHJpbmchKSB7XG4gICAgdXN5c1Jlc2V0UGFzc3dvcmQoZW1haWw6ICRlbWFpbCkge1xuICAgICAgb2tcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQYXNzd29yZE11dGF0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBVc2VyVXBkYXRlUGFzc3dvcmRSZXF1ZXN0KCRhdXRoUGFzc3dvcmQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgIHVzeXNVcGRhdGVQYXNzd29yZChhdXRoUGFzc3dvcmQ6ICRhdXRoUGFzc3dvcmQsIHRva2VuOiAkdG9rZW4pIHtcbiAgICAgIG9rXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgdmVyaWZ5RW1haWxNdXRhdGlvbiA9IGdxbGBcbiAgbXV0YXRpb24gVXNlclZlcmlmeUVtYWlsKCR2ZXJpZnlUb2tlbjogU3RyaW5nISwgJHJlZGlyZWN0UGF0aDogU3RyaW5nKSB7XG4gICAgdXN5c1ZlcmlmeUVtYWlsKHZlcmlmeVRva2VuOiAkdmVyaWZ5VG9rZW4sIHJlZGlyZWN0UGF0aDogJHJlZGlyZWN0UGF0aCkge1xuICAgICAgb2tcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBjYW5jZWxTdWJzY3JpcHRpb25NdXRhdGlvbiA9IGdxbGBcbiAgbXV0YXRpb24gQ2FuY2VsU2l0ZVVzZXJTdWJzY3JpcHRpb24oJHN1YnNjcmlwdGlvbklkOiBTdHJpbmchKSB7XG4gICAgZWNvbW1lcmNlQ2FuY2VsU3Vic2NyaXB0aW9uRm9yU2l0ZVVzZXIoc3Vic2NyaXB0aW9uSWQ6ICRzdWJzY3JpcHRpb25JZCkge1xuICAgICAgb2tcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBnZXRVcGxvYWRVUkxNdXRhdGlvbiA9IGdxbGBcbiAgbXV0YXRpb24gZ2V0VXBsb2FkVVJMKCRmaWVsZElkOiBTdHJpbmchLCAkZmlsZW5hbWU6IFN0cmluZyEpIHtcbiAgICB1c3lzR2V0VXBsb2FkVVJMKGZpZWxkSWQ6ICRmaWVsZElkLCBmaWxlbmFtZTogJGZpbGVuYW1lKSB7XG4gICAgICBwcmVzaWduZWRQT1NUIHtcbiAgICAgICAgdXJsXG4gICAgICAgIGZpZWxkcyB7XG4gICAgICAgICAga2V5XG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAga2V5XG4gICAgfVxuICB9XG5gO1xuIl0sIm5hbWVzIjpbImJ1aWxkVXBkYXRlVXN5c1VzZXJEYXRhTXV0YXRpb24iLCJjYW5jZWxTdWJzY3JpcHRpb25NdXRhdGlvbiIsImdldFVwbG9hZFVSTE11dGF0aW9uIiwibG9naW5NdXRhdGlvbiIsImxvZ291dE11dGF0aW9uIiwicmVzZXRQYXNzd29yZE11dGF0aW9uIiwic2lnbnVwTXV0YXRpb24iLCJ1cGRhdGVQYXNzd29yZE11dGF0aW9uIiwidmVyaWZ5RW1haWxNdXRhdGlvbiIsImdxbCIsImRhdGFGaWVsZHMiLCJtYXAiLCJmaWVsZCIsImJhc2UiLCJrZXkiLCJ0eXBlIiwiaWQiLCJqb2luIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWVnQkEsK0JBQStCO2VBQS9CQTs7SUFtR0hDLDBCQUEwQjtlQUExQkE7O0lBUUFDLG9CQUFvQjtlQUFwQkE7O0lBeEhBQyxhQUFhO2VBQWJBOztJQWdGQUMsY0FBYztlQUFkQTs7SUFRQUMscUJBQXFCO2VBQXJCQTs7SUExQ0FDLGNBQWM7ZUFBZEE7O0lBa0RBQyxzQkFBc0I7ZUFBdEJBOztJQVFBQyxtQkFBbUI7ZUFBbkJBOzs7bUVBMUdHOzs7Ozs7QUFFVCxNQUFNTCxnQkFBZ0JNLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7Ozs7Ozs7QUFXakMsQ0FBQztBQUVNLFNBQVNULGdDQUNkVSxVQUlFO0lBRUYsT0FBT0QsSUFBQUEsbUJBQUcsQ0FBQSxDQUFDOzs7Ozs7OztNQVFQLEVBQUVDLFdBQ0NDLEdBQUcsQ0FBQyxDQUFDQztRQUNKLE1BQU1DLE9BQU8sQ0FBQyxFQUFFRCxNQUFNRSxHQUFHLENBQUMsRUFBRSxFQUFFRixNQUFNRyxJQUFJLENBQUMsTUFBTSxFQUFFSCxNQUFNSSxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQzdELElBQUlKLE1BQU1HLElBQUksS0FBSyxVQUFVO1lBQzNCLE9BQU9GLE9BQU87UUFDaEI7UUFDQSxJQUFJRCxNQUFNRyxJQUFJLEtBQUssV0FBVztZQUM1QixPQUFPRixPQUFPO1FBQ2hCO1FBQ0EsT0FBT0E7SUFDVCxHQUNDSSxJQUFJLENBQUMsTUFBTTs7OztFQUlsQixDQUFDO0FBQ0g7QUFFTyxNQUFNWCxpQkFBaUJHLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQ2xDLENBQUM7QUFFTSxNQUFNTCxpQkFBaUJLLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7O0FBTWxDLENBQUM7QUFFTSxNQUFNSix3QkFBd0JJLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7O0FBTXpDLENBQUM7QUFFTSxNQUFNRix5QkFBeUJFLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7O0FBTTFDLENBQUM7QUFFTSxNQUFNRCxzQkFBc0JDLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7O0FBTXZDLENBQUM7QUFFTSxNQUFNUiw2QkFBNkJRLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7O0FBTTlDLENBQUM7QUFFTSxNQUFNUCx1QkFBdUJPLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7Ozs7Ozs7OztBQWF4QyxDQUFDIn0=

}),
3671: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    buildGetLoggedInUserQuery: function() {
        return buildGetLoggedInUserQuery;
    },
    getFieldValidations: function() {
        return getFieldValidations;
    },
    getUserSubscriptions: function() {
        return getUserSubscriptions;
    }
});
const _graphqltag = /*#__PURE__*/ _interop_require_default(__webpack_require__(28160));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const getUserSubscriptions = (0, _graphqltag.default)`
  query FetchSubscriptions {
    database {
      id
      userSubscriptions {
        _id
        productName
        variantPrice {
          string
          unit
          value
        }
        variantImage {
          url
          alt
        }
        status
        lastInvoiced
        periodEnd
        subCreatedOn
        canceledOn
        billingAddressAddressee
        billingAddressLine1
        billingAddressLine2
        billingAddressCity
        billingAddressState
        billingAddressPostalCode
        billingAddressCountry
        cardLast4
        cardExpiresMonth
        cardExpiresYear
      }
    }
  }
`;
function buildGetLoggedInUserQuery(dataFields = []) {
    return (0, _graphqltag.default)`
    query FetchUser {
        site {
          id
          siteUser {
            id
            createdOn
            ${dataFields.length > 0 ? `
            data {
              ${dataFields.map((field)=>{
        const base = `${field.key}: ${field.type}(id: "${field.id}")`;
        if (field.type === 'option') {
            return base + '{\n slug \n}';
        }
        if (field.type === 'fileRef') {
            return base + '{\n url \n \n id \n}';
        }
        return base;
    }).join('\n')}
            }` : ''}
        }
      }
    }
  `;
}
const getFieldValidations = (0, _graphqltag.default)`
  query GetFieldValidations {
    site {
      id
      usysFieldSchema {
        id
        required
        validations {
          minLength
          maxLength
          min
          max
          step
          extensions
          options {
            slug
            name
          }
        }
      }
    }
  }
`;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXJpZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyU3Vic2NyaXB0aW9ucyA9IGdxbGBcbiAgcXVlcnkgRmV0Y2hTdWJzY3JpcHRpb25zIHtcbiAgICBkYXRhYmFzZSB7XG4gICAgICBpZFxuICAgICAgdXNlclN1YnNjcmlwdGlvbnMge1xuICAgICAgICBfaWRcbiAgICAgICAgcHJvZHVjdE5hbWVcbiAgICAgICAgdmFyaWFudFByaWNlIHtcbiAgICAgICAgICBzdHJpbmdcbiAgICAgICAgICB1bml0XG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfVxuICAgICAgICB2YXJpYW50SW1hZ2Uge1xuICAgICAgICAgIHVybFxuICAgICAgICAgIGFsdFxuICAgICAgICB9XG4gICAgICAgIHN0YXR1c1xuICAgICAgICBsYXN0SW52b2ljZWRcbiAgICAgICAgcGVyaW9kRW5kXG4gICAgICAgIHN1YkNyZWF0ZWRPblxuICAgICAgICBjYW5jZWxlZE9uXG4gICAgICAgIGJpbGxpbmdBZGRyZXNzQWRkcmVzc2VlXG4gICAgICAgIGJpbGxpbmdBZGRyZXNzTGluZTFcbiAgICAgICAgYmlsbGluZ0FkZHJlc3NMaW5lMlxuICAgICAgICBiaWxsaW5nQWRkcmVzc0NpdHlcbiAgICAgICAgYmlsbGluZ0FkZHJlc3NTdGF0ZVxuICAgICAgICBiaWxsaW5nQWRkcmVzc1Bvc3RhbENvZGVcbiAgICAgICAgYmlsbGluZ0FkZHJlc3NDb3VudHJ5XG4gICAgICAgIGNhcmRMYXN0NFxuICAgICAgICBjYXJkRXhwaXJlc01vbnRoXG4gICAgICAgIGNhcmRFeHBpcmVzWWVhclxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkR2V0TG9nZ2VkSW5Vc2VyUXVlcnkoXG4gIGRhdGFGaWVsZHM6IEFycmF5PHtcbiAgICBrZXk6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgfT4gPSBbXVxuKSB7XG4gIHJldHVybiBncWxgXG4gICAgcXVlcnkgRmV0Y2hVc2VyIHtcbiAgICAgICAgc2l0ZSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBzaXRlVXNlciB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgY3JlYXRlZE9uXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBkYXRhRmllbGRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgIGRhdGEge1xuICAgICAgICAgICAgICAke2RhdGFGaWVsZHNcbiAgICAgICAgICAgICAgICAubWFwKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IGAke2ZpZWxkLmtleX06ICR7ZmllbGQudHlwZX0oaWQ6IFwiJHtmaWVsZC5pZH1cIilgO1xuICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdvcHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlICsgJ3tcXG4gc2x1ZyBcXG59JztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnZmlsZVJlZicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UgKyAne1xcbiB1cmwgXFxuIFxcbiBpZCBcXG59JztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJ1xcbicpfVxuICAgICAgICAgICAgfWBcbiAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIGA7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZFZhbGlkYXRpb25zID0gZ3FsYFxuICBxdWVyeSBHZXRGaWVsZFZhbGlkYXRpb25zIHtcbiAgICBzaXRlIHtcbiAgICAgIGlkXG4gICAgICB1c3lzRmllbGRTY2hlbWEge1xuICAgICAgICBpZFxuICAgICAgICByZXF1aXJlZFxuICAgICAgICB2YWxpZGF0aW9ucyB7XG4gICAgICAgICAgbWluTGVuZ3RoXG4gICAgICAgICAgbWF4TGVuZ3RoXG4gICAgICAgICAgbWluXG4gICAgICAgICAgbWF4XG4gICAgICAgICAgc3RlcFxuICAgICAgICAgIGV4dGVuc2lvbnNcbiAgICAgICAgICBvcHRpb25zIHtcbiAgICAgICAgICAgIHNsdWdcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG4iXSwibmFtZXMiOlsiYnVpbGRHZXRMb2dnZWRJblVzZXJRdWVyeSIsImdldEZpZWxkVmFsaWRhdGlvbnMiLCJnZXRVc2VyU3Vic2NyaXB0aW9ucyIsImdxbCIsImRhdGFGaWVsZHMiLCJsZW5ndGgiLCJtYXAiLCJmaWVsZCIsImJhc2UiLCJrZXkiLCJ0eXBlIiwiaWQiLCJqb2luIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXNDZ0JBLHlCQUF5QjtlQUF6QkE7O0lBdUNIQyxtQkFBbUI7ZUFBbkJBOztJQTNFQUMsb0JBQW9CO2VBQXBCQTs7O21FQUZHOzs7Ozs7QUFFVCxNQUFNQSx1QkFBdUJDLElBQUFBLG1CQUFHLENBQUEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtDeEMsQ0FBQztBQUVNLFNBQVNILDBCQUNkSSxhQUlLLEVBQUU7SUFFUCxPQUFPRCxJQUFBQSxtQkFBRyxDQUFBLENBQUM7Ozs7Ozs7WUFPRCxFQUNFQyxXQUFXQyxNQUFNLEdBQUcsSUFDaEIsQ0FBQzs7Y0FFTCxFQUFFRCxXQUNDRSxHQUFHLENBQUMsQ0FBQ0M7UUFDSixNQUFNQyxPQUFPLENBQUMsRUFBRUQsTUFBTUUsR0FBRyxDQUFDLEVBQUUsRUFBRUYsTUFBTUcsSUFBSSxDQUFDLE1BQU0sRUFBRUgsTUFBTUksRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUM3RCxJQUFJSixNQUFNRyxJQUFJLEtBQUssVUFBVTtZQUMzQixPQUFPRixPQUFPO1FBQ2hCO1FBQ0EsSUFBSUQsTUFBTUcsSUFBSSxLQUFLLFdBQVc7WUFDNUIsT0FBT0YsT0FBTztRQUNoQjtRQUNBLE9BQU9BO0lBQ1QsR0FDQ0ksSUFBSSxDQUFDLE1BQU07YUFDZixDQUFDLEdBQ0ksR0FDTDs7OztFQUlYLENBQUM7QUFDSDtBQUVPLE1BQU1YLHNCQUFzQkUsSUFBQUEsbUJBQUcsQ0FBQSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0J2QyxDQUFDIn0=

}),
85513: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals
 window
 */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    applyBindingsAndConditionalVisibility: function() {
        return applyBindingsAndConditionalVisibility;
    },
    applyUserAccountData: function() {
        return applyUserAccountData;
    }
});
const _escape = /*#__PURE__*/ _interop_require_default(__webpack_require__(28929));
const _get = /*#__PURE__*/ _interop_require_default(__webpack_require__(24738));
const _Transformers = __webpack_require__(61649);
const _RenderingUtils = __webpack_require__(86078);
const _constants = __webpack_require__(29197);
const _constants1 = __webpack_require__(10873);
const _constants2 = __webpack_require__(7462);
const _universalUtils = __webpack_require__(62467);
const _utils = __webpack_require__(56897);
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const getPropertyMutator = (bindingProperty)=>{
    if (typeof mutators[bindingProperty] === 'function') {
        return mutators[bindingProperty];
    }
    return null;
};
const mutators = {
    innerHTML: (node, type, value)=>{
        const valueString = value != null ? String(value) : '';
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ PlainText: string; HighlightedText: string; RichText: string; Number: string; Video: string; Option: string; Date: string; Phone: string; Email: string; CommercePrice: string; Link: string; ImageRef: boolean; FileRef: boolean; ItemRef: boolean; CommercePropValues: string; }'.
        if (_constants.SHARED_ALLOWED_FIELD_TYPES.innerHTML[type] === 'innerHTML') {
            node.innerHTML = valueString;
        // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ PlainText: string; HighlightedText: string; RichText: string; Number: string; Video: string; Option: string; Date: string; Phone: string; Email: string; CommercePrice: string; Link: string; ImageRef: boolean; FileRef: boolean; ItemRef: boolean; CommercePropValues: string; }'.
        } else if (_constants.SHARED_ALLOWED_FIELD_TYPES.innerHTML[type] === 'innerText') {
            node.innerHTML = (0, _escape.default)(valueString);
        }
        if (node.innerHTML) {
            node.classList.remove('w-dyn-bind-empty');
        }
    },
    src: (node, type, value)=>{
        if (value && value.url) {
            node.setAttribute('src', value.url);
        }
        node.classList.remove('w-dyn-bind-empty');
    }
};
const bindDataToNode = (node, data, bindings)=>{
    bindings.forEach((binding)=>{
        Object.keys(binding).forEach((bindingProperty)=>{
            // @ts-expect-error - TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<"innerHTML" | "src", Binding>>'.
            const bindingValue = binding[bindingProperty];
            const { dataPath, filter, timezone, type } = bindingValue;
            const rawValue = (0, _get.default)(data, dataPath);
            const transformedValue = (0, _Transformers.transformers)(rawValue, filter, {
                timezone,
                collectionSlugMap: {},
                // @ts-expect-error - TS2339 - Property '__WEBFLOW_CURRENCY_SETTINGS' does not exist on type 'Window & typeof globalThis'.
                currencySettings: window.__WEBFLOW_CURRENCY_SETTINGS
            });
            // @ts-expect-error - TS2345 - Argument of type 'string' is not assignable to parameter of type '"innerHTML" | "src"'.
            const propertyMutator = getPropertyMutator(bindingProperty);
            if (propertyMutator) {
                propertyMutator(node, type, transformedValue);
            }
        });
    });
};
function applyBindingsAndConditionalVisibility(node, data) {
    // Apply bindings
    if (node.hasAttribute(_constants1.WF_BINDING_DATA_KEY)) {
        const bindingsStr = node.getAttribute(_constants1.WF_BINDING_DATA_KEY) || '';
        const bindings = JSON.parse(decodeURIComponent(bindingsStr));
        if (bindings) {
            bindDataToNode(node, data, bindings);
        }
    }
    // Apply conditional visibility
    if (node.hasAttribute(_constants1.WF_CONDITION_DATA_KEY)) {
        const conditionsStr = node.getAttribute(_constants1.WF_CONDITION_DATA_KEY) || '';
        const conditionData = JSON.parse(decodeURIComponent(conditionsStr));
        if (conditionData) {
            (0, _RenderingUtils.applyConditionToNode)(node, data, conditionData);
        }
    }
}
function getFirstAncestor(element, pred) {
    if (element.parentNode === null) {
        return null;
    }
    // @ts-expect-error - TS2345 - Argument of type 'ElementWithInputProperties' is not assignable to parameter of type 'never'.
    if (pred(element)) {
        return element;
    }
    // @ts-expect-error - TS2345 - Argument of type 'ParentNode' is not assignable to parameter of type 'ElementWithInputProperties'.
    return getFirstAncestor(element.parentNode, pred);
}
function hasFormFileUploadWrapperClass(element) {
    return element.classList.contains('w-file-upload');
}
function setFileUploadValue(node, fileId) {
    if (!fileId) return;
    (0, _universalUtils.setUserFileKey)(node, fileId);
    const formFileUploadWrapper = getFirstAncestor(node, // @ts-expect-error - TS2345 - Argument of type '(element: any) => any' is not assignable to parameter of type '(element: never) => never'.
    hasFormFileUploadWrapperClass);
    if (formFileUploadWrapper === null) return;
    const formFileDefault = formFileUploadWrapper.querySelector('.w-file-upload-default');
    const formFileSuccess = formFileUploadWrapper.querySelector('.w-file-upload-success');
    const formFileError = formFileUploadWrapper.querySelector('.w-file-upload-error');
    const formFileUploading = formFileUploadWrapper.querySelector('.w-file-upload-uploading');
    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
    (0, _utils.addHiddenClass)(formFileDefault);
    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
    (0, _utils.addHiddenClass)(formFileError);
    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
    (0, _utils.addHiddenClass)(formFileUploading);
    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
    (0, _utils.removeHiddenClass)(formFileSuccess);
}
function applyUserAccountData(node, userData) {
    // Apply user name, checkbox, and custom fields
    if (node.hasAttribute(_constants2.USYS_DATA_ATTRS.field)) {
        const field = node.getAttribute(_constants2.USYS_DATA_ATTRS.field) || '';
        const fieldType = node.getAttribute(_constants2.USYS_DATA_ATTRS.fieldType) || '';
        if (fieldType === 'Option') {
            node.value = (0, _get.default)(userData, [
                `f_${field}`,
                'slug'
            ], '');
            return;
        }
        if (fieldType === 'FileRef') {
            setFileUploadValue(node, (0, _get.default)(userData, [
                `f_${field}`,
                'id'
            ], ''));
            return;
        }
        const dataPath = field && field.includes(_constants2.RESERVED_USER_PREFIX) ? _constants2.KEY_FROM_RESERVED_USER_FIELD[field] : `f_${field}`;
        // @ts-expect-error - TS2769 - No overload matches this call.
        const value = (0, _get.default)(userData, [
            dataPath
        ], '');
        if (node.type === 'checkbox' && node.checked !== Boolean(value) && node.click) {
            // Set the checkbox to the right `checked` value, but also trigger the onChange event
            node.click();
            return;
        }
        node.value = value;
    }
    // Apply user email, if not empty
    if (node.hasAttribute(_constants2.USYS_DATA_ATTRS.inputType)) {
        const dataPath = node.getAttribute(_constants2.USYS_DATA_ATTRS.inputType) || '';
        const value = (0, _get.default)(userData, [
            dataPath
        ], '');
        if (value) {
            node.value = value;
        }
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbmRlcmluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzXG4gd2luZG93XG4gKi9cblxuaW1wb3J0IGVzY2FwZSBmcm9tICdsb2Rhc2gvZXNjYXBlJztcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQge3RyYW5zZm9ybWVyc30gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL3V0aWxzL1RyYW5zZm9ybWVycyc7XG5pbXBvcnQgdHlwZSB7QmluZGluZ1RyYW5zZm9ybWVyfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vYmluZGluZy10eXBlcyc7XG5pbXBvcnQge2FwcGx5Q29uZGl0aW9uVG9Ob2RlfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9keW5hbW8vdXRpbHMvUmVuZGVyaW5nVXRpbHMnO1xuaW1wb3J0IHtTSEFSRURfQUxMT1dFRF9GSUVMRF9UWVBFU30gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvZHluYW1vL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBXRl9CSU5ESU5HX0RBVEFfS0VZLFxuICBXRl9DT05ESVRJT05fREFUQV9LRVksXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2NvbW1lcmNlL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBVU1lTX0RBVEFfQVRUUlMsXG4gIFJFU0VSVkVEX1VTRVJfUFJFRklYLFxuICBLRVlfRlJPTV9SRVNFUlZFRF9VU0VSX0ZJRUxELFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy91c2Vycy9jb25zdGFudHMnO1xuaW1wb3J0IHtzZXRVc2VyRmlsZUtleX0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvdXRpbHMvdW5pdmVyc2FsVXRpbHMnO1xuaW1wb3J0IHthZGRIaWRkZW5DbGFzcywgcmVtb3ZlSGlkZGVuQ2xhc3N9IGZyb20gJy4vdXRpbHMnO1xuXG50eXBlIEZpZWxkVHlwZSA9IHN0cmluZztcblxudHlwZSBCaW5kaW5ncyA9IFtQYXJ0aWFsPFJlY29yZDxCaW5kaW5nUHJvcGVydHksIEJpbmRpbmc+Pl07XG50eXBlIEJpbmRpbmdQcm9wZXJ0eSA9IGtleW9mIHR5cGVvZiBtdXRhdG9ycztcbnR5cGUgQmluZGluZyA9IHtcbiAgZmlsdGVyOiBCaW5kaW5nVHJhbnNmb3JtZXI7XG4gIHR5cGU6IEZpZWxkVHlwZTtcbiAgZGF0YVBhdGg6IHN0cmluZztcbiAgdGltZXpvbmU/OiBzdHJpbmc7XG4gIHBhZ2VMaW5rSHJlZlByZWZpeD86IHN0cmluZztcbiAgY29sbGVjdGlvblNsdWdNYXA/OiB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xuICB9O1xufTtcblxuY29uc3QgZ2V0UHJvcGVydHlNdXRhdG9yID0gKGJpbmRpbmdQcm9wZXJ0eTogQmluZGluZ1Byb3BlcnR5KSA9PiB7XG4gIGlmICh0eXBlb2YgbXV0YXRvcnNbYmluZGluZ1Byb3BlcnR5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtdXRhdG9yc1tiaW5kaW5nUHJvcGVydHldO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgbXV0YXRvcnMgPSB7XG4gIGlubmVySFRNTDogKG5vZGU6IEVsZW1lbnQsIHR5cGU6IHN0cmluZywgdmFsdWU6IHVua25vd24pID0+IHtcbiAgICBjb25zdCB2YWx1ZVN0cmluZyA9IHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogJyc7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ3sgUGxhaW5UZXh0OiBzdHJpbmc7IEhpZ2hsaWdodGVkVGV4dDogc3RyaW5nOyBSaWNoVGV4dDogc3RyaW5nOyBOdW1iZXI6IHN0cmluZzsgVmlkZW86IHN0cmluZzsgT3B0aW9uOiBzdHJpbmc7IERhdGU6IHN0cmluZzsgUGhvbmU6IHN0cmluZzsgRW1haWw6IHN0cmluZzsgQ29tbWVyY2VQcmljZTogc3RyaW5nOyBMaW5rOiBzdHJpbmc7IEltYWdlUmVmOiBib29sZWFuOyBGaWxlUmVmOiBib29sZWFuOyBJdGVtUmVmOiBib29sZWFuOyBDb21tZXJjZVByb3BWYWx1ZXM6IHN0cmluZzsgfScuXG4gICAgaWYgKFNIQVJFRF9BTExPV0VEX0ZJRUxEX1RZUEVTLmlubmVySFRNTFt0eXBlXSA9PT0gJ2lubmVySFRNTCcpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gdmFsdWVTdHJpbmc7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDUzIC0gRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZSAneyBQbGFpblRleHQ6IHN0cmluZzsgSGlnaGxpZ2h0ZWRUZXh0OiBzdHJpbmc7IFJpY2hUZXh0OiBzdHJpbmc7IE51bWJlcjogc3RyaW5nOyBWaWRlbzogc3RyaW5nOyBPcHRpb246IHN0cmluZzsgRGF0ZTogc3RyaW5nOyBQaG9uZTogc3RyaW5nOyBFbWFpbDogc3RyaW5nOyBDb21tZXJjZVByaWNlOiBzdHJpbmc7IExpbms6IHN0cmluZzsgSW1hZ2VSZWY6IGJvb2xlYW47IEZpbGVSZWY6IGJvb2xlYW47IEl0ZW1SZWY6IGJvb2xlYW47IENvbW1lcmNlUHJvcFZhbHVlczogc3RyaW5nOyB9Jy5cbiAgICB9IGVsc2UgaWYgKFNIQVJFRF9BTExPV0VEX0ZJRUxEX1RZUEVTLmlubmVySFRNTFt0eXBlXSA9PT0gJ2lubmVyVGV4dCcpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gZXNjYXBlKHZhbHVlU3RyaW5nKTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5pbm5lckhUTUwpIHtcbiAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgndy1keW4tYmluZC1lbXB0eScpO1xuICAgIH1cbiAgfSxcbiAgc3JjOiAobm9kZTogRWxlbWVudCwgdHlwZTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIHZhbHVlLnVybCkge1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHZhbHVlLnVybCk7XG4gICAgfVxuICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgndy1keW4tYmluZC1lbXB0eScpO1xuICB9LFxufSBhcyBjb25zdDtcblxuY29uc3QgYmluZERhdGFUb05vZGUgPSAoXG4gIG5vZGU6IEVsZW1lbnQsXG4gIGRhdGE6IFJlY29yZDxhbnksIGFueT4sXG4gIGJpbmRpbmdzOiBCaW5kaW5nc1xuKSA9PiB7XG4gIGJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcpID0+IHtcbiAgICBPYmplY3Qua2V5cyhiaW5kaW5nKS5mb3JFYWNoKChiaW5kaW5nUHJvcGVydHkpID0+IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwNTMgLSBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGUgYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlICdQYXJ0aWFsPFJlY29yZDxcImlubmVySFRNTFwiIHwgXCJzcmNcIiwgQmluZGluZz4+Jy5cbiAgICAgIGNvbnN0IGJpbmRpbmdWYWx1ZSA9IGJpbmRpbmdbYmluZGluZ1Byb3BlcnR5XTtcblxuICAgICAgY29uc3Qge2RhdGFQYXRoLCBmaWx0ZXIsIHRpbWV6b25lLCB0eXBlfSA9IGJpbmRpbmdWYWx1ZTtcbiAgICAgIGNvbnN0IHJhd1ZhbHVlID0gZ2V0KGRhdGEsIGRhdGFQYXRoKTtcblxuICAgICAgY29uc3QgdHJhbnNmb3JtZWRWYWx1ZSA9IHRyYW5zZm9ybWVycyhyYXdWYWx1ZSwgZmlsdGVyLCB7XG4gICAgICAgIHRpbWV6b25lLFxuICAgICAgICBjb2xsZWN0aW9uU2x1Z01hcDoge30sXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnX19XRUJGTE9XX0NVUlJFTkNZX1NFVFRJTkdTJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcycuXG4gICAgICAgIGN1cnJlbmN5U2V0dGluZ3M6IHdpbmRvdy5fX1dFQkZMT1dfQ1VSUkVOQ1lfU0VUVElOR1MsXG4gICAgICB9KTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZycgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ1wiaW5uZXJIVE1MXCIgfCBcInNyY1wiJy5cbiAgICAgIGNvbnN0IHByb3BlcnR5TXV0YXRvciA9IGdldFByb3BlcnR5TXV0YXRvcihiaW5kaW5nUHJvcGVydHkpO1xuXG4gICAgICBpZiAocHJvcGVydHlNdXRhdG9yKSB7XG4gICAgICAgIHByb3BlcnR5TXV0YXRvcihub2RlLCB0eXBlLCB0cmFuc2Zvcm1lZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlCaW5kaW5nc0FuZENvbmRpdGlvbmFsVmlzaWJpbGl0eShcbiAgbm9kZTogRWxlbWVudCxcbiAgZGF0YTogYW55XG4pIHtcbiAgLy8gQXBwbHkgYmluZGluZ3NcbiAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKFdGX0JJTkRJTkdfREFUQV9LRVkpKSB7XG4gICAgY29uc3QgYmluZGluZ3NTdHIgPSBub2RlLmdldEF0dHJpYnV0ZShXRl9CSU5ESU5HX0RBVEFfS0VZKSB8fCAnJztcbiAgICBjb25zdCBiaW5kaW5ncyA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGJpbmRpbmdzU3RyKSk7XG4gICAgaWYgKGJpbmRpbmdzKSB7XG4gICAgICBiaW5kRGF0YVRvTm9kZShub2RlLCBkYXRhLCBiaW5kaW5ncyk7XG4gICAgfVxuICB9XG4gIC8vIEFwcGx5IGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcbiAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKFdGX0NPTkRJVElPTl9EQVRBX0tFWSkpIHtcbiAgICBjb25zdCBjb25kaXRpb25zU3RyID0gbm9kZS5nZXRBdHRyaWJ1dGUoV0ZfQ09ORElUSU9OX0RBVEFfS0VZKSB8fCAnJztcbiAgICBjb25zdCBjb25kaXRpb25EYXRhID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoY29uZGl0aW9uc1N0cikpO1xuICAgIGlmIChjb25kaXRpb25EYXRhKSB7XG4gICAgICBhcHBseUNvbmRpdGlvblRvTm9kZShub2RlLCBkYXRhLCBjb25kaXRpb25EYXRhKTtcbiAgICB9XG4gIH1cbn1cblxudHlwZSBFbGVtZW50V2l0aElucHV0UHJvcGVydGllcyA9IEVsZW1lbnQgJiB7XG4gIHZhbHVlPzogc3RyaW5nO1xuICB0eXBlPzogc3RyaW5nO1xuICBjaGVja2VkPzogYm9vbGVhbjtcbiAgY2xpY2s/OiAoKSA9PiB2b2lkO1xufTtcblxuZnVuY3Rpb24gZ2V0Rmlyc3RBbmNlc3RvcihcbiAgZWxlbWVudDogRWxlbWVudFdpdGhJbnB1dFByb3BlcnRpZXMsXG5cbiAgcHJlZDogKGVsZW1lbnQ6IG5ldmVyKSA9PiBuZXZlclxuKSB7XG4gIGlmIChlbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudFdpdGhJbnB1dFByb3BlcnRpZXMnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICduZXZlcicuXG4gIGlmIChwcmVkKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ1BhcmVudE5vZGUnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdFbGVtZW50V2l0aElucHV0UHJvcGVydGllcycuXG4gIHJldHVybiBnZXRGaXJzdEFuY2VzdG9yKGVsZW1lbnQucGFyZW50Tm9kZSwgcHJlZCk7XG59XG5cbmZ1bmN0aW9uIGhhc0Zvcm1GaWxlVXBsb2FkV3JhcHBlckNsYXNzKGVsZW1lbnQ6IGFueSkge1xuICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3ctZmlsZS11cGxvYWQnKTtcbn1cblxuZnVuY3Rpb24gc2V0RmlsZVVwbG9hZFZhbHVlKG5vZGU6IEVsZW1lbnRXaXRoSW5wdXRQcm9wZXJ0aWVzLCBmaWxlSWQ6IHN0cmluZykge1xuICBpZiAoIWZpbGVJZCkgcmV0dXJuO1xuICBzZXRVc2VyRmlsZUtleShub2RlLCBmaWxlSWQpO1xuXG4gIGNvbnN0IGZvcm1GaWxlVXBsb2FkV3JhcHBlciA9IGdldEZpcnN0QW5jZXN0b3IoXG4gICAgbm9kZSxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnKGVsZW1lbnQ6IGFueSkgPT4gYW55JyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnKGVsZW1lbnQ6IG5ldmVyKSA9PiBuZXZlcicuXG4gICAgaGFzRm9ybUZpbGVVcGxvYWRXcmFwcGVyQ2xhc3NcbiAgKTtcbiAgaWYgKGZvcm1GaWxlVXBsb2FkV3JhcHBlciA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gIGNvbnN0IGZvcm1GaWxlRGVmYXVsdCA9IGZvcm1GaWxlVXBsb2FkV3JhcHBlci5xdWVyeVNlbGVjdG9yKFxuICAgICcudy1maWxlLXVwbG9hZC1kZWZhdWx0J1xuICApO1xuICBjb25zdCBmb3JtRmlsZVN1Y2Nlc3MgPSBmb3JtRmlsZVVwbG9hZFdyYXBwZXIucXVlcnlTZWxlY3RvcihcbiAgICAnLnctZmlsZS11cGxvYWQtc3VjY2VzcydcbiAgKTtcbiAgY29uc3QgZm9ybUZpbGVFcnJvciA9IGZvcm1GaWxlVXBsb2FkV3JhcHBlci5xdWVyeVNlbGVjdG9yKFxuICAgICcudy1maWxlLXVwbG9hZC1lcnJvcidcbiAgKTtcbiAgY29uc3QgZm9ybUZpbGVVcGxvYWRpbmcgPSBmb3JtRmlsZVVwbG9hZFdyYXBwZXIucXVlcnlTZWxlY3RvcihcbiAgICAnLnctZmlsZS11cGxvYWQtdXBsb2FkaW5nJ1xuICApO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCB8IG51bGwnLlxuICBhZGRIaWRkZW5DbGFzcyhmb3JtRmlsZURlZmF1bHQpO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCB8IG51bGwnLlxuICBhZGRIaWRkZW5DbGFzcyhmb3JtRmlsZUVycm9yKTtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsJy5cbiAgYWRkSGlkZGVuQ2xhc3MoZm9ybUZpbGVVcGxvYWRpbmcpO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCB8IG51bGwnLlxuICByZW1vdmVIaWRkZW5DbGFzcyhmb3JtRmlsZVN1Y2Nlc3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlVc2VyQWNjb3VudERhdGEoXG4gIG5vZGU6IEVsZW1lbnRXaXRoSW5wdXRQcm9wZXJ0aWVzLFxuICB1c2VyRGF0YTogYW55XG4pIHtcbiAgLy8gQXBwbHkgdXNlciBuYW1lLCBjaGVja2JveCwgYW5kIGN1c3RvbSBmaWVsZHNcbiAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKFVTWVNfREFUQV9BVFRSUy5maWVsZCkpIHtcbiAgICBjb25zdCBmaWVsZCA9IG5vZGUuZ2V0QXR0cmlidXRlKFVTWVNfREFUQV9BVFRSUy5maWVsZCkgfHwgJyc7XG4gICAgY29uc3QgZmllbGRUeXBlID0gbm9kZS5nZXRBdHRyaWJ1dGUoVVNZU19EQVRBX0FUVFJTLmZpZWxkVHlwZSkgfHwgJyc7XG4gICAgaWYgKGZpZWxkVHlwZSA9PT0gJ09wdGlvbicpIHtcbiAgICAgIG5vZGUudmFsdWUgPSBnZXQodXNlckRhdGEsIFtgZl8ke2ZpZWxkfWAsICdzbHVnJ10sICcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZpZWxkVHlwZSA9PT0gJ0ZpbGVSZWYnKSB7XG4gICAgICBzZXRGaWxlVXBsb2FkVmFsdWUobm9kZSwgZ2V0KHVzZXJEYXRhLCBbYGZfJHtmaWVsZH1gLCAnaWQnXSwgJycpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGF0YVBhdGggPVxuICAgICAgZmllbGQgJiYgZmllbGQuaW5jbHVkZXMoUkVTRVJWRURfVVNFUl9QUkVGSVgpXG4gICAgICAgID8gS0VZX0ZST01fUkVTRVJWRURfVVNFUl9GSUVMRFtmaWVsZF1cbiAgICAgICAgOiBgZl8ke2ZpZWxkfWA7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjc2OSAtIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgIGNvbnN0IHZhbHVlID0gZ2V0KHVzZXJEYXRhLCBbZGF0YVBhdGhdLCAnJyk7XG5cbiAgICBpZiAoXG4gICAgICBub2RlLnR5cGUgPT09ICdjaGVja2JveCcgJiZcbiAgICAgIG5vZGUuY2hlY2tlZCAhPT0gQm9vbGVhbih2YWx1ZSkgJiZcbiAgICAgIG5vZGUuY2xpY2tcbiAgICApIHtcbiAgICAgIC8vIFNldCB0aGUgY2hlY2tib3ggdG8gdGhlIHJpZ2h0IGBjaGVja2VkYCB2YWx1ZSwgYnV0IGFsc28gdHJpZ2dlciB0aGUgb25DaGFuZ2UgZXZlbnRcbiAgICAgIG5vZGUuY2xpY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBub2RlLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLy8gQXBwbHkgdXNlciBlbWFpbCwgaWYgbm90IGVtcHR5XG4gIGlmIChub2RlLmhhc0F0dHJpYnV0ZShVU1lTX0RBVEFfQVRUUlMuaW5wdXRUeXBlKSkge1xuICAgIGNvbnN0IGRhdGFQYXRoID0gbm9kZS5nZXRBdHRyaWJ1dGUoVVNZU19EQVRBX0FUVFJTLmlucHV0VHlwZSkgfHwgJyc7XG4gICAgY29uc3QgdmFsdWUgPSBnZXQodXNlckRhdGEsIFtkYXRhUGF0aF0sICcnKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJhcHBseUJpbmRpbmdzQW5kQ29uZGl0aW9uYWxWaXNpYmlsaXR5IiwiYXBwbHlVc2VyQWNjb3VudERhdGEiLCJnZXRQcm9wZXJ0eU11dGF0b3IiLCJiaW5kaW5nUHJvcGVydHkiLCJtdXRhdG9ycyIsImlubmVySFRNTCIsIm5vZGUiLCJ0eXBlIiwidmFsdWUiLCJ2YWx1ZVN0cmluZyIsIlN0cmluZyIsIlNIQVJFRF9BTExPV0VEX0ZJRUxEX1RZUEVTIiwiZXNjYXBlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic3JjIiwidXJsIiwic2V0QXR0cmlidXRlIiwiYmluZERhdGFUb05vZGUiLCJkYXRhIiwiYmluZGluZ3MiLCJmb3JFYWNoIiwiYmluZGluZyIsIk9iamVjdCIsImtleXMiLCJiaW5kaW5nVmFsdWUiLCJkYXRhUGF0aCIsImZpbHRlciIsInRpbWV6b25lIiwicmF3VmFsdWUiLCJnZXQiLCJ0cmFuc2Zvcm1lZFZhbHVlIiwidHJhbnNmb3JtZXJzIiwiY29sbGVjdGlvblNsdWdNYXAiLCJjdXJyZW5jeVNldHRpbmdzIiwid2luZG93IiwiX19XRUJGTE9XX0NVUlJFTkNZX1NFVFRJTkdTIiwicHJvcGVydHlNdXRhdG9yIiwiaGFzQXR0cmlidXRlIiwiV0ZfQklORElOR19EQVRBX0tFWSIsImJpbmRpbmdzU3RyIiwiZ2V0QXR0cmlidXRlIiwiSlNPTiIsInBhcnNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiV0ZfQ09ORElUSU9OX0RBVEFfS0VZIiwiY29uZGl0aW9uc1N0ciIsImNvbmRpdGlvbkRhdGEiLCJhcHBseUNvbmRpdGlvblRvTm9kZSIsImdldEZpcnN0QW5jZXN0b3IiLCJlbGVtZW50IiwicHJlZCIsInBhcmVudE5vZGUiLCJoYXNGb3JtRmlsZVVwbG9hZFdyYXBwZXJDbGFzcyIsImNvbnRhaW5zIiwic2V0RmlsZVVwbG9hZFZhbHVlIiwiZmlsZUlkIiwic2V0VXNlckZpbGVLZXkiLCJmb3JtRmlsZVVwbG9hZFdyYXBwZXIiLCJmb3JtRmlsZURlZmF1bHQiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybUZpbGVTdWNjZXNzIiwiZm9ybUZpbGVFcnJvciIsImZvcm1GaWxlVXBsb2FkaW5nIiwiYWRkSGlkZGVuQ2xhc3MiLCJyZW1vdmVIaWRkZW5DbGFzcyIsInVzZXJEYXRhIiwiVVNZU19EQVRBX0FUVFJTIiwiZmllbGQiLCJmaWVsZFR5cGUiLCJpbmNsdWRlcyIsIlJFU0VSVkVEX1VTRVJfUFJFRklYIiwiS0VZX0ZST01fUkVTRVJWRURfVVNFUl9GSUVMRCIsImNoZWNrZWQiLCJCb29sZWFuIiwiY2xpY2siLCJpbnB1dFR5cGUiXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDOzs7Ozs7Ozs7OztJQStGZUEscUNBQXFDO2VBQXJDQTs7SUFrRkFDLG9CQUFvQjtlQUFwQkE7OzsrREEvS0c7NERBQ0g7OEJBQ1c7Z0NBRVE7MkJBQ007NEJBSWxDOzRCQUtBO2dDQUNzQjt1QkFDbUI7Ozs7OztBQWlCaEQsTUFBTUMscUJBQXFCLENBQUNDO0lBQzFCLElBQUksT0FBT0MsUUFBUSxDQUFDRCxnQkFBZ0IsS0FBSyxZQUFZ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

}),
63245: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  document,
  HTMLFormElement,
  HTMLInputElement
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    asyncRequestResetPassword: function() {
        return asyncRequestResetPassword;
    },
    handleResetPasswordForms: function() {
        return handleResetPasswordForms;
    }
});
const _utils = __webpack_require__(56897);
const _constants = __webpack_require__(7462);
const _mutations = __webpack_require__(13197);
const resetPasswordFormQuerySelector = `form[${_constants.USYS_DATA_ATTRS.formType}="${_constants.USYS_FORM_TYPES.resetPassword}"]`;
// error handling
const errorState = document.querySelector(`[${_constants.USYS_DATA_ATTRS.formError}]`);
const defaultErrorCopy = // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
_constants.resetPasswordErrorStates[_constants.RESET_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR].copy;
const errorMsgNode = document.querySelector(`.${_constants.ERROR_MSG_CLASS}`);
const getResetPasswordErrorCode = (error)=>{
    // right now we only have one error, this is for when add more
    let errorCode;
    switch(error){
        default:
            errorCode = _constants.RESET_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR;
    }
    return errorCode;
};
function getResetPasswordForms() {
    const resetPasswordForms = document.querySelectorAll(resetPasswordFormQuerySelector);
    return Array.prototype.slice.call(resetPasswordForms).filter((resetPasswordForm)=>resetPasswordForm instanceof HTMLFormElement);
}
function handleResetPasswordForms() {
    getResetPasswordForms().forEach((resetPasswordForm)=>{
        resetPasswordForm.addEventListener('submit', (event)=>{
            event.preventDefault();
            const form = event.currentTarget;
            const successMessage = document.querySelector(`.${_constants.USYS_DOM_CLASS_NAMES.formSuccess}`);
            if (!(form instanceof HTMLFormElement)) {
                return;
            }
            // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
            (0, _utils.hideElement)(errorState);
            const emailInput = form.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.email}"]`);
            if (!(emailInput instanceof HTMLInputElement)) {
                return;
            }
            asyncRequestResetPassword(emailInput.value).then(()=>{
                (0, _utils.hideElement)(form);
                // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                (0, _utils.showAndFocusElement)(successMessage);
            }).catch((error)=>{
                if (errorState) {
                    // if there isn't an error code, send an empty string so a generic error message appears
                    const elementErrorCode = error?.graphQLErrors?.[0]?.code ?? '';
                    const errorCode = getResetPasswordErrorCode(elementErrorCode);
                    (0, _utils.handleErrorNode)(errorMsgNode, // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                    errorState, errorCode, _constants.ERROR_ATTRIBUTE_PREFIX.RESET_PASSWORD, defaultErrorCopy);
                }
            });
        });
    });
}
function asyncRequestResetPassword(email) {
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.resetPasswordMutation,
        variables: {
            email
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2V0UGFzc3dvcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgZ2xvYmFsc1xuICBkb2N1bWVudCxcbiAgSFRNTEZvcm1FbGVtZW50LFxuICBIVE1MSW5wdXRFbGVtZW50XG4qL1xuXG5pbXBvcnQge1xuICB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQsXG4gIHNob3dBbmRGb2N1c0VsZW1lbnQsXG4gIGhpZGVFbGVtZW50LFxuICBoYW5kbGVFcnJvck5vZGUsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgVVNZU19EQVRBX0FUVFJTLFxuICBVU1lTX0RPTV9DTEFTU19OQU1FUyxcbiAgVVNZU19GT1JNX1RZUEVTLFxuICBVU1lTX0lOUFVUX1RZUEVTLFxuICBSRVNFVF9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUyxcbiAgcmVzZXRQYXNzd29yZEVycm9yU3RhdGVzLFxuICBFUlJPUl9NU0dfQ0xBU1MsXG4gIEVSUk9SX0FUVFJJQlVURV9QUkVGSVgsXG59IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL3VzZXJzL2NvbnN0YW50cyc7XG5pbXBvcnQge3Jlc2V0UGFzc3dvcmRNdXRhdGlvbn0gZnJvbSAnLi9tdXRhdGlvbnMnO1xuXG5jb25zdCByZXNldFBhc3N3b3JkRm9ybVF1ZXJ5U2VsZWN0b3IgPSBgZm9ybVske1VTWVNfREFUQV9BVFRSUy5mb3JtVHlwZX09XCIke1VTWVNfRk9STV9UWVBFUy5yZXNldFBhc3N3b3JkfVwiXWA7XG5cbi8vIGVycm9yIGhhbmRsaW5nXG5jb25zdCBlcnJvclN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7VVNZU19EQVRBX0FUVFJTLmZvcm1FcnJvcn1dYCk7XG5jb25zdCBkZWZhdWx0RXJyb3JDb3B5ID1cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjUzMiAtIE9iamVjdCBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgcmVzZXRQYXNzd29yZEVycm9yU3RhdGVzW1JFU0VUX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1JdLmNvcHk7XG5jb25zdCBlcnJvck1zZ05vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtFUlJPUl9NU0dfQ0xBU1N9YCk7XG5cbmNvbnN0IGdldFJlc2V0UGFzc3dvcmRFcnJvckNvZGUgPSAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAvLyByaWdodCBub3cgd2Ugb25seSBoYXZlIG9uZSBlcnJvciwgdGhpcyBpcyBmb3Igd2hlbiBhZGQgbW9yZVxuICBsZXQgZXJyb3JDb2RlO1xuICBzd2l0Y2ggKGVycm9yKSB7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9yQ29kZSA9IFJFU0VUX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTLkdFTkVSQUxfRVJST1I7XG4gIH1cbiAgcmV0dXJuIGVycm9yQ29kZTtcbn07XG5cbmZ1bmN0aW9uIGdldFJlc2V0UGFzc3dvcmRGb3JtcygpIHtcbiAgY29uc3QgcmVzZXRQYXNzd29yZEZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICByZXNldFBhc3N3b3JkRm9ybVF1ZXJ5U2VsZWN0b3JcbiAgKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZVxuICAgIC5jYWxsKHJlc2V0UGFzc3dvcmRGb3JtcylcbiAgICAuZmlsdGVyKFxuICAgICAgKHJlc2V0UGFzc3dvcmRGb3JtKSA9PiByZXNldFBhc3N3b3JkRm9ybSBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudFxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZXNldFBhc3N3b3JkRm9ybXMoKSB7XG4gIGdldFJlc2V0UGFzc3dvcmRGb3JtcygpLmZvckVhY2goKHJlc2V0UGFzc3dvcmRGb3JtKSA9PiB7XG4gICAgcmVzZXRQYXNzd29yZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgZm9ybSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICBjb25zdCBzdWNjZXNzTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGAuJHtVU1lTX0RPTV9DTEFTU19OQU1FUy5mb3JtU3VjY2Vzc31gXG4gICAgICApO1xuXG4gICAgICBpZiAoIShmb3JtIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICBoaWRlRWxlbWVudChlcnJvclN0YXRlKTtcblxuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYGlucHV0WyR7VVNZU19EQVRBX0FUVFJTLmlucHV0VHlwZX09XCIke1VTWVNfSU5QVVRfVFlQRVMuZW1haWx9XCJdYFxuICAgICAgKTtcblxuICAgICAgaWYgKCEoZW1haWxJbnB1dCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXN5bmNSZXF1ZXN0UmVzZXRQYXNzd29yZChlbWFpbElucHV0LnZhbHVlKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaGlkZUVsZW1lbnQoZm9ybSk7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgICAgICBzaG93QW5kRm9jdXNFbGVtZW50KHN1Y2Nlc3NNZXNzYWdlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpc24ndCBhbiBlcnJvciBjb2RlLCBzZW5kIGFuIGVtcHR5IHN0cmluZyBzbyBhIGdlbmVyaWMgZXJyb3IgbWVzc2FnZSBhcHBlYXJzXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50RXJyb3JDb2RlID0gZXJyb3I/LmdyYXBoUUxFcnJvcnM/LlswXT8uY29kZSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ29kZSA9IGdldFJlc2V0UGFzc3dvcmRFcnJvckNvZGUoZWxlbWVudEVycm9yQ29kZSk7XG4gICAgICAgICAgICBoYW5kbGVFcnJvck5vZGUoXG4gICAgICAgICAgICAgIGVycm9yTXNnTm9kZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCcuXG4gICAgICAgICAgICAgIGVycm9yU3RhdGUsXG4gICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgICAgRVJST1JfQVRUUklCVVRFX1BSRUZJWC5SRVNFVF9QQVNTV09SRCxcbiAgICAgICAgICAgICAgZGVmYXVsdEVycm9yQ29weVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jUmVxdWVzdFJlc2V0UGFzc3dvcmQoZW1haWw6IHN0cmluZykge1xuICByZXR1cm4gdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IHJlc2V0UGFzc3dvcmRNdXRhdGlvbixcbiAgICB2YXJpYWJsZXM6IHtcbiAgICAgIGVtYWlsLFxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbImFzeW5jUmVxdWVzdFJlc2V0UGFzc3dvcmQiLCJoYW5kbGVSZXNldFBhc3N3b3JkRm9ybXMiLCJyZXNldFBhc3N3b3JkRm9ybVF1ZXJ5U2VsZWN0b3IiLCJVU1lTX0RBVEFfQVRUUlMiLCJmb3JtVHlwZSIsIlVTWVNfRk9STV9UWVBFUyIsInJlc2V0UGFzc3dvcmQiLCJlcnJvclN0YXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybUVycm9yIiwiZGVmYXVsdEVycm9yQ29weSIsInJlc2V0UGFzc3dvcmRFcnJvclN0YXRlcyIsIlJFU0VUX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTIiwiR0VORVJBTF9FUlJPUiIsImNvcHkiLCJlcnJvck1zZ05vZGUiLCJFUlJPUl9NU0dfQ0xBU1MiLCJnZXRSZXNldFBhc3N3b3JkRXJyb3JDb2RlIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJnZXRSZXNldFBhc3N3b3JkRm9ybXMiLCJyZXNldFBhc3N3b3JkRm9ybXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJmaWx0ZXIiLCJyZXNldFBhc3N3b3JkRm9ybSIsIkhUTUxGb3JtRWxlbWVudCIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJjdXJyZW50VGFyZ2V0Iiwic3VjY2Vzc01lc3NhZ2UiLCJVU1lTX0RPTV9DTEFTU19OQU1FUyIsImZvcm1TdWNjZXNzIiwiaGlkZUVsZW1lbnQiLCJlbWFpbElucHV0IiwiaW5wdXRUeXBlIiwiVVNZU19JTlBVVF9UWVBFUyIsImVtYWlsIiwiSFRNTElucHV0RWxlbWVudCIsInZhbHVlIiwidGhlbiIsInNob3dBbmRGb2N1c0VsZW1lbnQiLCJjYXRjaCIsImVsZW1lbnRFcnJvckNvZGUiLCJncmFwaFFMRXJyb3JzIiwiY29kZSIsImhhbmRsZUVycm9yTm9kZSIsIkVSUk9SX0FUVFJJQlVURV9QUkVGSVgiLCJSRVNFVF9QQVNTV09SRCIsInVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudCIsIm11dGF0ZSIsIm11dGF0aW9uIiwicmVzZXRQYXNzd29yZE11dGF0aW9uIiwidmFyaWFibGVzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUFLQTs7Ozs7Ozs7Ozs7SUFvR2dCQSx5QkFBeUI7ZUFBekJBOztJQWxEQUMsd0JBQXdCO2VBQXhCQTs7O3VCQTNDVDsyQkFVQTsyQkFDNkI7QUFFcEMsTUFBTUMsaUNBQWlDLENBQUMsS0FBSyxFQUFFQywwQkFBZSxDQUFDQyxRQUFRLENBQUMsRUFBRSxFQUFFQywwQkFBZSxDQUFDQyxhQUFhLENBQUMsRUFBRSxDQUFDO0FBRTdHLGlCQUFpQjtBQUNqQixNQUFNQyxhQUFhQyxTQUFTQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUVOLDBCQUFlLENBQUNPLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDMUUsTUFBTUMsbUJBQ0osOERBQThEO0FBQzlEQyxtQ0FBd0IsQ0FBQ0Msd0NBQTZCLENBQUNDLGFBQWEsQ0FBQyxDQUFDQyxJQUFJO0FBQzVFLE1BQU1DLGVBQWVSLFNBQVNDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRVEsMEJBQWUsQ0FBQyxDQUFDO0FBRWpFLE1BQU1DLDRCQUE0QixDQUFDQztJQUNqQyw4REFBOEQ7SUFDOUQsSUFBSUM7SUFDSixPQUFRRDtRQUNOO1lBQ0VDLFlBQVlQLHdDQUE2QixDQUFDQyxhQUFhO0lBQzNEO0lBQ0EsT0FBT007QUFDVDtBQUVBLFNBQVNDO0lBQ1AsTUFBTUMscUJBQXFCZCxTQUFTZSxnQkFBZ0IsQ0FDbERyQjtJQUVGLE9BQU9zQixNQUFNQyxTQUFTLENBQUNDLEtBQUssQ0FDekJDLElBQUksQ0FBQ0wsb0JBQ0xNLE1BQU0sQ0FDTCxDQUFDQyxvQkFBc0JBLDZCQUE2QkM7QUFFMUQ7QUFFTyxTQUFTN0I7SUFDZG9CLHdCQUF3QlUsT0FBTyxDQUFDLENBQUNGO1FBQy9CQSxrQkFBa0JHLGdCQUFnQixDQUFDLFVBQVUsQ0FBQ0M7WUFDNUNBLE1BQU1DLGNBQWM7WUFFcEIsTUFBTUMsT0FBT0YsTUFBTUcsYUFBYTtZQUNoQyxNQUFNQyxpQkFBaUI3QixTQUFTQyxhQUFhLENBQzNDLENBQUMsQ0FBQyxFQUFFNkIsK0JBQW9CLENBQUNDLFdBQVcsQ0FBQyxDQUFDO1lBR3hDLElBQUksQ0FBRUosQ0FBQUEsZ0JBQWdCTCxlQUFjLEdBQUk7Z0JBQ3RDO1lBQ0Y7WUFFQSx5SUFBeUk7WUFDeklVLElBQUFBLGtCQUFXLEVBQUNqQztZQUVaLE1BQU1rQyxhQUFhTixLQUFLMUIsYUFBYSxDQUNuQyxDQUFDLE1BQU0sRUFBRU4sMEJBQWUsQ0FBQ3VDLFNBQVMsQ0FBQyxFQUFFLEVBQUVDLDJCQUFnQixDQUFDQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBR25FLElBQUksQ0FBRUgsQ0FBQUEsc0JBQXNCSSxnQkFBZSxHQUFJO2dCQUM3QztZQUNGO1lBRUE3QywwQkFBMEJ5QyxXQUFXSyxLQUFLLEVBQ3ZDQyxJQUFJLENBQUM7Z0JBQ0pQLElBQUFBLGtCQUFXLEVBQUNMO2dCQUNaLHlJQUF5STtnQkFDeklhLElBQUFBLDBCQUFtQixFQUFDWDtZQUN0QixHQUNDWSxLQUFLLENBQUMsQ0FBQzlCO2dCQUNOLElBQUlaLFlBQVk7b0JBQ2Qsd0ZBQXdGO29CQUN4RixNQUFNMkMsbUJBQW1CL0IsT0FBT2dDLGVBQWUsQ0FBQyxFQUFFLEVBQUVDLFFBQVE7b0JBQzVELE1BQU1oQyxZQUFZRiwwQkFBMEJnQztvQkFDNUNHLElBQUFBLHNCQUFlLEVBQ2JyQyxjQUNBLCtHQUErRztvQkFDL0dULFlBQ0FhLFdBQ0FrQyxpQ0FBc0IsQ0FBQ0MsY0FBYyxFQUNyQzVDO2dCQUVKO1lBQ0Y7UUFDSjtJQUNGO0FBQ0Y7QUFFTyxTQUFTWCwwQkFBMEI0QyxLQUFhO0lBQ3JELE9BQU9ZLCtCQUF3QixDQUFDQyxNQUFNLENBQUM7UUFDckNDLFVBQVVDLGdDQUFxQjtRQUMvQkMsV0FBVztZQUNUaEI7UUFDRjtJQUNGO0FBQ0YifQ==

}),
54284: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  document,
  HTMLFormElement,
  HTMLInputElement,
  window
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    asyncSignUpUser: function() {
        return asyncSignUpUser;
    },
    handleSignUpForms: function() {
        return handleSignUpForms;
    }
});
const _utils = __webpack_require__(56897);
const _constants = __webpack_require__(7462);
const _mutations = __webpack_require__(13197);
const _fields = __webpack_require__(18457);
const _turnstileCaptcha = __webpack_require__(88432);
const signupFormQuerySelector = `form[${_constants.USYS_DATA_ATTRS.formType}="${_constants.USYS_FORM_TYPES.signup}"]`;
const verificationMessage = document.querySelector(`.${_constants.USYS_DOM_CLASS_NAMES.formVerfication}`);
function getSignupForms() {
    const signupForms = document.querySelectorAll(signupFormQuerySelector);
    return Array.prototype.slice.call(signupForms).filter((signupForm)=>signupForm instanceof HTMLFormElement);
}
function handleUserInvite(email) {
    // email is for DISPLAY use ONLY for security reasons
    const form = document.querySelector(signupFormQuerySelector);
    if (!(form instanceof HTMLFormElement)) {
        return;
    }
    const emailInput = form.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.email}"]`);
    if (!(emailInput instanceof HTMLInputElement)) {
        return;
    }
    // disable email input
    emailInput.disabled = true;
    emailInput.classList.add('w-input-disabled');
    // and set the value to the user's email
    emailInput.value = email;
}
// users are sent to the sign up page to complete verification
function handleEmailVerification(token, errorState) {
    const form = document.querySelector(signupFormQuerySelector);
    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
    (0, _utils.hideElement)(form);
    asyncVerifyEmailToken(token).then(()=>{
        const successMessage = document.querySelector(`.${_constants.USYS_DOM_CLASS_NAMES.formSuccess}`);
        const redirectAnchor = document.querySelector(`[${_constants.USYS_DATA_ATTRS.redirectUrl}] a`);
        const redirectPath = (0, _utils.getRedirectPath)();
        // If redirect param exists, use that path for the redirect anchor href
        if (redirectPath && redirectAnchor) {
            redirectAnchor.setAttribute('href', encodeURIComponent(redirectPath));
        }
        // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
        (0, _utils.showElement)(successMessage);
        // If redirect anchor exists, use that as default redirect path
        (0, _utils.handleRedirect)(redirectAnchor?.getAttribute('href') ?? '/', true);
    }).catch((error)=>{
        // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
        (0, _utils.showElement)(verificationMessage);
        // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
        (0, _utils.userFormError)(form, errorState, 'SIGNUP')(error);
    });
}
function handleSignUpForms() {
    // we will check to see if there is a token in the link to initiate the verification flow
    // otherwise, the regular sign-up form will be shown
    const params = new URLSearchParams(window.location.search);
    const inviteToken = params.get('inviteToken') || '';
    const verifyToken = params.get('verifyToken') || '';
    const errorState = document.querySelector(`[${_constants.USYS_DATA_ATTRS.formError}]`);
    let turnstileScript = null;
    getSignupForms().forEach((signupForm)=>{
        const submitButton = signupForm.querySelector('input[type="submit"]');
        const sendSubmitData = (captchaToken)=>{
            const submitText = (0, _utils.disableSubmit)(submitButton);
            const commonFields = (0, _fields.getCommonFields)(signupForm);
            const customFields = (0, _fields.getCustomFields)(signupForm);
            // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
            (0, _utils.hideElement)(errorState);
            asyncSignUpUser((0, _fields.getFieldValueById)('email', commonFields) || '', (0, _fields.getFieldValueById)('name', commonFields) || '', (0, _fields.getFieldValueById)('password', commonFields) || '', (0, _fields.getFieldValueById)('accept-privacy', commonFields) || false, (0, _fields.getFieldValueById)('accept-communications', commonFields) || false, customFields, inviteToken, captchaToken).then(()=>{
                if (inviteToken) {
                    // @ts-expect-error - TS2322 - Type 'string' is not assignable to type 'Location | (string & Location)'.
                    window.location = '/log-in';
                } else {
                    (0, _utils.hideElement)(signupForm);
                    // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                    (0, _utils.showAndFocusElement)(verificationMessage);
                }
            })// @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
            .catch((0, _utils.userFormError)(signupForm, errorState, 'SIGNUP')).finally(()=>{
                // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
                (0, _utils.resetSubmit)(submitButton, submitText);
            });
        };
        const captchaSiteKey = signupForm.getAttribute('wf-captcha-site-key');
        const captchaMode = signupForm.getAttribute('wf-captcha-mode');
        if (captchaSiteKey && captchaMode && !turnstileScript) {
            // @ts-expect-error - TS18047 - 'submitButton' is possibly 'null'.
            submitButton.setAttribute('disabled', 'true');
            turnstileScript = document.createElement('script');
            turnstileScript.src = 'https://challenges.cloudflare.com/turnstile/v0/api.js';
            document.head.appendChild(turnstileScript);
            turnstileScript.onload = ()=>{
                signupForm.addEventListener('submit', (e)=>{
                    e.preventDefault();
                    (0, _turnstileCaptcha.renderTurnstileCaptcha)(captchaSiteKey, captchaMode, sendSubmitData);
                });
                // @ts-expect-error - TS18047 - 'submitButton' is possibly 'null'.
                submitButton.removeAttribute('disabled');
            };
        } else {
            signupForm.addEventListener('submit', (e)=>{
                e.preventDefault();
                sendSubmitData(null);
            });
        }
        if (inviteToken) {
            const email = params.get('email') || '';
            handleUserInvite(email);
        }
        if (verifyToken) {
            // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null'.
            handleEmailVerification(verifyToken, errorState);
        }
    });
}
function asyncSignUpUser(email, name = '', password, acceptPrivacy, acceptCommunications, customFields, inviteToken, captchaToken) {
    const variables = {
        email,
        name,
        acceptPrivacy,
        acceptCommunications,
        authPassword: password,
        data: (0, _fields.getFieldsAsTypeKeys)(customFields),
        inviteToken: inviteToken || undefined,
        captchaToken: captchaToken || undefined,
        redirectPath: (0, _utils.getRedirectPath)()
    };
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.signupMutation,
        variables
    });
}
function asyncVerifyEmailToken(verifyToken) {
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.verifyEmailMutation,
        variables: {
            verifyToken,
            redirectPath: (0, _utils.getRedirectPath)()
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBnbG9iYWxzXG4gIGRvY3VtZW50LFxuICBIVE1MRm9ybUVsZW1lbnQsXG4gIEhUTUxJbnB1dEVsZW1lbnQsXG4gIHdpbmRvd1xuKi9cblxuaW1wb3J0IHtcbiAgdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50LFxuICBzaG93QW5kRm9jdXNFbGVtZW50LFxuICBoaWRlRWxlbWVudCxcbiAgc2hvd0VsZW1lbnQsXG4gIGdldFJlZGlyZWN0UGF0aCxcbiAgaGFuZGxlUmVkaXJlY3QsXG4gIHVzZXJGb3JtRXJyb3IsXG4gIGRpc2FibGVTdWJtaXQsXG4gIHJlc2V0U3VibWl0LFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7XG4gIFVTWVNfREFUQV9BVFRSUyxcbiAgVVNZU19ET01fQ0xBU1NfTkFNRVMsXG4gIFVTWVNfRk9STV9UWVBFUyxcbiAgVVNZU19JTlBVVF9UWVBFUyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvY29uc3RhbnRzJztcbmltcG9ydCB7c2lnbnVwTXV0YXRpb24sIHZlcmlmeUVtYWlsTXV0YXRpb259IGZyb20gJy4vbXV0YXRpb25zJztcbmltcG9ydCB7XG4gIGdldENvbW1vbkZpZWxkcyxcbiAgZ2V0Q3VzdG9tRmllbGRzLFxuICBnZXRGaWVsZHNBc1R5cGVLZXlzLFxuICBnZXRGaWVsZFZhbHVlQnlJZCxcbn0gZnJvbSAnLi9maWVsZHMnO1xuaW1wb3J0IHtyZW5kZXJUdXJuc3RpbGVDYXB0Y2hhfSBmcm9tICcuL3R1cm5zdGlsZUNhcHRjaGEnO1xuXG5jb25zdCBzaWdudXBGb3JtUXVlcnlTZWxlY3RvciA9IGBmb3JtWyR7VVNZU19EQVRBX0FUVFJTLmZvcm1UeXBlfT1cIiR7VVNZU19GT1JNX1RZUEVTLnNpZ251cH1cIl1gO1xuXG5jb25zdCB2ZXJpZmljYXRpb25NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgYC4ke1VTWVNfRE9NX0NMQVNTX05BTUVTLmZvcm1WZXJmaWNhdGlvbn1gXG4pO1xuXG5mdW5jdGlvbiBnZXRTaWdudXBGb3JtcygpIHtcbiAgY29uc3Qgc2lnbnVwRm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNpZ251cEZvcm1RdWVyeVNlbGVjdG9yKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZVxuICAgIC5jYWxsKHNpZ251cEZvcm1zKVxuICAgIC5maWx0ZXIoKHNpZ251cEZvcm0pID0+IHNpZ251cEZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVVc2VySW52aXRlKGVtYWlsOiBzdHJpbmcpIHtcbiAgLy8gZW1haWwgaXMgZm9yIERJU1BMQVkgdXNlIE9OTFkgZm9yIHNlY3VyaXR5IHJlYXNvbnNcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2lnbnVwRm9ybVF1ZXJ5U2VsZWN0b3IpO1xuXG4gIGlmICghKGZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZW1haWxJbnB1dCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICBgaW5wdXRbJHtVU1lTX0RBVEFfQVRUUlMuaW5wdXRUeXBlfT1cIiR7VVNZU19JTlBVVF9UWVBFUy5lbWFpbH1cIl1gXG4gICk7XG5cbiAgaWYgKCEoZW1haWxJbnB1dCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZGlzYWJsZSBlbWFpbCBpbnB1dFxuICBlbWFpbElucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgZW1haWxJbnB1dC5jbGFzc0xpc3QuYWRkKCd3LWlucHV0LWRpc2FibGVkJyk7XG5cbiAgLy8gYW5kIHNldCB0aGUgdmFsdWUgdG8gdGhlIHVzZXIncyBlbWFpbFxuICBlbWFpbElucHV0LnZhbHVlID0gZW1haWw7XG59XG5cbi8vIHVzZXJzIGFyZSBzZW50IHRvIHRoZSBzaWduIHVwIHBhZ2UgdG8gY29tcGxldGUgdmVyaWZpY2F0aW9uXG5mdW5jdGlvbiBoYW5kbGVFbWFpbFZlcmlmaWNhdGlvbihcbiAgdG9rZW46IHN0cmluZyxcbiAgZXJyb3JTdGF0ZTogbnVsbCB8IEhUTUxFbGVtZW50XG4pIHtcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2lnbnVwRm9ybVF1ZXJ5U2VsZWN0b3IpO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCB8IG51bGwnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdIVE1MRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQnLlxuICBoaWRlRWxlbWVudChmb3JtKTtcblxuICBhc3luY1ZlcmlmeUVtYWlsVG9rZW4odG9rZW4pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgLiR7VVNZU19ET01fQ0xBU1NfTkFNRVMuZm9ybVN1Y2Nlc3N9YFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlZGlyZWN0QW5jaG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYFske1VTWVNfREFUQV9BVFRSUy5yZWRpcmVjdFVybH1dIGFgXG4gICAgICApO1xuICAgICAgY29uc3QgcmVkaXJlY3RQYXRoID0gZ2V0UmVkaXJlY3RQYXRoKCk7XG5cbiAgICAgIC8vIElmIHJlZGlyZWN0IHBhcmFtIGV4aXN0cywgdXNlIHRoYXQgcGF0aCBmb3IgdGhlIHJlZGlyZWN0IGFuY2hvciBocmVmXG4gICAgICBpZiAocmVkaXJlY3RQYXRoICYmIHJlZGlyZWN0QW5jaG9yKSB7XG4gICAgICAgIHJlZGlyZWN0QW5jaG9yLnNldEF0dHJpYnV0ZSgnaHJlZicsIGVuY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFBhdGgpKTtcbiAgICAgIH1cblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgIHNob3dFbGVtZW50KHN1Y2Nlc3NNZXNzYWdlKTtcblxuICAgICAgLy8gSWYgcmVkaXJlY3QgYW5jaG9yIGV4aXN0cywgdXNlIHRoYXQgYXMgZGVmYXVsdCByZWRpcmVjdCBwYXRoXG4gICAgICBoYW5kbGVSZWRpcmVjdChyZWRpcmVjdEFuY2hvcj8uZ2V0QXR0cmlidXRlKCdocmVmJykgPz8gJy8nLCB0cnVlKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICBzaG93RWxlbWVudCh2ZXJpZmljYXRpb25NZXNzYWdlKTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCcuXG4gICAgICB1c2VyRm9ybUVycm9yKGZvcm0sIGVycm9yU3RhdGUsICdTSUdOVVAnKShlcnJvcik7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTaWduVXBGb3JtcygpIHtcbiAgLy8gd2Ugd2lsbCBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSB0b2tlbiBpbiB0aGUgbGluayB0byBpbml0aWF0ZSB0aGUgdmVyaWZpY2F0aW9uIGZsb3dcbiAgLy8gb3RoZXJ3aXNlLCB0aGUgcmVndWxhciBzaWduLXVwIGZvcm0gd2lsbCBiZSBzaG93blxuICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBjb25zdCBpbnZpdGVUb2tlbiA9IHBhcmFtcy5nZXQoJ2ludml0ZVRva2VuJykgfHwgJyc7XG4gIGNvbnN0IHZlcmlmeVRva2VuID0gcGFyYW1zLmdldCgndmVyaWZ5VG9rZW4nKSB8fCAnJztcbiAgY29uc3QgZXJyb3JTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske1VTWVNfREFUQV9BVFRSUy5mb3JtRXJyb3J9XWApO1xuICBsZXQgdHVybnN0aWxlU2NyaXB0OiBIVE1MU2NyaXB0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGdldFNpZ251cEZvcm1zKCkuZm9yRWFjaCgoc2lnbnVwRm9ybSkgPT4ge1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNpZ251cEZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIGNvbnN0IHNlbmRTdWJtaXREYXRhID0gKGNhcHRjaGFUb2tlbjogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgY29uc3Qgc3VibWl0VGV4dCA9IGRpc2FibGVTdWJtaXQoc3VibWl0QnV0dG9uKTtcbiAgICAgIGNvbnN0IGNvbW1vbkZpZWxkcyA9IGdldENvbW1vbkZpZWxkcyhzaWdudXBGb3JtKTtcbiAgICAgIGNvbnN0IGN1c3RvbUZpZWxkcyA9IGdldEN1c3RvbUZpZWxkcyhzaWdudXBGb3JtKTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkJy5cbiAgICAgIGhpZGVFbGVtZW50KGVycm9yU3RhdGUpO1xuXG4gICAgICBhc3luY1NpZ25VcFVzZXIoXG4gICAgICAgIGdldEZpZWxkVmFsdWVCeUlkKCdlbWFpbCcsIGNvbW1vbkZpZWxkcykgfHwgJycsXG4gICAgICAgIGdldEZpZWxkVmFsdWVCeUlkKCduYW1lJywgY29tbW9uRmllbGRzKSB8fCAnJyxcbiAgICAgICAgZ2V0RmllbGRWYWx1ZUJ5SWQoJ3Bhc3N3b3JkJywgY29tbW9uRmllbGRzKSB8fCAnJyxcbiAgICAgICAgZ2V0RmllbGRWYWx1ZUJ5SWQoJ2FjY2VwdC1wcml2YWN5JywgY29tbW9uRmllbGRzKSB8fCBmYWxzZSxcbiAgICAgICAgZ2V0RmllbGRWYWx1ZUJ5SWQoJ2FjY2VwdC1jb21tdW5pY2F0aW9ucycsIGNvbW1vbkZpZWxkcykgfHwgZmFsc2UsXG4gICAgICAgIGN1c3RvbUZpZWxkcyxcbiAgICAgICAgaW52aXRlVG9rZW4sXG4gICAgICAgIGNhcHRjaGFUb2tlblxuICAgICAgKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKGludml0ZVRva2VuKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnc3RyaW5nJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdMb2NhdGlvbiB8IChzdHJpbmcgJiBMb2NhdGlvbiknLlxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9sb2ctaW4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWRlRWxlbWVudChzaWdudXBGb3JtKTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICAgICAgICBzaG93QW5kRm9jdXNFbGVtZW50KHZlcmlmaWNhdGlvbk1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsJy5cbiAgICAgICAgLmNhdGNoKHVzZXJGb3JtRXJyb3Ioc2lnbnVwRm9ybSwgZXJyb3JTdGF0ZSwgJ1NJR05VUCcpKVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ0VsZW1lbnQgfCBudWxsJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnSFRNTEVsZW1lbnQgfCBudWxsJy5cbiAgICAgICAgICByZXNldFN1Ym1pdChzdWJtaXRCdXR0b24sIHN1Ym1pdFRleHQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2FwdGNoYVNpdGVLZXkgPSBzaWdudXBGb3JtLmdldEF0dHJpYnV0ZSgnd2YtY2FwdGNoYS1zaXRlLWtleScpO1xuICAgIGNvbnN0IGNhcHRjaGFNb2RlID0gc2lnbnVwRm9ybS5nZXRBdHRyaWJ1dGUoJ3dmLWNhcHRjaGEtbW9kZScpO1xuICAgIGlmIChjYXB0Y2hhU2l0ZUtleSAmJiBjYXB0Y2hhTW9kZSAmJiAhdHVybnN0aWxlU2NyaXB0KSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0NyAtICdzdWJtaXRCdXR0b24nIGlzIHBvc3NpYmx5ICdudWxsJy5cbiAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgIHR1cm5zdGlsZVNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgdHVybnN0aWxlU2NyaXB0LnNyYyA9XG4gICAgICAgICdodHRwczovL2NoYWxsZW5nZXMuY2xvdWRmbGFyZS5jb20vdHVybnN0aWxlL3YwL2FwaS5qcyc7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHR1cm5zdGlsZVNjcmlwdCk7XG4gICAgICB0dXJuc3RpbGVTY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBzaWdudXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlOiBTdWJtaXRFdmVudCkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZW5kZXJUdXJuc3RpbGVDYXB0Y2hhKGNhcHRjaGFTaXRlS2V5LCBjYXB0Y2hhTW9kZSwgc2VuZFN1Ym1pdERhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMTgwNDcgLSAnc3VibWl0QnV0dG9uJyBpcyBwb3NzaWJseSAnbnVsbCcuXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzaWdudXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlOiBTdWJtaXRFdmVudCkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlbmRTdWJtaXREYXRhKG51bGwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludml0ZVRva2VuKSB7XG4gICAgICBjb25zdCBlbWFpbCA9IHBhcmFtcy5nZXQoJ2VtYWlsJykgfHwgJyc7XG4gICAgICBoYW5kbGVVc2VySW52aXRlKGVtYWlsKTtcbiAgICB9XG5cbiAgICBpZiAodmVyaWZ5VG9rZW4pIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCcuXG4gICAgICBoYW5kbGVFbWFpbFZlcmlmaWNhdGlvbih2ZXJpZnlUb2tlbiwgZXJyb3JTdGF0ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jU2lnblVwVXNlcihcbiAgZW1haWw6IHN0cmluZyxcbiAgbmFtZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCA9ICcnLFxuICBwYXNzd29yZDogc3RyaW5nLFxuICBhY2NlcHRQcml2YWN5OiBib29sZWFuLFxuICBhY2NlcHRDb21tdW5pY2F0aW9uczogYm9vbGVhbixcbiAgY3VzdG9tRmllbGRzOiBhbnksXG4gIGludml0ZVRva2VuOiBzdHJpbmcgfCBudWxsLFxuICBjYXB0Y2hhVG9rZW46IHN0cmluZyB8IG51bGxcbikge1xuICBjb25zdCB2YXJpYWJsZXMgPSB7XG4gICAgZW1haWwsXG4gICAgbmFtZSxcbiAgICBhY2NlcHRQcml2YWN5LFxuICAgIGFjY2VwdENvbW11bmljYXRpb25zLFxuICAgIGF1dGhQYXNzd29yZDogcGFzc3dvcmQsXG4gICAgZGF0YTogZ2V0RmllbGRzQXNUeXBlS2V5cyhjdXN0b21GaWVsZHMpLFxuICAgIGludml0ZVRva2VuOiBpbnZpdGVUb2tlbiB8fCB1bmRlZmluZWQsXG4gICAgY2FwdGNoYVRva2VuOiBjYXB0Y2hhVG9rZW4gfHwgdW5kZWZpbmVkLFxuICAgIHJlZGlyZWN0UGF0aDogZ2V0UmVkaXJlY3RQYXRoKCksXG4gIH0gYXMgY29uc3Q7XG5cbiAgcmV0dXJuIHVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudC5tdXRhdGUoe1xuICAgIG11dGF0aW9uOiBzaWdudXBNdXRhdGlvbixcbiAgICB2YXJpYWJsZXMsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3luY1ZlcmlmeUVtYWlsVG9rZW4odmVyaWZ5VG9rZW46IHN0cmluZykge1xuICByZXR1cm4gdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IHZlcmlmeUVtYWlsTXV0YXRpb24sXG4gICAgdmFyaWFibGVzOiB7XG4gICAgICB2ZXJpZnlUb2tlbixcbiAgICAgIHJlZGlyZWN0UGF0aDogZ2V0UmVkaXJlY3RQYXRoKCksXG4gICAgfSxcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiYXN5bmNTaWduVXBVc2VyIiwiaGFuZGxlU2lnblVwRm9ybXMiLCJzaWdudXBGb3JtUXVlcnlTZWxlY3RvciIsIlVTWVNfREFUQV9BVFRSUyIsImZvcm1UeXBlIiwiVVNZU19GT1JNX1RZUEVTIiwic2lnbnVwIiwidmVyaWZpY2F0aW9uTWVzc2FnZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlVTWVNfRE9NX0NMQVNTX05BTUVTIiwiZm9ybVZlcmZpY2F0aW9uIiwiZ2V0U2lnbnVwRm9ybXMiLCJzaWdudXBGb3JtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImZpbHRlciIsInNpZ251cEZvcm0iLCJIVE1MRm9ybUVsZW1lbnQiLCJoYW5kbGVVc2VySW52aXRlIiwiZW1haWwiLCJmb3JtIiwiZW1haWxJbnB1dCIsImlucHV0VHlwZSIsIlVTWVNfSU5QVVRfVFlQRVMiLCJIVE1MSW5wdXRFbGVtZW50IiwiZGlzYWJsZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ2YWx1ZSIsImhhbmRsZUVtYWlsVmVyaWZpY2F0aW9uIiwidG9rZW4iLCJlcnJvclN0YXRlIiwiaGlkZUVsZW1lbnQiLCJhc3luY1ZlcmlmeUVtYWlsVG9rZW4iLCJ0aGVuIiwic3VjY2Vzc01lc3NhZ2UiLCJmb3JtU3VjY2VzcyIsInJlZGlyZWN0QW5jaG9yIiwicmVkaXJlY3RVcmwiLCJyZWRpcmVjdFBhdGgiLCJnZXRSZWRpcmVjdFBhdGgiLCJzZXRBdHRyaWJ1dGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzaG93RWxlbWVudCIsImhhbmRsZVJlZGlyZWN0IiwiZ2V0QXR0cmlidXRlIiwiY2F0Y2giLCJlcnJvciIsInVzZXJGb3JtRXJyb3IiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImludml0ZVRva2VuIiwiZ2V0IiwidmVyaWZ5VG9rZW4iLCJmb3JtRXJyb3IiLCJ0dXJuc3RpbGVTY3JpcHQiLCJmb3JFYWNoIiwic3VibWl0QnV0dG9uIiwic2VuZFN1Ym1pdERhdGEiLCJjYXB0Y2hhVG9rZW4iLCJzdWJtaXRUZXh0IiwiZGlzYWJsZVN1Ym1pdCIsImNvbW1vbkZpZWxkcyIsImdldENvbW1vbkZpZWxkcyIsImN1c3RvbUZpZWxkcyIsImdldEN1c3RvbUZpZWxkcyIsImdldEZpZWxkVmFsdWVCeUlkIiwic2hvd0FuZEZvY3VzRWxlbWVudCIsImZpbmFsbHkiLCJyZXNldFN1Ym1pdCIsImNhcHRjaGFTaXRlS2V5IiwiY2FwdGNoYU1vZGUiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwib25sb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJlbmRlclR1cm5zdGlsZUNhcHRjaGEiLCJyZW1vdmVBdHRyaWJ1dGUiLCJuYW1lIiwicGFzc3dvcmQiLCJhY2NlcHRQcml2YWN5IiwiYWNjZXB0Q29tbXVuaWNhdGlvbnMiLCJ2YXJpYWJsZXMiLCJhdXRoUGFzc3dvcmQiLCJkYXRhIiwiZ2V0RmllbGRzQXNUeXBlS2V5cyIsInVuZGVmaW5lZCIsInVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudCIsIm11dGF0ZSIsIm11dGF0aW9uIiwic2lnbnVwTXV0YXRpb24iLCJ2ZXJpZnlFbWFpbE11dGF0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBTUE7Ozs7Ozs7Ozs7O0lBMExnQkEsZUFBZTtlQUFmQTs7SUFuRkFDLGlCQUFpQjtlQUFqQkE7Ozt1QkEzRlQ7MkJBTUE7MkJBQzJDO3dCQU0zQztrQ0FDOEI7QUFFckMsTUFBTUMsMEJBQTBCLENBQUMsS0FBSyxFQUFFQywwQkFBZSxDQUFDQyxRQUFRLENBQUMsRUFBRSxFQUFFQywwQkFBZSxDQUFDQyxNQUFNLENBQUMsRUFBRSxDQUFDO0FBRS9G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

}),
88432: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "renderTurnstileCaptcha", ({
    enumerable: true,
    get: function() {
        return renderTurnstileCaptcha;
    }
}));
function setSplashScreenStyles(element) {
    element.style.display = 'flex';
    element.style.position = 'fixed';
    element.style.top = '0';
    element.style.left = '0';
    element.style.width = '100%';
    element.style.height = '100%';
    element.style.background = 'rgba(255, 255, 255, 0.8)';
    element.style.justifyContent = 'center';
    element.style.alignItems = 'center';
    element.style.textAlign = 'center';
    element.style.zIndex = '1000';
    element.style.opacity = '0';
    element.style.transition = 'opacity 1s ease-in-out';
}
const addSplashScreen = ()=>{
    const splashScreen = document.createElement('div');
    setSplashScreenStyles(splashScreen);
    const captchaContainer = document.createElement('div');
    splashScreen.appendChild(captchaContainer);
    document.body.appendChild(splashScreen);
    setTimeout(()=>{
        splashScreen.style.opacity = '1';
    }, 10);
    return splashScreen;
};
const renderTurnstileCaptcha = (captchaSiteKey, captchaMode, cb)=>{
    let splashScreen;
    if (captchaMode !== 'invisible') {
        splashScreen = addSplashScreen();
    }
    const captchaContainer = document.createElement('div');
    if (splashScreen) {
        splashScreen.appendChild(captchaContainer);
    } else {
        document.body.appendChild(captchaContainer);
    }
    // Render the captcha
    // @ts-expect-error - TS2304: Cannot find name 'turnstile'.
    turnstile.render(captchaContainer, {
        sitekey: captchaSiteKey,
        callback: function(token) {
            setTimeout(function() {
                if (splashScreen) {
                    splashScreen.remove();
                }
            }, 1000);
            return cb(token);
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5zdGlsZUNhcHRjaGEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2V0U3BsYXNoU2NyZWVuU3R5bGVzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gIGVsZW1lbnQuc3R5bGUudG9wID0gJzAnO1xuICBlbGVtZW50LnN0eWxlLmxlZnQgPSAnMCc7XG4gIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJztcbiAgZWxlbWVudC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICBlbGVtZW50LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgZWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgZWxlbWVudC5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMXMgZWFzZS1pbi1vdXQnO1xufVxuXG5jb25zdCBhZGRTcGxhc2hTY3JlZW4gPSAoKSA9PiB7XG4gIGNvbnN0IHNwbGFzaFNjcmVlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZXRTcGxhc2hTY3JlZW5TdHlsZXMoc3BsYXNoU2NyZWVuKTtcblxuICBjb25zdCBjYXB0Y2hhQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNwbGFzaFNjcmVlbi5hcHBlbmRDaGlsZChjYXB0Y2hhQ29udGFpbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzcGxhc2hTY3JlZW4pO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNwbGFzaFNjcmVlbi5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICB9LCAxMCk7XG4gIHJldHVybiBzcGxhc2hTY3JlZW47XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyVHVybnN0aWxlQ2FwdGNoYSA9IChcbiAgY2FwdGNoYVNpdGVLZXk6IHN0cmluZyxcbiAgY2FwdGNoYU1vZGU6IHN0cmluZyxcbiAgY2I6IGFueVxuKSA9PiB7XG4gIGxldCBzcGxhc2hTY3JlZW46IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xuICBpZiAoY2FwdGNoYU1vZGUgIT09ICdpbnZpc2libGUnKSB7XG4gICAgc3BsYXNoU2NyZWVuID0gYWRkU3BsYXNoU2NyZWVuKCk7XG4gIH1cblxuICBjb25zdCBjYXB0Y2hhQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGlmIChzcGxhc2hTY3JlZW4pIHtcbiAgICBzcGxhc2hTY3JlZW4uYXBwZW5kQ2hpbGQoY2FwdGNoYUNvbnRhaW5lcik7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYXB0Y2hhQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIFJlbmRlciB0aGUgY2FwdGNoYVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzA0OiBDYW5ub3QgZmluZCBuYW1lICd0dXJuc3RpbGUnLlxuICB0dXJuc3RpbGUucmVuZGVyKGNhcHRjaGFDb250YWluZXIsIHtcbiAgICBzaXRla2V5OiBjYXB0Y2hhU2l0ZUtleSxcbiAgICBjYWxsYmFjazogZnVuY3Rpb24gKHRva2VuOiBzdHJpbmcpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc3BsYXNoU2NyZWVuKSB7XG4gICAgICAgICAgc3BsYXNoU2NyZWVuLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHJldHVybiBjYih0b2tlbik7XG4gICAgfSxcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInJlbmRlclR1cm5zdGlsZUNhcHRjaGEiLCJzZXRTcGxhc2hTY3JlZW5TdHlsZXMiLCJlbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwidGV4dEFsaWduIiwiekluZGV4Iiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJhZGRTcGxhc2hTY3JlZW4iLCJzcGxhc2hTY3JlZW4iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYXB0Y2hhQ29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJib2R5Iiwic2V0VGltZW91dCIsImNhcHRjaGFTaXRlS2V5IiwiY2FwdGNoYU1vZGUiLCJjYiIsInR1cm5zdGlsZSIsInJlbmRlciIsInNpdGVrZXkiLCJjYWxsYmFjayIsInRva2VuIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7OytCQThCYUE7OztlQUFBQTs7O0FBOUJiLFNBQVNDLHNCQUFzQkMsT0FBb0I7SUFDakRBLFFBQVFDLEtBQUssQ0FBQ0MsT0FBTyxHQUFHO0lBQ3hCRixRQUFRQyxLQUFLLENBQUNFLFFBQVEsR0FBRztJQUN6QkgsUUFBUUMsS0FBSyxDQUFDRyxHQUFHLEdBQUc7SUFDcEJKLFFBQVFDLEtBQUssQ0FBQ0ksSUFBSSxHQUFHO0lBQ3JCTCxRQUFRQyxLQUFLLENBQUNLLEtBQUssR0FBRztJQUN0Qk4sUUFBUUMsS0FBSyxDQUFDTSxNQUFNLEdBQUc7SUFDdkJQLFFBQVFDLEtBQUssQ0FBQ08sVUFBVSxHQUFHO0lBQzNCUixRQUFRQyxLQUFLLENBQUNRLGNBQWMsR0FBRztJQUMvQlQsUUFBUUMsS0FBSyxDQUFDUyxVQUFVLEdBQUc7SUFDM0JWLFFBQVFDLEtBQUssQ0FBQ1UsU0FBUyxHQUFHO0lBQzFCWCxRQUFRQyxLQUFLLENBQUNXLE1BQU0sR0FBRztJQUN2QlosUUFBUUMsS0FBSyxDQUFDWSxPQUFPLEdBQUc7SUFDeEJiLFFBQVFDLEtBQUssQ0FBQ2EsVUFBVSxHQUFHO0FBQzdCO0FBRUEsTUFBTUMsa0JBQWtCO0lBQ3RCLE1BQU1DLGVBQWVDLFNBQVNDLGFBQWEsQ0FBQztJQUM1Q25CLHNCQUFzQmlCO0lBRXRCLE1BQU1HLG1CQUFtQkYsU0FBU0MsYUFBYSxDQUFDO0lBQ2hERixhQUFhSSxXQUFXLENBQUNEO0lBQ3pCRixTQUFTSSxJQUFJLENBQUNELFdBQVcsQ0FBQ0o7SUFFMUJNLFdBQVc7UUFDVE4sYUFBYWYsS0FBSyxDQUFDWSxPQUFPLEdBQUc7SUFDL0IsR0FBRztJQUNILE9BQU9HO0FBQ1Q7QUFFTyxNQUFNbEIseUJBQXlCLENBQ3BDeUIsZ0JBQ0FDLGFBQ0FDO0lBRUEsSUFBSVQ7SUFDSixJQUFJUSxnQkFBZ0IsYUFBYTtRQUMvQlIsZUFBZUQ7SUFDakI7SUFFQSxNQUFNSSxtQkFBbUJGLFNBQVNDLGFBQWEsQ0FBQztJQUNoRCxJQUFJRixjQUFjO1FBQ2hCQSxhQUFhSSxXQUFXLENBQUNEO0lBQzNCLE9BQU87UUFDTEYsU0FBU0ksSUFBSSxDQUFDRCxXQUFXLENBQUNEO0lBQzVCO0lBRUEscUJBQXFCO0lBQ3JCLDJEQUEyRDtJQUMzRE8sVUFBVUMsTUFBTSxDQUFDUixrQkFBa0I7UUFDakNTLFNBQVNMO1FBQ1RNLFVBQVUsU0FBVUMsS0FBYTtZQUMvQlIsV0FBVztnQkFDVCxJQUFJTixjQUFjO29CQUNoQkEsYUFBYWUsTUFBTTtnQkFDckI7WUFDRixHQUFHO1lBQ0gsT0FBT04sR0FBR0s7UUFDWjtJQUNGO0FBQ0YifQ==

}),
10104: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/*
  globals
  document,
  HTMLFormElement,
  HTMLInputElement,
  window
*/ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    asyncRequestUpdatePassword: function() {
        return asyncRequestUpdatePassword;
    },
    handleUpdatePasswordForms: function() {
        return handleUpdatePasswordForms;
    }
});
const _utils = __webpack_require__(56897);
const _constants = __webpack_require__(7462);
const _mutations = __webpack_require__(13197);
const updatePasswordFormQuerySelector = `form[${_constants.USYS_DATA_ATTRS.formType}="${_constants.USYS_FORM_TYPES.updatePassword}"]`;
// error handling
const errorState = document.querySelector(`[${_constants.USYS_DATA_ATTRS.formError}]`);
const defaultErrorCopy = // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
_constants.updatePasswordErrorStates[_constants.UPDATE_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR].copy;
const errorMsgNode = document.querySelector(`.${_constants.ERROR_MSG_CLASS}`);
const getUpdatePasswordErrorCode = (error)=>{
    let errorCode;
    switch(error){
        case 'UsysInvalidPassword':
            errorCode = _constants.UPDATE_PASSWORD_UI_ERROR_CODES.WEAK_PASSWORD;
            break;
        default:
            errorCode = _constants.UPDATE_PASSWORD_UI_ERROR_CODES.GENERAL_ERROR;
    }
    return errorCode;
};
function getUpdatePasswordForms() {
    const updatePasswordForms = document.querySelectorAll(updatePasswordFormQuerySelector);
    return Array.prototype.slice.call(updatePasswordForms).filter((updatePasswordForm)=>updatePasswordForm instanceof HTMLFormElement);
}
function handleUpdatePasswordForms() {
    getUpdatePasswordForms().forEach((updatePasswordForm)=>{
        updatePasswordForm.addEventListener('submit', (event)=>{
            event.preventDefault();
            const form = event.currentTarget;
            const successMessage = document.querySelector(`.${_constants.USYS_DOM_CLASS_NAMES.formSuccess}`);
            if (!(form instanceof HTMLFormElement)) {
                return;
            }
            const errorElement = document.querySelector(`[${_constants.USYS_DATA_ATTRS.formError}]`);
            // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
            (0, _utils.hideElement)(errorElement);
            const passwordInput = form.querySelector(`input[${_constants.USYS_DATA_ATTRS.inputType}="${_constants.USYS_INPUT_TYPES.password}"]`);
            if (!(passwordInput instanceof HTMLInputElement)) {
                return;
            }
            const params = new URLSearchParams(window.location.search);
            const token = params.get('token') || '';
            asyncRequestUpdatePassword(passwordInput.value, token).then(()=>{
                (0, _utils.hideElement)(form);
                // @ts-expect-error - TS2345 - Argument of type 'Element | null' is not assignable to parameter of type 'HTMLElement | null | undefined'.
                (0, _utils.showAndFocusElement)(successMessage);
            }).catch((error)=>{
                if (errorState) {
                    // if there isn't an error code, send an empty string so a generic error message appears
                    const elementErrorCode = error?.graphQLErrors?.[0]?.code ?? '';
                    const errorCode = getUpdatePasswordErrorCode(elementErrorCode);
                    (0, _utils.handleErrorNode)(errorMsgNode, // @ts-expect-error - TS2345 - Argument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
                    errorState, errorCode, _constants.ERROR_ATTRIBUTE_PREFIX.UPDATE_PASSWORD, defaultErrorCopy);
                }
            });
        });
    });
}
function asyncRequestUpdatePassword(authPassword, token) {
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.updatePasswordMutation,
        variables: {
            authPassword,
            token
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZVBhc3N3b3JkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIGdsb2JhbHNcbiAgZG9jdW1lbnQsXG4gIEhUTUxGb3JtRWxlbWVudCxcbiAgSFRNTElucHV0RWxlbWVudCxcbiAgd2luZG93XG4qL1xuXG5pbXBvcnQge1xuICB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQsXG4gIHNob3dBbmRGb2N1c0VsZW1lbnQsXG4gIGhpZGVFbGVtZW50LFxuICBoYW5kbGVFcnJvck5vZGUsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgVVNZU19EQVRBX0FUVFJTLFxuICBVU1lTX0RPTV9DTEFTU19OQU1FUyxcbiAgVVNZU19GT1JNX1RZUEVTLFxuICBVU1lTX0lOUFVUX1RZUEVTLFxuICBVUERBVEVfUEFTU1dPUkRfVUlfRVJST1JfQ09ERVMsXG4gIHVwZGF0ZVBhc3N3b3JkRXJyb3JTdGF0ZXMsXG4gIEVSUk9SX01TR19DTEFTUyxcbiAgRVJST1JfQVRUUklCVVRFX1BSRUZJWCxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvY29uc3RhbnRzJztcbmltcG9ydCB7dXBkYXRlUGFzc3dvcmRNdXRhdGlvbn0gZnJvbSAnLi9tdXRhdGlvbnMnO1xuXG5jb25zdCB1cGRhdGVQYXNzd29yZEZvcm1RdWVyeVNlbGVjdG9yID0gYGZvcm1bJHtVU1lTX0RBVEFfQVRUUlMuZm9ybVR5cGV9PVwiJHtVU1lTX0ZPUk1fVFlQRVMudXBkYXRlUGFzc3dvcmR9XCJdYDtcblxuLy8gZXJyb3IgaGFuZGxpbmdcbmNvbnN0IGVycm9yU3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtVU1lTX0RBVEFfQVRUUlMuZm9ybUVycm9yfV1gKTtcbmNvbnN0IGRlZmF1bHRFcnJvckNvcHkgPVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNTMyIC0gT2JqZWN0IGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICB1cGRhdGVQYXNzd29yZEVycm9yU3RhdGVzW1VQREFURV9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXS5jb3B5O1xuY29uc3QgZXJyb3JNc2dOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7RVJST1JfTVNHX0NMQVNTfWApO1xuXG5jb25zdCBnZXRVcGRhdGVQYXNzd29yZEVycm9yQ29kZSA9IChlcnJvcjogc3RyaW5nKSA9PiB7XG4gIGxldCBlcnJvckNvZGU7XG4gIHN3aXRjaCAoZXJyb3IpIHtcbiAgICBjYXNlICdVc3lzSW52YWxpZFBhc3N3b3JkJzpcbiAgICAgIGVycm9yQ29kZSA9IFVQREFURV9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUy5XRUFLX1BBU1NXT1JEO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9yQ29kZSA9IFVQREFURV9QQVNTV09SRF9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SO1xuICB9XG4gIHJldHVybiBlcnJvckNvZGU7XG59O1xuXG5mdW5jdGlvbiBnZXRVcGRhdGVQYXNzd29yZEZvcm1zKCkge1xuICBjb25zdCB1cGRhdGVQYXNzd29yZEZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICB1cGRhdGVQYXNzd29yZEZvcm1RdWVyeVNlbGVjdG9yXG4gICk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICAuY2FsbCh1cGRhdGVQYXNzd29yZEZvcm1zKVxuICAgIC5maWx0ZXIoXG4gICAgICAodXBkYXRlUGFzc3dvcmRGb3JtKSA9PiB1cGRhdGVQYXNzd29yZEZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnRcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVXBkYXRlUGFzc3dvcmRGb3JtcygpIHtcbiAgZ2V0VXBkYXRlUGFzc3dvcmRGb3JtcygpLmZvckVhY2goKHVwZGF0ZVBhc3N3b3JkRm9ybSkgPT4ge1xuICAgIHVwZGF0ZVBhc3N3b3JkRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBmb3JtID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYC4ke1VTWVNfRE9NX0NMQVNTX05BTUVTLmZvcm1TdWNjZXNzfWBcbiAgICAgICk7XG5cbiAgICAgIGlmICghKGZvcm0gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYFske1VTWVNfREFUQV9BVFRSUy5mb3JtRXJyb3J9XWBcbiAgICAgICk7XG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICBoaWRlRWxlbWVudChlcnJvckVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgaW5wdXRbJHtVU1lTX0RBVEFfQVRUUlMuaW5wdXRUeXBlfT1cIiR7VVNZU19JTlBVVF9UWVBFUy5wYXNzd29yZH1cIl1gXG4gICAgICApO1xuXG4gICAgICBpZiAoIShwYXNzd29yZElucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgY29uc3QgdG9rZW4gPSBwYXJhbXMuZ2V0KCd0b2tlbicpIHx8ICcnO1xuXG4gICAgICBhc3luY1JlcXVlc3RVcGRhdGVQYXNzd29yZChwYXNzd29yZElucHV0LnZhbHVlLCB0b2tlbilcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGhpZGVFbGVtZW50KGZvcm0pO1xuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdFbGVtZW50IHwgbnVsbCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICAgICAgc2hvd0FuZEZvY3VzRWxlbWVudChzdWNjZXNzTWVzc2FnZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXNuJ3QgYW4gZXJyb3IgY29kZSwgc2VuZCBhbiBlbXB0eSBzdHJpbmcgc28gYSBnZW5lcmljIGVycm9yIG1lc3NhZ2UgYXBwZWFyc1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEVycm9yQ29kZSA9IGVycm9yPy5ncmFwaFFMRXJyb3JzPy5bMF0/LmNvZGUgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBlcnJvckNvZGUgPSBnZXRVcGRhdGVQYXNzd29yZEVycm9yQ29kZShlbGVtZW50RXJyb3JDb2RlKTtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yTm9kZShcbiAgICAgICAgICAgICAgZXJyb3JNc2dOb2RlLFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnRWxlbWVudCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0hUTUxFbGVtZW50Jy5cbiAgICAgICAgICAgICAgZXJyb3JTdGF0ZSxcbiAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgICBFUlJPUl9BVFRSSUJVVEVfUFJFRklYLlVQREFURV9QQVNTV09SRCxcbiAgICAgICAgICAgICAgZGVmYXVsdEVycm9yQ29weVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jUmVxdWVzdFVwZGF0ZVBhc3N3b3JkKFxuICBhdXRoUGFzc3dvcmQ6IHN0cmluZyxcbiAgdG9rZW46IHN0cmluZ1xuKSB7XG4gIHJldHVybiB1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQubXV0YXRlKHtcbiAgICBtdXRhdGlvbjogdXBkYXRlUGFzc3dvcmRNdXRhdGlvbixcbiAgICB2YXJpYWJsZXM6IHtcbiAgICAgIGF1dGhQYXNzd29yZCxcbiAgICAgIHRva2VuLFxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbImFzeW5jUmVxdWVzdFVwZGF0ZVBhc3N3b3JkIiwiaGFuZGxlVXBkYXRlUGFzc3dvcmRGb3JtcyIsInVwZGF0ZVBhc3N3b3JkRm9ybVF1ZXJ5U2VsZWN0b3IiLCJVU1lTX0RBVEFfQVRUUlMiLCJmb3JtVHlwZSIsIlVTWVNfRk9STV9UWVBFUyIsInVwZGF0ZVBhc3N3b3JkIiwiZXJyb3JTdGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImZvcm1FcnJvciIsImRlZmF1bHRFcnJvckNvcHkiLCJ1cGRhdGVQYXNzd29yZEVycm9yU3RhdGVzIiwiVVBEQVRFX1BBU1NXT1JEX1VJX0VSUk9SX0NPREVTIiwiR0VORVJBTF9FUlJPUiIsImNvcHkiLCJlcnJvck1zZ05vZGUiLCJFUlJPUl9NU0dfQ0xBU1MiLCJnZXRVcGRhdGVQYXNzd29yZEVycm9yQ29kZSIsImVycm9yIiwiZXJyb3JDb2RlIiwiV0VBS19QQVNTV09SRCIsImdldFVwZGF0ZVBhc3N3b3JkRm9ybXMiLCJ1cGRhdGVQYXNzd29yZEZvcm1zIiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiZmlsdGVyIiwidXBkYXRlUGFzc3dvcmRGb3JtIiwiSFRNTEZvcm1FbGVtZW50IiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsImN1cnJlbnRUYXJnZXQiLCJzdWNjZXNzTWVzc2FnZSIsIlVTWVNfRE9NX0NMQVNTX05BTUVTIiwiZm9ybVN1Y2Nlc3MiLCJlcnJvckVsZW1lbnQiLCJoaWRlRWxlbWVudCIsInBhc3N3b3JkSW5wdXQiLCJpbnB1dFR5cGUiLCJVU1lTX0lOUFVUX1RZUEVTIiwicGFzc3dvcmQiLCJIVE1MSW5wdXRFbGVtZW50IiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJ0b2tlbiIsImdldCIsInZhbHVlIiwidGhlbiIsInNob3dBbmRGb2N1c0VsZW1lbnQiLCJjYXRjaCIsImVsZW1lbnRFcnJvckNvZGUiLCJncmFwaFFMRXJyb3JzIiwiY29kZSIsImhhbmRsZUVycm9yTm9kZSIsIkVSUk9SX0FUVFJJQlVURV9QUkVGSVgiLCJVUERBVEVfUEFTU1dPUkQiLCJhdXRoUGFzc3dvcmQiLCJ1c2VyU3lzdGVtc1JlcXVlc3RDbGllbnQiLCJtdXRhdGUiLCJtdXRhdGlvbiIsInVwZGF0ZVBhc3N3b3JkTXV0YXRpb24iLCJ2YXJpYWJsZXMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFNQTs7Ozs7Ozs7Ozs7SUE2R2dCQSwwQkFBMEI7ZUFBMUJBOztJQXpEQUMseUJBQXlCO2VBQXpCQTs7O3VCQTdDVDsyQkFVQTsyQkFDOEI7QUFFckMsTUFBTUMsa0NBQWtDLENBQUMsS0FBSyxFQUFFQywwQkFBZSxDQUFDQyxRQUFRLENBQUMsRUFBRSxFQUFFQywwQkFBZSxDQUFDQyxjQUFjLENBQUMsRUFBRSxDQUFDO0FBRS9HLGlCQUFpQjtBQUNqQixNQUFNQyxhQUFhQyxTQUFTQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUVOLDBC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

}),
65438: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
Object.defineProperty(exports, "handleFields", ({
    enumerable: true,
    get: function() {
        return handleFields;
    }
}));
const _utils = __webpack_require__(56897);
const _queries = __webpack_require__(3671);
const _constants = __webpack_require__(7462);
const _universalUtils = __webpack_require__(62467);
const _mutations = __webpack_require__(13197);
/* global window, HTMLInputElement, HTMLSelectElement, document */ function asyncGetFieldValidations() {
    return _utils.userSystemsRequestClient.query({
        query: _queries.getFieldValidations
    });
}
function signFile(file, { fieldId }) {
    return _utils.userSystemsRequestClient.mutate({
        mutation: _mutations.getUploadURLMutation,
        variables: {
            fieldId,
            filename: file.name
        }
    });
}
function setRequired(input, userField) {
    if (userField.required == null) return;
    input.required = userField.required;
}
const inputAttributeMap = {
    minLength: 'minlength',
    maxLength: 'maxlength',
    min: 'min',
    max: 'max',
    step: 'step',
    extensions: 'accept'
};
const formatValueMap = {
    extensions: function accept(value) {
        return value.join(',');
    }
};
function convertToStr(value) {
    return String(value);
}
function setValidations(input, userField) {
    if (userField.validations == null) return;
    Object.keys(userField.validations).map((attr)=>{
        const val = userField.validations[attr];
        if (attr === 'options' && Array.isArray(val) && input instanceof HTMLSelectElement) {
            val.forEach((option)=>{
                if (option.slug && option.name) {
                    const opt = document.createElement('option');
                    opt.value = option.slug;
                    opt.innerHTML = option.name;
                    input.appendChild(opt);
                }
            });
        }
        if (val !== null && inputAttributeMap[attr]) {
            let formatValue;
            if (formatValueMap[attr]) {
                formatValue = formatValueMap[attr];
            } else {
                formatValue = convertToStr;
            }
            input.setAttribute(inputAttributeMap[attr], formatValue(val));
        }
        if (attr === 'maxLength' && val === null) {
            input.removeAttribute('maxlength');
        }
    });
}
function setUserFieldValidationAttr(input, userField) {
    const fieldType = input.getAttribute(_constants.USYS_DATA_ATTRS.fieldType);
    if (!_constants.NO_REQUIRED_ATTRIBUTE.includes(fieldType)) {
        setRequired(input, userField);
    }
    setValidations(input, userField);
}
function matchInputToData(input, userFieldData) {
    const fieldId = input.getAttribute(_constants.USYS_DATA_ATTRS.field);
    if (!fieldId) {
        return null;
    }
    for(let i = 0; i < userFieldData.length; i++){
        if (userFieldData[i].id === fieldId) {
            return userFieldData[i];
        }
    }
    return null;
}
function setFieldValidation(customFieldInputs) {
    asyncGetFieldValidations().then((response)=>{
        const userFieldData = response.data.site.usysFieldSchema;
        if (!userFieldData) return;
        for(let i = 0; i < customFieldInputs.length; i++){
            const input = customFieldInputs[i];
            if (!input || !(input instanceof HTMLInputElement || input instanceof HTMLSelectElement) || input.getAttribute(_constants.USYS_DATA_ATTRS.fieldType) === 'Bool') {
                continue;
            }
            const userField = matchInputToData(input, userFieldData);
            if (!userField) continue;
            setUserFieldValidationAttr(input, userField);
        }
    }).catch((err)=>{
        console.error(err);
    });
}
function getMatchingSiblings(e, pred) {
    const siblings = [];
    if (e.target.parentNode === null) {
        return siblings;
    }
    [].slice.call(e.target.parentNode.children).forEach((element)=>{
        if (pred(element)) {
            siblings.push(element);
        }
    });
    return siblings;
}
function isFormFileUploadWrapper(element) {
    return element.classList.contains('w-file-upload');
}
function getFirstAncestor(element, pred) {
    if (element.parentNode === null) {
        return null;
    }
    if (pred(element)) {
        return element;
    }
    return getFirstAncestor(element.parentNode, pred);
}
function handleFileRemoveLink(cancelRemoveLinkElement, inputElement, props) {
    const { deleteFile, cancelFile } = props;
    cancelRemoveLinkElement.addEventListener('click', function(e) {
        if (e.type === 'keydown') {
            if (e.which !== 13 && e.which !== 32) {
                return;
            }
            e.preventDefault();
        }
        if ((0, _universalUtils.getUserFileKey)(inputElement)) {
            deleteFile();
            return;
        }
        cancelFile();
    });
}
function handleFileUploadInput(element, props) {
    const { showUploading, successUpload, errorUpload, changeFileNameText, disableSubmitButton, filesState } = props;
    const fieldId = element.getAttribute(_constants.USYS_DATA_ATTRS.field);
    element.addEventListener('change', function(e) {
        if (filesState.isUploading) return;
        const file = e.target && e.target.files && e.target.files[0];
        if (!file) {
            return;
        }
        showUploading();
        changeFileNameText(file.name);
        filesState.isUploading = true;
        if (!filesState.isUploading) {
            disableSubmitButton();
        }
        let key = '';
        signFile(file, {
            fieldId
        }).then((res)=>{
            if (!res.data || !res.data.usysGetUploadURL || !res.data.usysGetUploadURL.presignedPOST) {
                throw Error(res);
            }
            const presignedPOST = res.data.usysGetUploadURL.presignedPOST;
            key = res.data.usysGetUploadURL.key;
            const AWSFields = {};
            presignedPOST.fields.forEach((field)=>{
                const _key = field.key;
                const value = field.value;
                AWSFields[_key] = value;
            });
            return (0, _universalUtils.uploadFileToS3)(presignedPOST.url, AWSFields, file);
        }).then(()=>{
            successUpload(key);
        }).catch((err)=>{
            let code = _constants.SERVER_DATA_VALIDATION_ERRORS.DefaultError;
            if (typeof err === 'string') {
                const content = new window.DOMParser().parseFromString(err, 'text/xml');
                const codeElements = content.getElementsByTagName('Code');
                if (codeElements) {
                    code = codeElements[0].innerHTML;
                }
            }
            if (typeof err === 'object' && err.hasOwnProperty('graphQLErrors')) {
                if (err.graphQLErrors[0].code === 'UsysForbiddenFileExtension') {
                    code = _constants.SERVER_DATA_VALIDATION_ERRORS.ExtensionsError;
                }
            }
            errorUpload(code);
        }).finally(()=>{
            filesState.isUploading = false;
        });
    });
}
const WF_SUBMIT_BUTTON_VALUE = 'wf-submit-button-value';
const adaptAWSErrors = (code)=>{
    if (code === 'EntityTooLarge') return _constants.SERVER_DATA_VALIDATION_ERRORS.MinSizeError;
    if (code === 'EntityTooSmall') return _constants.SERVER_DATA_VALIDATION_ERRORS.MaxSizeError;
    return code;
};
function handleFileUploadInputs(customFieldInputs, props) {
    const { disableSubmitButton, enableSubmitButton } = props;
    const filesState = {
        isUploading: false
    };
    customFieldInputs.forEach((el)=>{
        if (el.getAttribute('type') === 'file') {
            const formFileUploadWrapper = getFirstAncestor(el, isFormFileUploadWrapper);
            const formFileDefault = formFileUploadWrapper.querySelector('.w-file-upload-default');
            const formFileSuccess = formFileUploadWrapper.querySelector('.w-file-upload-success');
            const formFileError = formFileUploadWrapper.querySelector('.w-file-upload-error');
            const formFileErrorMsg = formFileError.querySelector('.w-file-upload-error-msg');
            const formFileUploading = formFileUploadWrapper.querySelector('.w-file-upload-uploading');
            const fileUploadFileName = formFileUploadWrapper.querySelector('.w-file-upload-file-name');
            const fileRemoveLink = formFileUploadWrapper.querySelector('.w-file-remove-link');
            const fileUploadLabel = formFileUploadWrapper.querySelector('.w-file-upload-label');
            // eslint-disable-next-line no-inner-declarations
            function showUploading() {
                (0, _utils.addHiddenClass)(formFileDefault);
                (0, _utils.addHiddenClass)(formFileError);
                (0, _utils.addHiddenClass)(formFileSuccess);
                (0, _utils.removeHiddenClass)(formFileUploading);
                formFileUploading.focus();
                disableSubmitButton();
            }
            // eslint-disable-next-line no-inner-declarations
            function successUpload(fileUrl) {
                (0, _utils.addHiddenClass)(formFileDefault);
                (0, _utils.addHiddenClass)(formFileError);
                (0, _utils.addHiddenClass)(formFileUploading);
                (0, _utils.removeHiddenClass)(formFileSuccess);
                formFileSuccess.focus();
                enableSubmitButton();
                (0, _universalUtils.setTempUserFileKey)(el, fileUrl);
            }
            // eslint-disable-next-line no-inner-declarations
            function errorUpload(code = _constants.SERVER_DATA_VALIDATION_ERRORS.DefaultError) {
                const errorText = formFileErrorMsg.getAttribute(adaptAWSErrors(code).toLowerCase());
                (0, _utils.addHiddenClass)(formFileSuccess);
                (0, _utils.addHiddenClass)(formFileUploading);
                (0, _utils.removeHiddenClass)(formFileDefault);
                (0, _utils.removeHiddenClass)(formFileError);
                if (errorText) {
                    formFileErrorMsg.innerHTML = errorText;
                }
                formFileError.focus();
                enableSubmitButton();
            }
            // eslint-disable-next-line no-inner-declarations
            function showDefault() {
                (0, _utils.addHiddenClass)(formFileSuccess);
                (0, _utils.addHiddenClass)(formFileUploading);
                (0, _utils.addHiddenClass)(formFileError);
                (0, _utils.removeHiddenClass)(formFileDefault);
                fileUploadLabel.focus();
            }
            // eslint-disable-next-line no-inner-declarations
            function changeFileNameText(filename) {
                fileUploadFileName.innerHTML = filename;
            }
            // eslint-disable-next-line no-inner-declarations
            function cancelFile() {
                changeFileNameText('');
                (0, _universalUtils.removeTempUserFileKey)(el);
                showDefault();
            }
            // eslint-disable-next-line no-inner-declarations
            function deleteFile() {
                (0, _universalUtils.setUserFileKey)(el, 'DELETE');
                cancelFile();
            }
            handleFileRemoveLink(fileRemoveLink, el, {
                deleteFile,
                cancelFile
            });
            handleFileUploadInput(el, {
                showUploading,
                successUpload,
                errorUpload,
                changeFileNameText,
                fileRemoveLink,
                filesState
            });
        }
    });
}
function handleFields() {
    const userForms = document.querySelectorAll(`form[${_constants.USYS_DATA_ATTRS.formType}]`);
    userForms.forEach((userForm)=>{
        const customFieldInputs = userForm.querySelectorAll(`input[${_constants.USYS_DATA_ATTRS.field}], select[${_constants.USYS_DATA_ATTRS.field}]`);
        const submitButton = userForm.querySelector('input[type="submit"]');
        submitButton.setAttribute(WF_SUBMIT_BUTTON_VALUE, submitButton.value);
        function disableSubmitButton() {
            if (submitButton) {
                (0, _utils.disableSubmit)(submitButton);
            }
        }
        function enableSubmitButton() {
            if (submitButton) {
                submitButton.removeAttribute('disabled');
                submitButton.setAttribute('value', submitButton.getAttribute(WF_SUBMIT_BUTTON_VALUE) || 'Submit');
            }
        }
        if (customFieldInputs.length > 0) {
            setFieldValidation(customFieldInputs);
            handleFileUploadInputs(customFieldInputs, {
                disableSubmitButton,
                enableSubmitButton
            });
        }
        const CHECKBOX_CLASS_NAME = 'w-checkbox-input';
        const CHECKED_CLASS = 'w--redirected-checked';
        const customCheckboxes = document.querySelectorAll(`form[${_constants.USYS_DATA_ATTRS.formType}] input[type="checkbox"]:not(` + CHECKBOX_CLASS_NAME + ')');
        customCheckboxes.forEach((checkbox)=>{
            checkbox.addEventListener('change', function(e) {
                getMatchingSiblings(e, (element)=>{
                    return element.classList.contains(CHECKBOX_CLASS_NAME);
                }).forEach((sibling)=>{
                    sibling.classList.toggle(CHECKED_CLASS);
                });
            });
        });
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzeXNGb3JtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRpc2FibGVTdWJtaXQsXG4gIHVzZXJTeXN0ZW1zUmVxdWVzdENsaWVudCxcbiAgYWRkSGlkZGVuQ2xhc3MsXG4gIHJlbW92ZUhpZGRlbkNsYXNzLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7Z2V0RmllbGRWYWxpZGF0aW9uc30gZnJvbSAnLi9xdWVyaWVzJztcbmltcG9ydCB7XG4gIE5PX1JFUVVJUkVEX0FUVFJJQlVURSxcbiAgU0VSVkVSX0RBVEFfVkFMSURBVElPTl9FUlJPUlMsXG4gIFVTWVNfREFUQV9BVFRSUyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIHVwbG9hZEZpbGVUb1MzLFxuICBnZXRVc2VyRmlsZUtleSxcbiAgc2V0VGVtcFVzZXJGaWxlS2V5LFxuICBzZXRVc2VyRmlsZUtleSxcbiAgcmVtb3ZlVGVtcFVzZXJGaWxlS2V5LFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy91c2Vycy91dGlscy91bml2ZXJzYWxVdGlscyc7XG5pbXBvcnQge2dldFVwbG9hZFVSTE11dGF0aW9ufSBmcm9tICcuL211dGF0aW9ucyc7XG4vKiBnbG9iYWwgd2luZG93LCBIVE1MSW5wdXRFbGVtZW50LCBIVE1MU2VsZWN0RWxlbWVudCwgZG9jdW1lbnQgKi9cblxuZnVuY3Rpb24gYXN5bmNHZXRGaWVsZFZhbGlkYXRpb25zKCkge1xuICByZXR1cm4gdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50LnF1ZXJ5KHtcbiAgICBxdWVyeTogZ2V0RmllbGRWYWxpZGF0aW9ucyxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNpZ25GaWxlKGZpbGUsIHtmaWVsZElkfSkge1xuICByZXR1cm4gdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50Lm11dGF0ZSh7XG4gICAgbXV0YXRpb246IGdldFVwbG9hZFVSTE11dGF0aW9uLFxuICAgIHZhcmlhYmxlczoge1xuICAgICAgZmllbGRJZCxcbiAgICAgIGZpbGVuYW1lOiBmaWxlLm5hbWUsXG4gICAgfSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldFJlcXVpcmVkKGlucHV0LCB1c2VyRmllbGQpIHtcbiAgaWYgKHVzZXJGaWVsZC5yZXF1aXJlZCA9PSBudWxsKSByZXR1cm47XG4gIGlucHV0LnJlcXVpcmVkID0gdXNlckZpZWxkLnJlcXVpcmVkO1xufVxuXG5jb25zdCBpbnB1dEF0dHJpYnV0ZU1hcCA9IHtcbiAgbWluTGVuZ3RoOiAnbWlubGVuZ3RoJyxcbiAgbWF4TGVuZ3RoOiAnbWF4bGVuZ3RoJyxcbiAgbWluOiAnbWluJyxcbiAgbWF4OiAnbWF4JyxcbiAgc3RlcDogJ3N0ZXAnLFxuICBleHRlbnNpb25zOiAnYWNjZXB0Jyxcbn07XG5cbmNvbnN0IGZvcm1hdFZhbHVlTWFwID0ge1xuICBleHRlbnNpb25zOiBmdW5jdGlvbiBhY2NlcHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuam9pbignLCcpO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY29udmVydFRvU3RyKHZhbHVlKSB7XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBzZXRWYWxpZGF0aW9ucyhpbnB1dCwgdXNlckZpZWxkKSB7XG4gIGlmICh1c2VyRmllbGQudmFsaWRhdGlvbnMgPT0gbnVsbCkgcmV0dXJuO1xuXG4gIE9iamVjdC5rZXlzKHVzZXJGaWVsZC52YWxpZGF0aW9ucykubWFwKChhdHRyKSA9PiB7XG4gICAgY29uc3QgdmFsID0gdXNlckZpZWxkLnZhbGlkYXRpb25zW2F0dHJdO1xuXG4gICAgaWYgKFxuICAgICAgYXR0ciA9PT0gJ29wdGlvbnMnICYmXG4gICAgICBBcnJheS5pc0FycmF5KHZhbCkgJiZcbiAgICAgIGlucHV0IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnRcbiAgICApIHtcbiAgICAgIHZhbC5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5zbHVnICYmIG9wdGlvbi5uYW1lKSB7XG4gICAgICAgICAgY29uc3Qgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgb3B0LnZhbHVlID0gb3B0aW9uLnNsdWc7XG4gICAgICAgICAgb3B0LmlubmVySFRNTCA9IG9wdGlvbi5uYW1lO1xuICAgICAgICAgIGlucHV0LmFwcGVuZENoaWxkKG9wdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh2YWwgIT09IG51bGwgJiYgaW5wdXRBdHRyaWJ1dGVNYXBbYXR0cl0pIHtcbiAgICAgIGxldCBmb3JtYXRWYWx1ZTtcbiAgICAgIGlmIChmb3JtYXRWYWx1ZU1hcFthdHRyXSkge1xuICAgICAgICBmb3JtYXRWYWx1ZSA9IGZvcm1hdFZhbHVlTWFwW2F0dHJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybWF0VmFsdWUgPSBjb252ZXJ0VG9TdHI7XG4gICAgICB9XG5cbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShpbnB1dEF0dHJpYnV0ZU1hcFthdHRyXSwgZm9ybWF0VmFsdWUodmFsKSk7XG4gICAgfVxuXG4gICAgaWYgKGF0dHIgPT09ICdtYXhMZW5ndGgnICYmIHZhbCA9PT0gbnVsbCkge1xuICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdtYXhsZW5ndGgnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRVc2VyRmllbGRWYWxpZGF0aW9uQXR0cihpbnB1dCwgdXNlckZpZWxkKSB7XG4gIGNvbnN0IGZpZWxkVHlwZSA9IGlucHV0LmdldEF0dHJpYnV0ZShVU1lTX0RBVEFfQVRUUlMuZmllbGRUeXBlKTtcbiAgaWYgKCFOT19SRVFVSVJFRF9BVFRSSUJVVEUuaW5jbHVkZXMoZmllbGRUeXBlKSkge1xuICAgIHNldFJlcXVpcmVkKGlucHV0LCB1c2VyRmllbGQpO1xuICB9XG4gIHNldFZhbGlkYXRpb25zKGlucHV0LCB1c2VyRmllbGQpO1xufVxuXG5mdW5jdGlvbiBtYXRjaElucHV0VG9EYXRhKGlucHV0LCB1c2VyRmllbGREYXRhKSB7XG4gIGNvbnN0IGZpZWxkSWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoVVNZU19EQVRBX0FUVFJTLmZpZWxkKTtcbiAgaWYgKCFmaWVsZElkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VyRmllbGREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHVzZXJGaWVsZERhdGFbaV0uaWQgPT09IGZpZWxkSWQpIHtcbiAgICAgIHJldHVybiB1c2VyRmllbGREYXRhW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0RmllbGRWYWxpZGF0aW9uKGN1c3RvbUZpZWxkSW5wdXRzKSB7XG4gIGFzeW5jR2V0RmllbGRWYWxpZGF0aW9ucygpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCB1c2VyRmllbGREYXRhID0gcmVzcG9uc2UuZGF0YS5zaXRlLnVzeXNGaWVsZFNjaGVtYTtcbiAgICAgIGlmICghdXNlckZpZWxkRGF0YSkgcmV0dXJuO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1c3RvbUZpZWxkSW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gY3VzdG9tRmllbGRJbnB1dHNbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaW5wdXQgfHxcbiAgICAgICAgICAhKFxuICAgICAgICAgICAgaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8XG4gICAgICAgICAgICBpbnB1dCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50XG4gICAgICAgICAgKSB8fFxuICAgICAgICAgIGlucHV0LmdldEF0dHJpYnV0ZShVU1lTX0RBVEFfQVRUUlMuZmllbGRUeXBlKSA9PT0gJ0Jvb2wnXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJGaWVsZCA9IG1hdGNoSW5wdXRUb0RhdGEoaW5wdXQsIHVzZXJGaWVsZERhdGEpO1xuICAgICAgICBpZiAoIXVzZXJGaWVsZCkgY29udGludWU7XG4gICAgICAgIHNldFVzZXJGaWVsZFZhbGlkYXRpb25BdHRyKGlucHV0LCB1c2VyRmllbGQpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWF0Y2hpbmdTaWJsaW5ncyhlLCBwcmVkKSB7XG4gIGNvbnN0IHNpYmxpbmdzID0gW107XG4gIGlmIChlLnRhcmdldC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHNpYmxpbmdzO1xuICB9XG4gIFtdLnNsaWNlLmNhbGwoZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlbikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIGlmIChwcmVkKGVsZW1lbnQpKSB7XG4gICAgICBzaWJsaW5ncy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzaWJsaW5ncztcbn1cblxuZnVuY3Rpb24gaXNGb3JtRmlsZVVwbG9hZFdyYXBwZXIoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3ctZmlsZS11cGxvYWQnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3RBbmNlc3RvcihlbGVtZW50LCBwcmVkKSB7XG4gIGlmIChlbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocHJlZChlbGVtZW50KSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG4gIHJldHVybiBnZXRGaXJzdEFuY2VzdG9yKGVsZW1lbnQucGFyZW50Tm9kZSwgcHJlZCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZpbGVSZW1vdmVMaW5rKGNhbmNlbFJlbW92ZUxpbmtFbGVtZW50LCBpbnB1dEVsZW1lbnQsIHByb3BzKSB7XG4gIGNvbnN0IHtkZWxldGVGaWxlLCBjYW5jZWxGaWxlfSA9IHByb3BzO1xuICBjYW5jZWxSZW1vdmVMaW5rRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgICBpZiAoZS53aGljaCAhPT0gMTMgJiYgZS53aGljaCAhPT0gMzIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmIChnZXRVc2VyRmlsZUtleShpbnB1dEVsZW1lbnQpKSB7XG4gICAgICBkZWxldGVGaWxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbmNlbEZpbGUoKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWRJbnB1dChlbGVtZW50LCBwcm9wcykge1xuICBjb25zdCB7XG4gICAgc2hvd1VwbG9hZGluZyxcbiAgICBzdWNjZXNzVXBsb2FkLFxuICAgIGVycm9yVXBsb2FkLFxuICAgIGNoYW5nZUZpbGVOYW1lVGV4dCxcbiAgICBkaXNhYmxlU3VibWl0QnV0dG9uLFxuICAgIGZpbGVzU3RhdGUsXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZmllbGRJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFVTWVNfREFUQV9BVFRSUy5maWVsZCk7XG5cbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChmaWxlc1N0YXRlLmlzVXBsb2FkaW5nKSByZXR1cm47XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0ICYmIGUudGFyZ2V0LmZpbGVzICYmIGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNob3dVcGxvYWRpbmcoKTtcbiAgICBjaGFuZ2VGaWxlTmFtZVRleHQoZmlsZS5uYW1lKTtcblxuICAgIGZpbGVzU3RhdGUuaXNVcGxvYWRpbmcgPSB0cnVlO1xuXG4gICAgaWYgKCFmaWxlc1N0YXRlLmlzVXBsb2FkaW5nKSB7XG4gICAgICBkaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgfVxuXG4gICAgbGV0IGtleSA9ICcnO1xuXG4gICAgc2lnbkZpbGUoZmlsZSwge2ZpZWxkSWR9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXJlcy5kYXRhIHx8XG4gICAgICAgICAgIXJlcy5kYXRhLnVzeXNHZXRVcGxvYWRVUkwgfHxcbiAgICAgICAgICAhcmVzLmRhdGEudXN5c0dldFVwbG9hZFVSTC5wcmVzaWduZWRQT1NUXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IEVycm9yKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJlc2lnbmVkUE9TVCA9IHJlcy5kYXRhLnVzeXNHZXRVcGxvYWRVUkwucHJlc2lnbmVkUE9TVDtcbiAgICAgICAga2V5ID0gcmVzLmRhdGEudXN5c0dldFVwbG9hZFVSTC5rZXk7XG4gICAgICAgIGNvbnN0IEFXU0ZpZWxkcyA9IHt9O1xuICAgICAgICBwcmVzaWduZWRQT1NULmZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IF9rZXkgPSBmaWVsZC5rZXk7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBmaWVsZC52YWx1ZTtcbiAgICAgICAgICBBV1NGaWVsZHNbX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1cGxvYWRGaWxlVG9TMyhwcmVzaWduZWRQT1NULnVybCwgQVdTRmllbGRzLCBmaWxlKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHN1Y2Nlc3NVcGxvYWQoa2V5KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBsZXQgY29kZSA9IFNFUlZFUl9EQVRBX1ZBTElEQVRJT05fRVJST1JTLkRlZmF1bHRFcnJvcjtcbiAgICAgICAgaWYgKHR5cGVvZiBlcnIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgJ3RleHQveG1sJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY29kZUVsZW1lbnRzID0gY29udGVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ29kZScpO1xuICAgICAgICAgIGlmIChjb2RlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvZGUgPSBjb2RlRWxlbWVudHNbMF0uaW5uZXJIVE1MO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiYgZXJyLmhhc093blByb3BlcnR5KCdncmFwaFFMRXJyb3JzJykpIHtcbiAgICAgICAgICBpZiAoZXJyLmdyYXBoUUxFcnJvcnNbMF0uY29kZSA9PT0gJ1VzeXNGb3JiaWRkZW5GaWxlRXh0ZW5zaW9uJykge1xuICAgICAgICAgICAgY29kZSA9IFNFUlZFUl9EQVRBX1ZBTElEQVRJT05fRVJST1JTLkV4dGVuc2lvbnNFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JVcGxvYWQoY29kZSk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBmaWxlc1N0YXRlLmlzVXBsb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmNvbnN0IFdGX1NVQk1JVF9CVVRUT05fVkFMVUUgPSAnd2Ytc3VibWl0LWJ1dHRvbi12YWx1ZSc7XG5cbmNvbnN0IGFkYXB0QVdTRXJyb3JzID0gKGNvZGUpID0+IHtcbiAgaWYgKGNvZGUgPT09ICdFbnRpdHlUb29MYXJnZScpXG4gICAgcmV0dXJuIFNFUlZFUl9EQVRBX1ZBTElEQVRJT05fRVJST1JTLk1pblNpemVFcnJvcjtcbiAgaWYgKGNvZGUgPT09ICdFbnRpdHlUb29TbWFsbCcpXG4gICAgcmV0dXJuIFNFUlZFUl9EQVRBX1ZBTElEQVRJT05fRVJST1JTLk1heFNpemVFcnJvcjtcbiAgcmV0dXJuIGNvZGU7XG59O1xuXG5mdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkSW5wdXRzKGN1c3RvbUZpZWxkSW5wdXRzLCBwcm9wcykge1xuICBjb25zdCB7ZGlzYWJsZVN1Ym1pdEJ1dHRvbiwgZW5hYmxlU3VibWl0QnV0dG9ufSA9IHByb3BzO1xuICBjb25zdCBmaWxlc1N0YXRlID0ge1xuICAgIGlzVXBsb2FkaW5nOiBmYWxzZSxcbiAgfTtcbiAgY3VzdG9tRmllbGRJbnB1dHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdmaWxlJykge1xuICAgICAgY29uc3QgZm9ybUZpbGVVcGxvYWRXcmFwcGVyID0gZ2V0Rmlyc3RBbmNlc3RvcihcbiAgICAgICAgZWwsXG4gICAgICAgIGlzRm9ybUZpbGVVcGxvYWRXcmFwcGVyXG4gICAgICApO1xuICAgICAgY29uc3QgZm9ybUZpbGVEZWZhdWx0ID0gZm9ybUZpbGVVcGxvYWRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICcudy1maWxlLXVwbG9hZC1kZWZhdWx0J1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGZvcm1GaWxlU3VjY2VzcyA9IGZvcm1GaWxlVXBsb2FkV3JhcHBlci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnLnctZmlsZS11cGxvYWQtc3VjY2VzcydcbiAgICAgICk7XG4gICAgICBjb25zdCBmb3JtRmlsZUVycm9yID0gZm9ybUZpbGVVcGxvYWRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICcudy1maWxlLXVwbG9hZC1lcnJvcidcbiAgICAgICk7XG4gICAgICBjb25zdCBmb3JtRmlsZUVycm9yTXNnID0gZm9ybUZpbGVFcnJvci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnLnctZmlsZS11cGxvYWQtZXJyb3ItbXNnJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGZvcm1GaWxlVXBsb2FkaW5nID0gZm9ybUZpbGVVcGxvYWRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICcudy1maWxlLXVwbG9hZC11cGxvYWRpbmcnXG4gICAgICApO1xuICAgICAgY29uc3QgZmlsZVVwbG9hZEZpbGVOYW1lID0gZm9ybUZpbGVVcGxvYWRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICcudy1maWxlLXVwbG9hZC1maWxlLW5hbWUnXG4gICAgICApO1xuXG4gICAgICBjb25zdCBmaWxlUmVtb3ZlTGluayA9IGZvcm1GaWxlVXBsb2FkV3JhcHBlci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnLnctZmlsZS1yZW1vdmUtbGluaydcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGZpbGVVcGxvYWRMYWJlbCA9IGZvcm1GaWxlVXBsb2FkV3JhcHBlci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnLnctZmlsZS11cGxvYWQtbGFiZWwnXG4gICAgICApO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zXG4gICAgICBmdW5jdGlvbiBzaG93VXBsb2FkaW5nKCkge1xuICAgICAgICBhZGRIaWRkZW5DbGFzcyhmb3JtRmlsZURlZmF1bHQpO1xuICAgICAgICBhZGRIaWRkZW5DbGFzcyhmb3JtRmlsZUVycm9yKTtcbiAgICAgICAgYWRkSGlkZGVuQ2xhc3MoZm9ybUZpbGVTdWNjZXNzKTtcbiAgICAgICAgcmVtb3ZlSGlkZGVuQ2xhc3MoZm9ybUZpbGVVcGxvYWRpbmcpO1xuICAgICAgICBmb3JtRmlsZVVwbG9hZGluZy5mb2N1cygpO1xuXG4gICAgICAgIGRpc2FibGVTdWJtaXRCdXR0b24oKTtcbiAgICAgIH1cblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWlubmVyLWRlY2xhcmF0aW9uc1xuICAgICAgZnVuY3Rpb24gc3VjY2Vzc1VwbG9hZChmaWxlVXJsKSB7XG4gICAgICAgIGFkZEhpZGRlbkNsYXNzKGZvcm1GaWxlRGVmYXVsdCk7XG4gICAgICAgIGFkZEhpZGRlbkNsYXNzKGZvcm1GaWxlRXJyb3IpO1xuICAgICAgICBhZGRIaWRkZW5DbGFzcyhmb3JtRmlsZVVwbG9hZGluZyk7XG4gICAgICAgIHJlbW92ZUhpZGRlbkNsYXNzKGZvcm1GaWxlU3VjY2Vzcyk7XG4gICAgICAgIGZvcm1GaWxlU3VjY2Vzcy5mb2N1cygpO1xuICAgICAgICBlbmFibGVTdWJtaXRCdXR0b24oKTtcbiAgICAgICAgc2V0VGVtcFVzZXJGaWxlS2V5KGVsLCBmaWxlVXJsKTtcbiAgICAgIH1cblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWlubmVyLWRlY2xhcmF0aW9uc1xuICAgICAgZnVuY3Rpb24gZXJyb3JVcGxvYWQoY29kZSA9IFNFUlZFUl9EQVRBX1ZBTElEQVRJT05fRVJST1JTLkRlZmF1bHRFcnJvcikge1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBmb3JtRmlsZUVycm9yTXNnLmdldEF0dHJpYnV0ZShcbiAgICAgICAgICBhZGFwdEFXU0Vycm9ycyhjb2RlKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICk7XG4gICAgICAgIGFkZEhpZGRlbkNsYXNzKGZvcm1GaWxlU3VjY2Vzcyk7XG4gICAgICAgIGFkZEhpZGRlbkNsYXNzKGZvcm1GaWxlVXBsb2FkaW5nKTtcbiAgICAgICAgcmVtb3ZlSGlkZGVuQ2xhc3MoZm9ybUZpbGVEZWZhdWx0KTtcbiAgICAgICAgcmVtb3ZlSGlkZGVuQ2xhc3MoZm9ybUZpbGVFcnJvcik7XG4gICAgICAgIGlmIChlcnJvclRleHQpIHtcbiAgICAgICAgICBmb3JtRmlsZUVycm9yTXNnLmlubmVySFRNTCA9IGVycm9yVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBmb3JtRmlsZUVycm9yLmZvY3VzKCk7XG4gICAgICAgIGVuYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zXG4gICAgICBmdW5jdGlvbiBzaG93RGVmYXVsdCgpIHtcbiAgICAgICAgYWRkSGlkZGVuQ2xhc3MoZm9ybUZpbGVTdWNjZXNzKTtcbiAgICAgICAgYWRkSGlkZGVuQ2xhc3MoZm9ybUZpbGVVcGxvYWRpbmcpO1xuICAgICAgICBhZGRIaWRkZW5DbGFzcyhmb3JtRmlsZUVycm9yKTtcbiAgICAgICAgcmVtb3ZlSGlkZGVuQ2xhc3MoZm9ybUZpbGVEZWZhdWx0KTtcbiAgICAgICAgZmlsZVVwbG9hZExhYmVsLmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbm5lci1kZWNsYXJhdGlvbnNcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZUZpbGVOYW1lVGV4dChmaWxlbmFtZSkge1xuICAgICAgICBmaWxlVXBsb2FkRmlsZU5hbWUuaW5uZXJIVE1MID0gZmlsZW5hbWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbm5lci1kZWNsYXJhdGlvbnNcbiAgICAgIGZ1bmN0aW9uIGNhbmNlbEZpbGUoKSB7XG4gICAgICAgIGNoYW5nZUZpbGVOYW1lVGV4dCgnJyk7XG4gICAgICAgIHJlbW92ZVRlbXBVc2VyRmlsZUtleShlbCk7XG4gICAgICAgIHNob3dEZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbm5lci1kZWNsYXJhdGlvbnNcbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUZpbGUoKSB7XG4gICAgICAgIHNldFVzZXJGaWxlS2V5KGVsLCAnREVMRVRFJyk7XG4gICAgICAgIGNhbmNlbEZpbGUoKTtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlRmlsZVJlbW92ZUxpbmsoZmlsZVJlbW92ZUxpbmssIGVsLCB7XG4gICAgICAgIGRlbGV0ZUZpbGUsXG4gICAgICAgIGNhbmNlbEZpbGUsXG4gICAgICB9KTtcblxuICAgICAgaGFuZGxlRmlsZVVwbG9hZElucHV0KGVsLCB7XG4gICAgICAgIHNob3dVcGxvYWRpbmcsXG4gICAgICAgIHN1Y2Nlc3NVcGxvYWQsXG4gICAgICAgIGVycm9yVXBsb2FkLFxuICAgICAgICBjaGFuZ2VGaWxlTmFtZVRleHQsXG4gICAgICAgIGZpbGVSZW1vdmVMaW5rLFxuICAgICAgICBmaWxlc1N0YXRlLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZpZWxkcygpIHtcbiAgY29uc3QgdXNlckZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICBgZm9ybVske1VTWVNfREFUQV9BVFRSUy5mb3JtVHlwZX1dYFxuICApO1xuXG4gIHVzZXJGb3Jtcy5mb3JFYWNoKCh1c2VyRm9ybSkgPT4ge1xuICAgIGNvbnN0IGN1c3RvbUZpZWxkSW5wdXRzID0gdXNlckZvcm0ucXVlcnlTZWxlY3RvckFsbChcbiAgICAgIGBpbnB1dFske1VTWVNfREFUQV9BVFRSUy5maWVsZH1dLCBzZWxlY3RbJHtVU1lTX0RBVEFfQVRUUlMuZmllbGR9XWBcbiAgICApO1xuXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gdXNlckZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoV0ZfU1VCTUlUX0JVVFRPTl9WQUxVRSwgc3VibWl0QnV0dG9uLnZhbHVlKTtcblxuICAgIGZ1bmN0aW9uIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgICBpZiAoc3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGRpc2FibGVTdWJtaXQoc3VibWl0QnV0dG9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmFibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgICBpZiAoc3VibWl0QnV0dG9uKSB7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgICBzdWJtaXRCdXR0b24uZ2V0QXR0cmlidXRlKFdGX1NVQk1JVF9CVVRUT05fVkFMVUUpIHx8ICdTdWJtaXQnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1c3RvbUZpZWxkSW5wdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldEZpZWxkVmFsaWRhdGlvbihjdXN0b21GaWVsZElucHV0cyk7XG4gICAgICBoYW5kbGVGaWxlVXBsb2FkSW5wdXRzKGN1c3RvbUZpZWxkSW5wdXRzLCB7XG4gICAgICAgIGRpc2FibGVTdWJtaXRCdXR0b24sXG4gICAgICAgIGVuYWJsZVN1Ym1pdEJ1dHRvbixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IENIRUNLQk9YX0NMQVNTX05BTUUgPSAndy1jaGVja2JveC1pbnB1dCc7XG4gICAgY29uc3QgQ0hFQ0tFRF9DTEFTUyA9ICd3LS1yZWRpcmVjdGVkLWNoZWNrZWQnO1xuXG4gICAgY29uc3QgY3VzdG9tQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgZm9ybVske1VTWVNfREFUQV9BVFRSUy5mb3JtVHlwZX1dIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpub3QoYCArXG4gICAgICAgIENIRUNLQk9YX0NMQVNTX05BTUUgK1xuICAgICAgICAnKSdcbiAgICApO1xuXG4gICAgY3VzdG9tQ2hlY2tib3hlcy5mb3JFYWNoKChjaGVja2JveCkgPT4ge1xuICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZ2V0TWF0Y2hpbmdTaWJsaW5ncyhlLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDSEVDS0JPWF9DTEFTU19OQU1FKTtcbiAgICAgICAgfSkuZm9yRWFjaCgoc2libGluZykgPT4ge1xuICAgICAgICAgIHNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZShDSEVDS0VEX0NMQVNTKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiaGFuZGxlRmllbGRzIiwiYXN5bmNHZXRGaWVsZFZhbGlkYXRpb25zIiwidXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50IiwicXVlcnkiLCJnZXRGaWVsZFZhbGlkYXRpb25zIiwic2lnbkZpbGUiLCJmaWxlIiwiZmllbGRJZCIsIm11dGF0ZSIsIm11dGF0aW9uIiwiZ2V0VXBsb2FkVVJMTXV0YXRpb24iLCJ2YXJpYWJsZXMiLCJmaWxlbmFtZSIsIm5hbWUiLCJzZXRSZXF1aXJlZCIsImlucHV0IiwidXNlckZpZWxkIiwicmVxdWlyZWQiLCJpbnB1dEF0dHJpYnV0ZU1hcCIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsIm1pbiIsIm1heCIsInN0ZXAiLCJleHRlbnNpb25zIiwiZm9ybWF0VmFsdWVNYXAiLCJhY2NlcHQiLCJ2YWx1ZSIsImpvaW4iLCJjb252ZXJ0VG9TdHIiLCJTdHJpbmciLCJzZXRWYWxpZGF0aW9ucyIsInZhbGlkYXRpb25zIiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImF0dHIiLCJ2YWwiLCJBcnJheSIsImlzQXJyYXkiLCJIVE1MU2VsZWN0RWxlbWVudCIsImZvckVhY2giLCJvcHRpb24iLCJzbHVnIiwib3B0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJmb3JtYXRWYWx1ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldFVzZXJGaWVsZFZhbGlkYXRpb25BdHRyIiwiZmllbGRUeXBlIiwiZ2V0QXR0cmlidXRlIiwiVVNZU19EQVRBX0FUVFJTIiwiTk9fUkVRVUlSRURfQVRUUklCVVRFIiwiaW5jbHVkZXMiLCJtYXRjaElucHV0VG9EYXRhIiwidXNlckZpZWxkRGF0YSIsImZpZWxkIiwiaSIsImxlbmd0aCIsImlkIiwic2V0RmllbGRWYWxpZGF0aW9uIiwiY3VzdG9tRmllbGRJbnB1dHMiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwic2l0ZSIsInVzeXNGaWVsZFNjaGVtYSIsIkhUTUxJbnB1dEVsZW1lbnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImdldE1hdGNoaW5nU2libGluZ3MiLCJlIiwicHJlZCIsInNpYmxpbmdzIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsInNsaWNlIiwiY2FsbCIsImNoaWxkcmVuIiwiZWxlbWVudCIsInB1c2giLCJpc0Zvcm1GaWxlVXBsb2FkV3JhcHBlciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZ2V0Rmlyc3RBbmNlc3RvciIsImhhbmRsZUZpbGVSZW1vdmVMaW5rIiwiY2FuY2VsUmVtb3ZlTGlua0VsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJwcm9wcyIsImRlbGV0ZUZpbGUiLCJjYW5jZWxGaWxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJ3aGljaCIsInByZXZlbnREZWZhdWx0IiwiZ2V0VXNlckZpbGVLZXkiLCJoYW5kbGVGaWxlVXBsb2FkSW5wdXQiLCJzaG93VXBsb2FkaW5nIiwic3VjY2Vzc1VwbG9hZCIsImVycm9yVXBsb2FkIiwiY2hhbmdlRmlsZU5hbWVUZXh0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsImZpbGVzU3RhdGUiLCJpc1VwbG9hZGluZyIsImZpbGVzIiwia2V5IiwicmVzIiwidXN5c0dldFVwbG9hZFVSTCIsInByZXNpZ25lZFBPU1QiLCJFcnJvciIsIkFXU0ZpZWxkcyIsImZpZWxkcyIsIl9rZXkiLCJ1cGxvYWRGaWxlVG9TMyIsInVybCIsImNvZGUiLCJTRVJWRVJfREFUQV9WQUxJREFUSU9OX0VSUk9SUyIsIkRlZmF1bHRFcnJvciIsImNvbnRlbnQiLCJ3aW5kb3ciLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJjb2RlRWxlbWVudHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImhhc093blByb3BlcnR5IiwiZ3JhcGhRTEVycm9ycyIsIkV4dGVuc2lvbnNFcnJvciIsImZpbmFsbHkiLCJXRl9TVUJNSVRfQlVUVE9OX1ZBTFVFIiwiYWRhcHRBV1NFcnJvcnMiLCJNaW5TaXplRXJyb3IiLCJNYXhTaXplRXJyb3IiLCJoYW5kbGVGaWxlVXBsb2FkSW5wdXRzIiwiZW5hYmxlU3VibWl0QnV0dG9uIiwiZWwiLCJmb3JtRmlsZVVwbG9hZFdyYXBwZXIiLCJmb3JtRmlsZURlZmF1bHQiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybUZpbGVTdWNjZXNzIiwiZm9ybUZpbGVFcnJvciIsImZvcm1GaWxlRXJyb3JNc2ciLCJmb3JtRmlsZVVwbG9hZGluZyIsImZpbGVVcGxvYWRGaWxlTmFtZSIsImZpbGVSZW1vdmVMaW5rIiwiZmlsZVVwbG9hZExhYmVsIiwiYWRkSGlkZGVuQ2xhc3MiLCJyZW1vdmVIaWRkZW5DbGFzcyIsImZvY3VzIiwiZmlsZVVybCIsInNldFRlbXBVc2VyRmlsZUtleSIsImVycm9yVGV4dCIsInRvTG93ZXJDYXNlIiwic2hvd0RlZmF1bHQiLCJyZW1vdmVUZW1wVXNlckZpbGVLZXkiLCJzZXRVc2VyRmlsZUtleSIsInVzZXJGb3JtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JtVHlwZSIsInVzZXJGb3JtIiwic3VibWl0QnV0dG9uIiwiZGlzYWJsZVN1Ym1pdCIsIkNIRUNLQk9YX0NMQVNTX05BTUUiLCJDSEVDS0VEX0NMQVNTIiwiY3VzdG9tQ2hlY2tib3hlcyIsImNoZWNrYm94Iiwic2libGluZyIsInRvZ2dsZSJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFnWmdCQTs7O2VBQUFBOzs7dUJBM1lUO3lCQUMyQjsyQkFLM0I7Z0NBT0E7MkJBQzRCO0FBQ25DLGdFQUFnRSxHQUVoRSxTQUFTQztJQUNQLE9BQU9DLCtC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

}),
56897: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* globals
 window,
 HTMLElement,
 */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    addHiddenClass: function() {
        return addHiddenClass;
    },
    disableSubmit: function() {
        return disableSubmit;
    },
    getDomParser: function() {
        return getDomParser;
    },
    getErrorAttrName: function() {
        return getErrorAttrName;
    },
    getRedirectPath: function() {
        return getRedirectPath;
    },
    getSignupErrorCode: function() {
        return getSignupErrorCode;
    },
    handleErrorNode: function() {
        return handleErrorNode;
    },
    handleRedirect: function() {
        return handleRedirect;
    },
    hideElement: function() {
        return hideElement;
    },
    redirectWithUsrdir: function() {
        return redirectWithUsrdir;
    },
    removeHiddenClass: function() {
        return removeHiddenClass;
    },
    resetSubmit: function() {
        return resetSubmit;
    },
    showAndFocusElement: function() {
        return showAndFocusElement;
    },
    showElement: function() {
        return showElement;
    },
    userFormError: function() {
        return userFormError;
    },
    userSystemsRequestClient: function() {
        return userSystemsRequestClient;
    }
});
const _apolloClient = __webpack_require__(25195);
const _constants = __webpack_require__(7462);
/**
 * SECURITY NOTE:
 * This route is under anti-bot protection via rate limiting and/or PerimeterX. If you deprecate or
 * migrate this route, or modify the path name for this route, notify the #security channel. Also update
 * the file https://github.com/webflow/webflow-proxy/blob/dev/etc/perimeterx-enabled-routes.txt
 * Failing to do the above can result in a security incident
 */ const GQL_QUERY_PATH = '/.wf_graphql/usys/apollo';
const userSystemsRequestClient = (0, _apolloClient.createApolloClient)({
    path: GQL_QUERY_PATH,
    useCsrf: true,
    retryConfig: {
        maxAttempts: 5
    }
});
function addHiddenClass(el) {
    if (el) {
        el.classList.add('w-hidden');
    }
}
function removeHiddenClass(el) {
    if (el) {
        el.classList.remove('w-hidden');
    }
}
function showElement(el) {
    if (el) {
        el.style.display = 'block';
    }
}
function showAndFocusElement(el) {
    if (el) {
        el.style.display = 'block';
        el.focus();
    }
}
function hideElement(el) {
    if (el) {
        el.style.display = 'none';
    }
}
function getDomParser() {
    const domParser = new window.DOMParser();
    return {
        /**
     * Returns an html node for an encoded string
     * @param {string} str - Encoded string to parse
     */ getHtmlFromString (str) {
            const decodedString = decodeURIComponent(str);
            const parsedHtml = domParser.parseFromString(decodedString, 'text/html');
            if (!parsedHtml || !parsedHtml.body || !parsedHtml.body.firstChild) return null;
            return parsedHtml.body.firstChild;
        }
    };
}
const getErrorAttrName = (errorAttr, errorCode)=>{
    const formattedErrorCode = errorCode.replace('_', '-').toLowerCase();
    return `${errorAttr}-${formattedErrorCode}-error`;
};
const handleErrorNode = (errorMsgNode, errorStateNode, errorCode, errorAttrPrefix, defaultErrorCopy)=>{
    // get the error copy from the data attribute
    const errorAttr = getErrorAttrName(errorAttrPrefix, errorCode);
    const errorCopy = errorMsgNode && errorMsgNode.getAttribute(errorAttr);
    // announce the contents of the div to ATs
    errorMsgNode.setAttribute('aria-live', 'assertive');
    // set the message text to the error message or default copy if it is null
    errorMsgNode.textContent = errorCopy ? errorCopy : defaultErrorCopy;
    // show the error state Element
    showElement(errorStateNode);
};
function disableSubmit(submit) {
    if (!submit) return '';
    // Disable submit
    submit.setAttribute('disabled', 'true');
    // Store previous value
    const value = submit.getAttribute('value');
    // Show wait text
    const waitText = submit.getAttribute('data-wait');
    if (waitText) submit.setAttribute('value', waitText);
    return value ?? '';
}
function resetSubmit(submit, text) {
    if (!submit) return;
    // Reenable submit
    submit.removeAttribute('disabled');
    // Reset text
    submit.setAttribute('value', text);
}
function getRedirectPath() {
    const queryString = window.location.search;
    const redirectParam = queryString.match(/[?|&]usredir=([^@&?=]+)/g);
    if (!redirectParam) return undefined;
    const encodedPath = redirectParam[0].substring('?usredir='.length);
    return decodeURIComponent(encodedPath);
}
function redirectWithUsrdir(location) {
    const redirectParam = getRedirectPath();
    let encodedPath;
    if (redirectParam) {
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        encodedPath = redirectParam[0].substring('?usredir='.length);
    } else {
        encodedPath = encodeURIComponent(window.location.pathname);
    }
    // @ts-expect-error - TS2322 - Type 'string' is not assignable to type 'Location | (string & Location)'.
    window.location = location + `?usredir=${encodedPath}`;
}
// Test if path has a /, ., or @ at the beginning. If so, remove it.
function normalizedRedirectPath(path) {
    // @ts-expect-error - TS2345 - Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
    const hasLeadingSymbol = /\/|\.|\@/g.test(path[0]);
    return hasLeadingSymbol ? path.substring(1) : path;
}
function handleRedirect(defaultRedirectPath, includeDelay = false) {
    const redirectPath = getRedirectPath();
    const redirectUrl = (()=>{
        if (redirectPath) {
            return `${window.location.origin}/${normalizedRedirectPath(redirectPath)}`;
        }
        if (defaultRedirectPath) {
            return `${window.location.origin}/${normalizedRedirectPath(defaultRedirectPath)}`;
        }
        return;
    })();
    if (!redirectUrl) return;
    return includeDelay ? setTimeout(()=>window.Webflow.location(redirectUrl), 3000) : window.Webflow.location(redirectUrl);
}
const wrapperSelectors = [
    '.w-file-upload-error'
];
const setErrorMsg = (// @ts-expect-error - TS7006 - Parameter 'wrapper' implicitly has an 'any' type.
wrapper, // @ts-expect-error - TS7006 - Parameter 'fieldElements' implicitly has an 'any' type.
fieldElements, name)=>{
    for(let i = 0; i < fieldElements.length; ++i){
        const errorText = fieldElements[i].getAttribute(name);
        if (errorText) {
            fieldElements[i].innerHTML = errorText;
            removeHiddenClass(wrapper);
            return true;
        }
    }
};
const handleValidationErrors = (form, failedValidations)=>{
    const wrappers = [];
    wrapperSelectors.forEach((wrapperSelector)=>{
        const _wrappers = form.querySelectorAll(wrapperSelector);
        for(let i = 0; i < _wrappers.length; ++i){
            wrappers.push(_wrappers[i]);
        }
    });
    wrappers.forEach((wrapper)=>{
        for(let i = 0; i < failedValidations.length; ++i){
            const failedValidation = failedValidations[i];
            // @ts-expect-error - TS18048 - 'failedValidation' is possibly 'undefined'.
            const name = failedValidation.name;
            // @ts-expect-error - TS18048 - 'failedValidation' is possibly 'undefined'.
            const fieldId = failedValidation.fieldId;
            const fieldElements = wrapper.querySelectorAll('[' + _constants.USYS_DATA_ATTRS.field + '="' + fieldId + '"]');
            if (fieldElements && setErrorMsg(wrapper, fieldElements, name)) {
                break;
            }
        }
    });
};
// error handling
const defaultErrorCopy = // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
_constants.signUpErrorStates[_constants.SIGNUP_UI_ERROR_CODES.GENERAL_ERROR].copy;
const userFormError = (form, errorState, formType)=>(error)=>{
        if (errorState === null || form === null) return;
        const errorMsgNode = errorState.querySelector(`.${_constants.ERROR_MSG_CLASS}`);
        const failedValidations = error.graphQLErrors?.[0]?.failedValidations;
        if (failedValidations) {
            handleValidationErrors(form, failedValidations);
        }
        // if there isn't an error code, send an empty string so a generic error message appears
        const elementErrorCode = error?.graphQLErrors?.[0]?.code ?? '';
        const errorCode = getSignupErrorCode(elementErrorCode);
        handleErrorNode(errorMsgNode, errorState, errorCode, _constants.ERROR_ATTRIBUTE_PREFIX[formType], defaultErrorCopy);
    };
const getSignupErrorCode = (error)=>{
    let errorCode;
    switch(error){
        case 'UsysInvalidUserData':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.VALIDATION_FAILED;
            break;
        case 'UsysUnauthorizedEmail':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.NOT_ALLOWED;
            break;
        case 'UsysMustUseInvitation':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.USE_INVITE_EMAIL;
            break;
        case 'UsysDuplicateEmail':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.EMAIL_ALREADY_EXIST;
            break;
        case 'UsysInvalidEmail':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.INVALID_EMAIL;
            break;
        case 'UsysInvalidPassword':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.INVALID_PASSWORD;
            break;
        case 'UsysInvalidToken':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.NOT_VERIFIED;
            break;
        case 'UsysExpiredToken':
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.EXPIRED_TOKEN;
            break;
        default:
            errorCode = _constants.SIGNUP_UI_ERROR_CODES.GENERAL_ERROR;
    }
    return errorCode;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHNcbiB3aW5kb3csXG4gSFRNTEVsZW1lbnQsXG4gKi9cblxuaW1wb3J0IHtjcmVhdGVBcG9sbG9DbGllbnR9IGZyb20gJ0BwYWNrYWdlcy91dGlsaXRpZXMvYXBvbGxvQ2xpZW50JztcbmltcG9ydCB7XG4gIEVSUk9SX0FUVFJJQlVURV9QUkVGSVgsXG4gIEVSUk9SX01TR19DTEFTUyxcbiAgU0VSVkVSX0RBVEFfVkFMSURBVElPTl9FUlJPUlMsXG4gIFNJR05VUF9VSV9FUlJPUl9DT0RFUyxcbiAgVVNZU19EQVRBX0FUVFJTLFxuICBzaWduVXBFcnJvclN0YXRlcyxcbn0gZnJvbSAnQHBhY2thZ2VzL3N5c3RlbXMvdXNlcnMvY29uc3RhbnRzJztcblxuLyoqXG4gKiBTRUNVUklUWSBOT1RFOlxuICogVGhpcyByb3V0ZSBpcyB1bmRlciBhbnRpLWJvdCBwcm90ZWN0aW9uIHZpYSByYXRlIGxpbWl0aW5nIGFuZC9vciBQZXJpbWV0ZXJYLiBJZiB5b3UgZGVwcmVjYXRlIG9yXG4gKiBtaWdyYXRlIHRoaXMgcm91dGUsIG9yIG1vZGlmeSB0aGUgcGF0aCBuYW1lIGZvciB0aGlzIHJvdXRlLCBub3RpZnkgdGhlICNzZWN1cml0eSBjaGFubmVsLiBBbHNvIHVwZGF0ZVxuICogdGhlIGZpbGUgaHR0cHM6Ly9naXRodWIuY29tL3dlYmZsb3cvd2ViZmxvdy1wcm94eS9ibG9iL2Rldi9ldGMvcGVyaW1ldGVyeC1lbmFibGVkLXJvdXRlcy50eHRcbiAqIEZhaWxpbmcgdG8gZG8gdGhlIGFib3ZlIGNhbiByZXN1bHQgaW4gYSBzZWN1cml0eSBpbmNpZGVudFxuICovXG5jb25zdCBHUUxfUVVFUllfUEFUSCA9ICcvLndmX2dyYXBocWwvdXN5cy9hcG9sbG8nO1xuXG5leHBvcnQgY29uc3QgdXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50ID0gY3JlYXRlQXBvbGxvQ2xpZW50KHtcbiAgcGF0aDogR1FMX1FVRVJZX1BBVEgsXG4gIHVzZUNzcmY6IHRydWUsXG4gIHJldHJ5Q29uZmlnOiB7XG4gICAgbWF4QXR0ZW1wdHM6IDUsXG4gIH0sXG59KTtcblxuLy8gdXNlIHRvIHdvcmsgd2l0aCBsZWdhY3kgZm9ybSBhdG9tc1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEhpZGRlbkNsYXNzKGVsOiBIVE1MRWxlbWVudCB8IG51bGwpIHtcbiAgaWYgKGVsKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgndy1oaWRkZW4nKTtcbiAgfVxufVxuXG4vLyB1c2UgdG8gd29yayB3aXRoIGxlZ2FjeSBmb3JtIGF0b21zXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSGlkZGVuQ2xhc3MoZWw6IEhUTUxFbGVtZW50IHwgbnVsbCkge1xuICBpZiAoZWwpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCd3LWhpZGRlbicpO1xuICB9XG59XG5cbi8qKiBJZiB5b3UgYXJlIGhpZGluZyBhIHByZXZpb3VzIGVsZW1lbnQgdGhhdCBjb3VsZCBoYXZlIGZvY3VzIHBsZWFzZSB1c2Ugc2hvd0FuZEZvY3VzRWxlbWVudCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dFbGVtZW50KGVsPzogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4gIGlmIChlbCkge1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9XG59XG5cbi8qKiBTaG93IGFuZCBmb2N1cyBhbiBlbGVtZW50LCBoZWxwZnVsIGZvciBvdXIgY29tbW9uIHBhdHRlcm4gb2YgaGlkaW5nIGZvcm0gaW5wdXRzIHdoZW4gd2Ugc2hvdyBzdWNjZXNzIHN0YXRlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dBbmRGb2N1c0VsZW1lbnQoZWw/OiBIVE1MRWxlbWVudCB8IG51bGwpIHtcbiAgaWYgKGVsKSB7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgZWwuZm9jdXMoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoZWw/OiBIVE1MRWxlbWVudCB8IG51bGwpIHtcbiAgaWYgKGVsKSB7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gQVBJIHVzZWQgZm9yIHBhcnNpbmcgc3RyaW5ncyBpbnRvIERPTSBub2Rlc1xuICovXG5leHBvcnQgdHlwZSBEb21QYXJzZXJUeXBlID0ge1xuICBnZXRIdG1sRnJvbVN0cmluZzogKGFyZzE6IHN0cmluZykgPT4gTm9kZSB8IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tUGFyc2VyKCk6IERvbVBhcnNlclR5cGUge1xuICBjb25zdCBkb21QYXJzZXI6IERPTVBhcnNlciA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCk7XG5cbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGh0bWwgbm9kZSBmb3IgYW4gZW5jb2RlZCBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gRW5jb2RlZCBzdHJpbmcgdG8gcGFyc2VcbiAgICAgKi9cbiAgICBnZXRIdG1sRnJvbVN0cmluZyhzdHI6IHN0cmluZykge1xuICAgICAgY29uc3QgZGVjb2RlZFN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICAgICAgY29uc3QgcGFyc2VkSHRtbCA9IGRvbVBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGVjb2RlZFN0cmluZywgJ3RleHQvaHRtbCcpO1xuXG4gICAgICBpZiAoIXBhcnNlZEh0bWwgfHwgIXBhcnNlZEh0bWwuYm9keSB8fCAhcGFyc2VkSHRtbC5ib2R5LmZpcnN0Q2hpbGQpXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICByZXR1cm4gcGFyc2VkSHRtbC5ib2R5LmZpcnN0Q2hpbGQ7XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEVycm9yQXR0ck5hbWUgPSAoZXJyb3JBdHRyOiBzdHJpbmcsIGVycm9yQ29kZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGZvcm1hdHRlZEVycm9yQ29kZSA9IGVycm9yQ29kZS5yZXBsYWNlKCdfJywgJy0nKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gYCR7ZXJyb3JBdHRyfS0ke2Zvcm1hdHRlZEVycm9yQ29kZX0tZXJyb3JgO1xufTtcblxuZXhwb3J0IGNvbnN0IGhhbmRsZUVycm9yTm9kZSA9IChcbiAgZXJyb3JNc2dOb2RlOiBhbnksXG4gIGVycm9yU3RhdGVOb2RlOiBIVE1MRWxlbWVudCxcbiAgZXJyb3JDb2RlOiBzdHJpbmcsXG4gIGVycm9yQXR0clByZWZpeDogc3RyaW5nLFxuICBkZWZhdWx0RXJyb3JDb3B5OiBzdHJpbmdcbikgPT4ge1xuICAvLyBnZXQgdGhlIGVycm9yIGNvcHkgZnJvbSB0aGUgZGF0YSBhdHRyaWJ1dGVcbiAgY29uc3QgZXJyb3JBdHRyID0gZ2V0RXJyb3JBdHRyTmFtZShlcnJvckF0dHJQcmVmaXgsIGVycm9yQ29kZSk7XG4gIGNvbnN0IGVycm9yQ29weSA9IGVycm9yTXNnTm9kZSAmJiBlcnJvck1zZ05vZGUuZ2V0QXR0cmlidXRlKGVycm9yQXR0cik7XG4gIC8vIGFubm91bmNlIHRoZSBjb250ZW50cyBvZiB0aGUgZGl2IHRvIEFUc1xuICBlcnJvck1zZ05vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gIC8vIHNldCB0aGUgbWVzc2FnZSB0ZXh0IHRvIHRoZSBlcnJvciBtZXNzYWdlIG9yIGRlZmF1bHQgY29weSBpZiBpdCBpcyBudWxsXG4gIGVycm9yTXNnTm9kZS50ZXh0Q29udGVudCA9IGVycm9yQ29weSA/IGVycm9yQ29weSA6IGRlZmF1bHRFcnJvckNvcHk7XG4gIC8vIHNob3cgdGhlIGVycm9yIHN0YXRlIEVsZW1lbnRcbiAgc2hvd0VsZW1lbnQoZXJyb3JTdGF0ZU5vZGUpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTdWJtaXQoc3VibWl0OiBFbGVtZW50IHwgbnVsbCk6IHN0cmluZyB7XG4gIGlmICghc3VibWl0KSByZXR1cm4gJyc7XG5cbiAgLy8gRGlzYWJsZSBzdWJtaXRcbiAgc3VibWl0LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAvLyBTdG9yZSBwcmV2aW91cyB2YWx1ZVxuICBjb25zdCB2YWx1ZSA9IHN1Ym1pdC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gIC8vIFNob3cgd2FpdCB0ZXh0XG4gIGNvbnN0IHdhaXRUZXh0ID0gc3VibWl0LmdldEF0dHJpYnV0ZSgnZGF0YS13YWl0Jyk7XG4gIGlmICh3YWl0VGV4dCkgc3VibWl0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB3YWl0VGV4dCk7XG5cbiAgcmV0dXJuIHZhbHVlID8/ICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTdWJtaXQoc3VibWl0OiBIVE1MRWxlbWVudCB8IG51bGwsIHRleHQ6IHN0cmluZykge1xuICBpZiAoIXN1Ym1pdCkgcmV0dXJuO1xuICAvLyBSZWVuYWJsZSBzdWJtaXRcbiAgc3VibWl0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgLy8gUmVzZXQgdGV4dFxuICBzdWJtaXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRleHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkaXJlY3RQYXRoKCkge1xuICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGNvbnN0IHJlZGlyZWN0UGFyYW0gPSBxdWVyeVN0cmluZy5tYXRjaCgvWz98Jl11c3JlZGlyPShbXkAmPz1dKykvZyk7XG5cbiAgaWYgKCFyZWRpcmVjdFBhcmFtKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGVuY29kZWRQYXRoID0gcmVkaXJlY3RQYXJhbVswXS5zdWJzdHJpbmcoJz91c3JlZGlyPScubGVuZ3RoKTtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkUGF0aCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWRpcmVjdFdpdGhVc3JkaXIobG9jYXRpb246IHN0cmluZykge1xuICBjb25zdCByZWRpcmVjdFBhcmFtID0gZ2V0UmVkaXJlY3RQYXRoKCk7XG4gIGxldCBlbmNvZGVkUGF0aDtcbiAgaWYgKHJlZGlyZWN0UGFyYW0pIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNTMyIC0gT2JqZWN0IGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgIGVuY29kZWRQYXRoID0gcmVkaXJlY3RQYXJhbVswXS5zdWJzdHJpbmcoJz91c3JlZGlyPScubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBlbmNvZGVkUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICB9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICdzdHJpbmcnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0xvY2F0aW9uIHwgKHN0cmluZyAmIExvY2F0aW9uKScuXG4gIHdpbmRvdy5sb2NhdGlvbiA9IGxvY2F0aW9uICsgYD91c3JlZGlyPSR7ZW5jb2RlZFBhdGh9YDtcbn1cblxuLy8gVGVzdCBpZiBwYXRoIGhhcyBhIC8sIC4sIG9yIEAgYXQgdGhlIGJlZ2lubmluZy4gSWYgc28sIHJlbW92ZSBpdC5cbmZ1bmN0aW9uIG5vcm1hbGl6ZWRSZWRpcmVjdFBhdGgocGF0aDogc3RyaW5nKSB7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdzdHJpbmcgfCB1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdzdHJpbmcnLlxuICBjb25zdCBoYXNMZWFkaW5nU3ltYm9sID0gL1xcL3xcXC58XFxAL2cudGVzdChwYXRoWzBdKTtcbiAgcmV0dXJuIGhhc0xlYWRpbmdTeW1ib2wgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZWRpcmVjdChcbiAgZGVmYXVsdFJlZGlyZWN0UGF0aD86IHN0cmluZyB8IG51bGwsXG4gIGluY2x1ZGVEZWxheTogYm9vbGVhbiA9IGZhbHNlXG4pIHtcbiAgY29uc3QgcmVkaXJlY3RQYXRoID0gZ2V0UmVkaXJlY3RQYXRoKCk7XG5cbiAgY29uc3QgcmVkaXJlY3RVcmwgPSAoKCkgPT4ge1xuICAgIGlmIChyZWRpcmVjdFBhdGgpIHtcbiAgICAgIHJldHVybiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS8ke25vcm1hbGl6ZWRSZWRpcmVjdFBhdGgoXG4gICAgICAgIHJlZGlyZWN0UGF0aFxuICAgICAgKX1gO1xuICAgIH1cbiAgICBpZiAoZGVmYXVsdFJlZGlyZWN0UGF0aCkge1xuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59LyR7bm9ybWFsaXplZFJlZGlyZWN0UGF0aChcbiAgICAgICAgZGVmYXVsdFJlZGlyZWN0UGF0aFxuICAgICAgKX1gO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH0pKCk7XG5cbiAgaWYgKCFyZWRpcmVjdFVybCkgcmV0dXJuO1xuXG4gIHJldHVybiBpbmNsdWRlRGVsYXlcbiAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMzkgLSBQcm9wZXJ0eSAnV2ViZmxvdycgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMnLlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cuV2ViZmxvdy5sb2NhdGlvbihyZWRpcmVjdFVybCksIDMwMDApXG4gICAgOiAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ1dlYmZsb3cnIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy5cbiAgICAgIHdpbmRvdy5XZWJmbG93LmxvY2F0aW9uKHJlZGlyZWN0VXJsKTtcbn1cblxudHlwZSBGYWlsZWRWYWxpZGF0aW9ucyA9IHtcbiAgZmllbGRJZDogc3RyaW5nO1xuICBuYW1lOiBrZXlvZiB0eXBlb2YgU0VSVkVSX0RBVEFfVkFMSURBVElPTl9FUlJPUlM7XG59W107XG5cbmNvbnN0IHdyYXBwZXJTZWxlY3RvcnMgPSBbJy53LWZpbGUtdXBsb2FkLWVycm9yJ107XG5cbmNvbnN0IHNldEVycm9yTXNnID0gKFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICd3cmFwcGVyJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICB3cmFwcGVyLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFM3MDA2IC0gUGFyYW1ldGVyICdmaWVsZEVsZW1lbnRzJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICBmaWVsZEVsZW1lbnRzLFxuICBuYW1lOlxuICAgIHwgJ0RlZmF1bHRFcnJvcidcbiAgICB8ICdFeHRlbnNpb25zRXJyb3InXG4gICAgfCAnTWF4U2l6ZUVycm9yJ1xuICAgIHwgJ01pblNpemVFcnJvcidcbiAgICB8ICdSZXF1aXJlZEVycm9yJ1xuKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRFbGVtZW50cy5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGVycm9yVGV4dCA9IGZpZWxkRWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIGlmIChlcnJvclRleHQpIHtcbiAgICAgIGZpZWxkRWxlbWVudHNbaV0uaW5uZXJIVE1MID0gZXJyb3JUZXh0O1xuICAgICAgcmVtb3ZlSGlkZGVuQ2xhc3Mod3JhcHBlcik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZVZhbGlkYXRpb25FcnJvcnMgPSAoXG4gIGZvcm06IEhUTUxFbGVtZW50LFxuICBmYWlsZWRWYWxpZGF0aW9uczogRmFpbGVkVmFsaWRhdGlvbnNcbikgPT4ge1xuICBjb25zdCB3cmFwcGVyczogQXJyYXk8SFRNTEVsZW1lbnQgfCBhbnk+ID0gW107XG4gIHdyYXBwZXJTZWxlY3RvcnMuZm9yRWFjaCgod3JhcHBlclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgX3dyYXBwZXJzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHdyYXBwZXJTZWxlY3Rvcik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF93cmFwcGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgd3JhcHBlcnMucHVzaChfd3JhcHBlcnNbaV0pO1xuICAgIH1cbiAgfSk7XG4gIHdyYXBwZXJzLmZvckVhY2goKHdyYXBwZXIpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhaWxlZFZhbGlkYXRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBmYWlsZWRWYWxpZGF0aW9uID0gZmFpbGVkVmFsaWRhdGlvbnNbaV07XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdmYWlsZWRWYWxpZGF0aW9uJyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICAgIGNvbnN0IG5hbWUgPSBmYWlsZWRWYWxpZGF0aW9uLm5hbWU7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMxODA0OCAtICdmYWlsZWRWYWxpZGF0aW9uJyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICAgIGNvbnN0IGZpZWxkSWQgPSBmYWlsZWRWYWxpZGF0aW9uLmZpZWxkSWQ7XG4gICAgICBjb25zdCBmaWVsZEVsZW1lbnRzID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAnWycgKyBVU1lTX0RBVEFfQVRUUlMuZmllbGQgKyAnPVwiJyArIGZpZWxkSWQgKyAnXCJdJ1xuICAgICAgKTtcbiAgICAgIGlmIChmaWVsZEVsZW1lbnRzICYmIHNldEVycm9yTXNnKHdyYXBwZXIsIGZpZWxkRWxlbWVudHMsIG5hbWUpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBlcnJvciBoYW5kbGluZ1xuY29uc3QgZGVmYXVsdEVycm9yQ29weSA9XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI1MzIgLSBPYmplY3QgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gIHNpZ25VcEVycm9yU3RhdGVzW1NJR05VUF9VSV9FUlJPUl9DT0RFUy5HRU5FUkFMX0VSUk9SXS5jb3B5O1xuXG5leHBvcnQgY29uc3QgdXNlckZvcm1FcnJvciA9XG4gIChcbiAgICBmb3JtOiBIVE1MRWxlbWVudCB8IG51bGwsXG4gICAgZXJyb3JTdGF0ZTogSFRNTEVsZW1lbnQgfCBudWxsLFxuICAgIGZvcm1UeXBlOiBrZXlvZiB0eXBlb2YgRVJST1JfQVRUUklCVVRFX1BSRUZJWFxuICApID0+XG4gIChlcnJvcjogYW55KSA9PiB7XG4gICAgaWYgKGVycm9yU3RhdGUgPT09IG51bGwgfHwgZm9ybSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IGVycm9yTXNnTm9kZSA9IGVycm9yU3RhdGUucXVlcnlTZWxlY3RvcihgLiR7RVJST1JfTVNHX0NMQVNTfWApO1xuICAgIGNvbnN0IGZhaWxlZFZhbGlkYXRpb25zID0gZXJyb3IuZ3JhcGhRTEVycm9ycz8uWzBdPy5mYWlsZWRWYWxpZGF0aW9ucztcblxuICAgIGlmIChmYWlsZWRWYWxpZGF0aW9ucykge1xuICAgICAgaGFuZGxlVmFsaWRhdGlvbkVycm9ycyhmb3JtLCBmYWlsZWRWYWxpZGF0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlcmUgaXNuJ3QgYW4gZXJyb3IgY29kZSwgc2VuZCBhbiBlbXB0eSBzdHJpbmcgc28gYSBnZW5lcmljIGVycm9yIG1lc3NhZ2UgYXBwZWFyc1xuICAgIGNvbnN0IGVsZW1lbnRFcnJvckNvZGUgPSBlcnJvcj8uZ3JhcGhRTEVycm9ycz8uWzBdPy5jb2RlID8/ICcnO1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGdldFNpZ251cEVycm9yQ29kZShlbGVtZW50RXJyb3JDb2RlKTtcblxuICAgIGhhbmRsZUVycm9yTm9kZShcbiAgICAgIGVycm9yTXNnTm9kZSxcbiAgICAgIGVycm9yU3RhdGUsXG4gICAgICBlcnJvckNvZGUsXG4gICAgICBFUlJPUl9BVFRSSUJVVEVfUFJFRklYW2Zvcm1UeXBlXSxcbiAgICAgIGRlZmF1bHRFcnJvckNvcHlcbiAgICApO1xuICB9O1xuXG5leHBvcnQgY29uc3QgZ2V0U2lnbnVwRXJyb3JDb2RlID0gKGVycm9yOiBzdHJpbmcpID0+IHtcbiAgbGV0IGVycm9yQ29kZTtcbiAgc3dpdGNoIChlcnJvcikge1xuICAgIGNhc2UgJ1VzeXNJbnZhbGlkVXNlckRhdGEnOlxuICAgICAgZXJyb3JDb2RlID0gU0lHTlVQX1VJX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVEO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnVXN5c1VuYXV0aG9yaXplZEVtYWlsJzpcbiAgICAgIGVycm9yQ29kZSA9IFNJR05VUF9VSV9FUlJPUl9DT0RFUy5OT1RfQUxMT1dFRDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1VzeXNNdXN0VXNlSW52aXRhdGlvbic6XG4gICAgICBlcnJvckNvZGUgPSBTSUdOVVBfVUlfRVJST1JfQ09ERVMuVVNFX0lOVklURV9FTUFJTDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1VzeXNEdXBsaWNhdGVFbWFpbCc6XG4gICAgICBlcnJvckNvZGUgPSBTSUdOVVBfVUlfRVJST1JfQ09ERVMuRU1BSUxfQUxSRUFEWV9FWElTVDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1VzeXNJbnZhbGlkRW1haWwnOlxuICAgICAgZXJyb3JDb2RlID0gU0lHTlVQX1VJX0VSUk9SX0NPREVTLklOVkFMSURfRU1BSUw7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdVc3lzSW52YWxpZFBhc3N3b3JkJzpcbiAgICAgIGVycm9yQ29kZSA9IFNJR05VUF9VSV9FUlJPUl9DT0RFUy5JTlZBTElEX1BBU1NXT1JEO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnVXN5c0ludmFsaWRUb2tlbic6XG4gICAgICBlcnJvckNvZGUgPSBTSUdOVVBfVUlfRVJST1JfQ09ERVMuTk9UX1ZFUklGSUVEO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnVXN5c0V4cGlyZWRUb2tlbic6XG4gICAgICBlcnJvckNvZGUgPSBTSUdOVVBfVUlfRVJST1JfQ09ERVMuRVhQSVJFRF9UT0tFTjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlcnJvckNvZGUgPSBTSUdOVVBfVUlfRVJST1JfQ09ERVMuR0VORVJBTF9FUlJPUjtcbiAgfVxuICByZXR1cm4gZXJyb3JDb2RlO1xufTtcbiJdLCJuYW1lcyI6WyJhZGRIaWRkZW5DbGFzcyIsImRpc2FibGVTdWJtaXQiLCJnZXREb21QYXJzZXIiLCJnZXRFcnJvckF0dHJOYW1lIiwiZ2V0UmVkaXJlY3RQYXRoIiwiZ2V0U2lnbnVwRXJyb3JDb2RlIiwiaGFuZGxlRXJyb3JOb2RlIiwiaGFuZGxlUmVkaXJlY3QiLCJoaWRlRWxlbWVudCIsInJlZGlyZWN0V2l0aFVzcmRpciIsInJlbW92ZUhpZGRlbkNsYXNzIiwicmVzZXRTdWJtaXQiLCJzaG93QW5kRm9jdXNFbGVtZW50Iiwic2hvd0VsZW1lbnQiLCJ1c2VyRm9ybUVycm9yIiwidXNlclN5c3RlbXNSZXF1ZXN0Q2xpZW50IiwiR1FMX1FVRVJZX1BBVEgiLCJjcmVhdGVBcG9sbG9DbGllbnQiLCJwYXRoIiwidXNlQ3NyZiIsInJldHJ5Q29uZmlnIiwibWF4QXR0ZW1wdHMiLCJlbCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0eWxlIiwiZGlzcGxheSIsImZvY3VzIiwiZG9tUGFyc2VyIiwid2luZG93IiwiRE9NUGFyc2VyIiwiZ2V0SHRtbEZyb21TdHJpbmciLCJzdHIiLCJkZWNvZGVkU3RyaW5nIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VkSHRtbCIsInBhcnNlRnJvbVN0cmluZyIsImJvZHkiLCJmaXJzdENoaWxkIiwiZXJyb3JBdHRyIiwiZXJyb3JDb2RlIiwiZm9ybWF0dGVkRXJyb3JDb2RlIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZXJyb3JNc2dOb2RlIiwiZXJyb3JTdGF0ZU5vZGUiLCJlcnJvckF0dHJQcmVmaXgiLCJkZWZhdWx0RXJyb3JDb3B5IiwiZXJyb3JDb3B5IiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJzdWJtaXQiLCJ2YWx1ZSIsIndhaXRUZXh0IiwidGV4dCIsInJlbW92ZUF0dHJpYnV0ZSIsInF1ZXJ5U3RyaW5nIiwibG9jYXRpb24iLCJzZWFyY2giLCJyZWRpcmVjdFBhcmFtIiwibWF0Y2giLCJ1bmRlZmluZWQiLCJlbmNvZGVkUGF0aCIsInN1YnN0cmluZyIsImxlbmd0aCIsImVuY29kZVVSSUNvbXBvbmVudCIsInBhdGhuYW1lIiwibm9ybWFsaXplZFJlZGlyZWN0UGF0aCIsImhhc0xlYWRpbmdTeW1ib2wiLCJ0ZXN0IiwiZGVmYXVsdFJlZGlyZWN0UGF0aCIsImluY2x1ZGVEZWxheSIsInJlZGlyZWN0UGF0aCIsInJlZGlyZWN0VXJsIiwib3JpZ2luIiwic2V0VGltZW91dCIsIldlYmZsb3ciLCJ3cmFwcGVyU2VsZWN0b3JzIiwic2V0RXJyb3JNc2ciLCJ3cmFwcGVyIiwiZmllbGRFbGVtZW50cyIsIm5hbWUiLCJpIiwiZXJyb3JUZXh0IiwiaW5uZXJIVE1MIiwiaGFuZGxlVmFsaWRhdGlvbkVycm9ycyIsImZvcm0iLCJmYWlsZWRWYWxpZGF0aW9ucyIsIndyYXBwZXJzIiwiZm9yRWFjaCIsIndyYXBwZXJTZWxlY3RvciIsIl93cmFwcGVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwdXNoIiwiZmFpbGVkVmFsaWRhdGlvbiIsImZpZWxkSWQiLCJVU1lTX0RBVEFfQVRUUlMiLCJmaWVsZCIsInNpZ25VcEVycm9yU3RhdGVzIiwiU0lHTlVQX1VJX0VSUk9SX0NPREVTIiwiR0VORVJBTF9FUlJPUiIsImNvcHkiLCJlcnJvclN0YXRlIiwiZm9ybVR5cGUiLCJlcnJvciIsInF1ZXJ5U2VsZWN0b3IiLCJFUlJPUl9NU0dfQ0xBU1MiLCJncmFwaFFMRXJyb3JzIiwiZWxlbWVudEVycm9yQ29kZSIsImNvZGUiLCJFUlJPUl9BVFRSSUJVVEVfUFJFRklYIiwiVkFMSURBVElPTl9GQUlMRUQiLCJOT1RfQUxMT1dFRCIsIlVTRV9JTlZJVEVfRU1BSUwiLCJFTUFJTF9BTFJFQURZX0VYSVNUIiwiSU5WQUxJRF9FTUFJTCIsIklOVkFMSURfUEFTU1dPUkQiLCJOT1RfVkVSSUZJRUQiLCJFWFBJUkVEX1RPS0VOIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7Ozs7Ozs7Ozs7O0lBOEJlQSxjQUFjO2VBQWRBOztJQW9GQUMsYUFBYTtlQUFiQTs7SUEzQ0FDLFlBQVk7ZUFBWkE7O0lBb0JIQyxnQkFBZ0I7ZUFBaEJBOztJQTZDR0MsZUFBZTtlQUFmQTs7SUFzSkhDLGtCQUFrQjtlQUFsQkE7O0lBOUxBQyxlQUFlO2VBQWZBOztJQXNFR0MsY0FBYztlQUFkQTs7SUE1R0FDLFdBQVc7ZUFBWEE7O0lBd0ZBQyxrQkFBa0I7ZUFBbEJBOztJQTdHQUMsaUJBQWlCO2VBQWpCQTs7SUEyRkFDLFdBQVc7ZUFBWEE7O0lBN0VBQyxtQkFBbUI7ZUFBbkJBOztJQVBBQyxXQUFXO2VBQVhBOztJQXNOSEMsYUFBYTtlQUFiQTs7SUE3T0FDLHdCQUF3QjtlQUF4QkE7Ozs4QkFuQm9COzJCQVExQjtBQUVQOzs7Ozs7Q0FNQyxHQUNELE1BQU1DLGlCQUFpQjtBQUVoQixNQUFNRCwyQkFBMkJFLElBQUFBLGdDQUFrQixFQUFDO0lBQ3pEQyxNQUFNRjtJQUNORyxTQUFTO0lBQ1RDLGFBQWE7UUFDWEMsYUFBYTtJQUNmO0FBQ0Y7QUFHTyxTQUFTckIsZUFBZXNCLEVBQXNCO0lBQ25ELElBQUlBLElBQUk7UUFDTkEsR0FBR0MsU0FBUyxDQUFDQyxHQUFHLENBQUM7SUFDbkI7QUFDRjtBQUdPLFNBQVNkLGtCQUFrQlksRUFBc0I7SUFDdEQsSUFBSUEsSUFBSTtRQUNOQSxHQUFHQyxTQUFTLENBQUNFLE1BQU0sQ0FBQztJQUN0QjtBQUNGO0FBR08sU0FBU1osWUFBWVMsRUFBdUI7SUFDakQsSUFBSUEsSUFBSTtRQUNOQSxHQUFHSSxLQUFLLENBQUNDLE9BQU8sR0FBRztJQUNyQjtBQUNGO0FBR08sU0FB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

}),
62467: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    appendUserInputClasses: function() {
        return appendUserInputClasses;
    },
    getTempUserFileKey: function() {
        return getTempUserFileKey;
    },
    getUserFileKey: function() {
        return getUserFileKey;
    },
    parseWfUsysVariant: function() {
        return parseWfUsysVariant;
    },
    removeTempUserFileKey: function() {
        return removeTempUserFileKey;
    },
    setTempUserFileKey: function() {
        return setTempUserFileKey;
    },
    setUserFileKey: function() {
        return setUserFileKey;
    },
    uploadFileToS3: function() {
        return uploadFileToS3;
    }
});
const _constants = __webpack_require__(7462);
const appendUserInputClasses = (node, classes)=>{
    const updatedClasses = classes.push('w-input');
    if (node.getIn([
        'data',
        'attr',
        'disabled'
    ])) {
        return updatedClasses.push('w-input-disabled');
    }
    return updatedClasses;
};
const parseWfUsysVariant = (wfUsysVariant)=>{
    if (!wfUsysVariant) return [];
    let results = [];
    for (const wfUsysVariantKey of wfUsysVariant.split(',')){
        if (// @ts-expect-error - TS2345 - Argument of type 'string' is not assignable to parameter of type '"LOGGED_IN" | "ADMIN_ALWAYS_VISIBLE"'.
        _constants.USER_ACCESS_META_OPTIONS.includes(wfUsysVariantKey) && // @ts-expect-error - TS2345 - Argument of type 'string' is not assignable to parameter of type '"LOGGED_IN" | "ADMIN_ALWAYS_VISIBLE"'.
        !results.includes(wfUsysVariantKey)) {
            results.push(wfUsysVariantKey);
        } else {
            // This is the error case
            console.error(`UnexpectedWfUsysVariant: Renderer received unexpected wf-usys-variant`);
            results = [];
            break;
        }
    }
    return results;
};
function uploadFileToS3(url, fields, file) {
    return new Promise((resolve, reject)=>{
        const formData = new FormData();
        Object.entries(fields).forEach(([key, value])=>{
            formData.append(key, value);
        });
        formData.append('file', file);
        fetch(url, {
            method: 'POST',
            body: formData
        }).then((response)=>{
            if (response.ok) {
                // @ts-expect-error - TS2794 - Expected 1 arguments, but got 0. Did you forget to include 'void' in your type argument to 'Promise'?
                resolve();
            } else {
                return response.text();
            }
        }).then((text)=>{
            reject(text);
        });
    });
}
const getUserFileKey = (element)=>{
    return element.getAttribute(_constants.USYS_DATA_ATTRS.fileUploadKey);
};
const setUserFileKey = (element, value)=>{
    element.setAttribute(_constants.USYS_DATA_ATTRS.fileUploadKey, value);
};
const getTempUserFileKey = (element)=>{
    return element.getAttribute(_constants.USYS_DATA_ATTRS.unsavedFileUploadKey);
};
const setTempUserFileKey = (element, value)=>{
    element.setAttribute(_constants.USYS_DATA_ATTRS.unsavedFileUploadKey, value);
};
const removeTempUserFileKey = (element)=>{
    element.removeAttribute(_constants.USYS_DATA_ATTRS.unsavedFileUploadKey);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtBYnN0cmFjdE5vZGVUeXBlfSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy9jb3JlL0Fic3RyYWN0Tm9kZSc7XG5pbXBvcnQgdHlwZSB7Q2xhc3Nlc0xpc3R9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL3dmZGwnO1xuXG5pbXBvcnQge1xuICB0eXBlIFVzZXJBY2Nlc3NNZXRhLFxuICB0eXBlIFVzZXJBY2Vzc01ldGFPcHRpb24sXG4gIFVTRVJfQUNDRVNTX01FVEFfT1BUSU9OUyxcbiAgVVNZU19EQVRBX0FUVFJTLFxufSBmcm9tICdAcGFja2FnZXMvc3lzdGVtcy91c2Vycy9jb25zdGFudHMnO1xuXG5leHBvcnQgY29uc3QgYXBwZW5kVXNlcklucHV0Q2xhc3NlcyA9IChcbiAgbm9kZTogQWJzdHJhY3ROb2RlVHlwZSxcbiAgY2xhc3NlczogQ2xhc3Nlc0xpc3RcbikgPT4ge1xuICBjb25zdCB1cGRhdGVkQ2xhc3NlcyA9IGNsYXNzZXMucHVzaCgndy1pbnB1dCcpO1xuICBpZiAobm9kZS5nZXRJbihbJ2RhdGEnLCAnYXR0cicsICdkaXNhYmxlZCddKSkge1xuICAgIHJldHVybiB1cGRhdGVkQ2xhc3Nlcy5wdXNoKCd3LWlucHV0LWRpc2FibGVkJyk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZWRDbGFzc2VzO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlV2ZVc3lzVmFyaWFudCA9ICh3ZlVzeXNWYXJpYW50Pzogc3RyaW5nKTogVXNlckFjY2Vzc01ldGEgPT4ge1xuICBpZiAoIXdmVXN5c1ZhcmlhbnQpIHJldHVybiBbXTtcblxuICBsZXQgcmVzdWx0czogQXJyYXk8VXNlckFjZXNzTWV0YU9wdGlvbj4gPSBbXTtcblxuICBmb3IgKGNvbnN0IHdmVXN5c1ZhcmlhbnRLZXkgb2Ygd2ZVc3lzVmFyaWFudC5zcGxpdCgnLCcpKSB7XG4gICAgaWYgKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZycgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ1wiTE9HR0VEX0lOXCIgfCBcIkFETUlOX0FMV0FZU19WSVNJQkxFXCInLlxuICAgICAgVVNFUl9BQ0NFU1NfTUVUQV9PUFRJT05TLmluY2x1ZGVzKHdmVXN5c1ZhcmlhbnRLZXkpICYmXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnc3RyaW5nJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnXCJMT0dHRURfSU5cIiB8IFwiQURNSU5fQUxXQVlTX1ZJU0lCTEVcIicuXG4gICAgICAhcmVzdWx0cy5pbmNsdWRlcyh3ZlVzeXNWYXJpYW50S2V5KVxuICAgICkge1xuICAgICAgcmVzdWx0cy5wdXNoKHdmVXN5c1ZhcmlhbnRLZXkgYXMgVXNlckFjZXNzTWV0YU9wdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgdGhlIGVycm9yIGNhc2VcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkV2ZVc3lzVmFyaWFudDogUmVuZGVyZXIgcmVjZWl2ZWQgdW5leHBlY3RlZCB3Zi11c3lzLXZhcmlhbnRgXG4gICAgICApO1xuICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkRmlsZVRvUzMoXG4gIHVybDogc3RyaW5nLFxuICBmaWVsZHM6IGFueSxcbiAgZmlsZTogRmlsZVxuKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAoXG4gICAgICByZXNvbHZlOiAocmVzdWx0OiBQcm9taXNlPHVuZGVmaW5lZD4gfCB1bmRlZmluZWQpID0+IHZvaWQsXG4gICAgICByZWplY3Q6IChlcnJvcj86IGFueSkgPT4gdm9pZFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGZpZWxkcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdOiBbYW55LCBhbnldKSA9PiB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgICAgIGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI3OTQgLSBFeHBlY3RlZCAxIGFyZ3VtZW50cywgYnV0IGdvdCAwLiBEaWQgeW91IGZvcmdldCB0byBpbmNsdWRlICd2b2lkJyBpbiB5b3VyIHR5cGUgYXJndW1lbnQgdG8gJ1Byb21pc2UnP1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICByZWplY3QodGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFVzZXJGaWxlS2V5ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShVU1lTX0RBVEFfQVRUUlMuZmlsZVVwbG9hZEtleSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VXNlckZpbGVLZXkgPSAoZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IHN0cmluZykgPT4ge1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShVU1lTX0RBVEFfQVRUUlMuZmlsZVVwbG9hZEtleSwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFRlbXBVc2VyRmlsZUtleSA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoVVNZU19EQVRBX0FUVFJTLnVuc2F2ZWRGaWxlVXBsb2FkS2V5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRUZW1wVXNlckZpbGVLZXkgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoVVNZU19EQVRBX0FUVFJTLnVuc2F2ZWRGaWxlVXBsb2FkS2V5LCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlVGVtcFVzZXJGaWxlS2V5ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFVTWVNfREFUQV9BVFRSUy51bnNhdmVkRmlsZVVwbG9hZEtleSk7XG59O1xuIl0sIm5hbWVzIjpbImFwcGVuZFVzZXJJbnB1dENsYXNzZXMiLCJnZXRUZW1wVXNlckZpbGVLZXkiLCJnZXRVc2VyRmlsZUtleSIsInBhcnNlV2ZVc3lzVmFyaWFudCIsInJlbW92ZVRlbXBVc2VyRmlsZUtleSIsInNldFRlbXBVc2VyRmlsZUtleSIsInNldFVzZXJGaWxlS2V5IiwidXBsb2FkRmlsZVRvUzMiLCJub2RlIiwiY2xhc3NlcyIsInVwZGF0ZWRDbGFzc2VzIiwicHVzaCIsImdldEluIiwid2ZVc3lzVmFyaWFudCIsInJlc3VsdHMiLCJ3ZlVzeXNWYXJpYW50S2V5Iiwic3BsaXQiLCJVU0VSX0FDQ0VTU19NRVRBX09QVElPTlMiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJlcnJvciIsInVybCIsImZpZWxkcyIsImZpbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiYXBwZW5kIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJ0ZXh0IiwiZWxlbWVudCIsImdldEF0dHJpYnV0ZSIsIlVTWVNfREFUQV9BVFRSUyIsImZpbGVVcGxvYWRLZXkiLCJzZXRBdHRyaWJ1dGUiLCJ1bnNhdmVkRmlsZVVwbG9hZEtleSIsInJlbW92ZUF0dHJpYnV0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUFVYUEsc0JBQXNCO2VBQXRCQTs7SUFnRkFDLGtCQUFrQjtlQUFsQkE7O0lBUkFDLGNBQWM7ZUFBZEE7O0lBN0RBQyxrQkFBa0I7ZUFBbEJBOztJQTZFQUMscUJBQXFCO2VBQXJCQTs7SUFKQUMsa0JBQWtCO2VBQWxCQTs7SUFSQUMsY0FBYztlQUFkQTs7SUF2Q0dDLGNBQWM7ZUFBZEE7OzsyQkF2Q1Q7QUFFQSxNQUFNUCx5QkFBeUIsQ0FDcENRLE1BQ0FDO0lBRUEsTUFBTUMsaUJBQWlCRCxRQUFRRSxJQUFJLENBQUM7SUFDcEMsSUFBSUgsS0FBS0ksS0FBSyxDQUFDO1FBQUM7UUFBUTtRQUFRO0tBQVcsR0FBRztRQUM1QyxPQUFPRixlQUFlQyxJQUFJLENBQUM7SUFDN0I7SUFDQSxPQUFPRDtBQUNUO0FBRU8sTUFBTVAscUJBQXFCLENBQUNVO0lBQ2pDLElBQUksQ0FBQ0EsZUFBZSxPQUFPLEVBQUU7SUFFN0IsSUFBSUMsVUFBc0MsRUFBRTtJQUU1QyxLQUFLLE1BQU1DLG9CQUFvQkYsY0FBY0csS0FBSyxDQUFDLEtBQU07UUFDdkQsSUFDRSx1SUFBdUk7UUFDdklDLG1DQUF3QixDQUFDQyxRQUFRLENBQUNILHFCQUNsQyx1SUFBdUk7UUFDdkksQ0FBQ0QsUUFBUUksUUFBUSxDQUFDSCxtQkFDbEI7WUFDQUQsUUFBUUgsSUFBSSxDQUFDSTtRQUNmLE9BQU87WUFDTCx5QkFBeUI7WUFDekJJLFFBQVFDLEtBQUssQ0FDWCxDQUFDLHFFQUFxRSxDQUFDO1lBRXpFTixVQUFVLEVBQUU7WUFDWjtRQUNGO0lBQ0Y7SUFFQSxPQUFPQTtBQUNUO0FBRU8sU0FBU1AsZUFDZGMsR0FBVyxFQUNYQyxNQUFXLEVBQ1hDLElBQVU7SUFFVixPQUFPLElBQUlDLFFBQ1QsQ0FDRUMsU0FDQUM7UUFFQSxNQUFNQyxXQUFXLElBQUlDO1FBQ3JCQyxPQUFPQyxPQUFPLENBQUNSLFFBQVFTLE9BQU8sQ0FBQyxDQUFDLENBQUNDLEtBQUtDLE1BQWtCO1lBQ3RETixTQUFTTyxNQUFNLENBQUNGLEtBQUtDO1FBQ3ZCO1FBRUFOLFNBQVNPLE1BQU0sQ0FBQyxRQUFRWDtRQUN4QlksTUFBTWQsS0FBSztZQUNUZSxRQUFRO1lBQ1JDLE1BQU1WO1FBQ1IsR0FDR1csSUFBSSxDQUFDLENBQUNDO1lBQ0wsSUFBSUEsU0FBU0MsRUFBRSxFQUFFO2dCQUNmLG9JQUFvSTtnQkFDcElmO1lBQ0YsT0FBTztnQkFDTCxPQUFPYyxTQUFTRSxJQUFJO1lBQ3RCO1FBQ0YsR0FDQ0gsSUFBSSxDQUFDLENBQUNHO1lBQ0xmLE9BQU9lO1FBQ1Q7SUFDSjtBQUVKO0FBRU8sTUFBTXZDLGlCQUFpQixDQUFDd0M7SUFDN0IsT0FBT0EsUUFBUUMsWUFBWSxDQUFDQywwQkFBZSxDQUFDQyxhQUFhO0FBQzNEO0FBRU8sTUFBTXZDLGlCQUFpQixDQUFDb0MsU0FBa0JUO0lBQy9DUyxRQUFRSSxZQUFZLENBQUNGLDBCQUFlLENBQUNDLGFBQWEsRUFBRVo7QUFDdEQ7QUFFTyxNQUFNaEMscUJBQXFCLENBQUN5QztJQUNqQyxPQUFPQSxRQUFRQyxZQUFZLENBQUNDLDBCQUFlLENBQUNHLG9CQUFvQjtBQUNsRTtBQUVPLE1BQU0xQyxxQkFBcUIsQ0FBQ3FDLFNBQXNCVDtJQUN2RFMsUUFBUUksWUFBWSxDQUFDRiwwQkFBZSxDQUFDRyxvQkFBb0IsRUFBRWQ7QUFDN0Q7QUFFTyxNQUFNN0Isd0JBQXdCLENBQUNzQztJQUNwQ0EsUUFBUU0sZUFBZSxDQUFDSiwwQkFBZSxDQUFDRyxvQkFBb0I7QUFDOUQifQ==

}),
99866: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    buildApolloClientUri: function() {
        return buildApolloClientUri;
    },
    createApolloClient: function() {
        return createApolloClient;
    }
});
const _client = __webpack_require__(12522);
const _batchhttp = __webpack_require__(8012);
const _error = __webpack_require__(25064);
const _fetchWithCsrf = __webpack_require__(22393);
const _helpers = __webpack_require__(21650);
const createApolloClient = ({ origin = '', path, publicationId, previewKey, ssrMode = false, credentials = 'same-origin', headers = {}, useCsrf = false, retryConfig, onError, disableBatching = false, customLinks = [] })=>{
    const uri = buildApolloClientUri({
        origin,
        path,
        publicationId,
        previewKey
    });
    const requestHeaders = {
        Accept: 'application/json'
    };
    Object.keys(headers).forEach((headerKey)=>{
        // @ts-expect-error - TS2322 - Type 'string | undefined' is not assignable to type 'string'.
        requestHeaders[headerKey] = headers[headerKey];
    });
    const batchLinkArgs = {
        uri,
        headers: requestHeaders,
        credentials
    };
    // Disable batching
    if (disableBatching) {
        batchLinkArgs.batchMax = 1;
        batchLinkArgs.batchInterval = 0;
    }
    // Fetch using a CSRF token if toggled
    if (useCsrf) {
        batchLinkArgs.fetch = _fetchWithCsrf.fetchWithCsrf;
    }
    const batchLink = new _batchhttp.BatchHttpLink(batchLinkArgs);
    const links = [];
    if (retryConfig) {
        links.push((0, _helpers.createRetryLink)(retryConfig));
    }
    if (onError) {
        links.push((0, _error.onError)(onError));
    }
    const apolloClient = new _client.ApolloClient({
        link: _client.ApolloLink.from([
            ...customLinks,
            ...links,
            batchLink
        ]),
        cache: new _client.InMemoryCache({
            dataIdFromObject: (object)=>{
                switch(object.__typename){
                    case 'sku_props':
                        return undefined;
                    case 'commerce_subscription':
                        {
                            return object._id;
                        }
                    case 'collections':
                        // `collections` does not have an ID, so we must
                        // use a hard-coded string so that Apollo cache
                        // can merge the `collections` objects together.
                        return object.__typename;
                    case 'CMSNamespace':
                        // `CMSNamespace` does not have an ID, so we must
                        // use a hard-coded string so that Apollo cache
                        // can merge the `CMSNamespace` objects together.
                        return object.__typename;
                    default:
                        {
                            if (object.cmsLocaleId) {
                                return `${object.id}_${object.cmsLocaleId}`;
                            }
                            return object.id;
                        }
                }
            }
        }),
        ssrMode
    });
    return apolloClient;
};
const buildApolloClientUri = ({ origin = '', path, publicationId, previewKey })=>{
    const params = [];
    if (publicationId) {
        params.push(`pub=${publicationId}`);
    }
    if (previewKey) {
        params.push(`preview=${previewKey}`);
    }
    // Replace multiple slashes with single slashes
    const cleanPath = `${origin}${path}`.replace(/([^:])\/\/+/g, '$1/');
    return `${cleanPath}${params.length ? `?${params.join('&')}` : ''}`;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZUFwb2xsb0NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBcG9sbG9DbGllbnQsXG4gIEFwb2xsb0xpbmssXG4gIEluTWVtb3J5Q2FjaGUsXG4gIHR5cGUgSWRHZXR0ZXJPYmosXG59IGZyb20gJ0BhcG9sbG8vY2xpZW50JztcbmltcG9ydCB7QmF0Y2hIdHRwTGlua30gZnJvbSAnQGFwb2xsby9jbGllbnQvbGluay9iYXRjaC1odHRwJztcbmltcG9ydCB7XG4gIG9uRXJyb3IgYXMgb25SZXF1ZXN0RXJyb3IsXG4gIHR5cGUgRXJyb3JIYW5kbGVyLFxufSBmcm9tICdAYXBvbGxvL2NsaWVudC9saW5rL2Vycm9yJztcbmltcG9ydCB7ZmV0Y2hXaXRoQ3NyZn0gZnJvbSAnLi9jdXN0b21GZXRjaGVycy9mZXRjaFdpdGhDc3JmJztcbmltcG9ydCB7Y3JlYXRlUmV0cnlMaW5rLCBSZXRyeUxpbmtDb25maWd9IGZyb20gJy4vaGVscGVycyc7XG5cbmludGVyZmFjZSBXZWJmbG93SWRHZXR0ZXJPYmogZXh0ZW5kcyBJZEdldHRlck9iaiB7XG4gIGNtc0xvY2FsZUlkPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLy8gUmV0dXJucyBhbiBBcG9sbG9DbGllbnQgaW5zdGFuY2Vcbi8vIGh0dHBzOi8vd3d3LmFwb2xsb2dyYXBocWwuY29tL2RvY3MvcmVhY3QvXG5leHBvcnQgY29uc3QgY3JlYXRlQXBvbGxvQ2xpZW50ID0gKHtcbiAgb3JpZ2luID0gJycsXG4gIHBhdGgsXG4gIHB1YmxpY2F0aW9uSWQsXG4gIHByZXZpZXdLZXksXG4gIHNzck1vZGUgPSBmYWxzZSxcbiAgY3JlZGVudGlhbHMgPSAnc2FtZS1vcmlnaW4nLFxuICBoZWFkZXJzID0ge30sXG4gIHVzZUNzcmYgPSBmYWxzZSxcbiAgcmV0cnlDb25maWcsXG4gIG9uRXJyb3IsXG4gIGRpc2FibGVCYXRjaGluZyA9IGZhbHNlLFxuICBjdXN0b21MaW5rcyA9IFtdLFxufToge1xuICBvcmlnaW4/OiBzdHJpbmc7XG4gIHBhdGg6IHN0cmluZztcbiAgcHJldmlld0tleT86IHN0cmluZztcbiAgcHVibGljYXRpb25JZD86IHN0cmluZztcbiAgc3NyTW9kZT86IGJvb2xlYW47XG4gIGNyZWRlbnRpYWxzPzogc3RyaW5nO1xuICB1c2VDc3JmPzogYm9vbGVhbjtcbiAgcmV0cnlDb25maWc/OiBSZXRyeUxpbmtDb25maWc7XG4gIG9uRXJyb3I/OiBFcnJvckhhbmRsZXI7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBkaXNhYmxlQmF0Y2hpbmc/OiBib29sZWFuO1xuICBjdXN0b21MaW5rcz86IEFycmF5PEFwb2xsb0xpbms+O1xufSkgPT4ge1xuICBjb25zdCB1cmkgPSBidWlsZEFwb2xsb0NsaWVudFVyaSh7b3JpZ2luLCBwYXRoLCBwdWJsaWNhdGlvbklkLCBwcmV2aWV3S2V5fSk7XG5cbiAgY29uc3QgcmVxdWVzdEhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gIH07XG5cbiAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaCgoaGVhZGVyS2V5KSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ3N0cmluZyB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnc3RyaW5nJy5cbiAgICByZXF1ZXN0SGVhZGVyc1toZWFkZXJLZXldID0gaGVhZGVyc1toZWFkZXJLZXldO1xuICB9KTtcblxuICBjb25zdCBiYXRjaExpbmtBcmdzOiB7XG4gICAgdXJpOiBzdHJpbmc7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBjcmVkZW50aWFsczogc3RyaW5nO1xuICAgIGJhdGNoTWF4PzogbnVtYmVyO1xuICAgIGJhdGNoSW50ZXJ2YWw/OiBudW1iZXI7XG4gICAgZmV0Y2g/OiB0eXBlb2YgZmV0Y2hXaXRoQ3NyZjtcbiAgfSA9IHtcbiAgICB1cmksXG4gICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgY3JlZGVudGlhbHMsXG4gIH07XG5cbiAgLy8gRGlzYWJsZSBiYXRjaGluZ1xuICBpZiAoZGlzYWJsZUJhdGNoaW5nKSB7XG4gICAgYmF0Y2hMaW5rQXJncy5iYXRjaE1heCA9IDE7XG4gICAgYmF0Y2hMaW5rQXJncy5iYXRjaEludGVydmFsID0gMDtcbiAgfVxuXG4gIC8vIEZldGNoIHVzaW5nIGEgQ1NSRiB0b2tlbiBpZiB0b2dnbGVkXG4gIGlmICh1c2VDc3JmKSB7XG4gICAgYmF0Y2hMaW5rQXJncy5mZXRjaCA9IGZldGNoV2l0aENzcmY7XG4gIH1cblxuICBjb25zdCBiYXRjaExpbmsgPSBuZXcgQmF0Y2hIdHRwTGluayhiYXRjaExpbmtBcmdzKTtcblxuICBjb25zdCBsaW5rczogQXJyYXk8QXBvbGxvTGluaz4gPSBbXTtcblxuICBpZiAocmV0cnlDb25maWcpIHtcbiAgICBsaW5rcy5wdXNoKGNyZWF0ZVJldHJ5TGluayhyZXRyeUNvbmZpZykpO1xuICB9XG5cbiAgaWYgKG9uRXJyb3IpIHtcbiAgICBsaW5rcy5wdXNoKG9uUmVxdWVzdEVycm9yKG9uRXJyb3IpKTtcbiAgfVxuXG4gIGNvbnN0IGFwb2xsb0NsaWVudCA9IG5ldyBBcG9sbG9DbGllbnQoe1xuICAgIGxpbms6IEFwb2xsb0xpbmsuZnJvbShbLi4uY3VzdG9tTGlua3MsIC4uLmxpbmtzLCBiYXRjaExpbmtdKSxcbiAgICBjYWNoZTogbmV3IEluTWVtb3J5Q2FjaGUoe1xuICAgICAgZGF0YUlkRnJvbU9iamVjdDogKG9iamVjdDogV2ViZmxvd0lkR2V0dGVyT2JqKSA9PiB7XG4gICAgICAgIHN3aXRjaCAob2JqZWN0Ll9fdHlwZW5hbWUpIHtcbiAgICAgICAgICBjYXNlICdza3VfcHJvcHMnOlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICBjYXNlICdjb21tZXJjZV9zdWJzY3JpcHRpb24nOiB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0Ll9pZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnY29sbGVjdGlvbnMnOlxuICAgICAgICAgICAgLy8gYGNvbGxlY3Rpb25zYCBkb2VzIG5vdCBoYXZlIGFuIElELCBzbyB3ZSBtdXN0XG4gICAgICAgICAgICAvLyB1c2UgYSBoYXJkLWNvZGVkIHN0cmluZyBzbyB0aGF0IEFwb2xsbyBjYWNoZVxuICAgICAgICAgICAgLy8gY2FuIG1lcmdlIHRoZSBgY29sbGVjdGlvbnNgIG9iamVjdHMgdG9nZXRoZXIuXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0Ll9fdHlwZW5hbWU7XG4gICAgICAgICAgY2FzZSAnQ01TTmFtZXNwYWNlJzpcbiAgICAgICAgICAgIC8vIGBDTVNOYW1lc3BhY2VgIGRvZXMgbm90IGhhdmUgYW4gSUQsIHNvIHdlIG11c3RcbiAgICAgICAgICAgIC8vIHVzZSBhIGhhcmQtY29kZWQgc3RyaW5nIHNvIHRoYXQgQXBvbGxvIGNhY2hlXG4gICAgICAgICAgICAvLyBjYW4gbWVyZ2UgdGhlIGBDTVNOYW1lc3BhY2VgIG9iamVjdHMgdG9nZXRoZXIuXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0Ll9fdHlwZW5hbWU7XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgaWYgKG9iamVjdC5jbXNMb2NhbGVJZCkge1xuICAgICAgICAgICAgICByZXR1cm4gYCR7b2JqZWN0LmlkfV8ke29iamVjdC5jbXNMb2NhbGVJZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gICAgc3NyTW9kZSxcbiAgfSk7XG4gIHJldHVybiBhcG9sbG9DbGllbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgYnVpbGRBcG9sbG9DbGllbnRVcmkgPSAoe1xuICBvcmlnaW4gPSAnJyxcbiAgcGF0aCxcbiAgcHVibGljYXRpb25JZCxcbiAgcHJldmlld0tleSxcbn06IHtcbiAgb3JpZ2luPzogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7XG4gIHB1YmxpY2F0aW9uSWQ/OiBzdHJpbmc7XG4gIHByZXZpZXdLZXk/OiBzdHJpbmc7XG59KSA9PiB7XG4gIGNvbnN0IHBhcmFtczogQXJyYXk8YW55IHwgc3RyaW5nPiA9IFtdO1xuICBpZiAocHVibGljYXRpb25JZCkge1xuICAgIHBhcmFtcy5wdXNoKGBwdWI9JHtwdWJsaWNhdGlvbklkfWApO1xuICB9XG4gIGlmIChwcmV2aWV3S2V5KSB7XG4gICAgcGFyYW1zLnB1c2goYHByZXZpZXc9JHtwcmV2aWV3S2V5fWApO1xuICB9XG4gIC8vIFJlcGxhY2UgbXVsdGlwbGUgc2xhc2hlcyB3aXRoIHNpbmdsZSBzbGFzaGVzXG4gIGNvbnN0IGNsZWFuUGF0aCA9IGAke29yaWdpbn0ke3BhdGh9YC5yZXBsYWNlKC8oW146XSlcXC9cXC8rL2csICckMS8nKTtcbiAgcmV0dXJuIGAke2NsZWFuUGF0aH0ke3BhcmFtcy5sZW5ndGggPyBgPyR7cGFyYW1zLmpvaW4oJyYnKX1gIDogJyd9YDtcbn07XG4iXSwibmFtZXMiOlsiYnVpbGRBcG9sbG9DbGllbnRVcmkiLCJjcmVhdGVBcG9sbG9DbGllbnQiLCJvcmlnaW4iLCJwYXRoIiwicHVibGljYXRpb25JZCIsInByZXZpZXdLZXkiLCJzc3JNb2RlIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwidXNlQ3NyZiIsInJldHJ5Q29uZmlnIiwib25FcnJvciIsImRpc2FibGVCYXRjaGluZyIsImN1c3RvbUxpbmtzIiwidXJpIiwicmVxdWVzdEhlYWRlcnMiLCJBY2NlcHQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImhlYWRlcktleSIsImJhdGNoTGlua0FyZ3MiLCJiYXRjaE1heCIsImJhdGNoSW50ZXJ2YWwiLCJmZXRjaCIsImZldGNoV2l0aENzcmYiLCJiYXRjaExpbmsiLCJCYXRjaEh0dHBMaW5rIiwibGlua3MiLCJwdXNoIiwiY3JlYXRlUmV0cnlMaW5rIiwib25SZXF1ZXN0RXJyb3IiLCJhcG9sbG9DbGllbnQiLCJBcG9sbG9DbGllbnQiLCJsaW5rIiwiQXBvbGxvTGluayIsImZyb20iLCJjYWNoZSIsIkluTWVtb3J5Q2FjaGUiLCJkYXRhSWRGcm9tT2JqZWN0Iiwib2JqZWN0IiwiX190eXBlbmFtZSIsInVuZGVmaW5lZCIsIl9pZCIsImNtc0xvY2FsZUlkIiwiaWQiLCJwYXJhbXMiLCJjbGVhblBhdGgiLCJyZXBsYWNlIiwibGVuZ3RoIiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUFnSWFBLG9CQUFvQjtlQUFwQkE7O0lBNUdBQyxrQkFBa0I7ZUFBbEJBOzs7d0JBZk47MkJBQ3FCO3VCQUlyQjsrQkFDcUI7eUJBQ21CO0FBUXhDLE1BQU1BLHFCQUFxQixDQUFDLEVBQ2pDQyxTQUFTLEVBQUUsRUFDWEMsSUFBSSxFQUNKQyxhQUFhLEVBQ2JDLFVBQVUsRUFDVkMsVUFBVSxLQUFLLEVBQ2ZDLGNBQWMsYUFBYSxFQUMzQkMsVUFBVSxDQUFDLENBQUMsRUFDWkMsVUFBVSxLQUFLLEVBQ2ZDLFdBQVcsRUFDWEMsT0FBTyxFQUNQQyxrQkFBa0IsS0FBSyxFQUN2QkMsY0FBYyxFQUFFLEVBY2pCO0lBQ0MsTUFBTUMsTUFBTWQscUJBQXFCO1FBQUNFO1FBQVFDO1FBQU1DO1FBQWVDO0lBQVU7SUFFekUsTUFBTVUsaUJBQXlDO1FBQzdDQyxRQUFRO0lBQ1Y7SUFFQUMsT0FBT0MsSUFBSSxDQUFDVixTQUFTVyxPQUFPLENBQUMsQ0FBQ0M7UUFDNUIsNEZBQTRGO1FBQzVGTCxjQUFjLENBQUNLLFVBQVUsR0FBR1osT0FBTyxDQUFDWSxVQUFVO0lBQ2hEO0lBRUEsTUFBTUMsZ0JBT0Y7UUFDRlA7UUFDQU4sU0FBU087UUFDVFI7SUFDRjtJQUVBLG1CQUFtQjtJQUNuQixJQUFJSyxpQkFBaUI7UUFDbkJTLGNBQWNDLFFBQVEsR0FBRztRQUN6QkQsY0FBY0UsYUFBYSxHQUFHO0lBQ2hDO0lBRUEsc0NBQXNDO0lBQ3RDLElBQUlkLFNBQVM7UUFDWFksY0FBY0csS0FBSyxHQUFHQyw0QkFBYTtJQUNyQztJQUVBLE1BQU1DLFlBQVksSUFBSUMsd0JBQWEsQ0FBQ047SUFFcEMsTUFBTU8sUUFBMkIsRUFBRTtJQUVuQyxJQUFJbEIsYUFBYTtRQUNma0IsTUFBTUMsSUFBSSxDQUFDQyxJQUFBQSx3QkFBZSxFQUFDcEI7SUFDN0I7SUFFQSxJQUFJQyxTQUFTO1FBQ1hpQixNQUFNQyxJQUFJLENBQUNFLElBQUFBLGNBQWMsRUFBQ3BCO0lBQzVCO0lBRUEsTUFBTXFCLGVBQWUsSUFBSUMsb0JBQVksQ0FBQztRQUNwQ0MsTUFBTUMsa0JBQVUsQ0FBQ0MsSUFBSSxDQUFDO2VBQUl2QjtlQUFnQmU7WUFBT0Y7U0FBVTtRQUMzRFcsT0FBTyxJQUFJQyxxQkFBYSxDQUFDO1lBQ3ZCQyxrQkFBa0IsQ0FBQ0M7Z0JBQ2pCLE9BQVFBLE9BQU9DLFVBQVU7b0JBQ3ZCLEtBQUs7d0JBQ0gsT0FBT0M7b0JBQ1QsS0FBSzt3QkFBeUI7NEJBQzVCLE9BQU9GLE9BQU9HLEdBQUc7d0JBQ25CO29CQUNBLEtBQUs7d0JBQ0gsZ0RBQWdEO3dCQUNoRCwrQ0FBK0M7d0JBQy9DLGdEQUFnRDt3QkFDaEQsT0FBT0gsT0FBT0MsVUFBVTtvQkFDMUIsS0FBSzt3QkFDSCxpREFBaUQ7d0JBQ2pELCtDQUErQzt3QkFDL0MsaURBQWlEO3dCQUNqRCxPQUFPRCxPQUFPQyxVQUFVO29CQUMxQjt3QkFBUzs0QkFDUCxJQUFJRCxPQUFPSSxXQUFXLEVBQUU7Z0NBQ3RCLE9BQU8sQ0FBQyxFQUFFSixPQUFPSyxFQUFFLENBQUMsQ0FBQyxFQUFFTCxPQUFPSSxXQUFXLENBQUMsQ0FBQzs0QkFDN0M7NEJBQ0EsT0FBT0osT0FBT0ssRUFBRTt3QkFDbEI7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0F2QztJQUNGO0lBQ0EsT0FBTzBCO0FBQ1Q7QUFFTyxNQUFNaEMsdUJBQXVCLENBQUMsRUFDbkNFLFNBQVMsRUFBRSxFQUNYQyxJQUFJLEVBQ0pDLGFBQWEsRUFDYkMsVUFBVSxFQU1YO0lBQ0MsTUFBTXlDLFNBQThCLEVBQUU7SUFDdEMsSUFBSTFDLGVBQWU7UUFDakIwQyxPQUFPakIsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFekIsY0FBYyxDQUFDO0lBQ3BDO0lBQ0EsSUFBSUMsWUFBWTtRQUNkeUMsT0FBT2pCLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRXhCLFdBQVcsQ0FBQztJQUNyQztJQUNBLCtDQUErQztJQUMvQyxNQUFNMEMsWUFBWSxDQUFDLEVBQUU3QyxPQUFPLEVBQUVDLEtBQUssQ0FBQyxDQUFDNkMsT0FBTyxDQUFDLGdCQUFnQjtJQUM3RCxPQUFPLENBQUMsRUFBRUQsVUFBVSxFQUFFRCxPQUFPRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUVILE9BQU9JLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDckUifQ==

}),
22393: (function (__unused_webpack_module, exports) {
"use strict";
/* globals
  window,
  document,
  */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    fetchWithCsrf: function() {
        return fetchWithCsrf;
    },
    getLocalCsrfCookie: function() {
        return getLocalCsrfCookie;
    }
});
const WF_CSRF_COOKIE_REGEX = '(^|;)\\s*wf-csrf\\s*=\\s*([^;]+)';
const WF_CSRF_URI = '/.wf_graphql/csrf';
let hasFetchedCsrfCookie = false;
function fetchWithCsrf(uri, options) {
    if (window.Webflow.env('design') || window.Webflow.env('preview')) {
        return fetch(uri, options);
    }
    const localCsrvCookie = getLocalCsrfCookie();
    const requestHeaders = options?.headers || {};
    return new Promise((resolve, reject)=>{
        if (hasFetchedCsrfCookie && localCsrvCookie) {
            requestHeaders['X-Wf-Csrf'] = localCsrvCookie;
            resolve(fetch(uri, {
                ...options,
                headers: requestHeaders
            }));
        } else {
            fetch(WF_CSRF_URI, {
                method: 'POST',
                credentials: 'include',
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            }).then(()=>{
                const newWfCsrfCookie = getLocalCsrfCookie();
                if (newWfCsrfCookie) {
                    hasFetchedCsrfCookie = true;
                    requestHeaders['X-Wf-Csrf'] = newWfCsrfCookie;
                    resolve(fetch(uri, {
                        ...options,
                        headers: requestHeaders
                    }));
                } else {
                    reject(new Error('Did not receive CSRF token'));
                }
            }).catch((err)=>reject(err));
        }
    });
}
function getLocalCsrfCookie() {
    const wfCsrfCookieArray = document.cookie.match(WF_CSRF_COOKIE_REGEX);
    return wfCsrfCookieArray ? wfCsrfCookieArray.pop() : null;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZldGNoV2l0aENzcmYudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsc1xuICB3aW5kb3csXG4gIGRvY3VtZW50LFxuICAqL1xuXG5jb25zdCBXRl9DU1JGX0NPT0tJRV9SRUdFWCA9ICcoXnw7KVxcXFxzKndmLWNzcmZcXFxccyo9XFxcXHMqKFteO10rKSc7XG5jb25zdCBXRl9DU1JGX1VSSSA9ICcvLndmX2dyYXBocWwvY3NyZic7XG5cbmxldCBoYXNGZXRjaGVkQ3NyZkNvb2tpZSA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hXaXRoQ3NyZihcbiAgdXJpOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBSZXF1ZXN0SW5pdCAmIHtcbiAgICAvLyBPdmVycmlkZSBgaGVhZGVyczogSGVhZGVyc0luaXRgIHdpdGggYSBzaW1wbGVyIHR5cGU6XG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIH1cbik6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgaWYgKHdpbmRvdy5XZWJmbG93LmVudignZGVzaWduJykgfHwgd2luZG93LldlYmZsb3cuZW52KCdwcmV2aWV3JykpIHtcbiAgICByZXR1cm4gZmV0Y2godXJpLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbnN0IGxvY2FsQ3NydkNvb2tpZSA9IGdldExvY2FsQ3NyZkNvb2tpZSgpO1xuICBjb25zdCByZXF1ZXN0SGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IG9wdGlvbnM/LmhlYWRlcnMgfHwge307XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKFxuICAgIChcbiAgICAgIHJlc29sdmU6IChyZXN1bHQ6IFByb21pc2U8UmVzcG9uc2U+IHwgUmVzcG9uc2UpID0+IHZvaWQsXG4gICAgICByZWplY3Q6IChlcnJvcj86IGFueSkgPT4gdm9pZFxuICAgICkgPT4ge1xuICAgICAgaWYgKGhhc0ZldGNoZWRDc3JmQ29va2llICYmIGxvY2FsQ3NydkNvb2tpZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1snWC1XZi1Dc3JmJ10gPSBsb2NhbENzcnZDb29raWU7XG4gICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgZmV0Y2godXJpLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoKFdGX0NTUkZfVVJJLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBoZWFkZXJzOiB7J1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnfSxcbiAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdXZkNzcmZDb29raWUgPSBnZXRMb2NhbENzcmZDb29raWUoKTtcbiAgICAgICAgICAgIGlmIChuZXdXZkNzcmZDb29raWUpIHtcbiAgICAgICAgICAgICAgaGFzRmV0Y2hlZENzcmZDb29raWUgPSB0cnVlO1xuICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyc1snWC1XZi1Dc3JmJ10gPSBuZXdXZkNzcmZDb29raWU7XG4gICAgICAgICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgICAgICAgZmV0Y2godXJpLCB7XG4gICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0RpZCBub3QgcmVjZWl2ZSBDU1JGIHRva2VuJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbENzcmZDb29raWUoKSB7XG4gIGNvbnN0IHdmQ3NyZkNvb2tpZUFycmF5ID0gZG9jdW1lbnQuY29va2llLm1hdGNoKFdGX0NTUkZfQ09PS0lFX1JFR0VYKTtcbiAgcmV0dXJuIHdmQ3NyZkNvb2tpZUFycmF5ID8gd2ZDc3JmQ29va2llQXJyYXkucG9wKCkgOiBudWxsO1xufVxuIl0sIm5hbWVzIjpbImZldGNoV2l0aENzcmYiLCJnZXRMb2NhbENzcmZDb29raWUiLCJXRl9DU1JGX0NPT0tJRV9SRUdFWCIsIldGX0NTUkZfVVJJIiwiaGFzRmV0Y2hlZENzcmZDb29raWUiLCJ1cmkiLCJvcHRpb25zIiwid2luZG93IiwiV2ViZmxvdyIsImVudiIsImZldGNoIiwibG9jYWxDc3J2Q29va2llIiwicmVxdWVzdEhlYWRlcnMiLCJoZWFkZXJzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJtZXRob2QiLCJjcmVkZW50aWFscyIsInRoZW4iLCJuZXdXZkNzcmZDb29raWUiLCJFcnJvciIsImNhdGNoIiwiZXJyIiwid2ZDc3JmQ29va2llQXJyYXkiLCJkb2N1bWVudCIsImNvb2tpZSIsIm1hdGNoIiwicG9wIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0VBR0U7Ozs7Ozs7Ozs7O0lBT2NBLGFBQWE7ZUFBYkE7O0lBc0RBQyxrQkFBa0I7ZUFBbEJBOzs7QUEzRGhCLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyxjQUFjO0FBRXBCLElBQUlDLHVCQUF1QjtBQUVwQixTQUFTSixjQUNkSyxHQUFXLEVBQ1hDLE9BR0M7SUFFRCxJQUFJQyxPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUFhRixPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZO1FBQ2pFLE9BQU9DLE1BQU1MLEtBQUtDO0lBQ3BCO0lBRUEsTUFBTUssa0JBQWtCVjtJQUN4QixNQUFNVyxpQkFBeUNOLFNBQVNPLFdBQVcsQ0FBQztJQUVwRSxPQUFPLElBQUlDLFFBQ1QsQ0FDRUMsU0FDQUM7UUFFQSxJQUFJWix3QkFBd0JPLGlCQUFpQjtZQUMzQ0MsY0FBYyxDQUFDLFlBQVksR0FBR0Q7WUFDOUJJLFFBQ0VMLE1BQU1MLEtBQUs7Z0JBQ1QsR0FBR0MsT0FBTztnQkFDVk8sU0FBU0Q7WUFDWDtRQUVKLE9BQU87WUFDTEYsTUFBTVAsYUFBYTtnQkFDakJjLFFBQVE7Z0JBQ1JDLGFBQWE7Z0JBQ2JMLFNBQVM7b0JBQUMsb0JBQW9CO2dCQUFnQjtZQUNoRCxHQUNHTSxJQUFJLENBQUM7Z0JBQ0osTUFBTUMsa0JBQWtCbkI7Z0JBQ3hCLElBQUltQixpQkFBaUI7b0JBQ25CaEIsdUJBQXVCO29CQUN2QlEsY0FBYyxDQUFDLFlBQVksR0FBR1E7b0JBQzlCTCxRQUNFTCxNQUFNTCxLQUFLO3dCQUNULEdBQUdDLE9BQU87d0JBQ1ZPLFNBQVNEO29CQUNYO2dCQUVKLE9BQU87b0JBQ0xJLE9BQU8sSUFBSUssTUFBTTtnQkFDbkI7WUFDRixHQUNDQyxLQUFLLENBQUMsQ0FBQ0MsTUFBUVAsT0FBT087UUFDM0I7SUFDRjtBQUVKO0FBRU8sU0FBU3RCO0lBQ2QsTUFBTXVCLG9CQUFvQkMsU0FBU0MsTUFBTSxDQUFDQyxLQUFLLENBQUN6QjtJQUNoRCxPQUFPc0Isb0JBQW9CQSxrQkFBa0JJLEdBQUcsS0FBSztBQUN2RCJ9

}),
21650: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    createRetryLink: function() {
        return createRetryLink;
    },
    waitForInFlightQueries: function() {
        return waitForInFlightQueries;
    }
});
const _retry = __webpack_require__(65822);
const ERROR_METRIC_NAME = 'webflow.renderer.apollo.request.error';
const waitForInFlightQueries = (apolloClient)=>{
    // @ts-expect-error - Property 'queryManager' is private and only accessible within class 'ApolloClient<TCacheShape>'
    if (!apolloClient || !apolloClient.queryManager) {
        return Promise.resolve(null);
    }
    const { // @ts-expect-error - Property 'queryManager' is private and only accessible within class 'ApolloClient<TCacheShape>'
    queryManager: { queries } } = apolloClient;
    const promises = Array.from(queries.values()).reduce(// @ts-expect-error - TS2345 - Argument of type '(memo: any[], { observableQuery }: { observableQuery: any; }) => any[]' is not assignable to parameter of type '(previousValue: any[], currentValue: unknown, currentIndex: number, array: unknown[]) => any[]'.
    (memo, { observableQuery })=>{
        const loading = observableQuery && observableQuery.getCurrentResult().loading || false;
        return loading ? memo.concat(observableQuery.result()) : memo;
    }, []);
    // @ts-expect-error - TS2769 - No overload matches this call.
    return Promise.all(promises).then(()=>null);
};
const createRetryLink = ({ maxAttempts = 1, retryOnCorsErrors = true, retriedServerErrors = 'all', metricsLogger })=>{
    return new _retry.RetryLink({
        attempts: (count, operation, error)=>{
            const tags = [];
            let ret = false;
            if (count >= maxAttempts) {
                tags.push('max_attempts:true');
            } else {
                tags.push('max_attempts:false');
                if (error && (retriedServerErrors === 'all' && error.statusCode >= 500 || retriedServerErrors === 'bad-gateway' && error.statusCode === 502)) {
                    // if the request fails, let's try it again because it was probably
                    // a temporary issue.
                    tags.push('reason:server_error');
                    tags.push(`status_code:${error.statusCode}`);
                    ret = true;
                } else if (retryOnCorsErrors && error && error.result && error.result.code === 'BadCrossOriginRequest') {
                    // if CORS fails, it means we used a stale token so we can try it again
                    // with the correct one
                    tags.push('reason:cors_error');
                    ret = true;
                }
            }
            tags.push(`attempt:${count}`, `retry:${ret}`);
            metricsLogger?.logDistributionMetric(ERROR_METRIC_NAME, 1, ...tags);
            return ret;
        },
        delay: (count)=>{
            // delay in ms
            return count * 500 + Math.random() * 500;
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZXRyeUxpbmt9IGZyb20gJ0BhcG9sbG8vY2xpZW50L2xpbmsvcmV0cnknO1xuaW1wb3J0IHtBcG9sbG9NZXRyaWNzTG9nZ2VyfSBmcm9tICcuL2Fwb2xsb01ldHJpY3NMb2dnZXInO1xuaW1wb3J0IHtBcG9sbG9DbGllbnRTdGF0ZVR5cGV9IGZyb20gJ0BwYWNrYWdlcy9zeXN0ZW1zL2Rlc2lnbmVyL2Fwb2xsby1jbGllbnQnO1xuXG5jb25zdCBFUlJPUl9NRVRSSUNfTkFNRSA9ICd3ZWJmbG93LnJlbmRlcmVyLmFwb2xsby5yZXF1ZXN0LmVycm9yJztcblxuZXhwb3J0IGNvbnN0IHdhaXRGb3JJbkZsaWdodFF1ZXJpZXMgPSAoXG4gIGFwb2xsb0NsaWVudDogQXBvbGxvQ2xpZW50U3RhdGVUeXBlXG4pOiBQcm9taXNlPG51bGw+ID0+IHtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFByb3BlcnR5ICdxdWVyeU1hbmFnZXInIGlzIHByaXZhdGUgYW5kIG9ubHkgYWNjZXNzaWJsZSB3aXRoaW4gY2xhc3MgJ0Fwb2xsb0NsaWVudDxUQ2FjaGVTaGFwZT4nXG4gIGlmICghYXBvbGxvQ2xpZW50IHx8ICFhcG9sbG9DbGllbnQucXVlcnlNYW5hZ2VyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gUHJvcGVydHkgJ3F1ZXJ5TWFuYWdlcicgaXMgcHJpdmF0ZSBhbmQgb25seSBhY2Nlc3NpYmxlIHdpdGhpbiBjbGFzcyAnQXBvbGxvQ2xpZW50PFRDYWNoZVNoYXBlPidcbiAgICBxdWVyeU1hbmFnZXI6IHtxdWVyaWVzfSxcbiAgfSA9IGFwb2xsb0NsaWVudDtcblxuICBjb25zdCBwcm9taXNlcyA9IEFycmF5LmZyb20ocXVlcmllcy52YWx1ZXMoKSkucmVkdWNlPEFycmF5PGFueT4+KFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICcobWVtbzogYW55W10sIHsgb2JzZXJ2YWJsZVF1ZXJ5IH06IHsgb2JzZXJ2YWJsZVF1ZXJ5OiBhbnk7IH0pID0+IGFueVtdJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnKHByZXZpb3VzVmFsdWU6IGFueVtdLCBjdXJyZW50VmFsdWU6IHVua25vd24sIGN1cnJlbnRJbmRleDogbnVtYmVyLCBhcnJheTogdW5rbm93bltdKSA9PiBhbnlbXScuXG4gICAgKG1lbW8sIHtvYnNlcnZhYmxlUXVlcnl9KSA9PiB7XG4gICAgICBjb25zdCBsb2FkaW5nID1cbiAgICAgICAgKG9ic2VydmFibGVRdWVyeSAmJiBvYnNlcnZhYmxlUXVlcnkuZ2V0Q3VycmVudFJlc3VsdCgpLmxvYWRpbmcpIHx8XG4gICAgICAgIGZhbHNlO1xuICAgICAgcmV0dXJuIGxvYWRpbmcgPyBtZW1vLmNvbmNhdChvYnNlcnZhYmxlUXVlcnkucmVzdWx0KCkpIDogbWVtbztcbiAgICB9LFxuICAgIFtdXG4gICk7XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjc2OSAtIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gbnVsbCk7XG59O1xuXG5leHBvcnQgdHlwZSBSZXRyeUxpbmtDb25maWcgPSB7XG4gIG1heEF0dGVtcHRzPzogbnVtYmVyO1xuICByZXRyeU9uQ29yc0Vycm9ycz86IGJvb2xlYW47XG4gIHJldHJpZWRTZXJ2ZXJFcnJvcnM/OiAnYmFkLWdhdGV3YXknIHwgJ2FsbCc7XG4gIG1ldHJpY3NMb2dnZXI/OiBBcG9sbG9NZXRyaWNzTG9nZ2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJldHJ5TGluayA9ICh7XG4gIG1heEF0dGVtcHRzID0gMSxcbiAgcmV0cnlPbkNvcnNFcnJvcnMgPSB0cnVlLFxuICByZXRyaWVkU2VydmVyRXJyb3JzID0gJ2FsbCcsXG4gIG1ldHJpY3NMb2dnZXIsXG59OiBSZXRyeUxpbmtDb25maWcpOiBSZXRyeUxpbmsgPT4ge1xuICByZXR1cm4gbmV3IFJldHJ5TGluayh7XG4gICAgYXR0ZW1wdHM6IChjb3VudCwgb3BlcmF0aW9uLCBlcnJvcikgPT4ge1xuICAgICAgY29uc3QgdGFncyA9IFtdO1xuICAgICAgbGV0IHJldCA9IGZhbHNlO1xuICAgICAgaWYgKGNvdW50ID49IG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRhZ3MucHVzaCgnbWF4X2F0dGVtcHRzOnRydWUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZ3MucHVzaCgnbWF4X2F0dGVtcHRzOmZhbHNlJyk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBlcnJvciAmJlxuICAgICAgICAgICgocmV0cmllZFNlcnZlckVycm9ycyA9PT0gJ2FsbCcgJiYgZXJyb3Iuc3RhdHVzQ29kZSA+PSA1MDApIHx8XG4gICAgICAgICAgICAocmV0cmllZFNlcnZlckVycm9ycyA9PT0gJ2JhZC1nYXRld2F5JyAmJiBlcnJvci5zdGF0dXNDb2RlID09PSA1MDIpKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdCBmYWlscywgbGV0J3MgdHJ5IGl0IGFnYWluIGJlY2F1c2UgaXQgd2FzIHByb2JhYmx5XG4gICAgICAgICAgLy8gYSB0ZW1wb3JhcnkgaXNzdWUuXG4gICAgICAgICAgdGFncy5wdXNoKCdyZWFzb246c2VydmVyX2Vycm9yJyk7XG4gICAgICAgICAgdGFncy5wdXNoKGBzdGF0dXNfY29kZToke2Vycm9yLnN0YXR1c0NvZGV9YCk7XG4gICAgICAgICAgcmV0ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICByZXRyeU9uQ29yc0Vycm9ycyAmJlxuICAgICAgICAgIGVycm9yICYmXG4gICAgICAgICAgZXJyb3IucmVzdWx0ICYmXG4gICAgICAgICAgZXJyb3IucmVzdWx0LmNvZGUgPT09ICdCYWRDcm9zc09yaWdpblJlcXVlc3QnXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIGlmIENPUlMgZmFpbHMsIGl0IG1lYW5zIHdlIHVzZWQgYSBzdGFsZSB0b2tlbiBzbyB3ZSBjYW4gdHJ5IGl0IGFnYWluXG4gICAgICAgICAgLy8gd2l0aCB0aGUgY29ycmVjdCBvbmVcbiAgICAgICAgICB0YWdzLnB1c2goJ3JlYXNvbjpjb3JzX2Vycm9yJyk7XG4gICAgICAgICAgcmV0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0YWdzLnB1c2goYGF0dGVtcHQ6JHtjb3VudH1gLCBgcmV0cnk6JHtyZXR9YCk7XG4gICAgICBtZXRyaWNzTG9nZ2VyPy5sb2dEaXN0cmlidXRpb25NZXRyaWMoRVJST1JfTUVUUklDX05BTUUsIDEsIC4uLnRhZ3MpO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIGRlbGF5OiAoY291bnQpID0+IHtcbiAgICAgIC8vIGRlbGF5IGluIG1zXG4gICAgICByZXR1cm4gY291bnQgKiA1MDAgKyBNYXRoLnJhbmRvbSgpICogNTAwO1xuICAgIH0sXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVSZXRyeUxpbmsiLCJ3YWl0Rm9ySW5GbGlnaHRRdWVyaWVzIiwiRVJST1JfTUVUUklDX05BTUUiLCJhcG9sbG9DbGllbnQiLCJxdWVyeU1hbmFnZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInF1ZXJpZXMiLCJwcm9taXNlcyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInJlZHVjZSIsIm1lbW8iLCJvYnNlcnZhYmxlUXVlcnkiLCJsb2FkaW5nIiwiZ2V0Q3VycmVudFJlc3VsdCIsImNvbmNhdCIsInJlc3VsdCIsImFsbCIsInRoZW4iLCJtYXhBdHRlbXB0cyIsInJldHJ5T25Db3JzRXJyb3JzIiwicmV0cmllZFNlcnZlckVycm9ycyIsIm1ldHJpY3NMb2dnZXIiLCJSZXRyeUxpbmsiLCJhdHRlbXB0cyIsImNvdW50Iiwib3BlcmF0aW9uIiwiZXJyb3IiLCJ0YWdzIiwicmV0IiwicHVzaCIsInN0YXR1c0NvZGUiLCJjb2RlIiwibG9nRGlzdHJpYnV0aW9uTWV0cmljIiwiZGVsYXkiLCJNYXRoIiwicmFuZG9tIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXlDYUEsZUFBZTtlQUFmQTs7SUFuQ0FDLHNCQUFzQjtlQUF0QkE7Ozt1QkFOVztBQUl4QixNQUFNQyxvQkFBb0I7QUFFbkIsTUFBTUQseUJBQXlCLENBQ3BDRTtJQUVBLHFIQUFxSDtJQUNySCxJQUFJLENBQUNBLGdCQUFnQixDQUFDQSxhQUFhQyxZQUFZLEVBQUU7UUFDL0MsT0FBT0MsUUFBUUMsT0FBTyxDQUFDO0lBQ3pCO0lBRUEsTUFBTSxFQUNKLHFIQUFxSDtJQUNySEYsY0FBYyxFQUFDRyxPQUFPLEVBQUMsRUFDeEIsR0FBR0o7SUFFSixNQUFNSyxXQUFXQyxNQUFNQyxJQUFJLENBQUNILFFBQVFJLE1BQU0sSUFBSUMsTUFBTSxDQUNsRCxpUUFBaVE7SUFDalEsQ0FBQ0MsTUFBTSxFQUFDQyxlQUFlLEVBQUM7UUFDdEIsTUFBTUMsVUFDSixBQUFDRCxtQkFBbUJBLGdCQUFnQkUsZ0JBQWdCLEdBQUdELE9BQU8sSUFDOUQ7UUFDRixPQUFPQSxVQUFVRixLQUFLSSxNQUFNLENBQUNILGdCQUFnQkksTUFBTSxNQUFNTDtJQUMzRCxHQUNBLEVBQUU7SUFHSiw2REFBNkQ7SUFDN0QsT0FBT1IsUUFBUWMsR0FBRyxDQUFDWCxVQUFVWSxJQUFJLENBQUMsSUFBTTtBQUMxQztBQVNPLE1BQU1wQixrQkFBa0IsQ0FBQyxFQUM5QnFCLGNBQWMsQ0FBQyxFQUNmQyxvQkFBb0IsSUFBSSxFQUN4QkMsc0JBQXNCLEtBQUssRUFDM0JDLGFBQWEsRUFDRztJQUNoQixPQUFPLElBQUlDLGdCQUFTLENBQUM7UUFDbkJDLFVBQVUsQ0FBQ0MsT0FBT0MsV0FBV0M7WUFDM0IsTUFBTUMsT0FBTyxFQUFFO1lBQ2YsSUFBSUMsTUFBTTtZQUNWLElBQUlKLFNBQVNOLGFBQWE7Z0JBQ3hCUyxLQUFLRSxJQUFJLENBQUM7WUFDWixPQUFPO2dCQUNMRixLQUFLRSxJQUFJLENBQUM7Z0JBQ1YsSUFDRUgsU0FDQyxDQUFBLEFBQUNOLHdCQUF3QixTQUFTTSxNQUFNSSxVQUFVLElBQUksT0FDcERWLHdCQUF3QixpQkFBaUJNLE1BQU1JLFVBQVUsS0FBSyxHQUFHLEdBQ3BFO29CQUNBLG1FQUFtRTtvQkFDbkUscUJBQXFCO29CQUNyQkgsS0FBS0UsSUFBSSxDQUFDO29CQUNWRixLQUFLRSxJQUFJLENBQUMsQ0FBQyxZQUFZLEVBQUVILE1BQU1JLFVBQVUsQ0FBQyxDQUFDO29CQUMzQ0YsTUFBTTtnQkFDUixPQUFPLElBQ0xULHFCQUNBTyxTQUNBQSxNQUFNWCxNQUFNLElBQ1pXLE1BQU1YLE1BQU0sQ0FBQ2dCLElBQUksS0FBSyx5QkFDdEI7b0JBQ0EsdUVBQXVFO29CQUN2RSx1QkFBdUI7b0JBQ3ZCSixLQUFLRSxJQUFJLENBQUM7b0JBQ1ZELE1BQU07Z0JBQ1I7WUFDRjtZQUVBRCxLQUFLRSxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUVMLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFSSxJQUFJLENBQUM7WUFDNUNQLGVBQWVXLHNCQUFzQmpDLG1CQUFtQixNQUFNNEI7WUFDOUQsT0FBT0M7UUFDVDtRQUNBSyxPQUFPLENBQUNUO1lBQ04sY0FBYztZQUNkLE9BQU9BLFFBQVEsTUFBTVUsS0FBS0MsTUFBTSxLQUFLO1FBQ3ZDO0lBQ0Y7QUFDRiJ9

}),
25195: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    createApolloClient: function() {
        return _createApolloClient.createApolloClient;
    },
    waitForInFlightQueries: function() {
        return _helpers.waitForInFlightQueries;
    }
});
const _createApolloClient = __webpack_require__(99866);
const _helpers = __webpack_require__(21650);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7Y3JlYXRlQXBvbGxvQ2xpZW50fSBmcm9tICcuL2NyZWF0ZUFwb2xsb0NsaWVudCc7XG5leHBvcnQge3R5cGUgQXBvbGxvTWV0cmljc0xvZ2dlcn0gZnJvbSAnLi9hcG9sbG9NZXRyaWNzTG9nZ2VyJztcbmV4cG9ydCB7d2FpdEZvckluRmxpZ2h0UXVlcmllc30gZnJvbSAnLi9oZWxwZXJzJztcbiJdLCJuYW1lcyI6WyJjcmVhdGVBcG9sbG9DbGllbnQiLCJ3YWl0Rm9ySW5GbGlnaHRRdWVyaWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQUFRQSxrQkFBa0I7ZUFBbEJBLHNDQUFrQjs7SUFFbEJDLHNCQUFzQjtlQUF0QkEsK0JBQXNCOzs7b0NBRkc7eUJBRUkifQ==

}),
51522: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    None: function() {
        return None;
    },
    Some: function() {
        return Some;
    },
    fromNullable: function() {
        return fromNullable;
    },
    maybe: function() {
        return maybe;
    },
    of: function() {
        return of;
    }
});
const { create } = Object;
const returnThis = function() {
    return this;
};
const VALUE = Symbol();
const FOLD = Symbol();
const None = create({
    map: returnThis,
    chain: returnThis,
    alt: (alternativeOption)=>alternativeOption,
    ap: returnThis,
    concat: (other)=>other,
    /**
   * Returns a default fallback value if the `Option` is a `None`.
   */ [FOLD]: (fallback)=>fallback
});
const Some = (value)=>{
    const object = create(SomePrototype);
    object[VALUE] = value;
    return object;
};
const SomePrototype = {
    /**
   * Transform the value inside of a `Option` by applying a unary function to it.
   */ map (f) {
        return Some(f(this[VALUE]));
    },
    /**
   * Sequence computations by applying a function to the value
   * contained in the `Option`. The function must return an `Option`.
   */ chain (f) {
        return f(this[VALUE]);
    },
    /**
   * Provide an alternative option that will be returned if this option is None.
   */ alt: returnThis,
    /**
   * Allows you to apply the Option's value with another Option's value,
   * returning another Option.
   */ ap (m) {
        return m.map(this[VALUE]);
    },
    concat (other) {
        return other[FOLD](this, (otherValue)=>Some(this[VALUE].concat(otherValue)));
    },
    /**
   * Applies a function to the value contained in an `Option`
   * if the `Option` is a `Some`.
   */ [FOLD] (fallback, mapValue) {
        return mapValue(this[VALUE]);
    }
};
const fromNullable = (value)=>value == null ? None : Some(value);
const maybe = (fallback)=>(mapValue)=>(option)=>option[FOLD](fallback, mapValue);
const of = Some;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjcmVhdGV9ID0gT2JqZWN0O1xuXG5jb25zdCByZXR1cm5UaGlzID0gZnVuY3Rpb24gPFQ+KHRoaXM6IFQpOiBUIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5jb25zdCBWQUxVRTogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgRk9MRDogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbCgpO1xuXG4vLyAjIE9wdGlvblxuLy9cbi8vIE9wdGlvbiBpcyBhIGRhdGEgdHlwZSBmb3IgcmVwcmVzZW50aW5nIHZhbHVlcyB0aGF0IG1pZ2h0IGJlIG1pc3NpbmcuIEl0IGlzXG4vLyBhbHNvIGtub3duIGFzIGBNYXliZWAgb3IgYE9wdGlvbmFsYCBpbiBvdGhlciBsYW5ndWFnZXMgYW5kIGxpYnJhcmllcy5cbi8vXG4vLyBgYGBqc1xuLy8gaW1wb3J0IHtOb25lLCBTb21lfSBmcm9tICdAd2ViZmxvdy9mcC1vcHRpb24nXG4vL1xuLy8gY29uc3QgZmlyc3QgPSBhcnJheSA9PiBhcnJheS5sZW5ndGggPyBTb21lKGFycmF5WzBdKSA6IE5vbmU7XG4vLyBgYGBcbi8vXG4vLyBOb3RpY2UgaW4gdGhlIHVzYWdlIGV4YW1wbGUgYWJvdmUgaG93IGluIHRoZSBjYXNlIG9mIGEgbWlzc2luZyB2YWx1ZSB0aGVcbi8vIGZ1bmN0aW9uIHJldHVybnMgYE5vbmVgIG90aGVyd2lzZSB0aGUgdmFsdWUgaXMgd3JhcHBlZCBpbiBgU29tZWAuXG4vL1xuLy8gQ29uc3VtaW5nIGEgdmFsdWUgb2YgdGhpcyB0eXBlIGludm9sdmVzIHNvbWVob3cg4oCcZW5oYW5jaW5n4oCdIGEgcmVndWxhclxuLy8gZnVuY3Rpb24gdG8gd29yayBvbiB2YWx1ZXMgb2YgdHlwZSBgT3B0aW9uYC4gVGhpcyBpcyBkb25lIGJ5IGFwcGx5aW5nXG4vLyB0aGUgZmFtaWxpYXIgYG1hcGAgZnVuY3Rpb24gdG8gb3VyIG9yaWdpbmFsIGZ1bmN0aW9uOlxuLy9cbi8vIGBgYGpzXG4vLyBpbXBvcnQge21hcH0gZnJvbSAnQHdlYmZsb3cvZnAnXG4vL1xuLy8gY29uc3Qgb3JpZ2luYWxEb3VibGUgPSBhID0+IGEgKyBhXG4vLyBjb25zdCBkb3VibGUgPSBtYXAob3JpZ2luYWxEb3VibGUpXG4vLyBgYGBcbi8vXG4vLyBUaGlzIGBkb3VibGVgIGZ1bmN0aW9uIGNhbiBub3cgc2FmZWx5IGJlIGFwcGxpZWQgdG8gYSBgT3B0aW9uYCB2YWx1ZTpcbi8vXG4vLyBgYGBqc1xuLy8gY29uc3Qgb3B0aW9uMSA9IGRvdWJsZShmaXJzdChbNiwgMl0pKSAvLyA9PiBTb21lKDEyKVxuLy8gY29uc3Qgb3B0aW9uMiA9IGRvdWJsZShmaXJzdChbXSkpIC8vID0+IE5vbmVcbi8vIGBgYFxuLy9cbi8vIE5vdGljZSBob3cgb3VyIGBkb3VibGVgIGZ1bmN0aW9uIHdvcmtzIGp1c3QgZmluZSwgZXZlbiBpZiB0aGUgdmFsdWUgaXNcbi8vIG1pc3NpbmcsIGJ5IHBhc3NpbmcgdGhlIE5vbmUgYWxvbmcuIEluIGNhc2VzIHdoZXJlIHdlIG9ubHkgY2FyZSBhYm91dFxuLy8gdHJhbnNmb3JtaW5nIHRoZSB2YWx1ZSBpbnNpZGUgYE9wdGlvbmAgdGhpcyBpcyBhbGwgd2UgbmVlZCB0byBkby5cbi8vIFdoZW4gd2UgbmVlZCB0byB0YWtlIHRoZSB2YWx1ZSBvdXQgb2YgdGhlIGBPcHRpb25gIGJveCB3ZSBjYW4gbWFrZSB1c2Vcbi8vIG9mIHRoZSBgbWF5YmVgIGZ1bmN0aW9uOlxuLy9cbi8vIGBgYGpzXG4vLyBjb25zdCBtYXliZVplcm8gPSBtYXliZSgwKVxuLy8gY29uc3QgZGVmYXVsdFRvWmVybyA9IG1heWJlWmVybyhudW1iZXIgPT4gbnVtYmVyKVxuLy9cbi8vIGNvbnN0IG51bWJlcjEgPSBkZWZhdWx0VG9aZXJvKG9wdGlvbjEpIC8vID0+IDEyXG4vLyBjb25zdCBudW1iZXIyID0gZGVmYXVsdFRvWmVybyhvcHRpb24yKSAvLyA9PiAwXG4vLyBgYGBcbi8vXG4vLyBUaGUgYG1heWJlYCBjdXJyaWVkIGZ1bmN0aW9uIHRha2VzIHRocmVlIGFyZ3VtZW50cywgYSBmYWxsYmFjayB2YWx1ZSB0aGF0XG4vLyBpcyByZXR1cm5lZCBpbiB0aGUgY2FzZSBvZiBgTm9uZWAsIGEgZnVuY3Rpb24gdGhhdCBnZXRzIGFwcGxpZWQgdG8gdGhlIHZhbHVlXG4vLyBpbiBjYXNlIHRoZSBvcHRpb24gaXMgYFNvbWVgIGFuZCB0aGlyZGx5IHRoZSBvcHRpb24uIFRoZSBmYWxsYmFjayB2YWx1ZSBhbmRcbi8vIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgb2Zcbi8vIHRoZSBzYW1lIHR5cGUuXG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uPEE+IHtcbiAgbWFwOiA8Qj4oZjogKGE6IEEpID0+IEIpID0+IE9wdGlvbjxCPjtcbiAgY2hhaW46IDxCPihmOiAoYTogQSkgPT4gT3B0aW9uPEI+KSA9PiBPcHRpb248Qj47XG4gIGFwOiA8QiwgQz4odGhpczogT3B0aW9uPCh4OiBCKSA9PiBDPiwgYjogT3B0aW9uPEI+KSA9PiBPcHRpb248Qz47XG4gIGFsdDogKHg6IE9wdGlvbjxBPikgPT4gT3B0aW9uPEE+O1xuICBjb25jYXQ6IDxCIGV4dGVuZHMge2NvbmNhdDogKHg6IEIpID0+IEJ9PihcbiAgICB0aGlzOiBPcHRpb248Qj4sXG4gICAgeDogT3B0aW9uPEI+XG4gICkgPT4gT3B0aW9uPEI+O1xuICBbRk9MRF06IDxCPihub25lOiBCLCBzb21lOiAoeDogQSkgPT4gQikgPT4gQjtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBjb25zdCBOb25lOiBPcHRpb248YW55PiA9IGNyZWF0ZSh7XG4gIG1hcDogcmV0dXJuVGhpcyxcbiAgY2hhaW46IHJldHVyblRoaXMsXG4gIGFsdDogPFQ+KGFsdGVybmF0aXZlT3B0aW9uOiBPcHRpb248VD4pID0+IGFsdGVybmF0aXZlT3B0aW9uLFxuICBhcDogcmV0dXJuVGhpcyxcbiAgY29uY2F0OiA8VD4ob3RoZXI6IE9wdGlvbjxUPikgPT4gb3RoZXIsXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBkZWZhdWx0IGZhbGxiYWNrIHZhbHVlIGlmIHRoZSBgT3B0aW9uYCBpcyBhIGBOb25lYC5cbiAgICovXG4gIFtGT0xEXTogPEE+KGZhbGxiYWNrOiBBKSA9PiBmYWxsYmFjayxcbn0pO1xuXG50eXBlIFNvbWVUPEE+ID0gT3B0aW9uPEE+ICYge1tWQUxVRV06IEF9O1xuXG5leHBvcnQgY29uc3QgU29tZSA9IDxBPih2YWx1ZTogQSk6IE9wdGlvbjxBPiA9PiB7XG4gIGNvbnN0IG9iamVjdCA9IGNyZWF0ZShTb21lUHJvdG90eXBlKTtcbiAgb2JqZWN0W1ZBTFVFXSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuY29uc3QgU29tZVByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyYW5zZm9ybSB0aGUgdmFsdWUgaW5zaWRlIG9mIGEgYE9wdGlvbmAgYnkgYXBwbHlpbmcgYSB1bmFyeSBmdW5jdGlvbiB0byBpdC5cbiAgICovXG4gIG1hcDxBLCBCPih0aGlzOiBTb21lVDxBPiwgZjogKHg6IEEpID0+IEIpOiBPcHRpb248Qj4ge1xuICAgIHJldHVybiBTb21lKGYodGhpc1tWQUxVRV0pKTtcbiAgfSxcblxuICAvKipcbiAgICogU2VxdWVuY2UgY29tcHV0YXRpb25zIGJ5IGFwcGx5aW5nIGEgZnVuY3Rpb24gdG8gdGhlIHZhbHVlXG4gICAqIGNvbnRhaW5lZCBpbiB0aGUgYE9wdGlvbmAuIFRoZSBmdW5jdGlvbiBtdXN0IHJldHVybiBhbiBgT3B0aW9uYC5cbiAgICovXG4gIGNoYWluPEEsIEI+KHRoaXM6IFNvbWVUPEE+LCBmOiAoeDogQSkgPT4gT3B0aW9uPEI+KTogT3B0aW9uPEI+IHtcbiAgICByZXR1cm4gZih0aGlzW1ZBTFVFXSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYW4gYWx0ZXJuYXRpdmUgb3B0aW9uIHRoYXQgd2lsbCBiZSByZXR1cm5lZCBpZiB0aGlzIG9wdGlvbiBpcyBOb25lLlxuICAgKi9cbiAgYWx0OiByZXR1cm5UaGlzLFxuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGFwcGx5IHRoZSBPcHRpb24ncyB2YWx1ZSB3aXRoIGFub3RoZXIgT3B0aW9uJ3MgdmFsdWUsXG4gICAqIHJldHVybmluZyBhbm90aGVyIE9wdGlvbi5cbiAgICovXG4gIGFwPEIsIEM+KHRoaXM6IFNvbWVUPCh4OiBCKSA9PiBDPiwgbTogT3B0aW9uPEI+KTogT3B0aW9uPEM+IHtcbiAgICByZXR1cm4gbS5tYXAodGhpc1tWQUxVRV0pO1xuICB9LFxuXG4gIGNvbmNhdDxBIGV4dGVuZHMge2NvbmNhdDogKHg6IEEpID0+IEF9PihcbiAgICB0aGlzOiBTb21lVDxBPixcbiAgICBvdGhlcjogT3B0aW9uPEE+XG4gICk6IE9wdGlvbjxBPiB7XG4gICAgcmV0dXJuIG90aGVyW0ZPTERdKHRoaXMsIChvdGhlclZhbHVlOiBBKSA9PlxuICAgICAgU29tZSh0aGlzW1ZBTFVFXS5jb25jYXQob3RoZXJWYWx1ZSkpXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogQXBwbGllcyBhIGZ1bmN0aW9uIHRvIHRoZSB2YWx1ZSBjb250YWluZWQgaW4gYW4gYE9wdGlvbmBcbiAgICogaWYgdGhlIGBPcHRpb25gIGlzIGEgYFNvbWVgLlxuICAgKi9cbiAgW0ZPTERdPEEsIEI+KHRoaXM6IFNvbWVUPEE+LCBmYWxsYmFjazogQiwgbWFwVmFsdWU6IChhOiBBKSA9PiBCKTogQiB7XG4gICAgcmV0dXJuIG1hcFZhbHVlKHRoaXNbVkFMVUVdKTtcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBmcm9tTnVsbGFibGUgPSA8VD4odmFsdWU6IFQpOiBPcHRpb248Tm9uTnVsbGFibGU8VD4+ID0+XG4gIHZhbHVlID09IG51bGwgPyBOb25lIDogU29tZSh2YWx1ZSk7XG5cbmV4cG9ydCBjb25zdCBtYXliZSA9XG4gIDxCPihmYWxsYmFjazogQikgPT5cbiAgPEE+KG1hcFZhbHVlOiAoYTogQSkgPT4gQikgPT5cbiAgKG9wdGlvbjogT3B0aW9uPEE+KTogQiA9PlxuICAgIG9wdGlvbltGT0xEXShmYWxsYmFjaywgbWFwVmFsdWUpO1xuXG5leHBvcnQgY29uc3Qgb2YgPSBTb21lO1xuIl0sIm5hbWVzIjpbIk5vbmUiLCJTb21lIiwiZnJvbU51bGxhYmxlIiwibWF5YmUiLCJvZiIsImNyZWF0ZSIsIk9iamVjdCIsInJldHVyblRoaXMiLCJWQUxVRSIsIlN5bWJvbCIsIkZPTEQiLCJtYXAiLCJjaGFpbiIsImFsdCIsImFsdGVybmF0aXZlT3B0aW9uIiwiYXAiLCJjb25jYXQiLCJvdGhlciIsImZhbGxiYWNrIiwidmFsdWUiLCJvYmplY3QiLCJTb21lUHJvdG90eXBlIiwiZiIsIm0iLCJvdGhlclZhbHVlIiwibWFwVmFsdWUiLCJvcHRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBMEVhQSxJQUFJO2VBQUpBOztJQWVBQyxJQUFJO2VBQUpBOztJQXFEQUMsWUFBWTtlQUFaQTs7SUFHQUMsS0FBSztlQUFMQTs7SUFNQUMsRUFBRTtlQUFGQTs7O0FBdkpiLE1BQU0sRUFBQ0MsTUFBTSxFQUFDLEdBQUdDO0FBRWpCLE1BQU1DLGFBQWE7SUFDakIsT0FBTyxJQUFJO0FBQ2I7QUFFQSxNQUFNQyxRQUF1QkM7QUFDN0IsTUFBTUMsT0FBc0JEO0FBbUVyQixNQUFNVCxPQUFvQkssT0FBTztJQUN0Q00sS0FBS0o7SUFDTEssT0FBT0w7SUFDUE0sS0FBSyxDQUFJQyxvQkFBaUNBO0lBQzFDQyxJQUFJUjtJQUNKUyxRQUFRLENBQUlDLFFBQXFCQTtJQUVqQzs7R0FFQyxHQUNELENBQUNQLEtBQUssRUFBRSxDQUFJUSxXQUFnQkE7QUFDOUI7QUFJTyxNQUFNakIsT0FBTyxDQUFJa0I7SUFDdEIsTUFBTUMsU0FBU2YsT0FBT2dCO0lBQ3RCRCxNQUFNLENBQUNaLE1BQU0sR0FBR1c7SUFDaEIsT0FBT0M7QUFDVDtBQUVBLE1BQU1DLGdCQUFnQjtJQUNwQjs7R0FFQyxHQUNEVixLQUEwQlcsQ0FBYztRQUN0QyxPQUFPckIsS0FBS3FCLEVBQUUsSUFBSSxDQUFDZCxNQUFNO0lBQzNCO0lBRUE7OztHQUdDLEdBQ0RJLE9BQTRCVSxDQUFzQjtRQUNoRCxPQUFPQSxFQUFFLElBQUksQ0FBQ2QsTUFBTTtJQUN0QjtJQUVBOztHQUVDLEdBQ0RLLEtBQUtOO0lBRUw7OztHQUdDLEdBQ0RRLElBQW1DUSxDQUFZO1FBQzdDLE9BQU9BLEVBQUVaLEdBQUcsQ0FBQyxJQUFJLENBQUNILE1BQU07SUFDMUI7SUFFQVEsUUFFRUMsS0FBZ0I7UUFFaEIsT0FBT0EsS0FBSyxDQUFDUCxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUNjLGFBQ3hCdkIsS0FBSyxJQUFJLENBQUNPLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDUTtJQUU1QjtJQUVBOzs7R0FHQyxHQUNELENBQUNkLEtBQUssRUFBdUJRLFFBQVcsRUFBRU8sUUFBcUI7UUFDN0QsT0FBT0EsU0FBUyxJQUFJLENBQUNqQixNQUFNO0lBQzdCO0FBQ0Y7QUFFTyxNQUFNTixlQUFlLENBQUlpQixRQUM5QkEsU0FBUyxPQUFPbkIsT0FBT0MsS0FBS2tCO0FBRXZCLE1BQU1oQixRQUNYLENBQUllLFdBQ0osQ0FBSU8sV0FDSixDQUFDQyxTQUNDQSxNQUFNLENBQUNoQixLQUFLLENBQUNRLFVBQVVPO0FBRXBCLE1BQU1yQixLQUFLSCJ9

}),
16387: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Err: function() {
        return Err;
    },
    Ok: function() {
        return Ok;
    },
    either: function() {
        return either;
    },
    of: function() {
        return of;
    }
});
const { create } = Object;
const returnThis = function() {
    return this;
};
const VALUE = Symbol();
const ERROR = Symbol();
const FOLD = Symbol();
const Err = (error)=>{
    const object = create(ErrPrototype);
    object[ERROR] = error;
    return object;
};
const Ok = (value)=>{
    const object = create(OkPrototype);
    object[VALUE] = value;
    return object;
};
const ErrPrototype = {
    map: returnThis,
    chain: returnThis,
    ap: returnThis,
    [FOLD]: function(errorHandler, _) {
        return errorHandler(this[ERROR]);
    }
};
const OkPrototype = {
    map (f) {
        return Ok(f(this[VALUE]));
    },
    chain (f) {
        return f(this[VALUE]);
    },
    ap (m) {
        return m.map(this[VALUE]);
    },
    [FOLD]: function(errorHandler, valueHandler) {
        return valueHandler(this[VALUE]);
    }
};
const either = (mapErr)=>(mapVal)=>(result)=>result[FOLD](mapErr, mapVal);
const of = Ok;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjcmVhdGV9ID0gT2JqZWN0O1xuXG5jb25zdCByZXR1cm5UaGlzID0gZnVuY3Rpb24gPFQ+KHRoaXM6IFQpOiBUIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5jb25zdCBWQUxVRTogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgRVJST1I6IHVuaXF1ZSBzeW1ib2wgPSBTeW1ib2woKTtcbmNvbnN0IEZPTEQ6IHVuaXF1ZSBzeW1ib2wgPSBTeW1ib2woKTtcblxuLy8gIyBSZXN1bHRcbi8vXG4vLyBSZXN1bHQgaXMgYSBkYXRhIHR5cGUgZm9yIHJlcHJlc2VudGluZyByZXN1bHRzIGZyb20gY29tcHV0YXRpb25zIHRoYXQgbWF5XG4vLyBmYWlsIGJ5IGdpdmluZyB0aGUgdXNlciBhIGNvbnRyb2xsYWJsZSB3YXkgdG8gcHJvcGFnYXRlIGVycm9ycy4gYFJlc3VsdGAgaXNcbi8vIGFsc28ga25vd24gYXMgYEVpdGhlcmAgaW4gb3RoZXIgbGFuZ3VhZ2VzIGFuZCBsaWJyYXJpZXMuXG4vL1xuLy8gYGBganNcbi8vIGltcG9ydCB7RXJyLCBPa30gZnJvbSAnQHBhY2thZ2VzL3V0aWxpdGllcy9mcC9yZXN1bHQnXG4vL1xuLy8gY29uc3Qgc2FmZURpdmlkZSA9IChhLCBiKSA9PiBiID09PSAwXG4vLyAgID8gRXJyKCdDYW5ub3QgZGl2aWRlIGJ5IDAuJylcbi8vICAgOiBPayhhIC8gYilcbi8vIGBgYFxuLy9cbi8vIE5vdGljZSBpbiB0aGUgdXNhZ2UgZXhhbXBsZSBhYm92ZSBob3cgaW4gdGhlIGNhc2Ugb2YgYSBmYWlsdXJlIHRoZSBlcnJvclxuLy8gbWVzc2FnZSBpcyB3cmFwcGVkIGluIGBFcnJgIHdoaWxlIG90aGVyd2lzZSB0aGUgcmVzdWx0IGlzIHJldHVybmVkIHdyYXBwZWRcbi8vIGluIGBPa2AuIGBFcnJgIGFuZCBgT2tgIGFyZSB0aGUgY29uc3RydWN0b3JzIGZvciB0aGUgYFJlc3VsdGAgdHlwZS5cbi8vXG4vLyBDb25zdW1pbmcgYSB2YWx1ZSBvZiB0aGlzIHR5cGUgaW52b2x2ZXMgc29tZWhvdyDigJxlbmhhbmNpbmfigJ0gYSByZWd1bGFyXG4vLyBmdW5jdGlvbiB0byB3b3JrIG9uIHZhbHVlcyBvZiB0eXBlIGBSZXN1bHRgLiBUaGlzIGlzIGRvbmUgYnkgYXBwbHlpbmdcbi8vIHRoZSBmYW1pbGlhciBgbWFwYCBmdW5jdGlvbiB0byBvdXIgb3JpZ2luYWwgZnVuY3Rpb246XG4vL1xuLy8gYGBganNcbi8vIGltcG9ydCB7bWFwfSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL2ZwL3V0aWxzJ1xuLy9cbi8vIGNvbnN0IG9yaWdpbmFsRG91YmxlID0gYSA9PiBhICsgYVxuLy8gY29uc3QgZG91YmxlID0gbWFwKG9yaWdpbmFsRG91YmxlKVxuLy8gYGBgXG4vL1xuLy8gVGhpcyBgZG91YmxlYCBmdW5jdGlvbiBjYW4gbm93IHNhZmVseSBiZSBhcHBsaWVkIHRvIGEgYFJlc3VsdGAgdmFsdWU6XG4vL1xuLy8gYGBganNcbi8vIGNvbnN0IHJlc3VsdDEgPSBkb3VibGUoc2FmZURpdmlkZSg2LCAyKSkgLy8gPT4gT2soMylcbi8vIGNvbnN0IHJlc3VsdDIgPSBkb3VibGUoc2FmZURpdmlkZSg2LCAwKSkgLy8gPT4gRXJyKCdDYW5ub3QgZGl2aWRlIGJ5IDAuJylcbi8vIGBgYFxuLy9cbi8vIE5vdGljZSBob3cgb3VyIGBkb3VibGVgIGZ1bmN0aW9uIHdvcmtzIGp1c3QgZmluZSwgZXZlbiBpZiB0aGUgcmVzdWx0IG9mIHRoZVxuLy8gZGl2aXNpb24gaXMgYW4gZXJyb3IsIGJ5IHBhc3NpbmcgdGhhdCBlcnJvciBhbG9uZy4gSW4gY2FzZXMgd2hlcmUgd2Ugb25seVxuLy8gY2FyZSBhYm91dCB0aGUgc3VjY2Vzc2Z1bCByZXN1bHQgdGhpcyBpcyBhbGwgd2UgbmVlZCB0byBkby4gV2hlbiB3ZSBuZWVkIHRvXG4vLyB0YWtlIHRoZSB2YWx1ZSBvdXQgb2YgdGhlIGBSZXN1bHRgIGJveCB3ZSBjYW4gbWFrZSB1c2Ugb2YgYGVpdGhlcmA6XG4vL1xuLy8gYGBganNcbi8vIGNvbnN0IG51bWJlcjEgPSBlaXRoZXIoZXJyb3IgPT4gMCkodmFsID0+IHZhbCkocmVzdWx0MSkgLy8gPT4gM1xuLy8gY29uc3QgbnVtYmVyMiA9IGVpdGhlcihlcnJvciA9PiAwKSh2YWwgPT4gdmFsKShyZXN1bHQyKSAvLyA9PiAwXG4vLyBgYGBcbi8vXG4vLyBUaGUgYGVpdGhlcmAgZnVuY3Rpb24gdGFrZXMgdGhyZWUgYXJndW1lbnRzLCBhIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB0aGUgRXJyXG4vLyBjYXNlLCBhIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB0aGUgT2sgY2FzZSBhbmQgdGhlIHJlc3VsdC4gQm90aCBoYW5kbGVyc1xuLy8gc2hvdWxkIHJldHVybiB2YWx1ZXMgb2YgdGhlIHNhbWUgdHlwZS5cblxuZXhwb3J0IGludGVyZmFjZSBSZXN1bHQ8RSwgQT4ge1xuICAvKipcbiAgICogVHJhbnNmb3JtIHRoZSB2YWx1ZSBpbnNpZGUgb2YgYSBgUmVzdWx0YCBieSBhcHBseWluZyBhIHVuYXJ5IGZ1bmN0aW9uIHRvIGl0LlxuICAgKi9cbiAgbWFwOiA8Qj4oZjogKHg6IEEpID0+IEIpID0+IFJlc3VsdDxFLCBCPjtcbiAgLyoqXG4gICAqIFNlcXVlbmNlIGNvbXB1dGF0aW9ucyB0aGF0IG1heSBmYWlsIGJ5IGFwcGx5aW5nIGEgZnVuY3Rpb24gdG8gdGhlIHZhbHVlXG4gICAqIGNvbnRhaW5lZCBpbiB0aGUgYFJlc3VsdGAsIHdoZXJlIHRoZSBmdW5jdGlvbiBhbHNvIHJldHVybnMgYSBgUmVzdWx0YC5cbiAgICovXG4gIGNoYWluOiA8Qj4oZjogKHg6IEEpID0+IFJlc3VsdDxFLCBCPikgPT4gUmVzdWx0PEUsIEI+O1xuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBhcHBseSB0aGUgUmVzdWx0J3MgdmFsdWUgd2l0aCBhbm90aGVyIFJlc3VsdCdzIHZhbHVlLFxuICAgKiByZXR1cm5pbmcgYW5vdGhlciBSZXN1bHQuXG4gICAqL1xuICBhcDogPEIsIEM+KHRoaXM6IFJlc3VsdDxFLCAoeDogQikgPT4gQz4sIHg6IFJlc3VsdDxFLCBCPikgPT4gUmVzdWx0PEUsIEM+O1xuICBbRk9MRF06IDxCPihlcnI6IChlOiBFKSA9PiBCLCBvazogKGE6IEEpID0+IEIpID0+IEI7XG59XG5cbnR5cGUgRXJyVDxFLCBBPiA9IFJlc3VsdDxFLCBBPiAmIHtbRVJST1JdOiBFfTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBjb25zdCBFcnIgPSA8RT4oZXJyb3I6IEUpOiBSZXN1bHQ8RSwgYW55PiA9PiB7XG4gIGNvbnN0IG9iamVjdCA9IGNyZWF0ZShFcnJQcm90b3R5cGUpO1xuICBvYmplY3RbRVJST1JdID0gZXJyb3I7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG50eXBlIE9rVDxFLCBBPiA9IFJlc3VsdDxFLCBBPiAmIHtbVkFMVUVdOiBBfTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBjb25zdCBPayA9IDxBPih2YWx1ZTogQSk6IFJlc3VsdDxhbnksIEE+ID0+IHtcbiAgY29uc3Qgb2JqZWN0ID0gY3JlYXRlKE9rUHJvdG90eXBlKTtcbiAgb2JqZWN0W1ZBTFVFXSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuY29uc3QgRXJyUHJvdG90eXBlID0ge1xuICBtYXA6IHJldHVyblRoaXMsXG4gIGNoYWluOiByZXR1cm5UaGlzLFxuICBhcDogcmV0dXJuVGhpcyxcbiAgW0ZPTERdOiBmdW5jdGlvbiA8RSwgQSwgQj4oXG4gICAgdGhpczogRXJyVDxFLCBBPixcbiAgICBlcnJvckhhbmRsZXI6IChlOiBFKSA9PiBCLFxuICAgIF86IChhOiBBKSA9PiBCXG4gICkge1xuICAgIHJldHVybiBlcnJvckhhbmRsZXIodGhpc1tFUlJPUl0pO1xuICB9LFxufTtcblxuY29uc3QgT2tQcm90b3R5cGUgPSB7XG4gIG1hcDxFLCBBLCBCPih0aGlzOiBPa1Q8RSwgQT4sIGY6ICh4OiBBKSA9PiBCKTogUmVzdWx0PEUsIEI+IHtcbiAgICByZXR1cm4gT2soZih0aGlzW1ZBTFVFXSkpO1xuICB9LFxuXG4gIGNoYWluPEUsIEEsIEI+KHRoaXM6IE9rVDxFLCBBPiwgZjogKHg6IEEpID0+IFJlc3VsdDxFLCBCPik6IFJlc3VsdDxFLCBCPiB7XG4gICAgcmV0dXJuIGYodGhpc1tWQUxVRV0pO1xuICB9LFxuXG4gIGFwPEUsIEEsIEI+KHRoaXM6IE9rVDxFLCAoeDogQSkgPT4gQj4sIG06IFJlc3VsdDxFLCBBPik6IFJlc3VsdDxFLCBCPiB7XG4gICAgcmV0dXJuIG0ubWFwKHRoaXNbVkFMVUVdKTtcbiAgfSxcblxuICBbRk9MRF06IGZ1bmN0aW9uIDxFLCBBLCBCPihcbiAgICB0aGlzOiBPa1Q8RSwgQT4sXG4gICAgZXJyb3JIYW5kbGVyOiAoZTogRSkgPT4gQixcbiAgICB2YWx1ZUhhbmRsZXI6IChhOiBBKSA9PiBCXG4gICkge1xuICAgIHJldHVybiB2YWx1ZUhhbmRsZXIodGhpc1tWQUxVRV0pO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGVpdGhlciA9XG4gIDxFLCBCPihtYXBFcnI6IChlOiBFKSA9PiBCKSA9PlxuICA8QT4obWFwVmFsOiAoYTogQSkgPT4gQikgPT5cbiAgKHJlc3VsdDogUmVzdWx0PEUsIEE+KSA9PlxuICAgIHJlc3VsdFtGT0xEXShtYXBFcnIsIG1hcFZhbCk7XG5cbmV4cG9ydCBjb25zdCBvZiA9IE9rO1xuIl0sIm5hbWVzIjpbIkVyciIsIk9rIiwiZWl0aGVyIiwib2YiLCJjcmVhdGUiLCJPYmplY3QiLCJyZXR1cm5UaGlzIiwiVkFMVUUiLCJTeW1ib2wiLCJFUlJPUiIsIkZPTEQiLCJlcnJvciIsIm9iamVjdCIsIkVyclByb3RvdHlwZSIsInZhbHVlIiwiT2tQcm90b3R5cGUiLCJtYXAiLCJjaGFpbiIsImFwIiwiZXJyb3JIYW5kbGVyIiwiXyIsImYiLCJtIiwidmFsdWVIYW5kbGVyIiwibWFwRXJyIiwibWFwVmFsIiwicmVzdWx0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWlGYUEsR0FBRztlQUFIQTs7SUFTQUMsRUFBRTtlQUFGQTs7SUF5Q0FDLE1BQU07ZUFBTkE7O0lBTUFDLEVBQUU7ZUFBRkE7OztBQXpJYixNQUFNLEVBQUNDLE1BQU0sRUFBQyxHQUFHQztBQUVqQixNQUFNQyxhQUFhO0lBQ2pCLE9BQU8sSUFBSTtBQUNiO0FBRUEsTUFBTUMsUUFBdUJDO0FBQzdCLE1BQU1DLFFBQXVCRDtBQUM3QixNQUFNRSxPQUFzQkY7QUF5RXJCLE1BQU1SLE1BQU0sQ0FBSVc7SUFDckIsTUFBTUMsU0FBU1IsT0FBT1M7SUFDdEJELE1BQU0sQ0FBQ0gsTUFBTSxHQUFHRTtJQUNoQixPQUFPQztBQUNUO0FBS08sTUFBTVgsS0FBSyxDQUFJYTtJQUNwQixNQUFNRixTQUFTUixPQUFPVztJQUN0QkgsTUFBTSxDQUFDTCxNQUFNLEdBQUdPO0lBQ2hCLE9BQU9GO0FBQ1Q7QUFFQSxNQUFNQyxlQUFlO0lBQ25CRyxLQUFLVjtJQUNMVyxPQUFPWDtJQUNQWSxJQUFJWjtJQUNKLENBQUNJLEtBQUssRUFBRSxTQUVOUyxZQUF5QixFQUN6QkMsQ0FBYztRQUVkLE9BQU9ELGFBQWEsSUFBSSxDQUFDVixNQUFNO0lBQ2pDO0FBQ0Y7QUFFQSxNQUFNTSxjQUFjO0lBQ2xCQyxLQUE4QkssQ0FBYztRQUMxQyxPQUFPcEIsR0FBR29CLEVBQUUsSUFBSSxDQUFDZCxNQUFNO0lBQ3pCO0lBRUFVLE9BQWdDSSxDQUF5QjtRQUN2RCxPQUFPQSxFQUFFLElBQUksQ0FBQ2QsTUFBTTtJQUN0QjtJQUVBVyxJQUF1Q0ksQ0FBZTtRQUNwRCxPQUFPQSxFQUFFTixHQUFHLENBQUMsSUFBSSxDQUFDVCxNQUFNO0lBQzFCO0lBRUEsQ0FBQ0csS0FBSyxFQUFFLFNBRU5TLFlBQXlCLEVBQ3pCSSxZQUF5QjtRQUV6QixPQUFPQSxhQUFhLElBQUksQ0FBQ2hCLE1BQU07SUFDakM7QUFDRjtBQUVPLE1BQU1MLFNBQ1gsQ0FBT3NCLFNBQ1AsQ0FBSUMsU0FDSixDQUFDQyxTQUNDQSxNQUFNLENBQUNoQixLQUFLLENBQUNjLFFBQVFDO0FBRWxCLE1BQU10QixLQUFLRiJ9

}),
56574: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Const: function() {
        return Const;
    },
    getConst: function() {
        return getConst;
    },
    of: function() {
        return of;
    }
});
const { create } = Object;
const VALUE = Symbol();
const prototype = {
    map () {
        return this;
    }
};
const Const = (value)=>{
    const object = create(prototype);
    object[VALUE] = value;
    return object;
};
const of = Const;
const getConst = (con)=>con[VALUE];

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjcmVhdGV9ID0gT2JqZWN0O1xuXG5jb25zdCBWQUxVRTogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbCgpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnN0VHlwZTxDLCBBPiB7XG4gIFtWQUxVRV06IEM7XG4gIG1hcDogPEI+KGY6ICh4OiBBKSA9PiBCKSA9PiBDb25zdFR5cGU8QywgQj47XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IHtcbiAgbWFwKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IENvbnN0ID0gPEMsIEE+KHZhbHVlOiBDKTogQ29uc3RUeXBlPEMsIEE+ID0+IHtcbiAgY29uc3Qgb2JqZWN0ID0gY3JlYXRlKHByb3RvdHlwZSk7XG4gIG9iamVjdFtWQUxVRV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCBjb25zdCBvZiA9IENvbnN0O1xuZXhwb3J0IGNvbnN0IGdldENvbnN0ID0gPEEsIEM+KGNvbjogQ29uc3RUeXBlPEMsIEE+KTogQyA9PiBjb25bVkFMVUVdO1xuIl0sIm5hbWVzIjpbIkNvbnN0IiwiZ2V0Q29uc3QiLCJvZiIsImNyZWF0ZSIsIk9iamVjdCIsIlZBTFVFIiwiU3ltYm9sIiwicHJvdG90eXBlIiwibWFwIiwidmFsdWUiLCJvYmplY3QiLCJjb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBZWFBLEtBQUs7ZUFBTEE7O0lBT0FDLFFBQVE7ZUFBUkE7O0lBREFDLEVBQUU7ZUFBRkE7OztBQXJCYixNQUFNLEVBQUNDLE1BQU0sRUFBQyxHQUFHQztBQUVqQixNQUFNQyxRQUF1QkM7QUFPN0IsTUFBTUMsWUFBWTtJQUNoQkM7UUFDRSxPQUFPLElBQUk7SUFDYjtBQUNGO0FBRU8sTUFBTVIsUUFBUSxDQUFPUztJQUMxQixNQUFNQyxTQUFTUCxPQUFPSTtJQUN0QkcsTUFBTSxDQUFDTCxNQUFNLEdBQUdJO0lBQ2hCLE9BQU9DO0FBQ1Q7QUFFTyxNQUFNUixLQUFLRjtBQUNYLE1BQU1DLFdBQVcsQ0FBT1UsTUFBNEJBLEdBQUcsQ0FBQ04sTUFBTSJ9

}),
64552: (function (__unused_webpack_module, exports) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    Identity: function() {
        return Identity;
    },
    of: function() {
        return of;
    },
    runIdentity: function() {
        return runIdentity;
    }
});
const { create } = Object;
const VALUE = Symbol();
const prototype = {
    map (f) {
        return Identity(f(this[VALUE]));
    }
};
const Identity = (value)=>{
    const object = create(prototype);
    object[VALUE] = value;
    return object;
};
const of = Identity;
const runIdentity = (object)=>object[VALUE];

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIklkZW50aXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjcmVhdGV9ID0gT2JqZWN0O1xuXG5jb25zdCBWQUxVRTogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbCgpO1xuXG5leHBvcnQgaW50ZXJmYWNlIElkZW50aXR5VHlwZTxBPiB7XG4gIFtWQUxVRV06IEE7XG4gIG1hcDogPEI+KGY6ICh4OiBBKSA9PiBCKSA9PiBJZGVudGl0eVR5cGU8Qj47XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IHtcbiAgbWFwPEEsIEI+KHRoaXM6IElkZW50aXR5VHlwZTxBPiwgZjogKHg6IEEpID0+IEIpIHtcbiAgICByZXR1cm4gSWRlbnRpdHkoZih0aGlzW1ZBTFVFXSkpO1xuICB9LFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IElkZW50aXR5ID0gPEE+KHZhbHVlOiBBKTogSWRlbnRpdHlUeXBlPEE+ID0+IHtcbiAgY29uc3Qgb2JqZWN0ID0gY3JlYXRlKHByb3RvdHlwZSk7XG4gIG9iamVjdFtWQUxVRV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCBjb25zdCBvZiA9IElkZW50aXR5O1xuZXhwb3J0IGNvbnN0IHJ1bklkZW50aXR5ID0gPEE+KG9iamVjdDogSWRlbnRpdHlUeXBlPEE+KTogQSA9PiBvYmplY3RbVkFMVUVdO1xuIl0sIm5hbWVzIjpbIklkZW50aXR5Iiwib2YiLCJydW5JZGVudGl0eSIsImNyZWF0ZSIsIk9iamVjdCIsIlZBTFVFIiwiU3ltYm9sIiwicHJvdG90eXBlIiwibWFwIiwiZiIsInZhbHVlIiwib2JqZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQWVhQSxRQUFRO2VBQVJBOztJQU1BQyxFQUFFO2VBQUZBOztJQUNBQyxXQUFXO2VBQVhBOzs7QUF0QmIsTUFBTSxFQUFDQyxNQUFNLEVBQUMsR0FBR0M7QUFFakIsTUFBTUMsUUFBdUJDO0FBTzdCLE1BQU1DLFlBQVk7SUFDaEJDLEtBQWlDQyxDQUFjO1FBQzdDLE9BQU9ULFNBQVNTLEVBQUUsSUFBSSxDQUFDSixNQUFNO0lBQy9CO0FBQ0Y7QUFFTyxNQUFNTCxXQUFXLENBQUlVO0lBQzFCLE1BQU1DLFNBQVNSLE9BQU9JO0lBQ3RCSSxNQUFNLENBQUNOLE1BQU0sR0FBR0s7SUFDaEIsT0FBT0M7QUFDVDtBQUVPLE1BQU1WLEtBQUtEO0FBQ1gsTUFBTUUsY0FBYyxDQUFJUyxTQUErQkEsTUFBTSxDQUFDTixNQUFNIn0=

}),
1242: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";

Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    add: function() {
        return add;
    },
    adjust: function() {
        return adjust;
    },
    allPass: function() {
        return allPass;
    },
    anyPass: function() {
        return anyPass;
    },
    append: function() {
        return append;
    },
    assoc: function() {
        return assoc;
    },
    blackbird: function() {
        return blackbird;
    },
    both: function() {
        return both;
    },
    complement: function() {
        return complement;
    },
    compose: function() {
        return compose;
    },
    concat: function() {
        return concat;
    },
    concatTo: function() {
        return concatTo;
    },
    constant: function() {
        return constant;
    },
    constantFalse: function() {
        return constantFalse;
    },
    constantIdentity: function() {
        return constantIdentity;
    },
    constantNone: function() {
        return constantNone;
    },
    constantTrue: function() {
        return constantTrue;
    },
    dissoc: function() {
        return dissoc;
    },
    either: function() {
        return either;
    },
    emptyArray: function() {
        return emptyArray;
    },
    emptyObject: function() {
        return emptyObject;
    },
    entries: function() {
        return entries;
    },
    equals: function() {
        return equals;
    },
    errToOption: function() {
        return errToOption;
    },
    extractArray: function() {
        return extractArray;
    },
    extractBool: function() {
        return extractBool;
    },
    extractFunctionFromOption: function() {
        return extractFunctionFromOption;
    },
    extractFunctionFromResult: function() {
        return extractFunctionFromResult;
    },
    filter: function() {
        return filter;
    },
    find: function() {
        return find;
    },
    flat: function() {
        return flat;
    },
    flatMap: function() {
        return flatMap;
    },
    flip: function() {
        return flip;
    },
    getDeepestValues: function() {
        return getDeepestValues;
    },
    has: function() {
        return has;
    },
    head: function() {
        return head;
    },
    identity: function() {
        return identity;
    },
    inc: function() {
        return inc;
    },
    isNil: function() {
        return isNil;
    },
    last: function() {
        return last;
    },
    length: function() {
        return length;
    },
    lens: function() {
        return lens;
    },
    lensProp: function() {
        return lensProp;
    },
    lookup: function() {
        return lookup;
    },
    lookupWithDefault: function() {
        return lookupWithDefault;
    },
    map: function() {
        return map;
    },
    mapArray: function() {
        return mapArray;
    },
    mapValues: function() {
        return mapValues;
    },
    match: function() {
        return match;
    },
    max: function() {
        return max;
    },
    noneToErr: function() {
        return noneToErr;
    },
    not: function() {
        return not;
    },
    notEqual: function() {
        return notEqual;
    },
    notNil: function() {
        return notNil;
    },
    nth: function() {
        return nth;
    },
    objOf: function() {
        return objOf;
    },
    objectKeys: function() {
        return objectKeys;
    },
    okToOption: function() {
        return okToOption;
    },
    omit: function() {
        return omit;
    },
    optionToArray: function() {
        return optionToArray;
    },
    optionToBool: function() {
        return optionToBool;
    },
    over: function() {
        return over;
    },
    parseIntWithRadix: function() {
        return parseIntWithRadix;
    },
    pick: function() {
        return pick;
    },
    pickBy: function() {
        return pickBy;
    },
    pipe: function() {
        return pipe;
    },
    prop: function() {
        return prop;
    },
    reduce: function() {
        return reduce;
    },
    reduceObject: function() {
        return reduceObject;
    },
    replace: function() {
        return replace;
    },
    resultToBool: function() {
        return resultToBool;
    },
    safeParseInt: function() {
        return safeParseInt;
    },
    set: function() {
        return set;
    },
    split: function() {
        return split;
    },
    substitution: function() {
        return substitution;
    },
    tail: function() {
        return tail;
    },
    tap: function() {
        return tap;
    },
    test: function() {
        return test;
    },
    thrush: function() {
        return thrush;
    },
    traverseObjectResults: function() {
        return traverseObjectResults;
    },
    traverseOptions: function() {
        return traverseOptions;
    },
    traverseResults: function() {
        return traverseResults;
    },
    union: function() {
        return union;
    },
    unionTo: function() {
        return unionTo;
    },
    unionWith: function() {
        return unionWith;
    },
    values: function() {
        return values;
    },
    view: function() {
        return view;
    },
    when: function() {
        return when;
    },
    zip: function() {
        return zip;
    },
    zipCat: function() {
        return zipCat;
    },
    zipWith: function() {
        return zipWith;
    }
});
const _Const = __webpack_require__(56574);
const _Identity = __webpack_require__(64552);
const _option = __webpack_require__(51522);
const _result = __webpack_require__(16387);
const objectKeys = Object.keys;
let emptyArray = [];
let emptyObject = {};
if (false) {}
const identity = (x)=>x;
const constant = (x)=>(_)=>x;
const compose = (f)=>(g)=>(x)=>f(g(x));
const blackbird = (f)=>(g)=>(x)=>(y)=>f(g(x)(y));
const flip = (f)=>(x)=>(y)=>f(y)(x);
const thrush = (x)=>(f)=>f(x);
const substitution = (f)=>(g)=>(x)=>f(x)(g(x));
const constantFalse = constant(false);
const constantTrue = constant(true);
const not = (x)=>!x;
const complement = compose(not);
const anyPass = (preds)=>(value)=>preds.some(thrush(value));
const allPass = (preds)=>(value)=>preds.every(thrush(value));
const optionToBool = (0, _option.maybe)(false)(constantTrue);
const resultToBool = (0, _result.either)(constantFalse)(constantTrue);
const equals = (x)=>(y)=>x === y;
const notEqual = (x)=>(y)=>x !== y;
const isNil = (value)=>value == null;
const notNil = complement(isNil);
const either = (predicateA, predicateB)=>(...args)=>predicateA(...args) || predicateB(...args);
const both = (predicateA, predicateB)=>(...args)=>predicateA(...args) && predicateB(...args);
const when = (predicate)=>(whenTrueFn)=>(value)=>predicate(value) ? whenTrueFn(value) : value;
const has = (key)=>(object)=>Object.hasOwn(object, key);
const prop = (key)=>(object)=>object[key];
const assocReducer = (acc, key)=>{
    acc.result[key] = acc.source[key];
    return acc;
};
const assoc = (key)=>{
    const hasKey = has(key);
    return (value)=>(object)=>{
            if (hasKey(object) && object[key] === value) {
                return object;
            }
            const result = objectKeys(object).reduce(assocReducer, {
                source: object,
                result: {}
            }).result;
            result[key] = value;
            return result;
        };
};
const dissocReducer = (acc, key)=>{
    if (acc.exclude !== key) {
        acc.result[key] = acc.source[key];
    }
    return acc;
};
const dissoc = (key)=>{
    const hasKey = has(key);
    return (object)=>hasKey(object) ? objectKeys(object).reduce(dissocReducer, {
            source: object,
            result: {},
            exclude: key
        }).result : object;
};
const adjust = (f)=>(key)=>{
        const hasKey = has(key);
        return (obj)=>hasKey(obj) ? assoc(key)(f(obj[key]))(obj) : obj;
    };
const unionWith = (combine)=>(first)=>first === emptyObject ? identity : (second)=>{
            if (second === emptyObject) return first;
            let changedFromFirst = false;
            let changedFromSecond = false;
            const result = {};
            for(const key in second){
                const secondVal = second[key];
                if (key in first) {
                    const firstVal = first[key];
                    const finalVal = combine(firstVal)(secondVal);
                    if (finalVal !== secondVal) {
                        changedFromSecond = true;
                    }
                    if (finalVal !== firstVal) {
                        changedFromFirst = true;
                    }
                    result[key] = finalVal;
                } else {
                    changedFromFirst = true;
                    result[key] = secondVal;
                }
            }
            for(const key in first){
                if (key in result) continue;
                changedFromSecond = true;
                result[key] = first[key];
            }
            if (!changedFromFirst) return first;
            if (!changedFromSecond) return second;
            return result;
        };
const union = unionWith(constant);
const unionTo = flip(union);
const omitReducer = (acc, key)=>{
    if (acc.exclude.includes(key)) {
        acc.changed = true;
    } else {
        // @ts-expect-error - TS2322 - Type 'a | undefined' is not assignable to type 'a'.
        acc.result[key] = acc.source[key];
    }
    return acc;
};
const omit = (keys)=>{
    const len = keys.length;
    if (len === 0) {
        return identity;
    }
    if (len === 1) {
        // @ts-expect-error - TS2345 - Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
        return dissoc(keys[0]);
    }
    return (object)=>{
        const { result, changed } = objectKeys(object).reduce(omitReducer, {
            source: object,
            exclude: keys,
            changed: false,
            result: {}
        });
        return changed ? result : object;
    };
};
const pickReducer = (acc, key)=>{
    if (Object.hasOwn(acc.source, key)) {
        acc.result[key] = acc.source[key];
    }
    return acc;
};
const pick = (keys)=>(source)=>keys.reduce(pickReducer, {
            source,
            result: {}
        }).result;
const pickByReducer = (acc, key)=>{
    const value = acc.source[key];
    // @ts-expect-error - TS2345 - Argument of type 'undefined' is not assignable to parameter of type 'never'.
    if (acc.predicate(value)) {
        acc.result[key] = value;
    } else {
        acc.changed = true;
    }
    return acc;
};
const pickBy = (predicate)=>(object)=>{
        const { result, changed } = objectKeys(object).reduce(pickByReducer, {
            source: object,
            predicate,
            changed: false,
            result: {}
        });
        return changed ? result : object;
    };
const lookup = (key)=>{
    const hasKey = has(key);
    return (object)=>hasKey(object) ? (0, _option.Some)(object[key]) : _option.None;
};
const lookupWithDefault = (defaultValue)=>(key)=>{
        const hasKey = has(key);
        return (object)=>hasKey(object) ? object[key] : defaultValue;
    };
const find = (pred)=>// @ts-expect-error - TS2322 - Type '(array: a[]) => Option<a> | Option<a | undefined>' is not assignable to type '(arg1: a[]) => Option<a>'.
    (array)=>{
        const index = array.findIndex(pred);
        return index === -1 ? _option.None : (0, _option.Some)(array[index]);
    };
const pipe = (fns)=>(initialValue)=>fns.reduce((value, fn)=>fn(value), initialValue);
const zipWith = (f)=>(xs)=>(ys)=>{
            const rv = [];
            let idx = 0;
            const len = Math.min(xs.length, ys.length);
            while(idx < len){
                // @ts-expect-error - TS2345 - Argument of type 'a | undefined' is not assignable to parameter of type 'a'. | TS2345 - Argument of type 'b | undefined' is not assignable to parameter of type 'b'.
                rv[idx] = f(xs[idx])(ys[idx]);
                idx += 1;
            }
            return rv;
        };
const zip = zipWith((x)=>(y)=>[
            x,
            y
        ]);
function getMinLength(arrays) {
    if (arrays.length === 0) return 0;
    // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
    if (arrays.length === 1) return arrays[0].length;
    // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
    let min = arrays[0].length;
    for(let i = 1, len = arrays.length; i < len; i++){
        // @ts-expect-error - TS2532 - Object is possibly 'undefined'.
        const arr_len = arrays[i].length;
        if (arr_len < min) min = arr_len;
    }
    return min;
}
function zipCat(fn) {
    return function zipCat_inner(arrays) {
        // Find the length of the shortest array to know the max number of zip items.
        const zipLength = getMinLength(arrays);
        // Create a single array reference to store our items into.
        const rv = [];
        // For each array
        for(let i = 0, len = arrays.length; i < len; i++){
            const array = arrays[i];
            // For each index in the current array
            // @ts-expect-error - TS18048 - 'array' is possibly 'undefined'.
            for(let j = 0, array_len = array.length; j < array_len; j++){
                // @ts-expect-error - TS18048 - 'array' is possibly 'undefined'.
                const item = array[j];
                // For each index that falls in the zip range
                if (j < zipLength) {
                    const existing = rv[j];
                    // Check if we have a previously calculated value for this zip index.
                    // If we do then we call the zip fn on the existing result and the current item,
                    // then save it back at the zip index.
                    if (typeof existing !== 'undefined') {
                        // @ts-expect-error - TS2345 - Argument of type 'T | undefined' is not assignable to parameter of type 'T'.
                        rv[j] = fn(existing)(item);
                    } else {
                        // @ts-expect-error - TS2322 - Type 'T | undefined' is not assignable to type 'T'.
                        rv[j] = item;
                    }
                } else {
                    // @ts-expect-error - TS2345 - Argument of type 'T | undefined' is not assignable to parameter of type 'T'.
                    rv.push(item);
                }
            }
        }
        return rv;
    };
}
const map = (f)=>(xs)=>xs.map(f);
const mapArray = (f)=>(xs)=>{
        let changed = false;
        const ys = xs.reduce((res, x)=>{
            const newX = f(x);
            // @ts-expect-error - TS2367 - This comparison appears to be unintentional because the types 'b' and 'a' have no overlap.
            if (newX !== x) {
                changed = true;
            }
            res.push(newX);
            return res;
        }, []);
        // @ts-expect-error - TS2352 - Conversion of type 'a[]' to type 'b[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
        return changed ? ys : xs;
    };
const filter = (f)=>(xs)=>xs.filter(f);
const reduce = (reducer)=>(init)=>(xs)=>xs.reduce(reducer, init);
const reduceObject = (reducer)=>(init)=>(obj)=>// @ts-expect-error - TS2345 - Argument of type 'a | undefined' is not assignable to parameter of type 'a'.
            objectKeys(obj).reduce((result, key)=>reducer(result)(obj[key]), init);
const objOf = (key)=>(value)=>({
            [key]: value
        });
const concat = (ys)=>ys.length ? (xs)=>xs.length ? xs.concat(ys) : ys : identity;
const concatTo = flip(concat);
const append = (value)=>concat([
        value
    ]);
const constantIdentity = constant(identity);
const add = (x)=>(y)=>x + y;
const inc = (x)=>x + 1;
const max = (x)=>(y)=>x > y ? x : y;
const parseIntWithRadix = (radix)=>(num)=>{
        const parsed = parseInt(num, radix);
        return isNaN(parsed) ? _option.None : (0, _option.Some)(parsed);
    };
const safeParseInt = parseIntWithRadix(10);
const head = (xs)=>// @ts-expect-error - TS2322 - Type 'Option<any> | Option<a | undefined>' is not assignable to type 'Option<a>'.
    xs.length ? (0, _option.Some)(xs[0]) : _option.None;
const last = (xs)=>// @ts-expect-error - TS2322 - Type 'Option<any> | Option<a | undefined>' is not assignable to type 'Option<a>'.
    xs.length ? (0, _option.Some)(xs[xs.length - 1]) : _option.None;
const tail = (xs)=>xs.slice(1);
const length = (xs)=>xs.length;
const flatMap = (f)=>reduce((result, item)=>{
        const ys = f(item);
        if (!ys.length) {
            return result;
        }
        const nextResult = result.length ? result : [];
        nextResult.push.apply(nextResult, ys); // eslint-disable-line prefer-spread
        return nextResult;
    })(emptyArray);
const flat = flatMap(identity);
const test = (regex)=>(string)=>{
        regex.lastIndex = 0;
        const result = regex.test(string);
        regex.lastIndex = 0;
        return result;
    };
const match = (regex)=>(string)=>{
        const result = string.match(regex);
        return result ? (0, _option.Some)(result[0]) : _option.None;
    };
const replace = (pattern)=>(replacement)=>(string)=>string.replace(pattern, replacement);
const split = (pattern)=>(string)=>string.split(pattern);
const lens = (getter)=>(setter)=>(toFunctor)=>(target)=>toFunctor(getter(target)).map((focus)=>setter(focus)(target));
const lensProp = (key)=>lens(prop(key))(assoc(key));
const view = // @ts-expect-error Argument of type '<A>(arg1: (arg2: A) => unknown) => (arg3: A) => unknown' is not assignable to parameter of type '(arg1: unknown) => (arg3: unknown) => unknown'.  Types of parameters 'arg1' and 'arg1' are incompatible.  Type 'unknown' is not assignable to type '(arg2: unknown) => unknown'.
compose(compose(_Const.getConst))(thrush(_Const.Const));
const over = (l)=>(f)=>{
        const toFunctor = compose(_Identity.Identity)(f);
        // @ts-expect-error - TS2322 - Type '(arg1: s) => unknown' is not assignable to type '(arg1: s) => t'. | TS2345 - Argument of type '<a>(object: IdentityType<a>) => a' is not assignable to parameter of type '(arg1: unknown) => unknown'. | TS2345 - Argument of type '(arg1: a) => IdentityType<unknown>' is not assignable to parameter of type '(arg1: a) => Functor<b>'.
        return compose(_Identity.runIdentity)(l(toFunctor));
    };
const set = (l)=>compose(over(l))(constant);
const constantNone = constant(_option.None);
const noneToErr = (error)=>(0, _option.maybe)((0, _result.Err)(error))(_result.Ok);
const okToOption = // eslint-disable-next-line @typescript-eslint/no-explicit-any
(0, _result.either)(constantNone)(_option.Some);
const errToOption = // eslint-disable-next-line @typescript-eslint/no-explicit-any
(0, _result.either)(_option.Some)(constantNone);
const tap = (unsafeFn)=>(value)=>{
        unsafeFn(value);
        return value;
    };
const extractBool = (0, _option.maybe)(false)(identity);
const extractArray = (0, _option.maybe)(emptyArray)(identity);
const extractFunctionFromOption = (0, _option.maybe)(identity)(identity);
const extractFunctionFromResult = (0, _result.either)(constantIdentity)(identity);
const optionToArray = (0, _option.maybe)(emptyArray)(Array.of);
const optionOfEmptyArray = (0, _option.Some)(emptyArray);
const traverseOptions = (f)=>(xs)=>xs.reduce((option, x)=>f(x).map(append).ap(option), optionOfEmptyArray);
const resultOfEmptyArray = (0, _result.Ok)(emptyArray);
const traverseResults = (f)=>(xs)=>xs.reduce((result, x)=>f(x).map(append).ap(result), resultOfEmptyArray);
const resultOfEmptyObject = (0, _result.Ok)(emptyObject);
const traverseObjectResults = (f)=>(obj)=>objectKeys(obj).reduce((result, key)=>f(obj[key]).map(assoc(key)).ap(result), resultOfEmptyObject);
const mapValues = (f)=>(obj)=>{
        let changed = false;
        const newObj = objectKeys(obj).reduce((result, key)=>{
            const oldVal = obj[key];
            // @ts-expect-error - TS2345 - Argument of type 'a | undefined' is not assignable to parameter of type 'a'.
            const newVal = f(oldVal);
            if (oldVal !== newVal) {
                changed = true;
            }
            result[key] = newVal;
            return result;
        }, {});
        return changed ? newObj : obj;
    };
const values = (obj)=>// @ts-expect-error - TS2322 - Type '(T | undefined)[]' is not assignable to type 'T[]'.
    Object.keys(obj).map((k)=>obj[k]);
const entries = (obj)=>{
    const keys = Object.keys(obj);
    // @ts-expect-error - TS2322 - Type '[string, any][]' is not assignable to type '[V, T][]'. | TS7053 - Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Partial<Record<V, T>>'.
    return keys.map((key)=>[
            key,
            obj[key]
        ]);
};
const getDeepestValues = (obj)=>{
    // @ts-expect-error - TS2322 - Type '(T | undefined)[]' is not assignable to type 'T[]'.
    return Object.keys(obj).flatMap((k)=>obj[k] && typeof obj[k] === 'object' ? getDeepestValues(obj[k]) : [
            obj[k]
        ]);
};
const nth = (index)=>(a)=>index < 0 || index >= a.length ? _option.None : (0, _option.Some)(a[index]);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29uc3QsIGdldENvbnN0fSBmcm9tICcuL0NvbnN0JztcbmltcG9ydCB7SWRlbnRpdHksIHJ1bklkZW50aXR5fSBmcm9tICcuL0lkZW50aXR5JztcbmltcG9ydCB7Tm9uZSwgU29tZSwgbWF5YmV9IGZyb20gJ0BwYWNrYWdlcy91dGlsaXRpZXMvZnAvb3B0aW9uJztcbmltcG9ydCB7ZWl0aGVyIGFzIHJlc3VsdEVpdGhlciwgRXJyLCBPa30gZnJvbSAnQHBhY2thZ2VzL3V0aWxpdGllcy9mcC9yZXN1bHQnO1xuXG5pbXBvcnQgdHlwZSB7T3B0aW9ufSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL2ZwL29wdGlvbic7XG5pbXBvcnQgdHlwZSB7UmVzdWx0fSBmcm9tICdAcGFja2FnZXMvdXRpbGl0aWVzL2ZwL3Jlc3VsdCc7XG5cbmV4cG9ydCBjb25zdCBvYmplY3RLZXlzOiA8SyBleHRlbmRzIHN0cmluZywgVj4oYXJnMTogUmVjb3JkPEssIFY+KSA9PiBBcnJheTxLPiA9XG4gIE9iamVjdC5rZXlzO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGxldCBlbXB0eUFycmF5OiBBcnJheTxhbnk+ID0gW107XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGxldCBlbXB0eU9iamVjdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgY29uc3QgcHJveHkgPSA8VD4oc2hhcmVkQ29uc3RhbnROYW1lOiBzdHJpbmcpID0+ICh7XG4gICAgc2V0OiAodGFyZ2V0OiBULCBwcm9wOiBQcm9wZXJ0eUtleSwgdmFsdWU6IHVua25vd24pID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdJbnZhbGlkIG11dGF0aW9uIG9mIHNoYXJlZCBjb25zdGFudC4gUHJvcGVydHkgXCIlc1wiIHdhcyBzZXQgb24gXCIlc1wiLicsXG4gICAgICAgIHByb3AsXG4gICAgICAgIHNoYXJlZENvbnN0YW50TmFtZVxuICAgICAgKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAodGFyZ2V0IGFzIGFueSlbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuICBlbXB0eUFycmF5ID0gbmV3IFByb3h5KGVtcHR5QXJyYXksIHByb3h5KCdlbXB0eUFycmF5JykpO1xuICBlbXB0eU9iamVjdCA9IG5ldyBQcm94eShlbXB0eU9iamVjdCwgcHJveHkoJ2VtcHR5T2JqZWN0JykpO1xufVxuXG4vLyBDb21iaW5hdG9yc1xuXG5leHBvcnQgY29uc3QgaWRlbnRpdHkgPSA8QT4oeDogQSk6IEEgPT4geDtcblxuZXhwb3J0IGNvbnN0IGNvbnN0YW50ID1cbiAgPEE+KHg6IEEpID0+XG4gIDxCPihfPzogQik6IEEgPT5cbiAgICB4O1xuXG5leHBvcnQgY29uc3QgY29tcG9zZSA9XG4gIDxCLCBDPihmOiAoeDogQikgPT4gQykgPT5cbiAgPEE+KGc6ICh5OiBBKSA9PiBCKSA9PlxuICAoeDogQSk6IEMgPT5cbiAgICBmKGcoeCkpO1xuXG5leHBvcnQgY29uc3QgYmxhY2tiaXJkID1cbiAgPEMsIEQ+KGY6ICh6OiBDKSA9PiBEKSA9PlxuICA8QSwgQj4oZzogKHg6IEEpID0+ICh5OiBCKSA9PiBDKSA9PlxuICAoeDogQSkgPT5cbiAgKHk6IEIpID0+XG4gICAgZihnKHgpKHkpKTtcblxuZXhwb3J0IGNvbnN0IGZsaXAgPVxuICA8YSwgYiwgYz4oZjogKHk6IGEpID0+ICh4OiBiKSA9PiBjKSA9PlxuICAoeDogYikgPT5cbiAgKHk6IGEpID0+XG4gICAgZih5KSh4KTtcblxuZXhwb3J0IGNvbnN0IHRocnVzaCA9XG4gIDxBPih4OiBBKSA9PlxuICA8Qj4oZjogKHk6IEEpID0+IEIpOiBCID0+XG4gICAgZih4KTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBhcHBsaWVkIHRvIHRoZSB0aGlyZCwgd2hpY2ggaXMgdGhlbiBhcHBsaWVkXG4gKiB0byB0aGUgcmVzdWx0IG9mIHRoZSBzZWNvbmQgYXJndW1lbnQgYXBwbGllZCB0byB0aGUgdGhpcmQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdWJzdGl0dXRpb24gPVxuICA8QSwgQiwgQz4oZjogKHg6IEEpID0+ICh5OiBCKSA9PiBDKSA9PlxuICAoZzogKHg6IEEpID0+IEIpID0+XG4gICh4OiBBKTogQyA9PlxuICAgIGYoeCkoZyh4KSk7XG5cbi8vIExvZ2ljIHV0aWxpdGllc1xuXG50eXBlIFByZWRpY2F0ZTxBPiA9ICh4OiBBKSA9PiBib29sZWFuO1xuXG5leHBvcnQgY29uc3QgY29uc3RhbnRGYWxzZSA9IGNvbnN0YW50KGZhbHNlKTtcbmV4cG9ydCBjb25zdCBjb25zdGFudFRydWUgPSBjb25zdGFudCh0cnVlKTtcblxuZXhwb3J0IGNvbnN0IG5vdCA9ICh4OiBib29sZWFuKSA9PiAheDtcbmV4cG9ydCBjb25zdCBjb21wbGVtZW50OiA8QT4oZjogUHJlZGljYXRlPEE+KSA9PiBQcmVkaWNhdGU8QT4gPSBjb21wb3NlKG5vdCk7XG5cbmV4cG9ydCBjb25zdCBhbnlQYXNzID1cbiAgPGE+KHByZWRzOiBBcnJheTxQcmVkaWNhdGU8YT4+KTogUHJlZGljYXRlPGE+ID0+XG4gICh2YWx1ZSkgPT5cbiAgICBwcmVkcy5zb21lKHRocnVzaCh2YWx1ZSkpO1xuXG5leHBvcnQgY29uc3QgYWxsUGFzcyA9XG4gIDxBPihwcmVkczogQXJyYXk8UHJlZGljYXRlPEE+Pik6IFByZWRpY2F0ZTxBPiA9PlxuICAodmFsdWUpID0+XG4gICAgcHJlZHMuZXZlcnkodGhydXNoKHZhbHVlKSk7XG5cbmV4cG9ydCBjb25zdCBvcHRpb25Ub0Jvb2w6IDxBPihvOiBPcHRpb248QT4pID0+IGJvb2xlYW4gPVxuICBtYXliZShmYWxzZSkoY29uc3RhbnRUcnVlKTtcbmV4cG9ydCBjb25zdCByZXN1bHRUb0Jvb2w6IDxULCBGPihyOiBSZXN1bHQ8VCwgRj4pID0+IGJvb2xlYW4gPVxuICByZXN1bHRFaXRoZXIoY29uc3RhbnRGYWxzZSkoY29uc3RhbnRUcnVlKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byB2YWx1ZXMgYXJlIHJlZmVyZW50aWFsbHkgZXF1YWwuXG4gKi9cbmV4cG9ydCBjb25zdCBlcXVhbHMgPVxuICA8YT4oeDogYSkgPT5cbiAgKHk6IGEpID0+XG4gICAgeCA9PT0geTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byB2YWx1ZXMgYXJlIG5vdCByZWZlcmVudGlhbGx5IGVxdWFsLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWwgPVxuICA8YT4oeDogYSkgPT5cbiAgKHk6IGEpID0+XG4gICAgeCAhPT0geTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAgb3IgYG51bGxgLlxuICovXG5leHBvcnQgY29uc3QgaXNOaWwgPSA8YT4odmFsdWU6IGEpOiBib29sZWFuID0+IHZhbHVlID09IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBgdmFsdWVgIGlzIG5vdCBgdW5kZWZpbmVkYCBvciBgbnVsbGAuXG4gKi9cbmV4cG9ydCBjb25zdCBub3ROaWw6IDxhPihhcmcxOiBhKSA9PiBib29sZWFuID0gY29tcGxlbWVudChpc05pbCk7XG5cbi8qKlxuICogVGFrZXMgdHdvIHByZWRpY2F0ZSBmdW5jdGlvbnMgYW5kIHJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdFxuICogZXZhbHVhdGVzIHRvIHRydWUgd2hlbiBlaXRoZXIgb2YgdGhlIHByZWRpY2F0ZXMgZXZhbHVhdGUgdG8gdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVBXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVCXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cbmV4cG9ydCBjb25zdCBlaXRoZXIgPVxuICAocHJlZGljYXRlQTogYW55LCBwcmVkaWNhdGVCOiBhbnkpID0+XG4gICguLi5hcmdzOiBBcnJheTxhbnk+KSA9PlxuICAgIHByZWRpY2F0ZUEoLi4uYXJncykgfHwgcHJlZGljYXRlQiguLi5hcmdzKTtcblxuLyoqXG4gKiBUYWtlcyB0d28gcHJlZGljYXRlIGZ1bmN0aW9ucyBhbmQgcmV0dXJucyBhIG5ldyBmdW5jdGlvbiB0aGF0IGV2YWx1YXRlc1xuICogdG8gdHJ1ZSBpZiBib3RoIHByZWRpY2F0ZXMgZXZhbHVhdGUgdG8gdHJ1ZS5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gcHJlZGljYXRlQVxuICogQHBhcmFtICB7RnVuY3Rpb259IHByZWRpY2F0ZUJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBib3RoID1cbiAgKHByZWRpY2F0ZUE6IGFueSwgcHJlZGljYXRlQjogYW55KSA9PlxuICAoLi4uYXJnczogQXJyYXk8YW55PikgPT5cbiAgICBwcmVkaWNhdGVBKC4uLmFyZ3MpICYmIHByZWRpY2F0ZUIoLi4uYXJncyk7XG5cbi8qKlxuICogRXhlY3V0ZXMgYHByZWRpY2F0ZWAgd2l0aCB0aGUgcHJvdmlkZWQgYHZhbHVlYC4gSWYgdGhlIHJlc3VsdCBpcyB0cnVlLFxuICogcmV0dXJucyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGB3aGVuVHJ1ZUZuYCB0byB0aGUgYHZhbHVlYC4gSWYgaXQgaXMgZmFsc2UsXG4gKiBqdXN0IHJldHVybnMgdGhlIGB2YWx1ZWAgaXRzZWxmLlxuICovXG5leHBvcnQgY29uc3Qgd2hlbiA9XG4gIDxhPihwcmVkaWNhdGU6IFByZWRpY2F0ZTxhPikgPT5cbiAgKHdoZW5UcnVlRm46ICh4OiBhKSA9PiBhKSA9PlxuICAodmFsdWU6IGEpID0+XG4gICAgcHJlZGljYXRlKHZhbHVlKSA/IHdoZW5UcnVlRm4odmFsdWUpIDogdmFsdWU7XG5cbmV4cG9ydCBjb25zdCBoYXMgPVxuICA8YSBleHRlbmRzIHN0cmluZz4oa2V5OiBhKSA9PlxuICA8Yj4ob2JqZWN0OiBQYXJ0aWFsPFJlY29yZDxhLCBiPj4pOiBib29sZWFuID0+XG4gICAgT2JqZWN0Lmhhc093bihvYmplY3QsIGtleSk7XG5cbmV4cG9ydCBjb25zdCBwcm9wID1cbiAgPE8gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBLIGV4dGVuZHMga2V5b2YgTz4oa2V5OiBLKSA9PlxuICAob2JqZWN0OiBPKTogT1tLXSA9PlxuICAgIG9iamVjdFtrZXldO1xuXG5jb25zdCBhc3NvY1JlZHVjZXIgPSAoXG4gIGFjYzpcbiAgICB8IHtcbiAgICAgICAgcmVzdWx0OiBSZWNvcmQ8YW55LCBhbnk+O1xuICAgICAgICBzb3VyY2U6IGFueTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgcmVzdWx0OiBSZWNvcmQ8YW55LCBhbnk+O1xuICAgICAgICBzb3VyY2U6IG5ldmVyO1xuICAgICAgfSxcbiAga2V5OiBhbnlcbikgPT4ge1xuICBhY2MucmVzdWx0W2tleV0gPSBhY2Muc291cmNlW2tleV07XG4gIHJldHVybiBhY2M7XG59O1xuXG5leHBvcnQgY29uc3QgYXNzb2MgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaGFzS2V5ID0gaGFzKGtleSk7XG4gIHJldHVybiA8QT4odmFsdWU6IEEpID0+XG4gICAgPE8gZXh0ZW5kcyBSZWNvcmQ8YW55LCBhbnk+PihvYmplY3Q6IE8pOiBPID0+IHtcbiAgICAgIGlmIChoYXNLZXkob2JqZWN0KSAmJiBvYmplY3Rba2V5XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gb2JqZWN0S2V5cyhvYmplY3QpLnJlZHVjZShhc3NvY1JlZHVjZXIsIHtcbiAgICAgICAgc291cmNlOiBvYmplY3QsXG4gICAgICAgIHJlc3VsdDoge30sXG4gICAgICB9KS5yZXN1bHQ7XG5cbiAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG5cbiAgICAgIHJldHVybiByZXN1bHQgYXMgTztcbiAgICB9O1xufTtcblxuY29uc3QgZGlzc29jUmVkdWNlciA9IChcbiAgYWNjOiB7XG4gICAgZXhjbHVkZTogc3RyaW5nO1xuICAgIHJlc3VsdDogUmVjb3JkPGFueSwgYW55PjtcbiAgICBzb3VyY2U6IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAgICB9O1xuICB9LFxuICBrZXk6IHN0cmluZ1xuKSA9PiB7XG4gIGlmIChhY2MuZXhjbHVkZSAhPT0ga2V5KSB7XG4gICAgYWNjLnJlc3VsdFtrZXldID0gYWNjLnNvdXJjZVtrZXldO1xuICB9XG4gIHJldHVybiBhY2M7XG59O1xuXG50eXBlIERpc3NvYzxhPiA9IChhcmcxOiBzdHJpbmcpID0+IChhcmcyOiB7W2tleTogc3RyaW5nXTogYX0pID0+IHtcbiAgW2tleTogc3RyaW5nXTogYTtcbn07XG5leHBvcnQgY29uc3QgZGlzc29jOiBEaXNzb2M8YW55PiA9IChrZXkpID0+IHtcbiAgY29uc3QgaGFzS2V5ID0gaGFzKGtleSk7XG4gIHJldHVybiAob2JqZWN0OiB7W2tleTogc3RyaW5nXTogYW55fSkgPT5cbiAgICBoYXNLZXkob2JqZWN0KVxuICAgICAgPyBvYmplY3RLZXlzKG9iamVjdCkucmVkdWNlKGRpc3NvY1JlZHVjZXIsIHtcbiAgICAgICAgICBzb3VyY2U6IG9iamVjdCxcbiAgICAgICAgICByZXN1bHQ6IHt9LFxuICAgICAgICAgIGV4Y2x1ZGU6IGtleSxcbiAgICAgICAgfSkucmVzdWx0XG4gICAgICA6IG9iamVjdDtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGp1c3QgPVxuICA8YT4oZjogKHg6IGEpID0+IGEpID0+XG4gIDxrIGV4dGVuZHMgc3RyaW5nPihrZXk6IGspID0+IHtcbiAgICBjb25zdCBoYXNLZXkgPSBoYXMoa2V5KTtcbiAgICByZXR1cm4gKG9iajogUmVjb3JkPGssIGE+KSA9PlxuICAgICAgaGFzS2V5KG9iaikgPyBhc3NvYyhrZXkpKGYob2JqW2tleV0pKShvYmopIDogb2JqO1xuICB9O1xuXG5leHBvcnQgY29uc3QgdW5pb25XaXRoID1cbiAgPGE+KGNvbWJpbmU6ICh4OiBhKSA9PiAoeTogYSkgPT4gYSkgPT5cbiAgPGsgZXh0ZW5kcyBzdHJpbmc+KFxuICAgIGZpcnN0OiBSZWNvcmQ8aywgYT5cbiAgKTogKCh4OiBSZWNvcmQ8aywgYT4pID0+IFJlY29yZDxrLCBhPikgPT5cbiAgICBmaXJzdCA9PT0gZW1wdHlPYmplY3RcbiAgICAgID8gaWRlbnRpdHlcbiAgICAgIDogKHNlY29uZDogUmVjb3JkPGssIGE+KSA9PiB7XG4gICAgICAgICAgaWYgKHNlY29uZCA9PT0gZW1wdHlPYmplY3QpIHJldHVybiBmaXJzdDtcblxuICAgICAgICAgIGxldCBjaGFuZ2VkRnJvbUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgbGV0IGNoYW5nZWRGcm9tU2Vjb25kID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBhPiA9IHt9O1xuXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2Vjb25kKSB7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRWYWwgPSBzZWNvbmRba2V5XTtcblxuICAgICAgICAgICAgaWYgKGtleSBpbiBmaXJzdCkge1xuICAgICAgICAgICAgICBjb25zdCBmaXJzdFZhbCA9IGZpcnN0W2tleV07XG4gICAgICAgICAgICAgIGNvbnN0IGZpbmFsVmFsID0gY29tYmluZShmaXJzdFZhbCkoc2Vjb25kVmFsKTtcblxuICAgICAgICAgICAgICBpZiAoZmluYWxWYWwgIT09IHNlY29uZFZhbCkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWRGcm9tU2Vjb25kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZmluYWxWYWwgIT09IGZpcnN0VmFsKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZEZyb21GaXJzdCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBmaW5hbFZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoYW5nZWRGcm9tRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHNlY29uZFZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBmaXJzdCkge1xuICAgICAgICAgICAgaWYgKGtleSBpbiByZXN1bHQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2hhbmdlZEZyb21TZWNvbmQgPSB0cnVlO1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBmaXJzdFtrZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghY2hhbmdlZEZyb21GaXJzdCkgcmV0dXJuIGZpcnN0O1xuICAgICAgICAgIGlmICghY2hhbmdlZEZyb21TZWNvbmQpIHJldHVybiBzZWNvbmQ7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcblxuZXhwb3J0IGNvbnN0IHVuaW9uOiA8ayBleHRlbmRzIHN0cmluZywgYT4oXG4gIHg6IFJlY29yZDxrLCBhPlxuKSA9PiAoeTogUmVjb3JkPGssIGE+KSA9PiBSZWNvcmQ8aywgYT4gPSB1bmlvbldpdGgoY29uc3RhbnQpO1xuXG5leHBvcnQgY29uc3QgdW5pb25UbzogPGsgZXh0ZW5kcyBzdHJpbmcsIGE+KFxuICBhcmcxOiBSZWNvcmQ8aywgYT5cbikgPT4gKGFyZzI6IFJlY29yZDxrLCBhPikgPT4gUmVjb3JkPGssIGE+ID0gZmxpcCh1bmlvbik7XG5cbmNvbnN0IG9taXRSZWR1Y2VyID0gPGE+KFxuICBhY2M6IHtcbiAgICBjaGFuZ2VkOiBib29sZWFuO1xuICAgIGV4Y2x1ZGU6IEFycmF5PHN0cmluZz47XG4gICAgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBhPjtcbiAgICBzb3VyY2U6IFJlY29yZDxzdHJpbmcsIGE+O1xuICB9LFxuICBrZXk6IHN0cmluZ1xuKSA9PiB7XG4gIGlmIChhY2MuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgYWNjLmNoYW5nZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICdhIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdhJy5cbiAgICBhY2MucmVzdWx0W2tleV0gPSBhY2Muc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIGFjYztcbn07XG5cbmV4cG9ydCBjb25zdCBvbWl0ID0gKGtleXM6IEFycmF5PHN0cmluZz4pID0+IHtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG5cbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIHJldHVybiBpZGVudGl0eTtcbiAgfVxuXG4gIGlmIChsZW4gPT09IDEpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnc3RyaW5nIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJy5cbiAgICByZXR1cm4gZGlzc29jKGtleXNbMF0pO1xuICB9XG5cbiAgcmV0dXJuIDxhPihvYmplY3Q6IFJlY29yZDxzdHJpbmcsIGE+KTogUmVjb3JkPHN0cmluZywgYT4gPT4ge1xuICAgIGNvbnN0IHtyZXN1bHQsIGNoYW5nZWR9ID0gb2JqZWN0S2V5cyhvYmplY3QpLnJlZHVjZShvbWl0UmVkdWNlciwge1xuICAgICAgc291cmNlOiBvYmplY3QsXG4gICAgICBleGNsdWRlOiBrZXlzLFxuICAgICAgY2hhbmdlZDogZmFsc2UsXG4gICAgICByZXN1bHQ6IHt9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNoYW5nZWQgPyByZXN1bHQgOiBvYmplY3Q7XG4gIH07XG59O1xuXG5jb25zdCBwaWNrUmVkdWNlciA9IChcbiAgYWNjOiB7XG4gICAgcmVzdWx0OiBSZWNvcmQ8YW55LCBhbnk+O1xuICAgIHNvdXJjZTogUGFydGlhbDxSZWNvcmQ8YW55LCBuZXZlcj4+O1xuICB9LFxuICBrZXk6IGFueVxuKSA9PiB7XG4gIGlmIChPYmplY3QuaGFzT3duKGFjYy5zb3VyY2UsIGtleSkpIHtcbiAgICBhY2MucmVzdWx0W2tleV0gPSBhY2Muc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIGFjYztcbn07XG5cbnR5cGUgUGljazxhLCBiPiA9IChcbiAgYXJnMTogQXJyYXk8Yj5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NCAtIFR5cGUgJ2InIGRvZXMgbm90IHNhdGlzZnkgdGhlIGNvbnN0cmFpbnQgJ3N0cmluZyB8IG51bWJlciB8IHN5bWJvbCcuIHwgVFMyMzQ0IC0gVHlwZSAnYicgZG9lcyBub3Qgc2F0aXNmeSB0aGUgY29uc3RyYWludCAnc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sJy5cbikgPT4gKGFyZzI6IFBhcnRpYWw8UmVjb3JkPGIsIGE+PikgPT4gUGFydGlhbDxSZWNvcmQ8YiwgYT4+O1xuZXhwb3J0IGNvbnN0IHBpY2s6IFBpY2s8YW55LCBhbnk+ID1cbiAgKGtleXMpID0+IChzb3VyY2U6IFBhcnRpYWw8UmVjb3JkPGFueSwgbmV2ZXI+PikgPT5cbiAgICBrZXlzLnJlZHVjZShwaWNrUmVkdWNlciwge3NvdXJjZSwgcmVzdWx0OiB7fX0pLnJlc3VsdDtcblxuY29uc3QgcGlja0J5UmVkdWNlciA9IChcbiAgYWNjOiB7XG4gICAgY2hhbmdlZDogYm9vbGVhbjtcbiAgICBwcmVkaWNhdGU6IChhcmcxOiBuZXZlcikgPT4gYm9vbGVhbjtcbiAgICByZXN1bHQ6IFJlY29yZDxhbnksIGFueT47XG4gICAgc291cmNlOiBQYXJ0aWFsPFJlY29yZDxhbnksIG5ldmVyPj47XG4gIH0sXG4gIGtleTogYW55XG4pID0+IHtcbiAgY29uc3QgdmFsdWUgPSBhY2Muc291cmNlW2tleV07XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICd1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICduZXZlcicuXG4gIGlmIChhY2MucHJlZGljYXRlKHZhbHVlKSkge1xuICAgIGFjYy5yZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGFjYy5jaGFuZ2VkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYWNjO1xufTtcblxudHlwZSBQaWNrQnk8YSwgYj4gPSAoXG4gIGFyZzE6IChhcmcyOiBhKSA9PiBib29sZWFuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDQgLSBUeXBlICdiJyBkb2VzIG5vdCBzYXRpc2Z5IHRoZSBjb25zdHJhaW50ICdzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wnLiB8IFRTMjM0NCAtIFR5cGUgJ2InIGRvZXMgbm90IHNhdGlzZnkgdGhlIGNvbnN0cmFpbnQgJ3N0cmluZyB8IG51bWJlciB8IHN5bWJvbCcuXG4pID0+IChhcmczOiBQYXJ0aWFsPFJlY29yZDxiLCBhPj4pID0+IFBhcnRpYWw8UmVjb3JkPGIsIGE+PjtcbmV4cG9ydCBjb25zdCBwaWNrQnk6IFBpY2tCeTxhbnksIGFueT4gPVxuICAocHJlZGljYXRlKSA9PiAob2JqZWN0OiBQYXJ0aWFsPFJlY29yZDxhbnksIG5ldmVyPj4pID0+IHtcbiAgICBjb25zdCB7cmVzdWx0LCBjaGFuZ2VkfSA9IG9iamVjdEtleXMob2JqZWN0KS5yZWR1Y2UocGlja0J5UmVkdWNlciwge1xuICAgICAgc291cmNlOiBvYmplY3QsXG4gICAgICBwcmVkaWNhdGUsXG4gICAgICBjaGFuZ2VkOiBmYWxzZSxcbiAgICAgIHJlc3VsdDoge30sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoYW5nZWQgPyByZXN1bHQgOiBvYmplY3Q7XG4gIH07XG5cbmV4cG9ydCBjb25zdCBsb29rdXAgPSA8ayBleHRlbmRzIHN0cmluZz4oa2V5OiBrKSA9PiB7XG4gIGNvbnN0IGhhc0tleSA9IGhhcyhrZXkpO1xuICByZXR1cm4gPGE+KG9iamVjdDogUmVjb3JkPGssIGE+KTogT3B0aW9uPGE+ID0+XG4gICAgaGFzS2V5KG9iamVjdCkgPyBTb21lKG9iamVjdFtrZXldKSA6IChOb25lIGFzIE9wdGlvbjxhPik7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGF0IGBrZXlgIG9yIHJldHVybnMgYGRlZmF1bHRWYWx1ZWAgaWYgbm8gdmFsdWUgaXMgcHJlc2VudFxuICogYXQgYGtleWAgaW4gYG9iamVjdGAgbWFwLlxuICovXG5leHBvcnQgY29uc3QgbG9va3VwV2l0aERlZmF1bHQgPVxuICA8YT4oZGVmYXVsdFZhbHVlOiBhKSA9PlxuICA8ayBleHRlbmRzIHN0cmluZz4oa2V5OiBrKSA9PiB7XG4gICAgY29uc3QgaGFzS2V5ID0gaGFzKGtleSk7XG4gICAgcmV0dXJuIChvYmplY3Q6IFJlY29yZDxrLCBhPikgPT5cbiAgICAgIGhhc0tleShvYmplY3QpID8gb2JqZWN0W2tleV0gOiBkZWZhdWx0VmFsdWU7XG4gIH07XG5cbmV4cG9ydCBjb25zdCBmaW5kID1cbiAgPGE+KHByZWQ6IFByZWRpY2F0ZTxhPik6ICgoYXJnMTogYVtdKSA9PiBPcHRpb248YT4pID0+XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICcoYXJyYXk6IGFbXSkgPT4gT3B0aW9uPGE+IHwgT3B0aW9uPGEgfCB1bmRlZmluZWQ+JyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICcoYXJnMTogYVtdKSA9PiBPcHRpb248YT4nLlxuICAoYXJyYXkpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGFycmF5LmZpbmRJbmRleChwcmVkKTtcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gKE5vbmUgYXMgT3B0aW9uPGE+KSA6IFNvbWUoYXJyYXlbaW5kZXhdKTtcbiAgfTtcblxudHlwZSBQaXBlID0gPFQ+KGZuczogQXJyYXk8KGFyZzogVCkgPT4gVD4pID0+IChpbml0aWFsVmFsdWU6IFQpID0+IFQ7XG5cbmV4cG9ydCBjb25zdCBwaXBlOiBQaXBlID0gKGZucykgPT4gKGluaXRpYWxWYWx1ZSkgPT5cbiAgZm5zLnJlZHVjZSgodmFsdWUsIGZuKSA9PiBmbih2YWx1ZSksIGluaXRpYWxWYWx1ZSk7XG5cbmV4cG9ydCBjb25zdCB6aXBXaXRoID1cbiAgPGEsIGIsIGM+KGY6ICh4OiBhKSA9PiAoeTogYikgPT4gYykgPT5cbiAgKHhzOiBBcnJheTxhPikgPT5cbiAgKHlzOiBBcnJheTxiPik6IEFycmF5PGM+ID0+IHtcbiAgICBjb25zdCBydjogQXJyYXk8Yz4gPSBbXTtcbiAgICBsZXQgaWR4ID0gMDtcbiAgICBjb25zdCBsZW4gPSBNYXRoLm1pbih4cy5sZW5ndGgsIHlzLmxlbmd0aCk7XG5cbiAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnYSB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ2EnLiB8IFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ2IgfCB1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdiJy5cbiAgICAgIHJ2W2lkeF0gPSBmKHhzW2lkeF0pKHlzW2lkeF0pO1xuICAgICAgaWR4ICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBydjtcbiAgfTtcblxudHlwZSBaaXAgPSA8YSwgYj4oeDogQXJyYXk8YT4pID0+ICh5OiBBcnJheTxiPikgPT4gQXJyYXk8W2EsIGJdPjtcblxuZXhwb3J0IGNvbnN0IHppcDogWmlwID0gemlwV2l0aCgoeCkgPT4gKHkpID0+IFt4LCB5XSk7XG5cbmZ1bmN0aW9uIGdldE1pbkxlbmd0aDxUPihhcnJheXM6IFJlYWRvbmx5QXJyYXk8UmVhZG9ubHlBcnJheTxUPj4pOiBudW1iZXIge1xuICBpZiAoYXJyYXlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI1MzIgLSBPYmplY3QgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gIGlmIChhcnJheXMubGVuZ3RoID09PSAxKSByZXR1cm4gYXJyYXlzWzBdLmxlbmd0aDtcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNTMyIC0gT2JqZWN0IGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICBsZXQgbWluID0gYXJyYXlzWzBdLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDEsIGxlbiA9IGFycmF5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzI1MzIgLSBPYmplY3QgaXMgcG9zc2libHkgJ3VuZGVmaW5lZCcuXG4gICAgY29uc3QgYXJyX2xlbiA9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgaWYgKGFycl9sZW4gPCBtaW4pIG1pbiA9IGFycl9sZW47XG4gIH1cbiAgcmV0dXJuIG1pbjtcbn1cblxuLypcbiAqIFVzYWdlOlxuICogIGNvbnN0IG11bHRpcGx5ID0gKGE6IG51bWJlcikgPT4gKGI6IG51bWJlcikgPT4gYSAqIGI7XG4gKiAgY29uc3QgYXJyYXlzID0gW1xuICogICAgWzEsIDIsIDMsIDRdLFxuICogICAgWzUsIDZdLFxuICogICAgWzcsIDgsIDldLFxuICogIF07XG4gKiAgY29uc3QgcmVzdWx0ID0gemlwQ2F0KG11bHRpcGx5KShhcnJheXMpOyAvLyA9PiBbMzUsIDk2LCAzLCA0LCA5XVxuICovXG5leHBvcnQgZnVuY3Rpb24gemlwQ2F0PFQ+KFxuICBmbjogKGFyZzE6IFQpID0+IChhcmcyOiBUKSA9PiBUXG4pOiAoYXJnMTogUmVhZG9ubHlBcnJheTxSZWFkb25seUFycmF5PFQ+PikgPT4gQXJyYXk8VD4ge1xuICByZXR1cm4gZnVuY3Rpb24gemlwQ2F0X2lubmVyKFxuICAgIGFycmF5czogUmVhZG9ubHlBcnJheTxSZWFkb25seUFycmF5PFQ+PlxuICApOiBBcnJheTxUPiB7XG4gICAgLy8gRmluZCB0aGUgbGVuZ3RoIG9mIHRoZSBzaG9ydGVzdCBhcnJheSB0byBrbm93IHRoZSBtYXggbnVtYmVyIG9mIHppcCBpdGVtcy5cbiAgICBjb25zdCB6aXBMZW5ndGggPSBnZXRNaW5MZW5ndGgoYXJyYXlzKTtcbiAgICAvLyBDcmVhdGUgYSBzaW5nbGUgYXJyYXkgcmVmZXJlbmNlIHRvIHN0b3JlIG91ciBpdGVtcyBpbnRvLlxuICAgIGNvbnN0IHJ2OiBBcnJheTxUPiA9IFtdO1xuICAgIC8vIEZvciBlYWNoIGFycmF5XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAvLyBGb3IgZWFjaCBpbmRleCBpbiB0aGUgY3VycmVudCBhcnJheVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMTgwNDggLSAnYXJyYXknIGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnLlxuICAgICAgZm9yIChsZXQgaiA9IDAsIGFycmF5X2xlbiA9IGFycmF5Lmxlbmd0aDsgaiA8IGFycmF5X2xlbjsgaisrKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzE4MDQ4IC0gJ2FycmF5JyBpcyBwb3NzaWJseSAndW5kZWZpbmVkJy5cbiAgICAgICAgY29uc3QgaXRlbSA9IGFycmF5W2pdO1xuICAgICAgICAvLyBGb3IgZWFjaCBpbmRleCB0aGF0IGZhbGxzIGluIHRoZSB6aXAgcmFuZ2VcbiAgICAgICAgaWYgKGogPCB6aXBMZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHJ2W2pdO1xuICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgdmFsdWUgZm9yIHRoaXMgemlwIGluZGV4LlxuICAgICAgICAgIC8vIElmIHdlIGRvIHRoZW4gd2UgY2FsbCB0aGUgemlwIGZuIG9uIHRoZSBleGlzdGluZyByZXN1bHQgYW5kIHRoZSBjdXJyZW50IGl0ZW0sXG4gICAgICAgICAgLy8gdGhlbiBzYXZlIGl0IGJhY2sgYXQgdGhlIHppcCBpbmRleC5cbiAgICAgICAgICBpZiAodHlwZW9mIGV4aXN0aW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ1QgfCB1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdUJy5cbiAgICAgICAgICAgIHJ2W2pdID0gZm4oZXhpc3RpbmcpKGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiB3ZSBkb24ndCB0aGVuIHdlIHNhdmUgdGhlIGN1cnJlbnQgaXRlbSBhdCB0aGUgemlwIGluZGV4LlxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ1QgfCB1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ1QnLlxuICAgICAgICAgICAgcnZbal0gPSBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgaW5kZXggZmFsbHMgb3V0c2lkZSB0aGUgemlwIHJhbmdlLCB0aGVuIHB1c2ggdGhlIGl0ZW0gb250byB0aGVcbiAgICAgICAgLy8gZW5kIG9mIHJlc3VsdCBhcnJheS4gV2UgdXNlIGBwdXNoYCBoZXJlIHRvIGVuc3VyZSBpdCBpcyBpbnNlcnRlZCBhZnRlclxuICAgICAgICAvLyB0aGUgemlwIHJhbmdlIGluZGljZXMuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdUIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnVCcuXG4gICAgICAgICAgcnYucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnY7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBtYXAgPVxuICA8XG4gICAgYSxcbiAgICBiLFxuICAgIGMgZXh0ZW5kcyB7XG4gICAgICByZWFkb25seSBtYXA6IChhcmcxOiAoYXJnMjogYSkgPT4gYikgPT4gYW55O1xuICAgIH0sXG4gID4oXG4gICAgZjogKGFyZzE6IGEpID0+IGJcbiAgKSA9PlxuICAoeHM6IGMpID0+XG4gICAgeHMubWFwKGYpO1xuXG5leHBvcnQgY29uc3QgbWFwQXJyYXkgPVxuICA8YSwgYj4oZjogKGFyZzE6IGEpID0+IGIpOiAoKGFyZzE6IEFycmF5PGE+KSA9PiBBcnJheTxiPikgPT5cbiAgKHhzOiBBcnJheTxhPikgPT4ge1xuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgY29uc3QgeXMgPSB4cy5yZWR1Y2U8QXJyYXk8YW55Pj4oKHJlcywgeCkgPT4ge1xuICAgICAgY29uc3QgbmV3WCA9IGYoeCk7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzY3IC0gVGhpcyBjb21wYXJpc29uIGFwcGVhcnMgdG8gYmUgdW5pbnRlbnRpb25hbCBiZWNhdXNlIHRoZSB0eXBlcyAnYicgYW5kICdhJyBoYXZlIG5vIG92ZXJsYXAuXG4gICAgICBpZiAobmV3WCAhPT0geCkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlcy5wdXNoKG5ld1gpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCBbXSk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM1MiAtIENvbnZlcnNpb24gb2YgdHlwZSAnYVtdJyB0byB0eXBlICdiW10nIG1heSBiZSBhIG1pc3Rha2UgYmVjYXVzZSBuZWl0aGVyIHR5cGUgc3VmZmljaWVudGx5IG92ZXJsYXBzIHdpdGggdGhlIG90aGVyLiBJZiB0aGlzIHdhcyBpbnRlbnRpb25hbCwgY29udmVydCB0aGUgZXhwcmVzc2lvbiB0byAndW5rbm93bicgZmlyc3QuXG4gICAgcmV0dXJuIGNoYW5nZWQgPyB5cyA6ICh4cyBhcyBBcnJheTxiPik7XG4gIH07XG5cbnR5cGUgRmlsdGVyPGE+ID0gKGFyZzE6IChhcmcyOiBhKSA9PiBib29sZWFuKSA9PiAoYXJnMjogQXJyYXk8YT4pID0+IEFycmF5PGE+O1xuZXhwb3J0IGNvbnN0IGZpbHRlcjogRmlsdGVyPGFueT4gPSAoZikgPT4gKHhzOiBBcnJheTxhbnk+KSA9PiB4cy5maWx0ZXIoZik7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2UgPVxuICA8YSwgYj4oXG4gICAgcmVkdWNlcjogKGFyZzE6IGIsIGFyZzI6IGEpID0+IGJcbiAgKTogKChhcmcxOiBiKSA9PiAoYXJnMjogQXJyYXk8YT4pID0+IGIpID0+XG4gIChpbml0OiBiKSA9PlxuICAoeHM6IEFycmF5PGE+KSA9PlxuICAgIHhzLnJlZHVjZShyZWR1Y2VyLCBpbml0KTtcblxuZXhwb3J0IGNvbnN0IHJlZHVjZU9iamVjdCA9XG4gIDxhLCBiPihcbiAgICByZWR1Y2VyOiAoYXJnMTogYikgPT4gKGFyZzI6IGEpID0+IGJcbiAgKTogKChhcmcxOiBiKSA9PiA8ayBleHRlbmRzIHN0cmluZz4oYXJnMjogUGFydGlhbDxSZWNvcmQ8aywgYT4+KSA9PiBiKSA9PlxuICAoaW5pdDogYikgPT5cbiAgPGsgZXh0ZW5kcyBzdHJpbmc+KG9iajogUGFydGlhbDxSZWNvcmQ8aywgYT4+KSA9PlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdhIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnYScuXG4gICAgb2JqZWN0S2V5cyhvYmopLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHJlZHVjZXIocmVzdWx0KShvYmpba2V5XSksIGluaXQpO1xuXG50eXBlIE9iak9mPGE+ID0gKGFyZzE6IHN0cmluZykgPT4gKGFyZzI6IGEpID0+IHtcbiAgW2tleTogc3RyaW5nXTogYTtcbn07XG5leHBvcnQgY29uc3Qgb2JqT2Y6IE9iak9mPGFueT4gPSAoa2V5KSA9PiAodmFsdWU6IGFueSkgPT4gKHtba2V5XTogdmFsdWV9KTtcblxuLyoqXG4gKiAgY29uY2F0IGNvbmNhdGVuYXRlcyB0aGUgZmlyc3Qgb250byB0aGUgc2Vjb25kXG4gKiAgY29uY2F0KFsxLDIsM10pKFs0LDUsNl0pIGJlY29tZXMgWzQsNSw2LDEsMiwzXVxuICovXG5leHBvcnQgY29uc3QgY29uY2F0ID0gPGE+KHlzOiBBcnJheTxhPik6ICgoYXJnMTogQXJyYXk8YT4pID0+IEFycmF5PGE+KSA9PlxuICB5cy5sZW5ndGggPyAoeHM6IEFycmF5PGE+KSA9PiAoeHMubGVuZ3RoID8geHMuY29uY2F0KHlzKSA6IHlzKSA6IGlkZW50aXR5O1xuXG4vKipcbiAqICBjb25jYXRUbyBjb25jYXRlbmF0ZXMgdGhlIHNlY29uZCBvbnRvIHRoZSBmaXJzdFxuICogIGNvbmNhdFRvKFsxLDIsM10pKFs0LDUsNl0pIGJlY29tZXMgWzEsMiwzLDQsNSw2XVxuICovXG5leHBvcnQgY29uc3QgY29uY2F0VG86IChhcmcxOiBBcnJheTxhbnk+KSA9PiAoYXJnMjogQXJyYXk8YW55PikgPT4gQXJyYXk8YW55PiA9XG4gIGZsaXAoY29uY2F0KTtcblxuZXhwb3J0IGNvbnN0IGFwcGVuZCA9IDxhPih2YWx1ZTogYSk6ICgoYXJnMTogQXJyYXk8YT4pID0+IEFycmF5PGE+KSA9PlxuICBjb25jYXQoW3ZhbHVlXSk7XG5cbmV4cG9ydCBjb25zdCBjb25zdGFudElkZW50aXR5ID0gY29uc3RhbnQoaWRlbnRpdHkpO1xuXG4vLyBNYXRoXG5cbmV4cG9ydCBjb25zdCBhZGQgPSAoeDogbnVtYmVyKSA9PiAoeTogbnVtYmVyKSA9PiB4ICsgeTtcblxuZXhwb3J0IGNvbnN0IGluYyA9ICh4OiBudW1iZXIpID0+IHggKyAxO1xuXG5leHBvcnQgY29uc3QgbWF4ID0gKHg6IG51bWJlcikgPT4gKHk6IG51bWJlcikgPT4gKHggPiB5ID8geCA6IHkpO1xuXG5leHBvcnQgY29uc3QgcGFyc2VJbnRXaXRoUmFkaXggPVxuICAocmFkaXg6IG51bWJlcikgPT5cbiAgKG51bTogc3RyaW5nKTogT3B0aW9uPG51bWJlcj4gPT4ge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KG51bSwgcmFkaXgpO1xuICAgIHJldHVybiBpc05hTihwYXJzZWQpID8gKE5vbmUgYXMgT3B0aW9uPG51bWJlcj4pIDogU29tZShwYXJzZWQpO1xuICB9O1xuXG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlSW50ID0gcGFyc2VJbnRXaXRoUmFkaXgoMTApO1xuXG4vLyBBcnJheVxuXG5leHBvcnQgY29uc3QgaGVhZCA9IDxhPih4czogQXJyYXk8YT4pOiBPcHRpb248YT4gPT5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ09wdGlvbjxhbnk+IHwgT3B0aW9uPGEgfCB1bmRlZmluZWQ+JyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdPcHRpb248YT4nLlxuICB4cy5sZW5ndGggPyBTb21lKHhzWzBdKSA6IE5vbmU7XG5cbmV4cG9ydCBjb25zdCBsYXN0ID0gPGE+KHhzOiBBcnJheTxhPik6IE9wdGlvbjxhPiA9PlxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnT3B0aW9uPGFueT4gfCBPcHRpb248YSB8IHVuZGVmaW5lZD4nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ09wdGlvbjxhPicuXG4gIHhzLmxlbmd0aCA/IFNvbWUoeHNbeHMubGVuZ3RoIC0gMV0pIDogTm9uZTtcblxuZXhwb3J0IGNvbnN0IHRhaWwgPSA8YT4oeHM6IEFycmF5PGE+KTogQXJyYXk8YT4gPT4geHMuc2xpY2UoMSk7XG5cbmV4cG9ydCBjb25zdCBsZW5ndGggPSAoeHM6IEFycmF5PGFueT4gfCBzdHJpbmcpOiBudW1iZXIgPT4geHMubGVuZ3RoO1xuXG5leHBvcnQgY29uc3QgZmxhdE1hcCA9IDxhLCBiPihcbiAgZjogKGFyZzE6IGEpID0+IEFycmF5PGI+XG4pOiAoKGFyZzE6IEFycmF5PGE+KSA9PiBBcnJheTxiPikgPT5cbiAgcmVkdWNlKChyZXN1bHQ6IEFycmF5PGI+LCBpdGVtOiBhKSA9PiB7XG4gICAgY29uc3QgeXMgPSBmKGl0ZW0pO1xuICAgIGlmICgheXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBuZXh0UmVzdWx0ID0gcmVzdWx0Lmxlbmd0aCA/IHJlc3VsdCA6IFtdO1xuICAgIG5leHRSZXN1bHQucHVzaC5hcHBseShuZXh0UmVzdWx0LCB5cyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICB9KShlbXB0eUFycmF5KTtcblxuZXhwb3J0IGNvbnN0IGZsYXQ6IDxhPihhcmcxOiBBcnJheTxBcnJheTxhPj4pID0+IEFycmF5PGE+ID0gKGZsYXRNYXAgYXMgYW55KShcbiAgaWRlbnRpdHlcbik7XG5cbi8vIFN0cmluZ1xuXG5leHBvcnQgY29uc3QgdGVzdCA9IChyZWdleDogUmVnRXhwKSA9PiAoc3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgcmVnZXgubGFzdEluZGV4ID0gMDtcbiAgY29uc3QgcmVzdWx0ID0gcmVnZXgudGVzdChzdHJpbmcpO1xuICByZWdleC5sYXN0SW5kZXggPSAwO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1hdGNoID1cbiAgKHJlZ2V4OiBSZWdFeHApID0+XG4gIChzdHJpbmc6IHN0cmluZyk6IE9wdGlvbjxzdHJpbmc+ID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBzdHJpbmcubWF0Y2gocmVnZXgpO1xuICAgIHJldHVybiByZXN1bHQgPyBTb21lKHJlc3VsdFswXSkgOiAoTm9uZSBhcyBPcHRpb248c3RyaW5nPik7XG4gIH07XG5cbmV4cG9ydCBjb25zdCByZXBsYWNlID1cbiAgKHBhdHRlcm46IHN0cmluZyB8IFJlZ0V4cCkgPT4gKHJlcGxhY2VtZW50OiBzdHJpbmcpID0+IChzdHJpbmc6IHN0cmluZykgPT5cbiAgICBzdHJpbmcucmVwbGFjZShwYXR0ZXJuLCByZXBsYWNlbWVudCk7XG5cbmV4cG9ydCBjb25zdCBzcGxpdCA9IChwYXR0ZXJuOiBzdHJpbmcgfCBSZWdFeHApID0+IChzdHJpbmc6IHN0cmluZykgPT5cbiAgc3RyaW5nLnNwbGl0KHBhdHRlcm4pO1xuXG5leHBvcnQgdHlwZSBGdW5jdG9yPEE+ID0ge1xuICBtYXA6IDxCPihhcmcxOiAoYXJnMjogQSkgPT4gQikgPT4gRnVuY3RvcjxCPjtcbn07XG5leHBvcnQgdHlwZSBMZW5zPFMsIFQsIEEsIEI+ID0gKFxuICBhcmcxOiAoYXJnMjogQSkgPT4gRnVuY3RvcjxCPlxuKSA9PiAoYXJnMjogUykgPT4gRnVuY3RvcjxUPjtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJmbG93L3dlYmZsb3cvYmxvYi9kZXYvZG9jcy9hcHAvZnAtbW9kdWxlL2xlbnNlcy5tZFxuZXhwb3J0IGNvbnN0IGxlbnMgPVxuICA8UywgQT4oXG4gICAgZ2V0dGVyOiAoYXJnMTogUykgPT4gQVxuICApOiAoPEIsIFQ+KGFyZzE6IChhcmcyOiBCKSA9PiAoYXJnMzogUykgPT4gVCkgPT4gTGVuczxTLCBULCBBLCBCPikgPT5cbiAgPEIsIFQ+KHNldHRlcjogKGFyZzE6IEIpID0+IChhcmcyOiBTKSA9PiBUKTogTGVuczxTLCBULCBBLCBCPiA9PlxuICAodG9GdW5jdG9yOiAoYXJnMTogQSkgPT4gRnVuY3RvcjxCPik6ICgoYXJnMTogUykgPT4gRnVuY3RvcjxUPikgPT5cbiAgKHRhcmdldDogUykgPT5cbiAgICB0b0Z1bmN0b3IoZ2V0dGVyKHRhcmdldCkpLm1hcCgoZm9jdXMpID0+IHNldHRlcihmb2N1cykodGFyZ2V0KSk7XG5cbmV4cG9ydCBjb25zdCBsZW5zUHJvcCA9IChrZXk6IHN0cmluZykgPT4gbGVucyhwcm9wKGtleSkpKGFzc29jKGtleSkpO1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnKGFyZzE6IExlbnM8cywgdCwgYSwgYj4pID0+IHVua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJzxzLCB0LCBhLCBiPihhcmcxOiBMZW5zPHMsIHQsIGEsIGI+KSA9PiAoYXJnMTogcykgPT4gYScuXG5leHBvcnQgY29uc3QgdmlldzogPHMsIHQsIGEsIGI+KGFyZzE6IExlbnM8cywgdCwgYSwgYj4pID0+IChhcmcyOiBzKSA9PiBhID1cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBBcmd1bWVudCBvZiB0eXBlICc8QT4oYXJnMTogKGFyZzI6IEEpID0+IHVua25vd24pID0+IChhcmczOiBBKSA9PiB1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnKGFyZzE6IHVua25vd24pID0+IChhcmczOiB1bmtub3duKSA9PiB1bmtub3duJy4gIFR5cGVzIG9mIHBhcmFtZXRlcnMgJ2FyZzEnIGFuZCAnYXJnMScgYXJlIGluY29tcGF0aWJsZS4gIFR5cGUgJ3Vua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJyhhcmcyOiB1bmtub3duKSA9PiB1bmtub3duJy5cbiAgY29tcG9zZShjb21wb3NlKGdldENvbnN0KSkodGhydXNoKENvbnN0KSk7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2ViZmxvdy93ZWJmbG93L2Jsb2IvZGV2L2RvY3MvYXBwL2ZwLW1vZHVsZS9sZW5zZXMubWQjd3JpdGluZy1kYXRhXG5leHBvcnQgY29uc3Qgb3ZlciA9XG4gIDxzLCB0LCBhLCBiPihcbiAgICBsOiBMZW5zPHMsIHQsIGEsIGI+XG4gICk6ICgoYXJnMTogKGFyZzI6IGEpID0+IGIpID0+IChhcmcyOiBzKSA9PiB0KSA9PlxuICAoZjogKGFyZzE6IGEpID0+IGIpOiAoKGFyZzE6IHMpID0+IHQpID0+IHtcbiAgICBjb25zdCB0b0Z1bmN0b3IgPSBjb21wb3NlKElkZW50aXR5KShmKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnKGFyZzE6IHMpID0+IHVua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJyhhcmcxOiBzKSA9PiB0Jy4gfCBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICc8YT4ob2JqZWN0OiBJZGVudGl0eVR5cGU8YT4pID0+IGEnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICcoYXJnMTogdW5rbm93bikgPT4gdW5rbm93bicuIHwgVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnKGFyZzE6IGEpID0+IElkZW50aXR5VHlwZTx1bmtub3duPicgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJyhhcmcxOiBhKSA9PiBGdW5jdG9yPGI+Jy5cbiAgICByZXR1cm4gY29tcG9zZShydW5JZGVudGl0eSkobCh0b0Z1bmN0b3IpKTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IHNldCA9IDxzLCB0LCBhLCBiPihcbiAgbDogTGVuczxzLCB0LCBhLCBiPlxuKTogKChhcmcxOiBiKSA9PiAoYXJnMjogcykgPT4gdCkgPT4gY29tcG9zZShvdmVyKGwpKShjb25zdGFudCk7XG5cbmV4cG9ydCBjb25zdCBjb25zdGFudE5vbmU6IDxhLCBiPihfOiBhKSA9PiBPcHRpb248Yj4gPSBjb25zdGFudChOb25lKTtcblxuZXhwb3J0IGNvbnN0IG5vbmVUb0VyciA9IDxlPihcbiAgZXJyb3I6IGVcbik6ICg8YT4oYXJnMTogT3B0aW9uPGE+KSA9PiBSZXN1bHQ8ZSwgYT4pID0+IG1heWJlKEVycihlcnJvcikpKE9rKTtcblxuZXhwb3J0IGNvbnN0IG9rVG9PcHRpb246IDxlLCBhPihyOiBSZXN1bHQ8ZSwgYT4pID0+IE9wdGlvbjxhPiA9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHJlc3VsdEVpdGhlcihjb25zdGFudE5vbmU8dW5rbm93biwgYW55PikoU29tZSk7XG5leHBvcnQgY29uc3QgZXJyVG9PcHRpb246IDxlLCBhPihyOiBSZXN1bHQ8ZSwgYT4pID0+IE9wdGlvbjxlPiA9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHJlc3VsdEVpdGhlcihTb21lKShjb25zdGFudE5vbmUpIGFzIGFueTtcblxuLy8gTWlzY2VsbGFuZW91cyB1dGlsaXRpZXMuXG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGB1bnNhZmVGbmAgd2l0aCB0aGUgcHJvdmlkZWQgYHZhbHVlYCBhbmQgdGhlbiByZXR1cm5zXG4gKiBgdmFsdWVgLiBVc2VmdWwgZm9yIHBlcmZvcm1pbmcgc2lkZSBlZmZlY3RzIGluIHB1cmUgY2hhaW5zIG9mIHRyYW5zZm9ybWF0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB1bnNhZmVGblxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGNvbnN0IHRhcCA9XG4gIDxhPih1bnNhZmVGbjogKGFyZzE6IGEpID0+IGFueSk6ICgoYXJnMTogYSkgPT4gYSkgPT5cbiAgKHZhbHVlKSA9PiB7XG4gICAgdW5zYWZlRm4odmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RCb29sOiAoYXJnMTogT3B0aW9uPGJvb2xlYW4+KSA9PiBib29sZWFuID1cbiAgbWF5YmUoZmFsc2UpKGlkZW50aXR5KTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RBcnJheTogPFQ+KGFyZzE6IE9wdGlvbjxBcnJheTxUPj4pID0+IEFycmF5PFQ+ID1cbiAgbWF5YmUoZW1wdHlBcnJheSkoaWRlbnRpdHkpO1xuXG4vLyBHZXQgYSBmdW5jdGlvbiBvdXQgb2YgYW4gT3B0aW9uLCBmYWxsaW5nIGJhY2sgdG8gYGlkZW50aXR5YFxuLy8gaW4gdGhlIGNhc2Ugb2YgTm9uZS5cbmV4cG9ydCBjb25zdCBleHRyYWN0RnVuY3Rpb25Gcm9tT3B0aW9uOiA8Rj4oXG4gIGFyZzE6IE9wdGlvbjxGPlxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzQ1IC0gQXJndW1lbnQgb2YgdHlwZSAnPGE+KHg6IGEpID0+IGEnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICcoYTogRikgPT4gPGE+KHg6IGEpID0+IGEnLlxuKSA9PiBGIHwgdHlwZW9mIGlkZW50aXR5ID0gbWF5YmUoaWRlbnRpdHkpKGlkZW50aXR5KTtcblxuLy8gR2V0IGEgZnVuY3Rpb24gb3V0IG9mIGEgUmVzdWx0LCBmYWxsaW5nIGJhY2sgdG8gYGlkZW50aXR5YFxuLy8gaW4gdGhlIGNhc2Ugb2YgRXJyLlxuZXhwb3J0IGNvbnN0IGV4dHJhY3RGdW5jdGlvbkZyb21SZXN1bHQ6IDxlLCBhPihcbiAgcjogUmVzdWx0PGUsICh4OiBhKSA9PiBhPlxuKSA9PiAoeDogYSkgPT4gYSA9IHJlc3VsdEVpdGhlcihjb25zdGFudElkZW50aXR5KShpZGVudGl0eTxhbnk+KTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvblRvQXJyYXk6IDxUPihhcmcxOiBPcHRpb248VD4pID0+IEFycmF5PFQ+ID0gbWF5YmUoXG4gIGVtcHR5QXJyYXlcbikoQXJyYXkub2YpO1xuXG5jb25zdCBvcHRpb25PZkVtcHR5QXJyYXkgPSBTb21lKGVtcHR5QXJyYXkpO1xuXG5leHBvcnQgY29uc3QgdHJhdmVyc2VPcHRpb25zID1cbiAgPGEsIGI+KGY6IChhcmcxOiBhKSA9PiBPcHRpb248Yj4pOiAoKGFyZzE6IEFycmF5PGE+KSA9PiBPcHRpb248QXJyYXk8Yj4+KSA9PlxuICAoeHM6IEFycmF5PGE+KSA9PlxuICAgIHhzLnJlZHVjZShcbiAgICAgIChvcHRpb24sIHgpID0+IGYoeCkubWFwKGFwcGVuZCkuYXAob3B0aW9uKSxcbiAgICAgIG9wdGlvbk9mRW1wdHlBcnJheSBhcyBPcHRpb248QXJyYXk8Yj4+XG4gICAgKTtcblxuY29uc3QgcmVzdWx0T2ZFbXB0eUFycmF5ID0gT2soZW1wdHlBcnJheSk7XG5cbmV4cG9ydCBjb25zdCB0cmF2ZXJzZVJlc3VsdHMgPVxuICA8YSwgYiwgZT4oXG4gICAgZjogKGFyZzE6IGEpID0+IFJlc3VsdDxlLCBiPlxuICApOiAoKGFyZzE6IEFycmF5PGE+KSA9PiBSZXN1bHQ8ZSwgQXJyYXk8Yj4+KSA9PlxuICAoeHM6IEFycmF5PGE+KSA9PlxuICAgIHhzLnJlZHVjZShcbiAgICAgIChyZXN1bHQsIHgpID0+IGYoeCkubWFwKGFwcGVuZCkuYXAocmVzdWx0KSxcbiAgICAgIHJlc3VsdE9mRW1wdHlBcnJheSBhcyBSZXN1bHQ8ZSwgQXJyYXk8Yj4+XG4gICAgKTtcblxuY29uc3QgcmVzdWx0T2ZFbXB0eU9iamVjdCA9IE9rKGVtcHR5T2JqZWN0KTtcblxuZXhwb3J0IGNvbnN0IHRyYXZlcnNlT2JqZWN0UmVzdWx0cyA9XG4gIDxhLCBiLCBlPihmOiAoeDogYSkgPT4gUmVzdWx0PGUsIGI+KSA9PlxuICA8ayBleHRlbmRzIHN0cmluZz4ob2JqOiBSZWNvcmQ8aywgYT4pOiBSZXN1bHQ8ZSwgUmVjb3JkPGssIGI+PiA9PlxuICAgIG9iamVjdEtleXMob2JqKS5yZWR1Y2UoXG4gICAgICAocmVzdWx0LCBrZXkpID0+IGYob2JqW2tleV0pLm1hcChhc3NvYyhrZXkpKS5hcChyZXN1bHQpLFxuICAgICAgcmVzdWx0T2ZFbXB0eU9iamVjdFxuICAgICk7XG5cbmV4cG9ydCBjb25zdCBtYXBWYWx1ZXMgPVxuICA8YSwgYj4oXG4gICAgZjogKGFyZzE6IGEpID0+IGJcbiAgKTogKChhcmcxOiB7W2tleTogc3RyaW5nXTogYX0pID0+IHtcbiAgICBba2V5OiBzdHJpbmddOiBiO1xuICB9KSA9PlxuICAob2JqOiB7W2tleTogc3RyaW5nXTogYX0pID0+IHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGNvbnN0IG5ld09iaiA9IG9iamVjdEtleXMob2JqKS5yZWR1Y2U8UmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAocmVzdWx0LCBrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsID0gb2JqW2tleV07XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdhIHwgdW5kZWZpbmVkJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnYScuXG4gICAgICAgIGNvbnN0IG5ld1ZhbCA9IGYob2xkVmFsKTtcbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleV0gPSBuZXdWYWw7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAge31cbiAgICApO1xuICAgIHJldHVybiBjaGFuZ2VkXG4gICAgICA/IG5ld09ialxuICAgICAgOiAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzUyIC0gQ29udmVyc2lvbiBvZiB0eXBlICd7IFtrZXk6IHN0cmluZ106IGE7IH0nIHRvIHR5cGUgJ3sgW2tleTogc3RyaW5nXTogYjsgfScgbWF5IGJlIGEgbWlzdGFrZSBiZWNhdXNlIG5laXRoZXIgdHlwZSBzdWZmaWNpZW50bHkgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIuIElmIHRoaXMgd2FzIGludGVudGlvbmFsLCBjb252ZXJ0IHRoZSBleHByZXNzaW9uIHRvICd1bmtub3duJyBmaXJzdC5cbiAgICAgICAgKG9iaiBhcyB7XG4gICAgICAgICAgW2tleTogc3RyaW5nXTogYjtcbiAgICAgICAgfSk7XG4gIH07XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZnVsIHRvIHJlcGxhY2UgT2JqZWN0LnZhbHVlcywgYXMgRmxvdyBoYXMgdHJvdWJsZSB3aXRoIHRoZSBuYXRpdmUgdmVyc2lvblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzIyMjFcbmV4cG9ydCBjb25zdCB2YWx1ZXMgPSA8VD4ob2JqOiB7W2tleTogc3RyaW5nXTogVH0pOiBBcnJheTxUPiA9PlxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnKFQgfCB1bmRlZmluZWQpW10nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ1RbXScuXG4gIE9iamVjdC5rZXlzKG9iaikubWFwKChrKSA9PiBvYmpba10pO1xuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB0byByZXBsYWNlIE9iamVjdC5lbnRyaWVzLCBhcyBGbG93IGhhcyB0cm91YmxlIHdpdGggdGhlIG5hdGl2ZSB2ZXJzaW9uXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvMjE3NCNpc3N1ZWNvbW1lbnQtMzI2NzgzMzUwXG5leHBvcnQgY29uc3QgZW50cmllcyA9IDxULCBWIGV4dGVuZHMgc3RyaW5nPihcbiAgb2JqOiBQYXJ0aWFsPFJlY29yZDxWLCBUPj5cbik6IEFycmF5PFtWLCBUXT4gPT4ge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMyMiAtIFR5cGUgJ1tzdHJpbmcsIGFueV1bXScgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnW1YsIFRdW10nLiB8IFRTNzA1MyAtIEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGUgJ1BhcnRpYWw8UmVjb3JkPFYsIFQ+PicuXG4gIHJldHVybiBrZXlzLm1hcCgoa2V5KSA9PiBba2V5LCBvYmpba2V5XV0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERlZXBlc3RWYWx1ZXMgPSA8VD4ob2JqOiB7W2tleTogc3RyaW5nXTogVH0pOiBBcnJheTxUPiA9PiB7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICcoVCB8IHVuZGVmaW5lZClbXScgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnVFtdJy5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikuZmxhdE1hcCgoaykgPT5cbiAgICBvYmpba10gJiYgdHlwZW9mIG9ialtrXSA9PT0gJ29iamVjdCdcbiAgICAgID8gZ2V0RGVlcGVzdFZhbHVlcyhcbiAgICAgICAgICBvYmpba10gYXMgdW5rbm93biBhcyB7XG4gICAgICAgICAgICBba2V5OiBzdHJpbmddOiBUO1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgOiBbb2JqW2tdXVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IG50aCA9XG4gIChpbmRleDogbnVtYmVyKSA9PlxuICA8VD4oYTogQXJyYXk8VD4pOiBPcHRpb248VD4gPT5cbiAgICBpbmRleCA8IDAgfHwgaW5kZXggPj0gYS5sZW5ndGggPyBOb25lIDogU29tZShhW2luZGV4XSBhcyBUKTtcbiJdLCJuYW1lcyI6WyJhZGQiLCJhZGp1c3QiLCJhbGxQYXNzIiwiYW55UGFzcyIsImFwcGVuZCIsImFzc29jIiwiYmxhY2tiaXJkIiwiYm90aCIsImNvbXBsZW1lbnQiLCJjb21wb3NlIiwiY29uY2F0IiwiY29uY2F0VG8iLCJjb25zdGFudCIsImNvbnN0YW50RmFsc2UiLCJjb25zdGFudElkZW50aXR5IiwiY29uc3RhbnROb25lIiwiY29uc3RhbnRUcnVlIiwiZGlzc29jIiwiZWl0aGVyIiwiZW1wdHlBcnJheSIsImVtcHR5T2JqZWN0IiwiZW50cmllcyIsImVxdWFscyIsImVyclRvT3B0aW9uIiwiZXh0cmFjdEFycmF5IiwiZXh0cmFjdEJvb2wiLCJleHRyYWN0RnVuY3Rpb25Gcm9tT3B0aW9uIiwiZXh0cmFjdEZ1bmN0aW9uRnJvbVJlc3VsdCIsImZpbHRlciIsImZpbmQiLCJmbGF0IiwiZmxhdE1hcCIsImZsaXAiLCJnZXREZWVwZXN0VmFsdWVzIiwiaGFzIiwiaGVhZCIsImlkZW50aXR5IiwiaW5jIiwiaXNOaWwiLCJsYXN0IiwibGVuZ3RoIiwibGVucyIsImxlbnNQcm9wIiwibG9va3VwIiwibG9va3VwV2l0aERlZmF1bHQiLCJtYXAiLCJtYXBBcnJheSIsIm1hcFZhbHVlcyIsIm1hdGNoIiwibWF4Iiwibm9uZVRvRXJyIiwibm90Iiwibm90RXF1YWwiLCJub3ROaWwiLCJudGgiLCJvYmpPZiIsIm9iamVjdEtleXMiLCJva1RvT3B0aW9uIiwib21pdCIsIm9wdGlvblRvQXJyYXkiLCJvcHRpb25Ub0Jvb2wiLCJvdmVyIiwicGFyc2VJbnRXaXRoUmFkaXgiLCJwaWNrIiwicGlja0J5IiwicGlwZSIsInByb3AiLCJyZWR1Y2UiLCJyZWR1Y2VPYmplY3QiLCJyZXBsYWNlIiwicmVzdWx0VG9Cb29sIiwic2FmZVBhcnNlSW50Iiwic2V0Iiwic3BsaXQiLCJzdWJzdGl0dXRpb24iLCJ0YWlsIiwidGFwIiwidGVzdCIsInRocnVzaCIsInRyYXZlcnNlT2JqZWN0UmVzdWx0cyIsInRyYXZlcnNlT3B0aW9ucyIsInRyYXZlcnNlUmVzdWx0cyIsInVuaW9uIiwidW5pb25UbyIsInVuaW9uV2l0aCIsInZhbHVlcyIsInZpZXciLCJ3aGVuIiwiemlwIiwiemlwQ2F0IiwiemlwV2l0aCIsIk9iamVjdCIsImtleXMiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJwcm94eSIsInNoYXJlZENvbnN0YW50TmFtZSIsInRhcmdldCIsInZhbHVlIiwiY29uc29sZSIsImVycm9yIiwiUHJveHkiLCJ4IiwiXyIsImYiLCJnIiwieSIsInByZWRzIiwic29tZSIsImV2ZXJ5IiwibWF5YmUiLCJyZXN1bHRFaXRoZXIiLCJwcmVkaWNhdGVBIiwicHJlZGljYXRlQiIsImFyZ3MiLCJwcmVkaWNhdGUiLCJ3aGVuVHJ1ZUZuIiwia2V5Iiwib2JqZWN0IiwiaGFzT3duIiwiYXNzb2NSZWR1Y2VyIiwiYWNjIiwicmVzdWx0Iiwic291cmNlIiwiaGFzS2V5IiwiZGlzc29jUmVkdWNlciIsImV4Y2x1ZGUiLCJvYmoiLCJjb21iaW5lIiwiZmlyc3QiLCJzZWNvbmQiLCJjaGFuZ2VkRnJvbUZpcnN0IiwiY2hhbmdlZEZyb21TZWNvbmQiLCJzZWNvbmRWYWwiLCJmaXJzdFZhbCIsImZpbmFsVmFsIiwib21pdFJlZHVjZXIiLCJpbmNsdWRlcyIsImNoYW5nZWQiLCJsZW4iLCJwaWNrUmVkdWNlciIsInBpY2tCeVJlZHVjZXIiLCJTb21lIiwiTm9uZSIsImRlZmF1bHRWYWx1ZSIsInByZWQiLCJhcnJheSIsImluZGV4IiwiZmluZEluZGV4IiwiZm5zIiwiaW5pdGlhbFZhbHVlIiwiZm4iLCJ4cyIsInlzIiwicnYiLCJpZHgiLCJNYXRoIiwibWluIiwiZ2V0TWluTGVuZ3RoIiwiYXJyYXlzIiwiaSIsImFycl9sZW4iLCJ6aXBDYXRfaW5uZXIiLCJ6aXBMZW5ndGgiLCJqIiwiYXJyYXlfbGVuIiwiaXRlbSIsImV4aXN0aW5nIiwicHVzaCIsInJlcyIsIm5ld1giLCJyZWR1Y2VyIiwiaW5pdCIsInJhZGl4IiwibnVtIiwicGFyc2VkIiwicGFyc2VJbnQiLCJpc05hTiIsInNsaWNlIiwibmV4dFJlc3VsdCIsImFwcGx5IiwicmVnZXgiLCJzdHJpbmciLCJsYXN0SW5kZXgiLCJwYXR0ZXJuIiwicmVwbGFjZW1lbnQiLCJnZXR0ZXIiLCJzZXR0ZXIiLCJ0b0Z1bmN0b3IiLCJmb2N1cyIsImdldENvbnN0IiwiQ29uc3QiLCJsIiwiSWRlbnRpdHkiLCJydW5JZGVudGl0eSIsIkVyciIsIk9rIiwidW5zYWZlRm4iLCJBcnJheSIsIm9mIiwib3B0aW9uT2ZFbXB0eUFycmF5Iiwib3B0aW9uIiwiYXAiLCJyZXN1bHRPZkVtcHR5QXJyYXkiLCJyZXN1bHRPZkVtcHR5T2JqZWN0IiwibmV3T2JqIiwib2xkVmFsIiwibmV3VmFsIiwiayIsImEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBc2xCYUEsR0FBRztlQUFIQTs7SUFyV0FDLE1BQU07ZUFBTkE7O0lBdEpBQyxPQUFPO2VBQVBBOztJQUxBQyxPQUFPO2VBQVBBOztJQXlmQUMsTUFB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

}),
23056: (function (__unused_webpack_module, exports, __webpack_require__) {
"use strict";
/* eslint-disable @typescript-eslint/ban-types */ 
Object.defineProperty(exports, "__esModule", ({
    value: true
}));
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    cacheMemo: function() {
        return cacheMemo;
    },
    isEqual: function() {
        return isEqual;
    },
    memoize: function() {
        return memoize;
    },
    once: function() {
        return once;
    },
    singleMemo: function() {
        return singleMemo;
    },
    weakMemo: function() {
        return weakMemo;
    }
});
const _reselect = __webpack_require__(14445);
const _lrucache = __webpack_require__(77825);
const _isBoolean = /*#__PURE__*/ _interop_require_default(__webpack_require__(81247));
const _isFunction = /*#__PURE__*/ _interop_require_default(__webpack_require__(56644));
const _isObject = /*#__PURE__*/ _interop_require_default(__webpack_require__(28532));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const True = {
    '@webflow/Boolean': true
};
const False = {
    '@webflow/Boolean': false
};
/*
 * Inlined Immutable v3.8.1 `is` to reduce webflow.js bundle size
 * Source: https://github.com/immutable-js/immutable-js/blob/v3.8.1/src/is.js
 */ const is = (valueA, valueB)=>{
    // eslint-disable-next-line no-self-compare
    if (valueA === valueB || valueA !== valueA && valueB !== valueB) {
        return true;
    }
    if (!valueA || !valueB) {
        return false;
    }
    if (typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function') {
        valueA = valueA.valueOf();
        valueB = valueB.valueOf();
        // eslint-disable-next-line no-self-compare
        if (valueA === valueB || valueA !== valueA && valueB !== valueB) {
            return true;
        }
        if (!valueA || !valueB) {
            return false;
        }
    }
    if (typeof valueA.equals === 'function' && typeof valueB.equals === 'function' && valueA.equals(valueB)) {
        return true;
    }
    return false;
};
const isEqual = (a, b)=>{
    if (is(a, b)) {
        return true;
    }
    if (typeof a !== 'object' || a === null || typeof b !== 'object' || b === null) {
        return false;
    }
    for(const k in a){
        if (!is(a[k], b[k])) {
            return false;
        }
    }
    return Object.keys(a).length === Object.keys(b).length;
};
function memoize(fn) {
    // We need to cast `fn` to some ungodly type because `lruMemoize` expects
    // (...args: any[]) => any, but we want to be more strict about the type of `fn`.
    // In other words, if we accept the same type than `lruMemoize` does, we
    // stop requesting fn to be properly typed (as it infers that both arguments
    // and return type are already `any`). For further discussion about this:
    // https://github.com/webflow/webflow/pull/85516/files#r2128406623
    return (0, _reselect.lruMemoize)(fn, isEqual);
}
function weakMemo(fn) {
    if (false) {}
    const map = new WeakMap();
    // @ts-expect-error - TS2322 - Type '{ (arg: any): any; displayName: string; }' is not assignable to type 'F'. | TS7006 - Parameter 'arg' implicitly has an 'any' type.
    const memFn = (arg)=>{
        if (!(0, _isObject.default)(arg) && !(0, _isBoolean.default)(arg)) {
            const errorMessage = `Expected an object or boolean as an argument to "${// @ts-expect-error - TS2339 - Property 'displayName' does not exist on type 'F'.
            fn.displayName || fn.name}()", but received ${String(arg)}.`;
            const fnString = fn.toString();
            if (false) {}
            throw new WeakMemoError({
                message: errorMessage,
                memFn
            });
        }
        const key = typeof arg === 'boolean' ? arg && True || False : arg;
        // Flow doesn't seem to like True/False since they don't always
        // fit the expected type of `arg`
        if (!map.has(key)) {
            map.set(key, fn(arg));
        }
        const result = map.get(key);
        return result;
    };
    if (false) {}
    return memFn;
}
const cacheMemo = (depth)=>{
    /**
   * Returns a memoized version of a "trivially hashable" function passed as parameter, with a fixed cache size.
   *
   * A "trivially hashable" function takes a single string as an argument and therefore does not need to be hashed.
   *
   * This is a pretty significant optimization if your function needs to be called very frequently.
   *
   * @param  {Function} fn          The function to memoize.
   * @return {Function}             The memoized function.
   */ const memoizeFn = (fn)=>{
        const cache = new _lrucache.LRUCache({
            max: depth || 1
        });
        // @ts-expect-error - TS2322 - Type '(arg: F) => unknown' is not assignable to type 'F'.
        return function(arg) {
            if (!cache.has(arg)) {
                cache.set(arg, fn(arg));
            }
            return cache.get(arg);
        };
    };
    return memoizeFn;
};
/**
 * A simple memoization function for usage with primitives or single argument
 * arguments of identity equality.
 */ const defaultLastArg = Symbol();
const singleMemo = (fn)=>{
    let lastArg = defaultLastArg;
    // @ts-expect-error - TS7034 - Variable 'lastResult' implicitly has type 'any' in some locations where its type cannot be determined.
    let lastResult;
    // @ts-expect-error - TS2322 - Type '(arg: F) => any' is not assignable to type 'F'.
    return (arg)=>{
        // @ts-expect-error - TS2367 - This condition will always return 'true' since the types 'F' and 'symbol' have no overlap.
        if (arg !== lastArg) {
            lastResult = fn(arg);
            // @ts-expect-error - TS2322 - Type 'F' is not assignable to type 'symbol'.
            lastArg = arg;
        }
        // @ts-expect-error - TS7005 - Variable 'lastResult' implicitly has an 'any' type.
        return lastResult;
    };
};
const once = (fn)=>{
    let result;
    return ()=>{
        if (fn) {
            result = fn();
            // @ts-expect-error - TS2322 - Type 'undefined' is not assignable to type '(arg1: undefined) => a'.
            fn = undefined;
        }
        return result;
    };
};
class WeakMemoError extends TypeError {
    constructor(opts){
        super();
        if (TypeError.captureStackTrace) {
            TypeError.captureStackTrace(this, opts.memFn);
        }
        this.name = 'WeakMemoError';
        this.message = opts.message;
    }
}
function syntaxHighlight(fnSource) {
    const keywords = /\b(function|return|const|let|if|else|throw|for|while|switch|case|break|continue|default|new|delete|typeof|instanceof|void|this|class)\b/g;
    const literals = /\b(true|false|null|undefined)\b/g;
    const strings = /(['"`][^'"`]*['"`])/g; // Matches single, double, or backticks (template literals)
    const numbers = /\b(\d+(\.\d+)?(e[+-]?\d+)?|NaN|Infinity)\b/gi; // Matches integers, floats, and scientific notation
    const operators = /[=+\-*\/%<>!&|^~?]/g;
    const comments = /(\/\/[^\n]*|\/\*[\s\S]*?\*\/)/g;
    const parentheses = /[\(\)\[\]\{\}]/g; // Matches (), [], {}
    // Apply syntax highlighting via ANSI escape codes
    return fnSource.replace(parentheses, (match)=>`\x1b[37m${match}\x1b[0m`) // white for parentheses and brackets
    .replace(comments, (match)=>`\x1b[90m${match}\x1b[0m`) // gray for comments
    .replace(strings, (match)=>`\x1b[32m${match}\x1b[0m`) // green for strings and template literals
    .replace(literals, (match)=>`\x1b[33m${match}\x1b[0m`) // yellow for literals (true, false, null, undefined)
    .replace(keywords, (match)=>`\x1b[35m${match}\x1b[0m`) // magenta for keywords
    .replace(numbers, (match)=>`\x1b[36m${match}\x1b[0m`) // cyan for numbers
    .replace(operators, (match)=>`\x1b[31m${match}\x1b[0m`); // red for operators
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbmltcG9ydCB7bHJ1TWVtb2l6ZX0gZnJvbSAncmVzZWxlY3QnO1xuaW1wb3J0IHtMUlVDYWNoZX0gZnJvbSAnbHJ1LWNhY2hlJztcblxuLy8gaW1wb3J0IGxvZGFzaCBmdW5jdGlvbnMgaW5kaXZpZHVhbGx5IHRvIG1pbmltaXplIGJ1bmRsZSBzaXplXG5pbXBvcnQgaXNCb29sZWFuIGZyb20gJ2xvZGFzaC9pc0Jvb2xlYW4nO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnbG9kYXNoL2lzRnVuY3Rpb24nO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJ2xvZGFzaC9pc09iamVjdCc7XG5cbmNvbnN0IFRydWUgPSB7J0B3ZWJmbG93L0Jvb2xlYW4nOiB0cnVlfSBhcyBjb25zdDtcbmNvbnN0IEZhbHNlID0geydAd2ViZmxvdy9Cb29sZWFuJzogZmFsc2V9IGFzIGNvbnN0O1xuXG4vKlxuICogSW5saW5lZCBJbW11dGFibGUgdjMuOC4xIGBpc2AgdG8gcmVkdWNlIHdlYmZsb3cuanMgYnVuZGxlIHNpemVcbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL2ltbXV0YWJsZS1qcy9pbW11dGFibGUtanMvYmxvYi92My44LjEvc3JjL2lzLmpzXG4gKi9cbmNvbnN0IGlzID0gKHZhbHVlQTogYW55LCB2YWx1ZUI6IGFueSk6IGJvb2xlYW4gPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlQS52YWx1ZU9mID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIHZhbHVlQi52YWx1ZU9mID09PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHZhbHVlQSA9IHZhbHVlQS52YWx1ZU9mKCk7XG4gICAgdmFsdWVCID0gdmFsdWVCLnZhbHVlT2YoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWVBLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZUIuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgdmFsdWVBLmVxdWFscyh2YWx1ZUIpXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0VxdWFsID0gKGE6IGFueSwgYjogYW55KTogYm9vbGVhbiA9PiB7XG4gIGlmIChpcyhhLCBiKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKFxuICAgIHR5cGVvZiBhICE9PSAnb2JqZWN0JyB8fFxuICAgIGEgPT09IG51bGwgfHxcbiAgICB0eXBlb2YgYiAhPT0gJ29iamVjdCcgfHxcbiAgICBiID09PSBudWxsXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAoY29uc3QgayBpbiBhKSB7XG4gICAgaWYgKCFpcyhhW2tdLCBiW2tdKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGggPT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplPEYgZXh0ZW5kcyBGdW5jdGlvbj4oZm46IEYpOiBGIHtcbiAgLy8gV2UgbmVlZCB0byBjYXN0IGBmbmAgdG8gc29tZSB1bmdvZGx5IHR5cGUgYmVjYXVzZSBgbHJ1TWVtb2l6ZWAgZXhwZWN0c1xuICAvLyAoLi4uYXJnczogYW55W10pID0+IGFueSwgYnV0IHdlIHdhbnQgdG8gYmUgbW9yZSBzdHJpY3QgYWJvdXQgdGhlIHR5cGUgb2YgYGZuYC5cbiAgLy8gSW4gb3RoZXIgd29yZHMsIGlmIHdlIGFjY2VwdCB0aGUgc2FtZSB0eXBlIHRoYW4gYGxydU1lbW9pemVgIGRvZXMsIHdlXG4gIC8vIHN0b3AgcmVxdWVzdGluZyBmbiB0byBiZSBwcm9wZXJseSB0eXBlZCAoYXMgaXQgaW5mZXJzIHRoYXQgYm90aCBhcmd1bWVudHNcbiAgLy8gYW5kIHJldHVybiB0eXBlIGFyZSBhbHJlYWR5IGBhbnlgKS4gRm9yIGZ1cnRoZXIgZGlzY3Vzc2lvbiBhYm91dCB0aGlzOlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2ViZmxvdy93ZWJmbG93L3B1bGwvODU1MTYvZmlsZXMjcjIxMjg0MDY2MjNcbiAgcmV0dXJuIGxydU1lbW9pemUoZm4gYXMgRiAmICgoLi4uYXJnczogYW55W10pID0+IGFueSksIGlzRXF1YWwpO1xufVxuXG4vKlxuICogV0FSTklORzogYHdlYWtNZW1vYCBkb2VzIG5vdCB0aHJvdyBlcnJvcnMgb3IgaGFuZGxlIGludmFsaWQga2V5cyBncmFjZWZ1bGx5XG4gKiBvbiBwdXJwb3NlLiBUaGlzIGlzIGEgY2FzZSB3aGVyZSB3ZSB3YW50IHRoZSBhcHAgdG8gY3Jhc2ggaWYgYW4gaW52YWxpZCBrZXlcbiAqIGlzIHVzZWQuIFRoZSBwdXJwb3NlIG9mIGFsbG93aW5nIHRoZSBhcHAgdG8gY3Jhc2ggaW4gdGhpcyBzaXR1YXRpb24gaXMgdG9cbiAqIGNvbGxlY3QgZGF0YSBzbyBhIHJvb3QgY2F1c2UgbWlnaHQgYmUgZGlzY292ZXJlZCBhbmQgYWRkcmVzc2VkLlxuICpcbiAqIFdBUk5JTkc6IGB3ZWFrTWVtb2AgdXNlcyBvbmx5IHRoZSBmaXJzdCBmbidzIGFyZ3VtZW50IGFzIGEga2V5LiAybmQgYW5kIGZ1cnRoZXIgYXJndW1lbnRzIGFyZSBpZ25vcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2Vha01lbW88RiBleHRlbmRzIEZ1bmN0aW9uPihmbjogRik6IEYge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgRXhwZWN0ZWQgYSBmdW5jdGlvbiBhcyBhcmd1bWVudCB0byB3ZWFrTWVtbyBidXQgZ290ICR7Zm59LmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWFwID0gbmV3IFdlYWtNYXAoKTtcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAneyAoYXJnOiBhbnkpOiBhbnk7IGRpc3BsYXlOYW1lOiBzdHJpbmc7IH0nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0YnLiB8IFRTNzAwNiAtIFBhcmFtZXRlciAnYXJnJyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICBjb25zdCBtZW1GbjogRiA9IChhcmcpID0+IHtcbiAgICBpZiAoIWlzT2JqZWN0KGFyZykgJiYgIWlzQm9vbGVhbihhcmcpKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgRXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGJvb2xlYW4gYXMgYW4gYXJndW1lbnQgdG8gXCIke1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2Rpc3BsYXlOYW1lJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdGJy5cbiAgICAgICAgZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZVxuICAgICAgfSgpXCIsIGJ1dCByZWNlaXZlZCAke1N0cmluZyhhcmcpfS5gO1xuXG4gICAgICBjb25zdCBmblN0cmluZyA9IGZuLnRvU3RyaW5nKCk7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgICAgYFxceDFiWzFtXFx4MWJbMzJtRnVuY3Rpb24gU291cmNlOlxceDFiWzBtXFxuXFxuYCArXG4gICAgICAgICAgICBgXFx4MWJbMzNtd2Vha01lbW9cXHgxYlswbSgke3N5bnRheEhpZ2hsaWdodChmblN0cmluZyl9KWBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFdlYWtNZW1vRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIG1lbUZuLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nID8gKGFyZyAmJiBUcnVlKSB8fCBGYWxzZSA6IGFyZztcblxuICAgIC8vIEZsb3cgZG9lc24ndCBzZWVtIHRvIGxpa2UgVHJ1ZS9GYWxzZSBzaW5jZSB0aGV5IGRvbid0IGFsd2F5c1xuICAgIC8vIGZpdCB0aGUgZXhwZWN0ZWQgdHlwZSBvZiBgYXJnYFxuICAgIGlmICghbWFwLmhhcyhrZXkpKSB7XG4gICAgICBtYXAuc2V0KGtleSwgZm4oYXJnKSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gbWFwLmdldChrZXkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2Rpc3BsYXlOYW1lJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdGJy5cbiAgICBtZW1Gbi5kaXNwbGF5TmFtZSA9XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzM5IC0gUHJvcGVydHkgJ2Rpc3BsYXlOYW1lJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdGJy4gfCBUUzIzMzkgLSBQcm9wZXJ0eSAnbmFtZScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnRicuIHwgVFMyMzM5IC0gUHJvcGVydHkgJ3RvU3RyaW5nJyBkb2VzIG5vdCBleGlzdCBvbiB0eXBlICdGJy5cbiAgICAgIGB3ZWFrTWVtbyhcXG4gICR7Zm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSB8fCBmbi50b1N0cmluZygpfVxcbilgO1xuXG4gICAgbWVtRm4udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYHdlYWtNZW1vKFxcbiAgJHtmbi50b1N0cmluZygpfVxcbilgO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gbWVtRm47XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1lbW9pemUgZmFjdG9yeSB3aXRoIGEgY2FjaGUgc2l6ZSBvZiB0aGUgZ2l2ZW4gZGVwdGguXG4gKiBPbmx5IGZ1bmN0aW9ucyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhcmd1bWVudCBhcmUgdmFsaWQuXG4gKlxuICog4pqg77iPSU1QT1JUQU5U4pqg77iPIE9iamVjdCBhbmQgRnVuY3Rpb24gYXJndW1lbnRzIGFyZSBjb21wYXJlZCAqYnkgcmVmZXJlbmNlKi5cbiAqXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGRlcHRoICAgICAgICAgVGhlIHNpemUgb2YgdGhlIGNhY2hlLlxuICogQHJldHVybiB7RnVuY3Rpb259ICAgICAgICAgICAgIFRoZSByZXN1bHRpbmcgbWVtb2l6ZSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGNhY2hlTWVtbyA9IChkZXB0aDogbnVtYmVyKSA9PiB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiBhIFwidHJpdmlhbGx5IGhhc2hhYmxlXCIgZnVuY3Rpb24gcGFzc2VkIGFzIHBhcmFtZXRlciwgd2l0aCBhIGZpeGVkIGNhY2hlIHNpemUuXG4gICAqXG4gICAqIEEgXCJ0cml2aWFsbHkgaGFzaGFibGVcIiBmdW5jdGlvbiB0YWtlcyBhIHNpbmdsZSBzdHJpbmcgYXMgYW4gYXJndW1lbnQgYW5kIHRoZXJlZm9yZSBkb2VzIG5vdCBuZWVkIHRvIGJlIGhhc2hlZC5cbiAgICpcbiAgICogVGhpcyBpcyBhIHByZXR0eSBzaWduaWZpY2FudCBvcHRpbWl6YXRpb24gaWYgeW91ciBmdW5jdGlvbiBuZWVkcyB0byBiZSBjYWxsZWQgdmVyeSBmcmVxdWVudGx5LlxuICAgKlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIG1lbW9pemUuXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufSAgICAgICAgICAgICBUaGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAqL1xuICBjb25zdCBtZW1vaXplRm4gPSA8RiBleHRlbmRzIEZ1bmN0aW9uPihmbjogRik6IEYgPT4ge1xuICAgIGNvbnN0IGNhY2hlID0gbmV3IExSVUNhY2hlKHtcbiAgICAgIG1heDogZGVwdGggfHwgMSxcbiAgICB9KTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICcoYXJnOiBGKSA9PiB1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdGJy5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZzogRikge1xuICAgICAgaWYgKCFjYWNoZS5oYXMoYXJnKSkge1xuICAgICAgICBjYWNoZS5zZXQoYXJnLCBmbihhcmcpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZS5nZXQoYXJnKTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBtZW1vaXplRm47XG59O1xuXG4vKipcbiAqIEEgc2ltcGxlIG1lbW9pemF0aW9uIGZ1bmN0aW9uIGZvciB1c2FnZSB3aXRoIHByaW1pdGl2ZXMgb3Igc2luZ2xlIGFyZ3VtZW50XG4gKiBhcmd1bWVudHMgb2YgaWRlbnRpdHkgZXF1YWxpdHkuXG4gKi9cbmNvbnN0IGRlZmF1bHRMYXN0QXJnID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3Qgc2luZ2xlTWVtbyA9IDxGIGV4dGVuZHMgRnVuY3Rpb24+KGZuOiBGKTogRiA9PiB7XG4gIGxldCBsYXN0QXJnID0gZGVmYXVsdExhc3RBcmc7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzcwMzQgLSBWYXJpYWJsZSAnbGFzdFJlc3VsdCcgaW1wbGljaXRseSBoYXMgdHlwZSAnYW55JyBpbiBzb21lIGxvY2F0aW9ucyB3aGVyZSBpdHMgdHlwZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbiAgbGV0IGxhc3RSZXN1bHQ7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICcoYXJnOiBGKSA9PiBhbnknIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0YnLlxuICByZXR1cm4gKGFyZzogRikgPT4ge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNjcgLSBUaGlzIGNvbmRpdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gJ3RydWUnIHNpbmNlIHRoZSB0eXBlcyAnRicgYW5kICdzeW1ib2wnIGhhdmUgbm8gb3ZlcmxhcC5cbiAgICBpZiAoYXJnICE9PSBsYXN0QXJnKSB7XG4gICAgICBsYXN0UmVzdWx0ID0gZm4oYXJnKTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICdGJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdzeW1ib2wnLlxuICAgICAgbGFzdEFyZyA9IGFyZztcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTNzAwNSAtIFZhcmlhYmxlICdsYXN0UmVzdWx0JyBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlLlxuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9O1xufTtcblxuLyoqXG4gKiBBIG1lbW9pemF0aW9uIGZ1bmN0aW9uIHRoYXQgb25seSBjYWxscyB0aGUgcHJvdmlkZWQgbnVsbGFyeSBmdW5jdGlvblxuICogdGhlIGZpcnN0IHRpbWUuIFN1YnNlcXVlbnQgY2FsbHMgcmV0dXJuIHRoZSBmaXJzdCByZXN1bHQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbmNlID0gPGE+KGZuOiAoYXJnMTogdm9pZCkgPT4gYSk6ICgoYXJnMTogdm9pZCkgPT4gYSkgPT4ge1xuICBsZXQgcmVzdWx0OiBhO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChmbikge1xuICAgICAgcmVzdWx0ID0gZm4oKTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMjIgLSBUeXBlICd1bmRlZmluZWQnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJyhhcmcxOiB1bmRlZmluZWQpID0+IGEnLlxuICAgICAgZm4gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuXG5jbGFzcyBXZWFrTWVtb0Vycm9yIGV4dGVuZHMgVHlwZUVycm9yIHtcbiAgY29uc3RydWN0b3Iob3B0czoge21lc3NhZ2U6IHN0cmluZzsgbWVtRm46IEZ1bmN0aW9ufSkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBpZiAoVHlwZUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBUeXBlRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgb3B0cy5tZW1Gbik7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gJ1dlYWtNZW1vRXJyb3InO1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdHMubWVzc2FnZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzeW50YXhIaWdobGlnaHQoZm5Tb3VyY2U6IHN0cmluZykge1xuICBjb25zdCBrZXl3b3JkcyA9XG4gICAgL1xcYihmdW5jdGlvbnxyZXR1cm58Y29uc3R8bGV0fGlmfGVsc2V8dGhyb3d8Zm9yfHdoaWxlfHN3aXRjaHxjYXNlfGJyZWFrfGNvbnRpbnVlfGRlZmF1bHR8bmV3fGRlbGV0ZXx0eXBlb2Z8aW5zdGFuY2VvZnx2b2lkfHRoaXN8Y2xhc3MpXFxiL2c7XG4gIGNvbnN0IGxpdGVyYWxzID0gL1xcYih0cnVlfGZhbHNlfG51bGx8dW5kZWZpbmVkKVxcYi9nO1xuICBjb25zdCBzdHJpbmdzID0gLyhbJ1wiYF1bXidcImBdKlsnXCJgXSkvZzsgLy8gTWF0Y2hlcyBzaW5nbGUsIGRvdWJsZSwgb3IgYmFja3RpY2tzICh0ZW1wbGF0ZSBsaXRlcmFscylcbiAgY29uc3QgbnVtYmVycyA9IC9cXGIoXFxkKyhcXC5cXGQrKT8oZVsrLV0/XFxkKyk/fE5hTnxJbmZpbml0eSlcXGIvZ2k7IC8vIE1hdGNoZXMgaW50ZWdlcnMsIGZsb2F0cywgYW5kIHNjaWVudGlmaWMgbm90YXRpb25cbiAgY29uc3Qgb3BlcmF0b3JzID0gL1s9K1xcLSpcXC8lPD4hJnxefj9dL2c7XG4gIGNvbnN0IGNvbW1lbnRzID0gLyhcXC9cXC9bXlxcbl0qfFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pL2c7XG4gIGNvbnN0IHBhcmVudGhlc2VzID0gL1tcXChcXClcXFtcXF1cXHtcXH1dL2c7IC8vIE1hdGNoZXMgKCksIFtdLCB7fVxuXG4gIC8vIEFwcGx5IHN5bnRheCBoaWdobGlnaHRpbmcgdmlhIEFOU0kgZXNjYXBlIGNvZGVzXG4gIHJldHVybiBmblNvdXJjZVxuICAgIC5yZXBsYWNlKHBhcmVudGhlc2VzLCAobWF0Y2gpID0+IGBcXHgxYlszN20ke21hdGNofVxceDFiWzBtYCkgLy8gd2hpdGUgZm9yIHBhcmVudGhlc2VzIGFuZCBicmFja2V0c1xuICAgIC5yZXBsYWNlKGNvbW1lbnRzLCAobWF0Y2gpID0+IGBcXHgxYls5MG0ke21hdGNofVxceDFiWzBtYCkgLy8gZ3JheSBmb3IgY29tbWVudHNcbiAgICAucmVwbGFjZShzdHJpbmdzLCAobWF0Y2gpID0+IGBcXHgxYlszMm0ke21hdGNofVxceDFiWzBtYCkgLy8gZ3JlZW4gZm9yIHN0cmluZ3MgYW5kIHRlbXBsYXRlIGxpdGVyYWxzXG4gICAgLnJlcGxhY2UobGl0ZXJhbHMsIChtYXRjaCkgPT4gYFxceDFiWzMzbSR7bWF0Y2h9XFx4MWJbMG1gKSAvLyB5ZWxsb3cgZm9yIGxpdGVyYWxzICh0cnVlLCBmYWxzZSwgbnVsbCwgdW5kZWZpbmVkKVxuICAgIC5yZXBsYWNlKGtleXdvcmRzLCAobWF0Y2gpID0+IGBcXHgxYlszNW0ke21hdGNofVxceDFiWzBtYCkgLy8gbWFnZW50YSBmb3Iga2V5d29yZHNcbiAgICAucmVwbGFjZShudW1iZXJzLCAobWF0Y2gpID0+IGBcXHgxYlszNm0ke21hdGNofVxceDFiWzBtYCkgLy8gY3lhbiBmb3IgbnVtYmVyc1xuICAgIC5yZXBsYWNlKG9wZXJhdG9ycywgKG1hdGNoKSA9PiBgXFx4MWJbMzFtJHttYXRjaH1cXHgxYlswbWApOyAvLyByZWQgZm9yIG9wZXJhdG9yc1xufVxuIl0sIm5hbWVzIjpbImNhY2hlTWVtbyIsImlzRXF1YWwiLCJtZW1vaXplIiwib25jZSIsInNpbmdsZU1lbW8iLCJ3ZWFrTWVtbyIsIlRydWUiLCJGYWxzZSIsImlzIiwidmFsdWVBIiwidmFsdWVCIiwidmFsdWVPZiIsImVxdWFscyIsImEiLCJiIiwiayIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJmbiIsImxydU1lbW9pemUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJpc0Z1bmN0aW9uIiwiY29uc29sZSIsImVycm9yIiwibWFwIiwiV2Vha01hcCIsIm1lbUZuIiwiYXJnIiwiaXNPYmplY3QiLCJpc0Jvb2xlYW4iLCJlcnJvck1lc3NhZ2UiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJTdHJpbmciLCJmblN0cmluZyIsInRvU3RyaW5nIiwiaW5mbyIsInN5bnRheEhpZ2hsaWdodCIsIldlYWtNZW1vRXJyb3IiLCJtZXNzYWdlIiwia2V5IiwiaGFzIiwic2V0IiwicmVzdWx0IiwiZ2V0IiwiZGVwdGgiLCJtZW1vaXplRm4iLCJjYWNoZSIsIkxSVUNhY2hlIiwibWF4IiwiZGVmYXVsdExhc3RBcmciLCJTeW1ib2wiLCJsYXN0QXJnIiwibGFzdFJlc3VsdCIsInVuZGVmaW5lZCIsIlR5cGVFcnJvciIsImNvbnN0cnVjdG9yIiwib3B0cyIsImNhcHR1cmVTdGFja1RyYWNlIiwiZm5Tb3VyY2UiLCJrZXl3b3JkcyIsImxpdGVyYWxzIiwic3RyaW5ncyIsIm51bWJlcnMiLCJvcGVyYXRvcnMiLCJjb21tZW50cyIsInBhcmVudGhlc2VzIiwicmVwbGFjZSIsIm1hdGNoIl0sIm1hcHBpbmdzIjoiQUFBQSwrQ0FBK0M7Ozs7Ozs7Ozs7O0lBK0psQ0EsU0FBUztlQUFUQTs7SUEvR0FDLE9BQU87ZUFBUEE7O0lBdUJHQyxPQUFPO2VBQVBBOztJQThJSEMsSUFBSTtlQUFKQTs7SUFyQkFDLFVBQVU7ZUFBVkE7O0lBdkdHQyxRQUFRO2VBQVJBOzs7MEJBeEZTOzBCQUNGO2tFQUdEO21FQUNDO2lFQUNGOzs7Ozs7QUFFckIsTUFBTUMsT0FBTztJQUFDLG9CQUFvQjtBQUFJO0FBQ3RDLE1BQU1DLFFBQVE7SUFBQyxvQkFBb0I7QUFBSztBQUV4Qzs7O0NBR0MsR0FDRCxNQUFNQyxLQUFLLENBQUNDLFFBQWFDO0lBQ3ZCLDJDQUEyQztJQUMzQyxJQUFJRCxXQUFXQyxVQUFXRCxXQUFXQSxVQUFVQyxXQUFXQSxRQUFTO1FBQ2pFLE9BQU87SUFDVDtJQUNBLElBQUksQ0FBQ0QsVUFBVSxDQUFDQyxRQUFRO1FBQ3RCLE9BQU87SUFDVDtJQUNBLElBQ0UsT0FBT0QsT0FBT0UsT0FBTyxLQUFLLGNBQzFCLE9BQU9ELE9BQU9DLE9BQU8sS0FBSyxZQUMxQjtRQUNBRixTQUFTQSxPQUFPRSxPQUFPO1FBQ3ZCRCxTQUFTQSxPQUFPQyxPQUFPO1FBQ3ZCLDJDQUEyQztRQUMzQyxJQUFJRixXQUFXQyxVQUFXRCxXQUFXQSxVQUFVQyxXQUFXQSxRQUFTO1lBQ2pFLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ0QsVUFBVSxDQUFDQyxRQUFRO1lBQ3RCLE9BQU87UUFDVDtJQUNGO0lBQ0EsSUFDRSxPQUFPRCxPQUFPRyxNQUFNLEtBQUssY0FDekIsT0FBT0YsT0FBT0UsTUFBTSxLQUFLLGNBQ3pCSCxPQUFPRyxNQUFNLENBQUNGLFNBQ2Q7UUFDQSxPQUFPO0lBQ1Q7SUFD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

}),
2292: (function () {
"use strict";
/* (ignored) */

}),

}]);